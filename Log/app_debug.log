2025-10-04 03:36:46,043 - src.utils.logging_utils - INFO - Đã cấu hình logging, ghi vào: Log\app_debug.log
2025-10-04 03:36:46,043 - src.utils.logging_utils - DEBUG - Kết thúc hàm setup_logging.
2025-10-04 03:36:46,044 - root - INFO - Ứng dụng đang khởi động.
2025-10-04 03:36:46,166 - src.core.app_logic - DEBUG - Bắt đầu hàm __init__.
2025-10-04 03:36:46,166 - src.core.app_logic - DEBUG - Khởi tạo AppLogic.
2025-10-04 03:36:46,167 - src.core.app_logic - DEBUG - Kết thúc hàm __init__.
2025-10-04 03:36:46,167 - src.ui.app_ui - DEBUG - Khởi tạo TradingToolApp.
2025-10-04 03:36:46,168 - src.ui.app_ui - DEBUG - Khởi tạo các biến Tkinter.
2025-10-04 03:36:46,169 - src.utils.utils - DEBUG - Bắt đầu deobfuscate text.
2025-10-04 03:36:46,170 - src.utils.utils - DEBUG - Tạo machine key.
2025-10-04 03:36:46,170 - src.utils.utils - DEBUG - Đã tạo machine key. Độ dài: 32 bytes.
2025-10-04 03:36:46,170 - src.utils.utils - DEBUG - Thực hiện XOR bytes.
2025-10-04 03:36:46,171 - src.utils.utils - DEBUG - Đã deobfuscate text thành công.
2025-10-04 03:36:46,171 - src.ui.app_ui - DEBUG - Đã thêm trace callback cho api_key_var.
2025-10-04 03:36:46,172 - src.ui.app_ui - DEBUG - Các biến Tkinter đã được khởi tạo.
2025-10-04 03:36:46,173 - src.utils.ui_builder - DEBUG - Bắt đầu build_ui.
2025-10-04 03:36:46,173 - src.utils.ui_builder - DEBUG - Bắt đầu _build_top_frame.
2025-10-04 03:36:46,205 - src.utils.ui_builder - DEBUG - Đã xây dựng API Key frame.
2025-10-04 03:36:46,210 - src.ui.app_ui - DEBUG - Đang cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:36:46,210 - src.utils.ui_utils - DEBUG - Enqueueing function: _do_update
2025-10-04 03:36:46,211 - src.utils.ui_builder - DEBUG - Đã xây dựng Model Combobox và cập nhật danh sách model.
2025-10-04 03:36:46,215 - src.utils.ui_builder - DEBUG - Đã xây dựng Folder Path Entry và nút chọn thư mục.
2025-10-04 03:36:46,228 - src.utils.ui_builder - DEBUG - Đã xây dựng Workspace buttons.
2025-10-04 03:36:46,246 - src.utils.ui_builder - DEBUG - Đã xây dựng Run/Autorun controls.
2025-10-04 03:36:46,246 - src.utils.ui_builder - DEBUG - Kết thúc _build_top_frame.
2025-10-04 03:36:46,247 - src.utils.ui_builder - DEBUG - Bắt đầu _build_progress_frame.
2025-10-04 03:36:46,250 - src.utils.ui_builder - DEBUG - Đã xây dựng Progress frame.
2025-10-04 03:36:46,260 - src.utils.ui_builder - DEBUG - Kết thúc _build_progress_frame.
2025-10-04 03:36:46,262 - src.utils.ui_builder - DEBUG - Đã xây dựng Notebook chính.
2025-10-04 03:36:46,263 - src.utils.ui_builder - DEBUG - Bắt đầu _build_report_tab.
2025-10-04 03:36:46,264 - src.utils.ui_builder - DEBUG - Đã thêm tab 'Report' vào Notebook.
2025-10-04 03:36:46,268 - src.utils.ui_builder - DEBUG - Đã xây dựng Treeview cho danh sách ảnh.
2025-10-04 03:36:46,289 - src.utils.ui_builder - DEBUG - Đã xây dựng History panel.
2025-10-04 03:36:46,295 - src.utils.ui_builder - DEBUG - Đã xây dựng JSON panel.
2025-10-04 03:36:46,299 - src.utils.ui_builder - DEBUG - Đã xây dựng Detail Text area.
2025-10-04 03:36:46,299 - src.utils.ui_builder - DEBUG - Kết thúc _build_report_tab.
2025-10-04 03:36:46,300 - src.utils.ui_builder - DEBUG - Bắt đầu _build_chart_tab.
2025-10-04 03:36:46,300 - src.core.chart_tab - DEBUG - Bắt đầu hàm __init__ của ChartTabTV.
2025-10-04 03:36:46,306 - src.core.chart_tab - DEBUG - Bắt đầu hàm _populate_symbol_list.
2025-10-04 03:36:46,312 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:46,329 - src.core.chart_tab - DEBUG - MT5 initialize() thành công, đã cập nhật trạng thái app.
2025-10-04 03:36:46,329 - src.core.chart_tab - DEBUG - Kết thúc hàm _ensure_mt5. Kết nối MT5 OK.
2025-10-04 03:36:46,339 - src.core.chart_tab - DEBUG - Đã đặt symbol mặc định: XAUUSD
2025-10-04 03:36:46,340 - src.core.chart_tab - DEBUG - Đã populate 357 symbols.
2025-10-04 03:36:46,340 - src.core.chart_tab - DEBUG - Kết thúc _populate_symbol_list.
2025-10-04 03:36:46,362 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
2025-10-04 03:36:46,363 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,364 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,366 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,366 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,367 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,368 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,369 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,369 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-04 03:36:46,369 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,370 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,370 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,371 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,371 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-04 03:36:46,372 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,372 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,373 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,374 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,374 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-04 03:36:46,374 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,384 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-04 03:36:46,386 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,386 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,387 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,388 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,388 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,388 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,389 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,390 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,390 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,391 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,391 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,392 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,392 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,393 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,393 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,394 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,394 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,395 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,396 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,397 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,397 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,398 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:46,398 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,399 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,400 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,400 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:36:46,400 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-04 03:36:46,401 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,401 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,403 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,414 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,415 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-04 03:36:46,416 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,417 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-04 03:36:46,417 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-04 03:36:46,417 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,418 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,418 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,419 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,419 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,420 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,420 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,421 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,421 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:36:46,421 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:46,422 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,422 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,422 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,423 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,423 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-04 03:36:46,424 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,425 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,425 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,426 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,426 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,428 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,453 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,455 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,456 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,459 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,461 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,478 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,479 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,479 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:46,480 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,481 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-04 03:36:46,481 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-04 03:36:46,482 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,482 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,483 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,483 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:46,484 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,484 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,485 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-04 03:36:46,485 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,486 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,486 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,487 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,487 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,487 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,488 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,489 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,490 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,490 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,491 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,491 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,492 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,493 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:36:46,494 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,494 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,495 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,496 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,496 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,496 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,497 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,497 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,498 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,499 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,499 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,500 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,514 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,517 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,518 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,519 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-04 03:36:46,519 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-04 03:36:46,520 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,521 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,522 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,524 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,525 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,526 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,526 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,527 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,527 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,528 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,529 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,529 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-04 03:36:46,547 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,548 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,549 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,549 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,550 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,550 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,550 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-04 03:36:46,553 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-04 03:36:46,554 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,554 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:46,555 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,571 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,572 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,573 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,574 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,575 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,575 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,576 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,576 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,577 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,578 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,578 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,578 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,579 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:46,579 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,580 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,581 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:36:46,581 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,582 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:36:46,583 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:36:46,602 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,605 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,606 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-04 03:36:46,606 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,607 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:46,608 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,608 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,609 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,610 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,610 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,610 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,611 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,611 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:46,612 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:46,612 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:36:46,613 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,614 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:46,615 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-04 03:36:46,663 - src.core.chart_tab - DEBUG - Đã khởi tạo Figure và FigureCanvasTkAgg.
2025-10-04 03:36:46,696 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:36:46,697 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:36:46,697 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:36:46,697 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:36:46,698 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 374
2025-10-04 03:36:46,711 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:36:46,722 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:36:46,723 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:36:46,723 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:36:46,724 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 286
2025-10-04 03:36:46,726 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:36:46,727 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:36:46,727 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:36:46,728 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:36:46,728 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 263
2025-10-04 03:36:46,731 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:36:46,731 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:36:46,731 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:36:46,731 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:36:46,732 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 387
2025-10-04 03:36:46,735 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:36:46,735 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:36:46,735 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:36:46,736 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:36:46,736 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 436
2025-10-04 03:36:46,739 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:36:46,741 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:36:46,741 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:36:46,742 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:36:46,745 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 351
2025-10-04 03:36:46,756 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:36:46,756 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:36:46,757 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:36:46,757 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:36:46,758 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 364
2025-10-04 03:36:46,761 - src.core.chart_tab - DEBUG - Đã khởi tạo NavigationToolbar2Tk.
2025-10-04 03:36:46,773 - src.core.chart_tab - DEBUG - Đã khởi tạo panel thông tin tài khoản.
2025-10-04 03:36:46,788 - src.core.chart_tab - DEBUG - Đã khởi tạo bảng lệnh đang mở.
2025-10-04 03:36:46,792 - src.core.chart_tab - DEBUG - Đã khởi tạo bảng lịch sử giao dịch.
2025-10-04 03:36:46,799 - src.core.chart_tab - DEBUG - Đã khởi tạo panel No-Trade.
2025-10-04 03:36:46,799 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:46,800 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:46,804 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:46,818 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:46,819 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:46,820 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:46,825 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:46,826 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:46,832 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:46,863 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:47,144 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:47,149 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:47,150 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:47,152 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:47,153 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:47,155 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:47,158 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:47,160 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:47,161 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:47,161 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:47,162 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:47,162 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:47,163 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:47,163 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:47,164 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:47,164 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:47,164 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:47,165 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:47,165 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:47,166 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:47,167 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:47,168 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:47,168 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:47,169 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:47,169 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:47,176 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:47.175991+07:00
2025-10-04 03:36:47,177 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:47.175991+07:00
2025-10-04 03:36:47,177 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:47.175991+07:00 trong DST: True
2025-10-04 03:36:47,178 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:47,178 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:47,179 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:47,179 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:47,179 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:47,180 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:47,180 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:47,180 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:47,181 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:47,181 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:47,181 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:47,182 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:47,182 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:47,183 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:47,183 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:47,184 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:47,184 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:47,185 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:47,185 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:47,186 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:47,187 - src.core.chart_tab - DEBUG - Kết thúc hàm __init__ của ChartTabTV.
2025-10-04 03:36:47,188 - src.utils.ui_builder - DEBUG - Đã xây dựng ChartTabTV.
2025-10-04 03:36:47,188 - src.utils.ui_builder - DEBUG - Kết thúc _build_chart_tab.
2025-10-04 03:36:47,189 - src.utils.ui_builder - DEBUG - Bắt đầu _build_prompt_tab.
2025-10-04 03:36:47,190 - src.utils.ui_builder - DEBUG - Đã thêm tab 'Prompt' vào Notebook.
2025-10-04 03:36:47,195 - src.utils.ui_builder - DEBUG - Đã xây dựng Prompt action buttons.
2025-10-04 03:36:47,199 - src.utils.ui_builder - DEBUG - Đã xây dựng Prompt Notebook con.
2025-10-04 03:36:47,204 - src.utils.ui_builder - DEBUG - Đã xây dựng tab 'Tìm Lệnh Mới (No Entry)'.
2025-10-04 03:36:47,206 - src.utils.ui_builder - DEBUG - Đã xây dựng tab 'Quản Lý Lệnh (Entry Run)'.
2025-10-04 03:36:47,206 - src.utils.ui_builder - DEBUG - Kết thúc _build_prompt_tab.
2025-10-04 03:36:47,207 - src.utils.ui_builder - DEBUG - Bắt đầu _build_options_tab.
2025-10-04 03:36:47,211 - src.utils.ui_builder - DEBUG - Đã thêm tab 'Options' vào Notebook.
2025-10-04 03:36:47,212 - src.utils.ui_builder - DEBUG - Đã xây dựng Options Notebook con.
2025-10-04 03:36:47,213 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_run.
2025-10-04 03:36:47,214 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'Run' vào Options Notebook.
2025-10-04 03:36:47,220 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Upload & Giới hạn'.
2025-10-04 03:36:47,231 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Tăng tốc & Cache'.
2025-10-04 03:36:47,251 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'NO-TRADE cứng'.
2025-10-04 03:36:47,251 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_run.
2025-10-04 03:36:47,252 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_context.
2025-10-04 03:36:47,255 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'Context' vào Options Notebook.
2025-10-04 03:36:47,262 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Ngữ cảnh từ Text Reports'.
2025-10-04 03:36:47,269 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Ngữ cảnh từ JSON'.
2025-10-04 03:36:47,283 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_context.
2025-10-04 03:36:47,283 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_telegram.
2025-10-04 03:36:47,285 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'Telegram' vào Options Notebook.
2025-10-04 03:36:47,308 - src.utils.ui_builder - DEBUG - Đã xây dựng Telegram options.
2025-10-04 03:36:47,310 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_telegram.
2025-10-04 03:36:47,311 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_mt5.
2025-10-04 03:36:47,313 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'MT5' vào Options Notebook.
2025-10-04 03:36:47,329 - src.utils.ui_builder - DEBUG - Đã xây dựng MT5 connection settings.
2025-10-04 03:36:47,348 - src.utils.ui_builder - DEBUG - Đã xây dựng MT5 candle count settings.
2025-10-04 03:36:47,398 - src.utils.ui_builder - DEBUG - Đã xây dựng MT5 connection/snapshot buttons.
2025-10-04 03:36:47,453 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_autotrade.
2025-10-04 03:36:47,514 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r0.
2025-10-04 03:36:47,532 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r1.
2025-10-04 03:36:47,579 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r2.
2025-10-04 03:36:47,607 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r3.
2025-10-04 03:36:47,631 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r4.
2025-10-04 03:36:47,635 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r5.
2025-10-04 03:36:47,653 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r6.
2025-10-04 03:36:47,668 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r7.
2025-10-04 03:36:47,675 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r8.
2025-10-04 03:36:47,699 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r9.
2025-10-04 03:36:47,699 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_autotrade.
2025-10-04 03:36:47,700 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_mt5.
2025-10-04 03:36:47,700 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_norun.
2025-10-04 03:36:47,703 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'No Run'.
2025-10-04 03:36:47,704 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_norun.
2025-10-04 03:36:47,704 - src.utils.ui_builder - DEBUG - Đã xây dựng các tab con trong Options.
2025-10-04 03:36:47,704 - src.utils.ui_builder - DEBUG - Kết thúc _build_options_tab.
2025-10-04 03:36:47,705 - src.utils.ui_builder - DEBUG - Đã xây dựng các tab chính.
2025-10-04 03:36:47,705 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:36:47,705 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:36:47,706 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:36:47,706 - src.ui.history_manager - WARNING - Không có folder path, không thể lấy reports dir.
2025-10-04 03:36:47,706 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir (không có folder).
2025-10-04 03:36:47,707 - src.ui.history_manager - WARNING - Không thể làm mới history list vì không có thư mục reports hợp lệ.
2025-10-04 03:36:47,707 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:36:47,708 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:36:47,710 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:36:47,710 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:36:47,711 - src.ui.history_manager - WARNING - Không có folder path, không thể lấy reports dir.
2025-10-04 03:36:47,711 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir (không có folder).
2025-10-04 03:36:47,721 - src.ui.history_manager - WARNING - Không thể làm mới JSON list vì không có thư mục reports hợp lệ.
2025-10-04 03:36:47,722 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:36:47,722 - src.ui.app_ui - DEBUG - Gọi prompt_manager._load_prompts_from_disk từ UI. Silent: False.
2025-10-04 03:36:47,725 - src.ui.prompt_manager - DEBUG - Bắt đầu hàm _load_prompts_from_disk. Silent: False
2025-10-04 03:36:47,726 - src.ui.prompt_manager - DEBUG - Bắt đầu hàm _normalize_prompt_text. Độ dài raw text: 4125
2025-10-04 03:36:47,727 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành JSON: Expecting value: line 1 column 1 (char 0)
2025-10-04 03:36:47,727 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành Python literal: unmatched ')' (<unknown>, line 3)
2025-10-04 03:36:47,728 - src.ui.prompt_manager - DEBUG - Không thể normalize prompt, trả về raw text.
2025-10-04 03:36:47,728 - src.ui.prompt_manager - DEBUG - Kết thúc hàm _normalize_prompt_text.
2025-10-04 03:36:47,729 - src.ui.prompt_manager - DEBUG - Đã nạp prompt từ file: prompt_no_entry.txt
2025-10-04 03:36:47,730 - src.ui.prompt_manager - DEBUG - Bắt đầu hàm _normalize_prompt_text. Độ dài raw text: 3265
2025-10-04 03:36:47,730 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành JSON: Expecting value: line 1 column 1 (char 0)
2025-10-04 03:36:47,732 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành Python literal: unmatched ')' (<unknown>, line 3)
2025-10-04 03:36:47,733 - src.ui.prompt_manager - DEBUG - Không thể normalize prompt, trả về raw text.
2025-10-04 03:36:47,733 - src.ui.prompt_manager - DEBUG - Kết thúc hàm _normalize_prompt_text.
2025-10-04 03:36:47,735 - src.ui.prompt_manager - DEBUG - Đã nạp prompt từ file: prompt_entry_run.txt
2025-10-04 03:36:47,735 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 2 prompt từ file.
2025-10-04 03:36:47,736 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:47,736 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 2 prompt từ file.
2025-10-04 03:36:47,737 - src.utils.ui_utils - DEBUG - Folder override cho log status: None
2025-10-04 03:36:47,739 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:47,739 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:47,739 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: None.
2025-10-04 03:36:47,740 - src.ui.prompt_manager - INFO - Đã nạp 2 prompt từ file.
2025-10-04 03:36:47,741 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: None
2025-10-04 03:36:47,741 - src.ui.prompt_manager - DEBUG - Kết thúc hàm _load_prompts_from_disk.
2025-10-04 03:36:47,742 - src.utils.ui_builder - DEBUG - Đã tải dữ liệu ban đầu.
2025-10-04 03:36:47,743 - src.utils.ui_builder - DEBUG - Kết thúc build_ui.
2025-10-04 03:36:47,754 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:47,757 - src.core.app_logic - DEBUG - Bắt đầu hàm _configure_gemini_api_and_update_ui.
2025-10-04 03:36:47,757 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:47,758 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:47,758 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:47,759 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_configure.
2025-10-04 03:36:47,759 - src.core.app_logic - DEBUG - Kết thúc _configure_gemini_api_and_update_ui.
2025-10-04 03:36:47,759 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:47,760 - src.ui.app_ui - DEBUG - Gọi workspace_manager._load_workspace từ UI.
2025-10-04 03:36:47,760 - src.core.app_logic - DEBUG - Đã cấu hình Gemini API key.
2025-10-04 03:36:47,761 - src.config.workspace_manager - DEBUG - Bắt đầu _load_workspace.
2025-10-04 03:36:47,761 - src.ui.app_ui - DEBUG - Đang cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:36:47,762 - src.utils.ui_utils - DEBUG - Enqueueing function: _do_update
2025-10-04 03:36:47,762 - src.core.app_logic - DEBUG - Kết thúc hàm _do_configure.
2025-10-04 03:36:47,793 - src.utils.ui_utils - DEBUG - Hiển thị UI message. Kind: info, Title: Workspace, Text: Đã khôi phục workspace.
2025-10-04 03:36:47,793 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:47,793 - src.config.workspace_manager - INFO - Workspace: Đã tải workspace thành công.
2025-10-04 03:36:47,794 - src.ui.app_ui - DEBUG - Đang tải file từ thư mục: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:36:47,797 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:36:47,797 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:47,798 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:36:47,798 - src.utils.ui_utils - DEBUG - Folder override cho log status: None
2025-10-04 03:36:47,799 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:47,799 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:47,800 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: None.
2025-10-04 03:36:47,800 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:36:47,801 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: None
2025-10-04 03:36:47,801 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:36:47,806 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:36:47,821 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:47,821 - src.ui.app_ui - DEBUG - Đã tải 4 file từ thư mục C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:36:47,822 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:36:47,822 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:36:47,823 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:36:47,823 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:36:47,824 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:36:47,825 - src.ui.history_manager - DEBUG - Đã làm mới history list với 10 file.
2025-10-04 03:36:47,826 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:36:47,826 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:36:47,827 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:36:47,828 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:36:47,829 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:36:47,829 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:36:47,830 - src.ui.history_manager - DEBUG - Đã làm mới JSON list với 10 file.
2025-10-04 03:36:47,831 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:36:47,831 - src.utils.utils - DEBUG - Bắt đầu deobfuscate text.
2025-10-04 03:36:47,832 - src.utils.utils - DEBUG - Tạo machine key.
2025-10-04 03:36:47,834 - src.utils.utils - DEBUG - Đã tạo machine key. Độ dài: 32 bytes.
2025-10-04 03:36:47,834 - src.utils.utils - DEBUG - Thực hiện XOR bytes.
2025-10-04 03:36:47,835 - src.utils.utils - DEBUG - Đã deobfuscate text thành công.
2025-10-04 03:36:47,836 - src.core.app_logic - DEBUG - Bắt đầu hàm _configure_gemini_api_and_update_ui.
2025-10-04 03:36:47,850 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_configure.
2025-10-04 03:36:47,850 - src.core.app_logic - DEBUG - Kết thúc _configure_gemini_api_and_update_ui.
2025-10-04 03:36:47,851 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:47,852 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:47,852 - src.core.app_logic - DEBUG - Đã cấu hình Gemini API key.
2025-10-04 03:36:47,853 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:47,853 - src.ui.app_ui - DEBUG - Đang cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:36:47,854 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:47,854 - src.utils.ui_utils - DEBUG - Enqueueing function: _do_update
2025-10-04 03:36:47,854 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:47,854 - src.config.workspace_manager - DEBUG - Kết thúc _load_workspace.
2025-10-04 03:36:47,855 - src.core.app_logic - DEBUG - Kết thúc hàm _do_configure.
2025-10-04 03:36:47,967 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:36:47,968 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:36:47,968 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:47,968 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:36:47,969 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:47,970 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:47,970 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:47,970 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:47,971 - src.ui.app_ui - INFO - Đã cập nhật danh sách mô hình AI, tìm thấy 40 mô hình.
2025-10-04 03:36:47,971 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:47,972 - src.ui.app_ui - DEBUG - Kết thúc cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:36:47,972 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _do_update
2025-10-04 03:36:47,973 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:47,974 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:36:47,974 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:36:47,974 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:47,975 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cấu hình Gemini API.
2025-10-04 03:36:47,975 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:47,976 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:47,977 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:47,977 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:47,977 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:47,978 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:47,978 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:47,981 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:47,987 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:47,992 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:48,018 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:48,019 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:48,019 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:48,020 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:48,032 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:36:48,034 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:36:48,035 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:48,035 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:36:48,035 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:48,037 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:48,037 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:48,038 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:48,038 - src.ui.app_ui - INFO - Đã cập nhật danh sách mô hình AI, tìm thấy 40 mô hình.
2025-10-04 03:36:48,038 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:48,039 - src.ui.app_ui - DEBUG - Kết thúc cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:36:48,039 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _do_update
2025-10-04 03:36:48,042 - src.core.chart_tab - DEBUG - Bắt đầu hàm start.
2025-10-04 03:36:48,043 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:48,043 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:48,043 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:48,044 - src.core.chart_tab - DEBUG - Đã đảm bảo kết nối MT5 (không cần thông tin tài khoản).
2025-10-04 03:36:48,044 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:36:48,044 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:36:48,045 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:36:48,045 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:36:48,045 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:36:48,046 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='lots', trade_lots_total=0.1, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092025, trade_comment_prefix='AI-ICT', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:36:48,046 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:36:48,047 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='lots', trade_lots_total=0.1, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092025, trade_comment_prefix='AI-ICT', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:36:48,047 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:36:48,048 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='lots', trade_lots_total=0.1, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092025, trade_comment_prefix='AI-ICT', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:36:48,048 - src.core.app_logic - INFO - Đang làm mới tin tức không đồng bộ.
2025-10-04 03:36:48,055 - src.core.app_logic - DEBUG - Bắt đầu luồng _do_async để fetch tin tức.
2025-10-04 03:36:48,056 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đã khởi chạy luồng).
2025-10-04 03:36:48,056 - src.services.news - DEBUG - Bắt đầu hàm fetch_high_impact_events_for_cfg.
2025-10-04 03:36:48,057 - src.services.news - DEBUG - Bắt đầu hàm fetch_high_impact_events.
2025-10-04 03:36:48,057 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:36:48,058 - src.services.news - DEBUG - Bắt đầu hàm _http_get cho URL: https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json
2025-10-04 03:36:48,058 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:48,059 - src.services.telegram_client - DEBUG - Bắt đầu hàm build_ssl_context. cafile: None, skip_verify: False
2025-10-04 03:36:48,059 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:48,060 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:48,061 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:48,062 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:48,077 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:48,078 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:48,079 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:48,079 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:48,084 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:48,099 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:48,130 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:48,132 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:48,132 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:48,272 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:48,273 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:48,273 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:48,275 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:48,275 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:48,276 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:48,277 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:48,277 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:48,278 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:48,278 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:48,279 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:48,279 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:48,280 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:48,280 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:48,281 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:48,281 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:48,282 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:48,282 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:48,283 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:48,283 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:48,294 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:48,295 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:48,296 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:48,296 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:48,297 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:48,297 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:48.297505+07:00
2025-10-04 03:36:48,297 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:48.297505+07:00
2025-10-04 03:36:48,298 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:48.297505+07:00 trong DST: True
2025-10-04 03:36:48,298 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:48,299 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:48,299 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:48,299 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:48,300 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:48,300 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:48,301 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:48,304 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:48,304 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:48,306 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:48,316 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:48,317 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:48,318 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:48,319 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:48,320 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:48,320 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:48,321 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:48,321 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:48,321 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:48,322 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:48,322 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:36:48,322 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:36:48,323 - src.core.chart_tab - DEBUG - Kết thúc hàm start.
2025-10-04 03:36:48,403 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0.
2025-10-04 03:36:48,403 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,404 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,404 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,405 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,405 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,406 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,406 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,407 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-04 03:36:48,407 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,408 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,408 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,409 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,409 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-04 03:36:48,410 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,410 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,411 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,411 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,412 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-04 03:36:48,412 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,413 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-04 03:36:48,413 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,414 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,414 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,415 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,416 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,417 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,417 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,418 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,418 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,419 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,419 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,421 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,421 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,422 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,422 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,423 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,423 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,424 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,425 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,425 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,426 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,428 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,429 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,430 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,430 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,432 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:36:48,433 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-04 03:36:48,434 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,436 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,439 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,440 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,442 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-04 03:36:48,460 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,462 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-04 03:36:48,467 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-04 03:36:48,469 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,469 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,470 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,470 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,471 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,471 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,472 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,472 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,473 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:36:48,473 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,474 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,474 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,475 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,475 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,476 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-04 03:36:48,476 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,477 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,477 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,477 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,478 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,478 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,479 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,479 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,480 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,481 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,481 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,482 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,482 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,483 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,483 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,484 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-04 03:36:48,484 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-04 03:36:48,485 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,485 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,485 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,486 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,486 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,487 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,487 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-04 03:36:48,487 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,488 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,490 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,491 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,506 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,507 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,508 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,509 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,509 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,510 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,510 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,511 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,511 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,511 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:36:48,512 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,513 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,513 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,513 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,514 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,514 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,516 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,516 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,517 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,517 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,518 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,518 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,519 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,519 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,526 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,527 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-04 03:36:48,527 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-04 03:36:48,528 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,529 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,529 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,530 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,543 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,545 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,546 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,547 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,547 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,548 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,548 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,549 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-04 03:36:48,549 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,550 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,550 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,551 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,553 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,569 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,570 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-04 03:36:48,572 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-04 03:36:48,572 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,573 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,573 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,574 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,574 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,575 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,575 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,576 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,576 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,577 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,577 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,578 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,578 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,579 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,579 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,579 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,580 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,580 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,581 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:36:48,581 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,582 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:36:48,582 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:36:48,585 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,600 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,602 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-04 03:36:48,603 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,604 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,605 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,605 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,606 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,606 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,608 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,608 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,609 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,609 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,609 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,610 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:36:48,610 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,611 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,611 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-04 03:36:48,752 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=8.0.
2025-10-04 03:36:48,752 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,753 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,753 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,754 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,754 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,755 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,756 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,756 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-04 03:36:48,757 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,757 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,758 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,759 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,759 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-04 03:36:48,760 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,760 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,761 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,761 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,761 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-04 03:36:48,762 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,762 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-04 03:36:48,763 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,764 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,764 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,764 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,765 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,766 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,766 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,767 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,767 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,768 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,768 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,769 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,770 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,770 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,771 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,771 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,772 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,773 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,773 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,789 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,790 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,791 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,791 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,792 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,792 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,792 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:36:48,793 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-04 03:36:48,793 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,794 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,794 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,795 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,796 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-04 03:36:48,796 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,797 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-04 03:36:48,797 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-04 03:36:48,798 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,798 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,799 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,799 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,800 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,800 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,803 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,804 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,822 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:36:48,822 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,823 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,823 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,824 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,824 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,825 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-04 03:36:48,825 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,826 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,826 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,827 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,827 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,828 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,828 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,829 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,829 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,830 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,831 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,831 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,832 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,832 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,833 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,853 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-04 03:36:48,856 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-04 03:36:48,857 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,857 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,858 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,858 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,859 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,859 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,860 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-04 03:36:48,860 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,861 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,861 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,862 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,862 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,863 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,863 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,864 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,865 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,867 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,883 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,885 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,885 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,886 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:36:48,887 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,887 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,887 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,888 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,888 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,889 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,889 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,890 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,891 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,891 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,892 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,892 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,892 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,893 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,893 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,894 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-04 03:36:48,894 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-04 03:36:48,895 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,895 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,897 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,898 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,899 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,916 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,916 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,917 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,917 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,918 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,918 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,919 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-04 03:36:48,920 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,920 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,921 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,921 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,922 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,922 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,922 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-04 03:36:48,923 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-04 03:36:48,923 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,924 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,924 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,925 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,925 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,926 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,926 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,927 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,929 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,930 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,932 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,933 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,933 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,934 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,934 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,935 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:36:48,952 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,952 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,953 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:36:48,954 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,954 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:36:48,955 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:36:48,955 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,956 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,957 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-04 03:36:48,958 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,958 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:36:48,959 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,959 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,960 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,960 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,961 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,963 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,963 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,964 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:36:48,964 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:36:48,965 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:36:48,965 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,966 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:36:48,967 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=8.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-04 03:36:49,119 - src.services.telegram_client - DEBUG - Đã tạo SSLContext với certifi.
2025-10-04 03:36:49,139 - src.services.telegram_client - DEBUG - Kết thúc hàm build_ssl_context.
2025-10-04 03:36:49,184 - src.services.news - ERROR - Lỗi khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:36:49,189 - src.services.news - DEBUG - Kết thúc hàm _http_get (lỗi).
2025-10-04 03:36:49,190 - src.services.news - DEBUG - Kết thúc hàm _http_get.
2025-10-04 03:36:49,190 - src.services.news - WARNING - Lỗi khi fetch hoặc parse dataset từ URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:36:49,191 - src.services.news - DEBUG - Bắt đầu hàm _http_get cho URL: https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json
2025-10-04 03:36:49,192 - src.services.telegram_client - DEBUG - Bắt đầu hàm build_ssl_context. cafile: None, skip_verify: False
2025-10-04 03:36:49,323 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:36:49,324 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:36:49,324 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:36:49,324 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:36:49,325 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:36:49,325 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='lots', trade_lots_total=0.1, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092025, trade_comment_prefix='AI-ICT', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:36:49,326 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:36:49,326 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='lots', trade_lots_total=0.1, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092025, trade_comment_prefix='AI-ICT', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:36:49,327 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:36:49,327 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='lots', trade_lots_total=0.1, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092025, trade_comment_prefix='AI-ICT', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:36:49,328 - src.core.app_logic - DEBUG - Đã có yêu cầu làm mới tin tức đang thực hiện, bỏ qua.
2025-10-04 03:36:49,328 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đang inflight).
2025-10-04 03:36:49,328 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:36:49,329 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:49,329 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:49,330 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:49,330 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:49,330 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:49,331 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:49,331 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:49,331 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:49,336 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:49,391 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:49,548 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:49,549 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:49,549 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:49,551 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:49,553 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:49,553 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:49,555 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:49,556 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:49,556 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:49,557 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:49,557 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:49,558 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:49,559 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:49,559 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:49,560 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:49,560 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:49,560 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:49,561 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:49,561 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:49,562 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:49,562 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:49,562 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:49,563 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:49,563 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:49,564 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:49,564 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:49.564279+07:00
2025-10-04 03:36:49,564 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:49.564279+07:00
2025-10-04 03:36:49,565 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:49.564279+07:00 trong DST: True
2025-10-04 03:36:49,565 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:49,566 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:49,566 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:49,566 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:49,567 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:49,567 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:49,568 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:49,568 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:49,568 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:49,569 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:49,569 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:49,570 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:49,570 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:49,571 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:49,572 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:49,572 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:49,572 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:49,573 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:49,573 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:49,573 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:49,574 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:36:49,574 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:36:49,812 - src.services.telegram_client - DEBUG - Đã tạo SSLContext với certifi.
2025-10-04 03:36:49,813 - src.services.telegram_client - DEBUG - Kết thúc hàm build_ssl_context.
2025-10-04 03:36:49,815 - src.services.news - ERROR - Lỗi khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:36:49,815 - src.services.news - DEBUG - Kết thúc hàm _http_get (lỗi).
2025-10-04 03:36:49,816 - src.services.news - DEBUG - Kết thúc hàm _http_get.
2025-10-04 03:36:49,816 - src.services.news - WARNING - Lỗi khi fetch hoặc parse dataset từ URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:36:49,816 - src.services.news - DEBUG - Bắt đầu hàm _dedup_and_trim_week với 0 events.
2025-10-04 03:36:49,817 - src.services.news - DEBUG - Kết thúc hàm _dedup_and_trim_week. Số events sau khi dedup: 0
2025-10-04 03:36:49,817 - src.services.news - DEBUG - Kết thúc hàm fetch_high_impact_events. Tổng số events: 0
2025-10-04 03:36:49,817 - src.services.news - DEBUG - Kết thúc hàm fetch_high_impact_events_for_cfg.
2025-10-04 03:36:49,817 - src.core.app_logic - INFO - Đã làm mới tin tức không đồng bộ, tìm thấy 0 sự kiện.
2025-10-04 03:36:49,818 - src.core.app_logic - DEBUG - Kết thúc luồng _do_async.
2025-10-04 03:36:50,587 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:36:50,587 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:36:50,588 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:36:50,588 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (0.77s < 300s), bỏ qua làm mới.
2025-10-04 03:36:50,588 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:36:50,589 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:36:50,589 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:50,590 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:50,590 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:50,590 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:50,591 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:50,591 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:50,592 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:50,592 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:50,595 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:50,613 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:50,737 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:50,738 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:50,739 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:50,741 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:50,741 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:50,742 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:50,743 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:50,744 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:50,744 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:50,745 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:50,745 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:50,745 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:50,746 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:50,746 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:50,747 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:50,747 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:50,748 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:50,748 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:50,748 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:50,749 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:50,749 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:50,749 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:50,750 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:50,750 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:50,750 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:50,751 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:50.751113+07:00
2025-10-04 03:36:50,751 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:50.751113+07:00
2025-10-04 03:36:50,752 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:50.751113+07:00 trong DST: True
2025-10-04 03:36:50,752 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:50,752 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:50,753 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:50,753 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:50,753 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:50,754 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:50,754 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:50,754 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:50,755 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:50,755 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:50,755 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:50,756 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:50,757 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:50,757 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:50,758 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:50,758 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:50,759 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:50,759 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:50,759 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:50,760 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:50,760 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:36:50,760 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:36:51,009 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,010 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,011 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:36:51,011 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,012 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:36:51,012 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:36:51,012 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:51,012 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cấu hình Gemini API.
2025-10-04 03:36:51,013 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:51,014 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:51,014 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:51,014 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:51,015 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,016 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:51,047 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:51,048 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:51,048 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:51,048 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:51,060 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:36:51,063 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:36:51,064 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:51,064 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:36:51,064 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:51,065 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:51,065 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:51,066 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:51,066 - src.ui.app_ui - INFO - Đã cập nhật danh sách mô hình AI, tìm thấy 40 mô hình.
2025-10-04 03:36:51,067 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:51,067 - src.ui.app_ui - DEBUG - Kết thúc cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:36:51,068 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _do_update
2025-10-04 03:36:51,069 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,069 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,070 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,071 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,071 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,071 - src.core.app_logic - DEBUG - Bắt đầu _schedule_mt5_connection_check.
2025-10-04 03:36:51,072 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:51,072 - src.core.app_logic - INFO - Đã lên lịch kiểm tra kết nối MT5 sau 30 giây.
2025-10-04 03:36:51,073 - src.core.app_logic - DEBUG - Kết thúc _schedule_mt5_connection_check.
2025-10-04 03:36:51,073 - src.ui.app_ui - DEBUG - TradingToolApp đã khởi tạo xong.
2025-10-04 03:36:51,074 - src.core.app_logic - DEBUG - Bắt đầu hàm set_ui_references.
2025-10-04 03:36:51,074 - src.core.app_logic - DEBUG - Thiết lập tham chiếu UI cho AppLogic.
2025-10-04 03:36:51,074 - src.core.app_logic - DEBUG - Kết thúc set_ui_references.
2025-10-04 03:36:51,090 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:51,103 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:51,104 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:51,104 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:51,152 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:51,763 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:36:51,763 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:36:51,764 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:36:51,764 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (1.95s < 300s), bỏ qua làm mới.
2025-10-04 03:36:51,764 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:36:51,765 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:36:51,765 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:51,765 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:51,766 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:51,766 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:51,766 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:51,766 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:51,767 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:51,767 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:51,769 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:51,787 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:51,909 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:51,910 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:51,910 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:51,912 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:51,912 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:51,913 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:51,914 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:51,915 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:51,915 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:51,916 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:51,916 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:51,917 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:51,918 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:51,929 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:51,929 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:51,930 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:51,931 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:51,931 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:51,932 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:51,932 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:51,932 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:51,933 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:51,933 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:51,933 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:51,934 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:51,934 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:51.934630+07:00
2025-10-04 03:36:51,935 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:51.934630+07:00
2025-10-04 03:36:51,935 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:51.934630+07:00 trong DST: True
2025-10-04 03:36:51,935 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:51,936 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:51,936 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:51,936 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:51,937 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:51,937 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:51,938 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:51,938 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:51,938 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:51,939 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:51,939 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:51,940 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:51,940 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:51,940 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:51,941 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:51,941 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:51,942 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:51,942 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:51,942 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:51,943 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:51,943 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:36:51,943 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:36:52,870 - src.ui.app_ui - DEBUG - Gọi app_logic.start_analysis từ UI.
2025-10-04 03:36:52,871 - src.core.app_logic - DEBUG - Bắt đầu start_analysis. App đang chạy: False
2025-10-04 03:36:52,872 - src.core.app_logic - WARNING - Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích.
2025-10-04 03:36:52,872 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích.
2025-10-04 03:36:52,872 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:52,873 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích.
2025-10-04 03:36:52,873 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:52,874 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:52,874 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:52,875 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:52,875 - src.ui.app_ui - DEBUG - Đang xóa tất cả kết quả phân tích.
2025-10-04 03:36:52,875 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:52,876 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:36:52,877 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:52,877 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:36:52,878 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:36:52,878 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã xoá kết quả khỏi giao diện.
2025-10-04 03:36:52,879 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:52,879 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã xoá kết quả khỏi giao diện.
2025-10-04 03:36:52,879 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:52,881 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:52,882 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:52,896 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:52,896 - src.ui.app_ui - DEBUG - Đã xóa kết quả phân tích khỏi giao diện và bộ nhớ.
2025-10-04 03:36:52,898 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:52,898 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đang nạp lại ảnh từ thư mục đã chọn...
2025-10-04 03:36:52,898 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:52,911 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đang nạp lại ảnh từ thư mục đã chọn...
2025-10-04 03:36:52,912 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:52,914 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:52,914 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:52,914 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:52,915 - src.ui.app_ui - DEBUG - Đang tải file từ thư mục: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:36:52,915 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:52,915 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:52,917 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:52,918 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:52,919 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:52,921 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:36:52,921 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:52,921 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:36:52,922 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:52,923 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:52,923 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:52,923 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:52,924 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:36:52,924 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:52,924 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:36:52,925 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:36:52,925 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:52,926 - src.ui.app_ui - DEBUG - Đã tải 4 file từ thư mục C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:36:52,926 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:36:52,929 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:36:52,931 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='lots', trade_lots_total=0.1, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092025, trade_comment_prefix='AI-ICT', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:36:52,939 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:52,945 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:36:52,945 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:52,946 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='lots', trade_lots_total=0.1, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092025, trade_comment_prefix='AI-ICT', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:36:52,947 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:52,947 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:36:52,947 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:52,948 - src.core.app_logic - DEBUG - Cấu hình snapshot cho worker: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='lots', trade_lots_total=0.1, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092025, trade_comment_prefix='AI-ICT', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:36:52,950 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Chưa xử lý.
2025-10-04 03:36:52,951 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:52,951 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Chưa xử lý.
2025-10-04 03:36:52,951 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:52,952 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Chưa xử lý.
2025-10-04 03:36:52,952 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:52,952 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Chưa xử lý.
2025-10-04 03:36:52,953 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:52,953 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:36:52,953 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:36:52,953 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 26
2025-10-04 03:36:52,954 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:52,954 - src.core.app_logic - INFO - Đang chuẩn bị dữ liệu và khởi chạy worker.
2025-10-04 03:36:52,955 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm run_analysis_worker.
2025-10-04 03:36:52,955 - src.core.app_logic - INFO - Đã khởi chạy luồng phân tích worker.
2025-10-04 03:36:52,956 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu run_analysis_worker với model: models/gemini-2.5-flash, folder: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:36:52,957 - src.core.app_logic - DEBUG - Kết thúc start_analysis.
2025-10-04 03:36:52,957 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào. Số ảnh: 4
2025-10-04 03:36:52,958 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:52,959 - src.core.worker_modules.main_worker - DEBUG - Model 'models/gemini-2.5-flash' được khởi tạo thành công.
2025-10-04 03:36:52,960 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 2: Kiểm tra điều kiện NO-RUN.
2025-10-04 03:36:52,960 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:52,960 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_all_preconditions.
2025-10-04 03:36:52,961 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:52,961 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:36:52,962 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_no_run_conditions.
2025-10-04 03:36:52,962 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:52,963 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:52,963 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_no_run_conditions. Kết quả: True, Lý do: Đang chạy trong các điều kiện cho phép.
2025-10-04 03:36:52,964 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:52,964 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:52,964 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_all_preconditions. Kết quả: True
2025-10-04 03:36:52,965 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:52,966 - src.core.worker_modules.main_worker - DEBUG - Không có điều kiện No-Run nào được kích hoạt.
2025-10-04 03:36:52,967 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:52,967 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh. Số ảnh cần xử lý: 4
2025-10-04 03:36:52,968 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:36:52,968 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:36:52,969 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135416.2302207
2025-10-04 03:36:52,969 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:52,969 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm load của UploadCache.
2025-10-04 03:36:52,982 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:52,985 - src.core.worker_modules.image_processor - DEBUG - Đã tải cache upload. Số mục: 0
2025-10-04 03:36:52,985 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:52,985 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png, optimize: False
2025-10-04 03:36:52,986 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:52,987 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:36:52,987 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:52,987 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:36:52,988 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:36:52,988 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_H1.png' được chuẩn bị để upload.
2025-10-04 03:36:52,989 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:52,991 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png, optimize: False
2025-10-04 03:36:52,992 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:36:52,992 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:36:52,993 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:36:52,993 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:36:53,006 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:36:53,007 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M1.png' được chuẩn bị để upload.
2025-10-04 03:36:53,007 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (3.19s < 300s), bỏ qua làm mới.
2025-10-04 03:36:53,008 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png, optimize: False
2025-10-04 03:36:53,010 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:36:53,010 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:53,011 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:36:53,011 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:36:53,011 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:53,012 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:36:53,012 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:53,013 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:53,013 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M15.png' được chuẩn bị để upload.
2025-10-04 03:36:53,013 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:53,014 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:53,014 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png, optimize: False
2025-10-04 03:36:53,014 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:53,015 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:36:53,015 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:53,016 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:36:53,016 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:53,016 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M5.png' được chuẩn bị để upload.
2025-10-04 03:36:53,017 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:53,017 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Đang upload....
2025-10-04 03:36:53,017 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:53,018 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:53,018 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:53,018 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Đang upload....
2025-10-04 03:36:53,021 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:53,022 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:53,042 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Đang upload....
2025-10-04 03:36:53,042 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:53,042 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:53,043 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Đang upload....
2025-10-04 03:36:53,043 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:53,044 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_images_parallel. Số file cần upload: 4
2025-10-04 03:36:53,045 - src.core.worker_modules.image_processor - DEBUG - Max workers: 4, steps_upload: 4, total_steps: 6
2025-10-04 03:36:53,049 - src.core.worker_modules.image_processor - DEBUG - Đã gán ThreadPoolExecutor vào app.active_executor.
2025-10-04 03:36:53,088 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_H1.png
2025-10-04 03:36:53,125 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M1.png
2025-10-04 03:36:53,131 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M15.png
2025-10-04 03:36:53,171 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M5.png
2025-10-04 03:36:53,171 - src.core.worker_modules.image_processor - DEBUG - Đã submit 4 tác vụ upload.
2025-10-04 03:36:53,238 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:53,267 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:53,270 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:53,306 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:53,307 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:53,310 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:53,311 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:53,316 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:53,405 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:53,440 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:53,452 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:53,514 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:53,602 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:53,607 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:53,608 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:53,609 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:53,609 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:53,610 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:53,612 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:53,614 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:53,687 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:53,699 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:53,707 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:53,763 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:53,818 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:53,870 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:53.870517+07:00
2025-10-04 03:36:53,954 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:53.870517+07:00
2025-10-04 03:36:54,253 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:53.870517+07:00 trong DST: True
2025-10-04 03:36:54,400 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:54,524 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:54,533 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:36:54,533 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:54,538 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:54,539 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:54,539 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:54,540 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:54,543 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:54,543 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:54,543 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:54,544 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:54,545 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:54,546 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:54,547 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:54,572 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:36:54,588 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:36:54,591 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:54,595 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:54,599 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:54,601 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:54,602 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:54,602 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:54,603 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:36:54,605 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:36:54,607 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:54,609 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:54,609 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:54,610 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:54,637 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:36:55,606 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:36:55,608 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:36:55,609 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:36:55,609 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (5.79s < 300s), bỏ qua làm mới.
2025-10-04 03:36:55,609 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:36:55,610 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:36:55,611 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:55,611 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:55,612 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:55,612 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:55,614 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:55,616 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:55,616 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:55,641 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:55,649 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:55,666 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:55,797 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:55,799 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:55,800 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:55,802 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:55,802 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:55,803 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:55,804 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:55,805 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:55,805 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:55,806 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:55,806 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:55,807 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:55,808 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:55,809 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:55,814 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:55,819 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:55,821 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:55,821 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:55,822 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:55,822 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:55,823 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:55,823 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:55,823 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:55,823 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:55,824 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:55,824 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:55.824528+07:00
2025-10-04 03:36:55,824 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:55.824528+07:00
2025-10-04 03:36:55,825 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:55.824528+07:00 trong DST: True
2025-10-04 03:36:55,825 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:55,825 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:55,826 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:55,826 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:55,827 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:55,827 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:55,827 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:55,828 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:55,828 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:55,828 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:55,829 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:55,829 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:55,829 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:55,830 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:55,831 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:55,831 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:55,832 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:55,832 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:55,834 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:55,835 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:55,836 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:36:55,836 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:36:56,535 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M1.png', remote_name: files/3vxogfvaj69b.
2025-10-04 03:36:56,557 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_H1.png', remote_name: files/3dbci1gzvau9.
2025-10-04 03:36:56,582 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M1.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:36:56,583 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M1.png' đã ACTIVE.
2025-10-04 03:36:56,584 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:36:56,585 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 16.7%
2025-10-04 03:36:56,586 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:56,587 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Đã upload.
2025-10-04 03:36:56,597 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:56,598 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 1/4.
2025-10-04 03:36:56,606 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:56,607 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:56,608 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_H1.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:36:56,608 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_H1.png' đã ACTIVE.
2025-10-04 03:36:56,609 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:36:56,609 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 33.3%
2025-10-04 03:36:56,610 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:56,610 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Đã upload.
2025-10-04 03:36:56,611 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:56,611 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 2/4.
2025-10-04 03:36:56,688 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:56,688 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:56,730 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M15.png', remote_name: files/oebrj2e5nlbl.
2025-10-04 03:36:56,780 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M15.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:36:56,781 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M15.png' đã ACTIVE.
2025-10-04 03:36:56,781 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:36:56,782 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 50.0%
2025-10-04 03:36:56,782 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:56,782 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Đã upload.
2025-10-04 03:36:56,783 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:56,783 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 3/4.
2025-10-04 03:36:56,792 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M5.png', remote_name: files/d6shlbo607ax.
2025-10-04 03:36:56,836 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:36:56,836 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:36:56,837 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:36:56,844 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M5.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:36:56,847 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (7.03s < 300s), bỏ qua làm mới.
2025-10-04 03:36:56,847 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M5.png' đã ACTIVE.
2025-10-04 03:36:56,848 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:36:56,849 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:36:56,849 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:36:56,849 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 66.7%
2025-10-04 03:36:56,849 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:56,850 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:56,850 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:56,851 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Đã upload.
2025-10-04 03:36:56,851 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:56,851 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:36:56,852 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:56,852 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 4/4.
2025-10-04 03:36:56,852 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:56,853 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:56,854 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:56,854 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:56,857 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:56,857 - src.core.worker_modules.image_processor - DEBUG - Đã dọn dẹp app.active_executor.
2025-10-04 03:36:56,871 - src.core.worker_modules.image_processor - DEBUG - Kết thúc upload_images_parallel. Tổng số file đã upload: 4.
2025-10-04 03:36:56,878 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:56,883 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:36:56,884 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135420.1454852
2025-10-04 03:36:56,885 - src.ui.app_ui - DEBUG - Cập nhật UI status: Upload xong 4 ảnh trong 3.92s
2025-10-04 03:36:56,885 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Upload xong 4 ảnh trong 3.92s
2025-10-04 03:36:56,885 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:36:56,934 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Upload xong 4 ảnh trong 3.92s
2025-10-04 03:36:57,013 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:57,014 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:57,014 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:57,016 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:57,016 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:57,017 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:57,017 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:57,018 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:57,019 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:57,019 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:57,019 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:57,020 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:57,021 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:57,022 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:57,022 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:57,023 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:57,023 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:57,023 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:57,024 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:57,035 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:57,036 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:57,036 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:57,037 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:57,037 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:57,037 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:57,038 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:57.038209+07:00
2025-10-04 03:36:57,038 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:57.038209+07:00
2025-10-04 03:36:57,039 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:57.038209+07:00 trong DST: True
2025-10-04 03:36:57,039 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:57,039 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:57,040 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:57,040 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:57,040 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:57,041 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:57,041 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:57,041 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:57,042 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:57,042 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:57,043 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:57,043 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:57,044 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:57,044 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:57,044 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:57,045 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:57,045 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:57,046 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:57,046 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:57,046 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:57,047 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:36:57,047 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:36:57,047 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:36:57,048 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:57,048 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:57,049 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:36:57,049 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:36:57,049 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:57,050 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:36:57,050 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:36:57,051 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:36:57,051 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:36:57,051 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135420.3125299
2025-10-04 03:36:57,052 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:36:57,053 - src.core.worker_modules.main_worker - DEBUG - Upload xong 4 ảnh trong 4.08s.
2025-10-04 03:36:57,081 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png, remote_name: files/3dbci1gzvau9
2025-10-04 03:36:57,082 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:36:57,106 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 12721:1759548982:7d15486f85fdfaef
2025-10-04 03:36:57,109 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:57,109 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:36:57,111 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:57,112 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:36:57,114 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:57,117 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:36:57,131 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:36:57,132 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png, remote_name: files/3vxogfvaj69b
2025-10-04 03:36:57,134 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:36:57,140 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 17445:1759548976:329ef45a73d4642c
2025-10-04 03:36:57,141 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:36:57,143 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:36:57,144 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:36:57,145 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png, remote_name: files/oebrj2e5nlbl
2025-10-04 03:36:57,149 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:36:57,196 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 13248:1759548981:106fc6ab3976cd41
2025-10-04 03:36:57,197 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:36:57,199 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:36:57,200 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:36:57,202 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png, remote_name: files/d6shlbo607ax
2025-10-04 03:36:57,202 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:36:57,204 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 14075:1759548979:402252ab9019008d
2025-10-04 03:36:57,208 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:36:57,210 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:36:57,231 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:36:57,233 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm save của UploadCache. Số mục: 4
2025-10-04 03:36:57,233 - src.core.worker_modules.image_processor - ERROR - Lỗi khi lưu upload cache: keys must be str, int, float, bool or None, not WindowsPath
2025-10-04 03:36:57,234 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm save của UploadCache.
2025-10-04 03:36:57,235 - src.core.worker_modules.main_worker - DEBUG - Cache upload đã được cập nhật và lưu.
2025-10-04 03:36:57,235 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 4: Xây dựng ngữ cảnh và kiểm tra NO-TRADE.
2025-10-04 03:36:57,237 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:36:57,237 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135420.4985434
2025-10-04 03:36:57,238 - src.core.worker_modules.context_coordinator - DEBUG - Bắt đầu hàm prepare_and_build_context.
2025-10-04 03:36:57,239 - src.ui.app_ui - DEBUG - Gọi app_logic.compose_context từ UI với budget_chars: 2000.
2025-10-04 03:36:57,239 - src.core.app_logic - DEBUG - Bắt đầu hàm compose_context.
2025-10-04 03:36:57,241 - src.core.app_logic - DEBUG - Bắt đầu compose_context với budget_chars: 2000.
2025-10-04 03:36:57,243 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_compose.
2025-10-04 03:36:57,244 - src.core.context_builder - DEBUG - Bắt đầu hàm compose_context với budget_chars: 2000.
2025-10-04 03:36:57,244 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:36:57,253 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:36:57,265 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:36:57,267 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:36:57,268 - src.core.context_builder - DEBUG - Bắt đầu hàm parse_ctx_json_files từ thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, max_n: 20
2025-10-04 03:36:57,299 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131831.json
2025-10-04 03:36:57,336 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131722.json
2025-10-04 03:36:57,394 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131628.json
2025-10-04 03:36:57,415 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084623.json
2025-10-04 03:36:57,454 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084622.json
2025-10-04 03:36:57,477 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084620.json
2025-10-04 03:36:57,514 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084619.json
2025-10-04 03:36:57,534 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084615.json
2025-10-04 03:36:57,571 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251002_134838.json
2025-10-04 03:36:57,607 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251002_134815.json
2025-10-04 03:36:57,607 - src.core.context_builder - DEBUG - Đã parse 10 file context.
2025-10-04 03:36:57,608 - src.core.context_builder - DEBUG - Kết thúc hàm parse_ctx_json_files.
2025-10-04 03:36:57,608 - src.core.context_builder - DEBUG - Đã tải 10 historical contexts.
2025-10-04 03:36:57,609 - src.core.context_builder - DEBUG - Bắt đầu hàm summarize_checklist_trend với 10 items.
2025-10-04 03:36:57,609 - src.core.context_builder - DEBUG - Chỉ có 1 hoặc 0 item trong sequence, trend là flat.
2025-10-04 03:36:57,610 - src.core.context_builder - DEBUG - Kết thúc hàm summarize_checklist_trend (sequence quá ngắn).
2025-10-04 03:36:57,610 - src.core.context_builder - DEBUG - Trend checklist summary: {'trend': 'flat', 'enough_ratio': None}
2025-10-04 03:36:57,610 - src.core.context_builder - DEBUG - Có 3 detailed context items.
2025-10-04 03:36:57,611 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:36:57,611 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:36:57,612 - src.utils.report_parser - DEBUG - Bắt đầu find_balanced_json_after. Start index: 0.
2025-10-04 03:36:57,613 - src.utils.report_parser - DEBUG - Tìm thấy JSON block cân bằng. Độ dài: 2.
2025-10-04 03:36:57,613 - src.utils.report_parser - DEBUG - Bắt đầu repair_json_string. Độ dài chuỗi gốc: 2
2025-10-04 03:36:57,614 - src.utils.report_parser - DEBUG - Đã sửa chữa JSON thành công.
2025-10-04 03:36:57,615 - src.utils.report_parser - DEBUG - Đã trích xuất và parse JSON block ưu tiên.
2025-10-04 03:36:57,615 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: '{}'
2025-10-04 03:36:57,620 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:36:57,622 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:36:57,623 - src.core.context_builder - DEBUG - Latest plan extracted: {'direction': None}
2025-10-04 03:36:57,624 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:36:57,625 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:36:57,644 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:36:57,646 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:36:57,647 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:36:57,649 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:36:57,667 - src.core.context_builder - DEBUG - Đã tạo 0 recent history summaries.
2025-10-04 03:36:57,668 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:36:57,668 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:36:57,669 - src.core.context_builder - DEBUG - MT5 enabled, bắt đầu xây dựng MT5 context.
2025-10-04 03:36:57,669 - src.ui.app_ui - DEBUG - Gọi mt5_utils.build_context_from_app từ UI.
2025-10-04 03:36:57,670 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context_from_app.
2025-10-04 03:36:57,670 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-04 03:36:57,671 - src.utils.mt5_utils - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-04 03:36:57,672 - src.utils.mt5_utils - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-04 03:36:57,673 - src.utils.mt5_utils - DEBUG - Current price (cp): 3887.107
2025-10-04 03:36:57,674 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-04 03:36:57,674 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-04 03:36:57,674 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-04 03:36:57,676 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-04 03:36:57,677 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:36:57,677 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-04 03:36:57,686 - src.utils.mt5_utils - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-04 03:36:57,696 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:36:57,696 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-04 03:36:57,699 - src.utils.mt5_utils - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-04 03:36:57,699 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:36:57,699 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-04 03:36:57,702 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-04 03:36:57,702 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:36:57,703 - src.utils.mt5_utils - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-04 03:36:57,703 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-04 03:36:57,829 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:36:57,830 - src.utils.mt5_utils - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:36:57,830 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-04 03:36:57,937 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-04 03:36:57,938 - src.utils.mt5_utils - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-04 03:36:57,939 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-04 03:36:58,059 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:36:58,059 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:36:58,059 - src.utils.mt5_utils - DEBUG - Đã lấy higher timeframe levels.
2025-10-04 03:36:58,060 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:36:58,060 - src.utils.mt5_utils - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-04 03:36:58,061 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:36:58,061 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-04 03:36:58,061 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (8.24s < 300s), bỏ qua làm mới.
2025-10-04 03:36:58,062 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:58,062 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:36:58,062 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:58.062756+07:00
2025-10-04 03:36:58,063 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:36:58,063 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:58.062756+07:00
2025-10-04 03:36:58,063 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:58,064 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:58.062756+07:00 trong DST: True
2025-10-04 03:36:58,064 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:58,064 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:58,065 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:58,065 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:58,065 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:58,066 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:58,066 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:58,066 - src.core.ict_analysis - DEBUG - Bắt đầu hàm get_session_liquidity với 96 rates, sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, now_hhmm: 10:36
2025-10-04 03:36:58,067 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:58,067 - src.core.ict_analysis - DEBUG - Kết thúc hàm get_session_liquidity. Kết quả: {}
2025-10-04 03:36:58,067 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:58,068 - src.utils.mt5_utils - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-04 03:36:58,069 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:58,069 - src.utils.mt5_utils - DEBUG - Rates trống, không thể tính VWAP.
2025-10-04 03:36:58,072 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:58,075 - src.utils.mt5_utils - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-04 03:36:58,087 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:36:58,095 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:58,097 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-04 03:36:58,098 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:36:58,099 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-04 03:36:58,104 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-04 03:36:58,150 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-04 03:36:58,228 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:58,229 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-04 03:36:58,229 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:58,230 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-04 03:36:58,230 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:58,230 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-04 03:36:58,232 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-04 03:36:58,232 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:58,233 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-04 03:36:58,233 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:58,233 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-04 03:36:58,234 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:58,234 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:36:58,235 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:58,236 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-04 03:36:58,237 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:36:58,237 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:58,237 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-04 03:36:58,238 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:58,238 - src.utils.mt5_utils - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-04 03:36:58,239 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:58,239 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-04 03:36:58,240 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-04 03:36:58,241 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:58,241 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:36:58,242 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-04 03:36:58,242 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:58,243 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-04 03:36:58,245 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:58,252 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-04 03:36:58,256 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:58,256 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:36:58,257 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:58,257 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-04 03:36:58,258 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:58,258 - src.utils.mt5_utils - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-04 03:36:58,259 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:58,259 - src.utils.mt5_utils - DEBUG - Volatility regime: trending
2025-10-04 03:36:58,259 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:58,260 - src.utils.mt5_utils - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:36:58,260 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:58,261 - src.utils.mt5_utils - DEBUG - Thêm PDH: 3897.216
2025-10-04 03:36:58,261 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:58,261 - src.utils.mt5_utils - DEBUG - Thêm PDL: 3819.397
2025-10-04 03:36:58,262 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:58,262 - src.utils.mt5_utils - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-04 03:36:58,262 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:58,263 - src.utils.mt5_utils - DEBUG - Thêm DO: 3863.536
2025-10-04 03:36:58,263 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:58,263 - src.utils.mt5_utils - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-04 03:36:58,264 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:58,264 - src.utils.mt5_utils - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-04 03:36:58,264 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:58,265 - src.utils.mt5_utils - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-04 03:36:58,265 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:58.265536+07:00
2025-10-04 03:36:58,266 - src.utils.mt5_utils - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-04 03:36:58,266 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:58.265536+07:00
2025-10-04 03:36:58,266 - src.utils.mt5_utils - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-04 03:36:58,267 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:58.265536+07:00 trong DST: True
2025-10-04 03:36:58,267 - src.utils.mt5_utils - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:36:58,268 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:58,268 - src.utils.mt5_utils - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-04 03:36:58,268 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:58,269 - src.utils.mt5_utils - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-04 03:36:58,269 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:58,270 - src.utils.mt5_utils - DEBUG - Prev day close: 3862.472
2025-10-04 03:36:58,270 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:58,271 - src.utils.mt5_utils - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-04 03:36:58,271 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:58,272 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:58,273 - src.utils.mt5_utils - DEBUG - Position in day range: 0.8700959919813936
2025-10-04 03:36:58,273 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:58,273 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:58,274 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:58,279 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:58.279293+07:00
2025-10-04 03:36:58,281 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:58,283 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:58.279293+07:00
2025-10-04 03:36:58,285 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:58,287 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:58.279293+07:00 trong DST: True
2025-10-04 03:36:58,288 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:58,288 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:58,289 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:58,289 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:58,290 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:58,290 - src.core.ict_analysis - DEBUG - Bắt đầu hàm is_silver_bullet_window với now_hhmm: 10:36, kills: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:58,290 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:58,291 - src.core.ict_analysis - DEBUG - Không nằm trong cửa sổ Silver Bullet.
2025-10-04 03:36:58,291 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:58,292 - src.core.ict_analysis - DEBUG - Kết thúc hàm is_silver_bullet_window.
2025-10-04 03:36:58,292 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:58,292 - src.utils.mt5_utils - DEBUG - Killzone active: None, Mins to next killzone: 204
2025-10-04 03:36:58,293 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:36:58,293 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:58,293 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:36:58,294 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:58,294 - src.utils.mt5_utils - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-04 03:36:58,294 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:58,295 - src.utils.mt5_utils - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-04 03:36:58,295 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:58,296 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:36:58,296 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:36:58,296 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:36:58,297 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:36:58,297 - src.utils.mt5_utils - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-04 03:36:58,297 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:36:58,298 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3783.265
2025-10-04 03:36:58,298 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3760.112
2025-10-04 03:36:58,299 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3763.997
2025-10-04 03:36:58,299 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.936
2025-10-04 03:36:58,300 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3805.069
2025-10-04 03:36:58,311 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.812
2025-10-04 03:36:58,321 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3806.56
2025-10-04 03:36:58,335 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3831.428
2025-10-04 03:36:58,350 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3809.251
2025-10-04 03:36:58,350 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3833.647
2025-10-04 03:36:58,352 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3822.667
2025-10-04 03:36:58,353 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3834.062
2025-10-04 03:36:58,355 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3825.688
2025-10-04 03:36:58,356 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.242
2025-10-04 03:36:58,357 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.761
2025-10-04 03:36:58,358 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3793.174
2025-10-04 03:36:58,359 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3854.604
2025-10-04 03:36:58,360 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3849.372
2025-10-04 03:36:58,361 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3839.717
2025-10-04 03:36:58,362 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.87
2025-10-04 03:36:58,363 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.622
2025-10-04 03:36:58,364 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.624
2025-10-04 03:36:58,365 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.576
2025-10-04 03:36:58,366 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.937
2025-10-04 03:36:58,367 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3853.395
2025-10-04 03:36:58,381 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3895.417
2025-10-04 03:36:58,384 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.184
2025-10-04 03:36:58,385 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3878.867
2025-10-04 03:36:58,386 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.227
2025-10-04 03:36:58,387 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.948
2025-10-04 03:36:58,388 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.93
2025-10-04 03:36:58,390 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.062
2025-10-04 03:36:58,391 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.894
2025-10-04 03:36:58,392 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3870.082
2025-10-04 03:36:58,392 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.861
2025-10-04 03:36:58,393 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.758
2025-10-04 03:36:58,394 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3897.216
2025-10-04 03:36:58,395 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3819.397
2025-10-04 03:36:58,395 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.415
2025-10-04 03:36:58,397 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:36:58,398 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:36:58,416 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:36:58,428 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:36:58,434 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:36:58,442 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:36:58,442 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:36:58,444 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:36:58,445 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:36:58,445 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:36:58,447 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:36:58,448 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:36:58,448 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:36:58,449 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:36:58,449 - src.utils.mt5_utils - DEBUG - Liquidity levels cho H1: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:36:58,451 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:36:58,451 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4}
2025-10-04 03:36:58,452 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:36:58,453 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12}
2025-10-04 03:36:58,455 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13}
2025-10-04 03:36:58,455 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31}
2025-10-04 03:36:58,456 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32}
2025-10-04 03:36:58,457 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34}
2025-10-04 03:36:58,458 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37}
2025-10-04 03:36:58,472 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38}
2025-10-04 03:36:58,479 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39}
2025-10-04 03:36:58,481 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45}
2025-10-04 03:36:58,481 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50}
2025-10-04 03:36:58,483 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61}
2025-10-04 03:36:58,483 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62}
2025-10-04 03:36:58,483 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66}
2025-10-04 03:36:58,486 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90}
2025-10-04 03:36:58,487 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91}
2025-10-04 03:36:58,487 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95}
2025-10-04 03:36:58,489 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96}
2025-10-04 03:36:58,489 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:36:58,491 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112}
2025-10-04 03:36:58,494 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4} đã được fill.
2025-10-04 03:36:58,495 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:36:58,503 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12} đã được fill.
2025-10-04 03:36:58,504 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13} đã được fill.
2025-10-04 03:36:58,506 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31} đã được fill.
2025-10-04 03:36:58,507 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32} đã được fill.
2025-10-04 03:36:58,509 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34} đã được fill.
2025-10-04 03:36:58,510 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37} đã được fill.
2025-10-04 03:36:58,511 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38} đã được fill.
2025-10-04 03:36:58,513 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39} đã được fill.
2025-10-04 03:36:58,514 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45} đã được fill.
2025-10-04 03:36:58,515 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50} đã được fill.
2025-10-04 03:36:58,516 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61} đã được fill.
2025-10-04 03:36:58,517 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62} đã được fill.
2025-10-04 03:36:58,518 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66} đã được fill.
2025-10-04 03:36:58,522 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90} đã được fill.
2025-10-04 03:36:58,534 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91} đã được fill.
2025-10-04 03:36:58,535 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95} đã được fill.
2025-10-04 03:36:58,535 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96} đã được fill.
2025-10-04 03:36:58,537 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:36:58,538 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112} đã được fill.
2025-10-04 03:36:58,539 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}
2025-10-04 03:36:58,540 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}]
2025-10-04 03:36:58,542 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:36:58,543 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}
2025-10-04 03:36:58,544 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3867.201, 'bottom': 3854.751, 'bar_index': 110}
2025-10-04 03:36:58,546 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3844.879, 'bottom': 3819.397, 'bar_index': 91}
2025-10-04 03:36:58,547 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}
2025-10-04 03:36:58,548 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}]
2025-10-04 03:36:58,551 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:36:58,551 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3897.216, 'range_low': 3760.112, 'equilibrium': 3828.6639999999998, 'status': 'Premium'}
2025-10-04 03:36:58,554 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:36:58,554 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3778.612, 'bottom': 3764.679, 'bar_index': -27}
2025-10-04 03:36:58,555 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3787.543, 'bottom': 3763.997, 'bar_index': -23}
2025-10-04 03:36:58,557 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3819.611, 'bottom': 3806.443, 'bar_index': -15}
2025-10-04 03:36:58,574 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3818.552, 'bottom': 3806.56, 'bar_index': -13}
2025-10-04 03:36:58,574 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.722, 'bottom': 3838.031, 'bar_index': 1}
2025-10-04 03:36:58,575 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3867.242, 'bottom': 3845.851, 'bar_index': 3}
2025-10-04 03:36:58,575 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3871.761, 'bottom': 3854.92, 'bar_index': 6}
2025-10-04 03:36:58,576 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3814.639, 'bottom': 3798.264, 'bar_index': 10}
2025-10-04 03:36:58,576 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3854.604, 'bottom': 3820.442, 'bar_index': 14}
2025-10-04 03:36:58,576 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3860.87, 'bottom': 3847.177, 'bar_index': 19}
2025-10-04 03:36:58,577 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.941, 'bottom': 3858.997, 'bar_index': 30}
2025-10-04 03:36:58,577 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3865.226, 'bottom': 3852.894, 'bar_index': 47}
2025-10-04 03:36:58,578 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.858, 'bottom': 3873.413, 'bar_index': 55}
2025-10-04 03:36:58,578 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3845.401, 'bottom': 3827.234, 'bar_index': 62}
2025-10-04 03:36:58,578 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}
2025-10-04 03:36:58,579 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}
2025-10-04 03:36:58,579 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}
2025-10-04 03:36:58,579 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}]
2025-10-04 03:36:58,580 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho H1 đã được tính.
2025-10-04 03:36:58,580 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:36:58,581 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:36:58,581 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:36:58,581 - src.utils.mt5_utils - DEBUG - MSS cho H1 đã được tính.
2025-10-04 03:36:58,582 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 96 rates, lookback: 200
2025-10-04 03:36:58,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3858.531
2025-10-04 03:36:58,583 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:36:58,583 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.878
2025-10-04 03:36:58,583 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:36:58,584 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.326
2025-10-04 03:36:58,584 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3862.684
2025-10-04 03:36:58,584 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:36:58,585 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.953
2025-10-04 03:36:58,585 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:36:58,588 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3848.355
2025-10-04 03:36:58,607 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3843.125
2025-10-04 03:36:58,608 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3850.904
2025-10-04 03:36:58,609 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:36:58,609 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:36:58,610 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:36:58,611 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:36:58,611 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:36:58,612 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:36:58,612 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:36:58,613 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:36:58,613 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:36:58,614 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:36:58,614 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:36:58,634 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:36:58,636 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:36:58,636 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:36:58,637 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:36:58,638 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:36:58,638 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:36:58,639 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:36:58,639 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:36:58,640 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:36:58,640 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:36:58,641 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:36:58,641 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:36:58,641 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:36:58,642 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:36:58,642 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:36:58,643 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:36:58,643 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:36:58,644 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M15: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:36:58,644 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 96 rates, current_price: 3887.107
2025-10-04 03:36:58,644 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3}
2025-10-04 03:36:58,645 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7}
2025-10-04 03:36:58,645 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11}
2025-10-04 03:36:58,646 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23}
2025-10-04 03:36:58,646 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26}
2025-10-04 03:36:58,648 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:36:58,669 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:36:58,670 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42}
2025-10-04 03:36:58,671 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52}
2025-10-04 03:36:58,672 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57}
2025-10-04 03:36:58,672 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58}
2025-10-04 03:36:58,672 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:36:58,673 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65}
2025-10-04 03:36:58,673 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69}
2025-10-04 03:36:58,674 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74}
2025-10-04 03:36:58,675 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3} đã được fill.
2025-10-04 03:36:58,675 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7} đã được fill.
2025-10-04 03:36:58,675 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11} đã được fill.
2025-10-04 03:36:58,676 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23} đã được fill.
2025-10-04 03:36:58,676 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26} đã được fill.
2025-10-04 03:36:58,679 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:36:58,695 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:36:58,695 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42} đã được fill.
2025-10-04 03:36:58,696 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52} đã được fill.
2025-10-04 03:36:58,697 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57} đã được fill.
2025-10-04 03:36:58,697 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58} đã được fill.
2025-10-04 03:36:58,697 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:36:58,698 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65} đã được fill.
2025-10-04 03:36:58,698 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69} đã được fill.
2025-10-04 03:36:58,699 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74} đã được fill.
2025-10-04 03:36:58,699 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}
2025-10-04 03:36:58,700 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}]
2025-10-04 03:36:58,700 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 96 rates, lookback: 100
2025-10-04 03:36:58,701 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}
2025-10-04 03:36:58,701 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}
2025-10-04 03:36:58,701 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3845.326, 'bottom': 3843.359, 'bar_index': 27}
2025-10-04 03:36:58,702 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}
2025-10-04 03:36:58,702 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}
2025-10-04 03:36:58,702 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}, {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}]
2025-10-04 03:36:58,703 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 96 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:36:58,703 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3838.081, 'equilibrium': 3864.906, 'status': 'Premium'}
2025-10-04 03:36:58,703 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 96 rates, lookback: 150
2025-10-04 03:36:58,703 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3858.046, 'bottom': 3854.205, 'bar_index': -48}
2025-10-04 03:36:58,704 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3855.466, 'bottom': 3849.361, 'bar_index': -32}
2025-10-04 03:36:58,704 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3848.913, 'bottom': 3839.835, 'bar_index': -29}
2025-10-04 03:36:58,705 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.766, 'bottom': 3843.897, 'bar_index': -22}
2025-10-04 03:36:58,705 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3863.085, 'bottom': 3857.792, 'bar_index': -13}
2025-10-04 03:36:58,706 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3862.923, 'bar_index': 8}
2025-10-04 03:36:58,706 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}
2025-10-04 03:36:58,707 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}
2025-10-04 03:36:58,707 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}
2025-10-04 03:36:58,708 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}]
2025-10-04 03:36:58,709 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M15 đã được tính.
2025-10-04 03:36:58,709 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 96 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:36:58,710 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:36:58,725 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:36:58,725 - src.utils.mt5_utils - DEBUG - MSS cho M15 đã được tính.
2025-10-04 03:36:58,726 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 180 rates, lookback: 200
2025-10-04 03:36:58,727 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:36:58,727 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.693
2025-10-04 03:36:58,728 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.917
2025-10-04 03:36:58,728 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:36:58,728 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.034
2025-10-04 03:36:58,729 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.033
2025-10-04 03:36:58,729 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.397
2025-10-04 03:36:58,729 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:36:58,730 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.323
2025-10-04 03:36:58,730 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.323
2025-10-04 03:36:58,730 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:36:58,731 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:36:58,731 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.587
2025-10-04 03:36:58,732 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.799
2025-10-04 03:36:58,732 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.325
2025-10-04 03:36:58,732 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.674
2025-10-04 03:36:58,733 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:36:58,733 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.889
2025-10-04 03:36:58,733 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:36:58,734 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.764
2025-10-04 03:36:58,734 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.914
2025-10-04 03:36:58,734 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.651
2025-10-04 03:36:58,734 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.875
2025-10-04 03:36:58,735 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3866.346
2025-10-04 03:36:58,735 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.433
2025-10-04 03:36:58,736 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:36:58,736 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.632
2025-10-04 03:36:58,736 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.646
2025-10-04 03:36:58,737 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:36:58,737 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.432
2025-10-04 03:36:58,737 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.573
2025-10-04 03:36:58,738 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.856
2025-10-04 03:36:58,738 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:36:58,738 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.152
2025-10-04 03:36:58,739 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:36:58,739 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.067
2025-10-04 03:36:58,740 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.802
2025-10-04 03:36:58,741 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.218
2025-10-04 03:36:58,744 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:36:58,757 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.209
2025-10-04 03:36:58,758 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.578
2025-10-04 03:36:58,758 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.963
2025-10-04 03:36:58,759 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3870.06
2025-10-04 03:36:58,759 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.583
2025-10-04 03:36:58,760 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:36:58,760 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:36:58,761 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.355
2025-10-04 03:36:58,761 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.03
2025-10-04 03:36:58,761 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:36:58,762 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3880.206
2025-10-04 03:36:58,762 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.522
2025-10-04 03:36:58,763 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3881.461
2025-10-04 03:36:58,763 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3882.092
2025-10-04 03:36:58,763 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:36:58,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:36:58,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.454
2025-10-04 03:36:58,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.959
2025-10-04 03:36:58,765 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.056
2025-10-04 03:36:58,765 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:36:58,766 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.593
2025-10-04 03:36:58,766 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:36:58,767 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.221
2025-10-04 03:36:58,767 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.978
2025-10-04 03:36:58,767 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.364
2025-10-04 03:36:58,768 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:36:58,768 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.771
2025-10-04 03:36:58,768 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.794
2025-10-04 03:36:58,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:36:58,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3881.367
2025-10-04 03:36:58,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.794
2025-10-04 03:36:58,770 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.241
2025-10-04 03:36:58,770 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:36:58,771 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3883.496
2025-10-04 03:36:58,772 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3879.981
2025-10-04 03:36:58,773 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.183
2025-10-04 03:36:58,773 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:36:58,774 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.019
2025-10-04 03:36:58,774 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:36:58,785 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:36:58,786 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:36:58,786 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:36:58,787 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:36:58,787 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:36:58,787 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:36:58,787 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:36:58,788 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:36:58,788 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:36:58,789 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M5: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:36:58,789 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 180 rates, current_price: 3887.107
2025-10-04 03:36:58,789 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2}
2025-10-04 03:36:58,790 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17}
2025-10-04 03:36:58,790 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27}
2025-10-04 03:36:58,791 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37}
2025-10-04 03:36:58,791 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40}
2025-10-04 03:36:58,791 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47}
2025-10-04 03:36:58,792 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48}
2025-10-04 03:36:58,792 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56}
2025-10-04 03:36:58,792 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63}
2025-10-04 03:36:58,793 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64}
2025-10-04 03:36:58,793 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68}
2025-10-04 03:36:58,793 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70}
2025-10-04 03:36:58,794 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:36:58,794 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81}
2025-10-04 03:36:58,794 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87}
2025-10-04 03:36:58,795 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88}
2025-10-04 03:36:58,795 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89}
2025-10-04 03:36:58,795 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106}
2025-10-04 03:36:58,796 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113}
2025-10-04 03:36:58,796 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119}
2025-10-04 03:36:58,796 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123}
2025-10-04 03:36:58,797 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124}
2025-10-04 03:36:58,797 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135}
2025-10-04 03:36:58,797 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142}
2025-10-04 03:36:58,798 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149}
2025-10-04 03:36:58,798 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151}
2025-10-04 03:36:58,798 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155}
2025-10-04 03:36:58,798 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163}
2025-10-04 03:36:58,799 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171}
2025-10-04 03:36:58,799 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:36:58,800 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:36:58,800 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2} đã được fill.
2025-10-04 03:36:58,801 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17} đã được fill.
2025-10-04 03:36:58,801 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27} đã được fill.
2025-10-04 03:36:58,802 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37} đã được fill.
2025-10-04 03:36:58,802 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40} đã được fill.
2025-10-04 03:36:58,803 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47} đã được fill.
2025-10-04 03:36:58,803 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48} đã được fill.
2025-10-04 03:36:58,804 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56} đã được fill.
2025-10-04 03:36:58,804 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63} đã được fill.
2025-10-04 03:36:58,805 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64} đã được fill.
2025-10-04 03:36:58,805 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68} đã được fill.
2025-10-04 03:36:58,805 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70} đã được fill.
2025-10-04 03:36:58,807 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:36:58,815 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81} đã được fill.
2025-10-04 03:36:58,816 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87} đã được fill.
2025-10-04 03:36:58,816 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88} đã được fill.
2025-10-04 03:36:58,817 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89} đã được fill.
2025-10-04 03:36:58,817 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106} đã được fill.
2025-10-04 03:36:58,818 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113} đã được fill.
2025-10-04 03:36:58,818 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119} đã được fill.
2025-10-04 03:36:58,819 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123} đã được fill.
2025-10-04 03:36:58,819 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124} đã được fill.
2025-10-04 03:36:58,819 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135} đã được fill.
2025-10-04 03:36:58,820 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142} đã được fill.
2025-10-04 03:36:58,820 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149} đã được fill.
2025-10-04 03:36:58,821 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151} đã được fill.
2025-10-04 03:36:58,821 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155} đã được fill.
2025-10-04 03:36:58,822 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163} đã được fill.
2025-10-04 03:36:58,823 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171} đã được fill.
2025-10-04 03:36:58,823 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:36:58,823 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:36:58,824 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}
2025-10-04 03:36:58,824 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}]
2025-10-04 03:36:58,825 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 180 rates, lookback: 100
2025-10-04 03:36:58,825 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}
2025-10-04 03:36:58,825 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}
2025-10-04 03:36:58,826 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}]
2025-10-04 03:36:58,826 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 180 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:36:58,827 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3850.904, 'equilibrium': 3871.3175, 'status': 'Premium'}
2025-10-04 03:36:58,827 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 180 rates, lookback: 150
2025-10-04 03:36:58,827 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3865.008, 'bottom': 3860.927, 'bar_index': 36}
2025-10-04 03:36:58,828 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3862.887, 'bottom': 3859.58, 'bar_index': 46}
2025-10-04 03:36:58,828 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3867.239, 'bar_index': 80}
2025-10-04 03:36:58,828 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3876.096, 'bottom': 3866.937, 'bar_index': 99}
2025-10-04 03:36:58,829 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.702, 'bottom': 3874.123, 'bar_index': 105}
2025-10-04 03:36:58,829 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.733, 'bottom': 3879.22, 'bar_index': 112}
2025-10-04 03:36:58,829 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.625, 'bottom': 3880.942, 'bar_index': 123}
2025-10-04 03:36:58,830 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.202, 'bottom': 3880.541, 'bar_index': 124}
2025-10-04 03:36:58,830 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3885.241, 'bottom': 3881.17, 'bar_index': 141}
2025-10-04 03:36:58,831 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3882.461, 'bottom': 3877.896, 'bar_index': 143}
2025-10-04 03:36:58,831 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}
2025-10-04 03:36:58,831 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}
2025-10-04 03:36:58,832 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}
2025-10-04 03:36:58,832 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}]
2025-10-04 03:36:58,833 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M5 đã được tính.
2025-10-04 03:36:58,833 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 180 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:36:58,834 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:36:58,835 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:36:58,835 - src.utils.mt5_utils - DEBUG - MSS cho M5 đã được tính.
2025-10-04 03:36:58,835 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:36:58,836 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.619
2025-10-04 03:36:58,836 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.222
2025-10-04 03:36:58,847 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:36:58,848 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.765
2025-10-04 03:36:58,849 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.268
2025-10-04 03:36:58,849 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.256
2025-10-04 03:36:58,850 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.93
2025-10-04 03:36:58,850 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:36:58,850 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.607
2025-10-04 03:36:58,850 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.443
2025-10-04 03:36:58,851 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.378
2025-10-04 03:36:58,851 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.098
2025-10-04 03:36:58,851 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.201
2025-10-04 03:36:58,852 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:36:58,852 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.204
2025-10-04 03:36:58,853 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.989
2025-10-04 03:36:58,853 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.087
2025-10-04 03:36:58,853 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.291
2025-10-04 03:36:58,854 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:36:58,854 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3887.541
2025-10-04 03:36:58,854 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.413
2025-10-04 03:36:58,854 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.942
2025-10-04 03:36:58,855 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.384
2025-10-04 03:36:58,855 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.35
2025-10-04 03:36:58,855 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:36:58,856 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.014
2025-10-04 03:36:58,856 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.179
2025-10-04 03:36:58,856 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.902
2025-10-04 03:36:58,857 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:36:58,857 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.942
2025-10-04 03:36:58,857 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:36:58,858 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.103
2025-10-04 03:36:58,858 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.859
2025-10-04 03:36:58,858 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.29
2025-10-04 03:36:58,858 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.755
2025-10-04 03:36:58,859 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.023
2025-10-04 03:36:58,859 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.154
2025-10-04 03:36:58,859 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.079
2025-10-04 03:36:58,860 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.142
2025-10-04 03:36:58,860 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.8
2025-10-04 03:36:58,860 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.876
2025-10-04 03:36:58,860 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.634
2025-10-04 03:36:58,861 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.689
2025-10-04 03:36:58,861 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.259
2025-10-04 03:36:58,861 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.227
2025-10-04 03:36:58,862 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.176
2025-10-04 03:36:58,862 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.077
2025-10-04 03:36:58,862 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.111
2025-10-04 03:36:58,863 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:36:58,863 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.739
2025-10-04 03:36:58,864 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.335
2025-10-04 03:36:58,864 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.539
2025-10-04 03:36:58,864 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:36:58,864 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.647
2025-10-04 03:36:58,865 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.692
2025-10-04 03:36:58,865 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.989
2025-10-04 03:36:58,866 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.106
2025-10-04 03:36:58,866 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.259
2025-10-04 03:36:58,867 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.124
2025-10-04 03:36:58,867 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.332
2025-10-04 03:36:58,868 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.136
2025-10-04 03:36:58,879 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.321
2025-10-04 03:36:58,879 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.003
2025-10-04 03:36:58,880 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.225
2025-10-04 03:36:58,880 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:36:58,881 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M1: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:36:58,881 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:36:58,882 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7}
2025-10-04 03:36:58,882 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12}
2025-10-04 03:36:58,883 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13}
2025-10-04 03:36:58,883 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37}
2025-10-04 03:36:58,883 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49}
2025-10-04 03:36:58,884 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51}
2025-10-04 03:36:58,884 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58}
2025-10-04 03:36:58,885 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64}
2025-10-04 03:36:58,885 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76}
2025-10-04 03:36:58,885 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87}
2025-10-04 03:36:58,886 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94}
2025-10-04 03:36:58,886 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95}
2025-10-04 03:36:58,886 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:36:58,887 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:36:58,887 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7} đã được fill.
2025-10-04 03:36:58,887 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12} đã được fill.
2025-10-04 03:36:58,888 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13} đã được fill.
2025-10-04 03:36:58,888 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37} đã được fill.
2025-10-04 03:36:58,888 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49} đã được fill.
2025-10-04 03:36:58,889 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51} đã được fill.
2025-10-04 03:36:58,889 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58} đã được fill.
2025-10-04 03:36:58,889 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64} đã được fill.
2025-10-04 03:36:58,889 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76} đã được fill.
2025-10-04 03:36:58,890 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87} đã được fill.
2025-10-04 03:36:58,891 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94} đã được fill.
2025-10-04 03:36:58,891 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95} đã được fill.
2025-10-04 03:36:58,891 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:36:58,892 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:36:58,892 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}
2025-10-04 03:36:58,892 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}]
2025-10-04 03:36:58,892 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:36:58,893 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}
2025-10-04 03:36:58,893 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3884.99, 'bottom': 3884.601, 'bar_index': 108}
2025-10-04 03:36:58,893 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3883.629, 'bottom': 3882.907, 'bar_index': 95}
2025-10-04 03:36:58,894 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}
2025-10-04 03:36:58,894 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}]
2025-10-04 03:36:58,894 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:36:58,895 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3889.197, 'range_low': 3882.907, 'equilibrium': 3886.052, 'status': 'Premium'}
2025-10-04 03:36:58,895 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:36:58,896 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.089, 'bottom': 3884.19, 'bar_index': -24}
2025-10-04 03:36:58,898 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.116, 'bottom': 3886.654, 'bar_index': -18}
2025-10-04 03:36:58,898 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.074, 'bottom': 3886.291, 'bar_index': 5}
2025-10-04 03:36:58,899 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.175, 'bottom': 3886.941, 'bar_index': 6}
2025-10-04 03:36:58,899 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.915, 'bottom': 3886.012, 'bar_index': 20}
2025-10-04 03:36:58,900 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.29, 'bottom': 3885.292, 'bar_index': 33}
2025-10-04 03:36:58,913 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3887.079, 'bottom': 3886.283, 'bar_index': 40}
2025-10-04 03:36:58,913 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.074, 'bottom': 3884.806, 'bar_index': 45}
2025-10-04 03:36:58,914 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.334, 'bottom': 3883.739, 'bar_index': 58}
2025-10-04 03:36:58,914 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}
2025-10-04 03:36:58,914 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}
2025-10-04 03:36:58,915 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}
2025-10-04 03:36:58,915 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}]
2025-10-04 03:36:58,916 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M1 đã được tính.
2025-10-04 03:36:58,916 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:36:58,916 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:36:58,917 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:36:58,917 - src.utils.mt5_utils - DEBUG - MSS cho M1 đã được tính.
2025-10-04 03:36:58,918 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:36:58,918 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:36:58,918 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:36:58,919 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:36:58,919 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:36:58,920 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:36:58,920 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:36:58,920 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:36:58,921 - src.utils.mt5_utils - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-04 03:36:58,921 - src.utils.safe_data - DEBUG - Khởi tạo SafeMT5Data với data có: True
2025-10-04 03:36:58,921 - src.utils.mt5_utils - DEBUG - Đã tạo SafeMT5Data object.
2025-10-04 03:36:58,922 - src.utils.mt5_utils - DEBUG - Kết thúc build_context.
2025-10-04 03:36:58,922 - src.utils.mt5_utils - DEBUG - Kết thúc build_context_from_app.
2025-10-04 03:36:58,923 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:36:58,923 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:36:58,923 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:36:58,924 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:36:58,924 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:36:58,924 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:36:58,925 - src.core.context_builder - DEBUG - Đã xây dựng MT5 context lite.
2025-10-04 03:36:58,925 - src.core.context_builder - DEBUG - Đã xây dựng MT5 flags.
2025-10-04 03:36:58,925 - src.core.context_builder - DEBUG - Bắt đầu hàm images_tf_map với 4 tên ảnh.
2025-10-04 03:36:58,926 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_H1.png.
2025-10-04 03:36:58,926 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_H1.png
2025-10-04 03:36:58,927 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern '(?<![a-z0-9])(?:h1|1h)(?![a-z0-9])'.
2025-10-04 03:36:58,927 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:36:58,929 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_H1.png': H1
2025-10-04 03:36:58,930 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M1.png.
2025-10-04 03:36:58,930 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M1.png
2025-10-04 03:36:58,931 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern '(?<![a-z0-9])(?:m1|1m)(?![a-z0-9])'.
2025-10-04 03:36:58,931 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:36:58,945 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M1.png': M1
2025-10-04 03:36:58,945 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M15.png.
2025-10-04 03:36:58,946 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M15.png
2025-10-04 03:36:58,947 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern '(?<![a-z0-9])(?:m15|15m)(?![a-z0-9])'.
2025-10-04 03:36:58,948 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:36:58,948 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M15.png': M15
2025-10-04 03:36:58,948 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M5.png.
2025-10-04 03:36:58,949 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M5.png
2025-10-04 03:36:58,949 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern '(?<![a-z0-9])(?:m5|5m)(?![a-z0-9])'.
2025-10-04 03:36:58,949 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:36:58,950 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M5.png': M5
2025-10-04 03:36:58,950 - src.core.context_builder - DEBUG - Kết thúc hàm images_tf_map.
2025-10-04 03:36:58,950 - src.core.context_builder - DEBUG - Bắt đầu hàm folder_signature với 4 tên ảnh.
2025-10-04 03:36:58,951 - src.core.context_builder - DEBUG - Đã tạo folder signature: sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1
2025-10-04 03:36:58,951 - src.core.context_builder - DEBUG - Kết thúc hàm folder_signature.
2025-10-04 03:36:58,951 - src.core.context_builder - DEBUG - Đã tạo run_meta: {'analysis_id': '2025-10-04T03:36:58Z', 'folder_signature': 'sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1', 'images_tf_map': {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}}
2025-10-04 03:36:58,952 - src.core.context_builder - DEBUG - Checklist pass ratio: None
2025-10-04 03:36:58,952 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:36:58,953 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:36:58,954 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:36:58,954 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:36:58,954 - src.core.context_builder - DEBUG - Bắt đầu hàm parse_proposed_trades_file từ thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:36:58,955 - src.core.context_builder - DEBUG - File log C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\proposed_trades.jsonl không tồn tại.
2025-10-04 03:36:58,955 - src.core.backtester - DEBUG - Bắt đầu hàm evaluate_trade_outcomes cho symbol: XAUUSD, số trades: 0
2025-10-04 03:36:58,955 - src.core.backtester - WARNING - Không có trades được đề xuất hoặc MT5 không kết nối.
2025-10-04 03:36:58,956 - src.core.backtester - DEBUG - Kết thúc hàm evaluate_trade_outcomes (không có trades hoặc MT5 không kết nối).
2025-10-04 03:36:58,956 - src.core.context_builder - DEBUG - Backtest results: {'summary': {'total_proposed': 0, 'wins': 0, 'losses': 0, 'untriggered': 0, 'win_rate': None}}
2025-10-04 03:36:58,956 - src.core.context_builder - DEBUG - Running stats: {'checklist_pass_ratio': None, 'backtest_results': {'summary': {'total_proposed': 0, 'wins': 0, 'losses': 0, 'untriggered': 0, 'win_rate': None}}, 'median_spread': None, 'median_ticks_per_min': None}
2025-10-04 03:36:58,956 - src.core.context_builder - DEBUG - Risk rules: {'max_risk_per_trade_pct': 1.0, 'daily_loss_limit_pct': 3.0, 'max_trades_per_day': 3, 'allowed_killzones': ['london', 'newyork_pre', 'newyork_post'], 'news_blackout_min_before_after': 15}
2025-10-04 03:36:58,957 - src.core.context_builder - DEBUG - Đã tạo composed context.
2025-10-04 03:36:58,957 - src.core.context_builder - DEBUG - MT5 full data có sẵn, bắt đầu vectorization và similarity search.
2025-10-04 03:36:58,957 - src.core.vectorizer - DEBUG - Bắt đầu hàm vectorize_market_state.
2025-10-04 03:36:58,958 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['pip'], default: {}
2025-10-04 03:36:58,958 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}
2025-10-04 03:36:58,959 - src.core.vectorizer - DEBUG - Pip size: 0.1
2025-10-04 03:36:58,960 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['volatility', 'ATR', 'M5'], default: 0.0
2025-10-04 03:36:58,961 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 1.798255272271771
2025-10-04 03:36:58,964 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['volatility', 'ATR', 'H1'], default: 0.0
2025-10-04 03:36:58,966 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 11.031559707039294
2025-10-04 03:36:58,967 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['info', 'spread_current'], default: 0.0
2025-10-04 03:36:58,968 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 37
2025-10-04 03:36:58,972 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['tick_stats_5m', 'ticks_per_min'], default: 0
2025-10-04 03:36:58,974 - src.core.vectorizer - DEBUG - Key 'ticks_per_min' không tìm thấy hoặc d không phải dict. Trả về default.
2025-10-04 03:36:58,975 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested (key không tìm thấy).
2025-10-04 03:36:58,975 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['position_in_day_range'], default: 0.5
2025-10-04 03:36:58,976 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 0.8700959919813936
2025-10-04 03:36:58,976 - src.core.vectorizer - DEBUG - Raw features (part 1): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936]
2025-10-04 03:36:58,976 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['key_levels_nearby'], default: []
2025-10-04 03:36:58,977 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:36:58,977 - src.core.vectorizer - DEBUG - Raw features (part 2 - key levels): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936, 10108.999999999924, 67710.00000000003, 28800.500000000284]
2025-10-04 03:36:58,978 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['trend_refs', 'EMA', 'M5'], default: {}
2025-10-04 03:36:58,978 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}
2025-10-04 03:36:58,978 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['trend_refs', 'EMA', 'H1'], default: {}
2025-10-04 03:36:58,979 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}
2025-10-04 03:36:58,979 - src.core.vectorizer - DEBUG - Raw features (part 3 - EMAs): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936, 10108.999999999924, 67710.00000000003, 28800.500000000284, 106.20206908890395, 352.668318201745]
2025-10-04 03:36:58,980 - src.core.vectorizer - DEBUG - Vector trước khi xử lý NaN/inf: [[1.7982553e+01 1.1031560e+02 3.7000000e+01 0.0000000e+00 8.7009597e-01
  1.0109000e+04 6.7710000e+04 2.8800500e+04 1.0620207e+02 3.5266830e+02]]
2025-10-04 03:36:58,981 - src.core.vectorizer - DEBUG - Vector sau khi xử lý NaN/inf: [[1.7982553e+01 1.1031560e+02 3.7000000e+01 0.0000000e+00 8.7009597e-01
  1.0109000e+04 6.7710000e+04 2.8800500e+04 1.0620207e+02 3.5266830e+02]]
2025-10-04 03:36:58,983 - src.core.vectorizer - DEBUG - Normalized vector: [[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]]
2025-10-04 03:36:58,983 - src.core.vectorizer - DEBUG - Kết thúc vectorize_market_state. Vector: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
2025-10-04 03:36:58,984 - src.core.context_builder - DEBUG - Đã vectorize market state.
2025-10-04 03:36:58,984 - src.core.context_builder - DEBUG - Đã thêm similar_past_scenarios vào composed context.
2025-10-04 03:36:58,985 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'cycle', 'session', 'trend_checklist', 'latest_plan', 'latest_summary_lines', 'recent_history_summary', 'run_meta', 'running_stats', 'risk_rules', 'environment_flags', 'mt5', 'mt5_lite', 'similar_past_scenarios']).
2025-10-04 03:36:58,985 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'cycle', 'session', 'trend_checklist', 'latest_plan', 'latest_summary_lines', 'recent_history_summary', 'run_meta', 'running_stats', 'risk_rules', 'environment_flags', 'mt5', 'mt5_lite', 'similar_past_scenarios']), folder_override: XAUUSD.
2025-10-04 03:36:58,985 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: run-start, Folder override: XAUUSD
2025-10-04 03:36:59,016 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:36:59,016 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:36:59,017 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:36:59,017 - src.core.context_builder - DEBUG - Đã log decision start.
2025-10-04 03:36:59,018 - src.core.context_builder - DEBUG - Kích thước context ban đầu: 9134 ký tự.
2025-10-04 03:36:59,019 - src.core.context_builder - DEBUG - Bắt đầu slimming context.
2025-10-04 03:36:59,019 - src.core.context_builder - DEBUG - Đã xóa full MT5 object. Kích thước mới: 1401 ký tự.
2025-10-04 03:36:59,020 - src.core.app_logic - DEBUG - Kết thúc hàm _do_compose.
2025-10-04 03:36:59,020 - src.core.app_logic - DEBUG - Kết thúc compose_context.
2025-10-04 03:36:59,023 - src.core.worker_modules.context_coordinator - DEBUG - Đã trích xuất plan từ composed context: {'direction': None}
2025-10-04 03:36:59,023 - src.core.worker_modules.context_coordinator - DEBUG - Đã xây dựng context_block.
2025-10-04 03:36:59,036 - src.ui.app_ui - DEBUG - Gọi mt5_utils.build_context_from_app từ UI.
2025-10-04 03:36:59,036 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context_from_app.
2025-10-04 03:36:59,037 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-04 03:36:59,037 - src.utils.mt5_utils - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-04 03:36:59,038 - src.utils.mt5_utils - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-04 03:36:59,038 - src.utils.mt5_utils - DEBUG - Current price (cp): 3887.107
2025-10-04 03:36:59,039 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-04 03:36:59,039 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-04 03:36:59,039 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-04 03:36:59,042 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-04 03:36:59,042 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:36:59,042 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-04 03:36:59,045 - src.utils.mt5_utils - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-04 03:36:59,045 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:36:59,045 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-04 03:36:59,047 - src.utils.mt5_utils - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-04 03:36:59,047 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:36:59,048 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-04 03:36:59,050 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-04 03:36:59,050 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:36:59,050 - src.utils.mt5_utils - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-04 03:36:59,050 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-04 03:36:59,051 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:36:59,051 - src.utils.mt5_utils - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:36:59,051 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-04 03:36:59,052 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-04 03:36:59,054 - src.utils.mt5_utils - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-04 03:36:59,055 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-04 03:36:59,055 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:36:59,057 - src.utils.mt5_utils - DEBUG - Đã lấy higher timeframe levels.
2025-10-04 03:36:59,067 - src.utils.mt5_utils - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-04 03:36:59,068 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-04 03:36:59,069 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:59,069 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:59.069750+07:00
2025-10-04 03:36:59,070 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:59.069750+07:00
2025-10-04 03:36:59,070 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:59.069750+07:00 trong DST: True
2025-10-04 03:36:59,070 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:59,071 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:59,071 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:59,071 - src.core.ict_analysis - DEBUG - Bắt đầu hàm get_session_liquidity với 96 rates, sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, now_hhmm: 10:36
2025-10-04 03:36:59,072 - src.core.ict_analysis - DEBUG - Kết thúc hàm get_session_liquidity. Kết quả: {}
2025-10-04 03:36:59,073 - src.utils.mt5_utils - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-04 03:36:59,073 - src.utils.mt5_utils - DEBUG - Rates trống, không thể tính VWAP.
2025-10-04 03:36:59,077 - src.utils.mt5_utils - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-04 03:36:59,077 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:36:59,077 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-04 03:36:59,078 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:36:59,078 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-04 03:36:59,079 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-04 03:36:59,079 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-04 03:36:59,079 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-04 03:36:59,080 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-04 03:36:59,080 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-04 03:36:59,080 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-04 03:36:59,081 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-04 03:36:59,081 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-04 03:36:59,081 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:36:59,082 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-04 03:36:59,082 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:36:59,082 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-04 03:36:59,083 - src.utils.mt5_utils - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-04 03:36:59,085 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-04 03:36:59,086 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-04 03:36:59,086 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:36:59,086 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-04 03:36:59,098 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-04 03:36:59,099 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-04 03:36:59,100 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:36:59,101 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-04 03:36:59,101 - src.utils.mt5_utils - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-04 03:36:59,101 - src.utils.mt5_utils - DEBUG - Volatility regime: trending
2025-10-04 03:36:59,102 - src.utils.mt5_utils - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:36:59,102 - src.utils.mt5_utils - DEBUG - Thêm PDH: 3897.216
2025-10-04 03:36:59,103 - src.utils.mt5_utils - DEBUG - Thêm PDL: 3819.397
2025-10-04 03:36:59,103 - src.utils.mt5_utils - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-04 03:36:59,104 - src.utils.mt5_utils - DEBUG - Thêm DO: 3863.536
2025-10-04 03:36:59,104 - src.utils.mt5_utils - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-04 03:36:59,105 - src.utils.mt5_utils - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-04 03:36:59,105 - src.utils.mt5_utils - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-04 03:36:59,106 - src.utils.mt5_utils - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-04 03:36:59,106 - src.utils.mt5_utils - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-04 03:36:59,106 - src.utils.mt5_utils - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:36:59,107 - src.utils.mt5_utils - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-04 03:36:59,107 - src.utils.mt5_utils - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-04 03:36:59,108 - src.utils.mt5_utils - DEBUG - Prev day close: 3862.472
2025-10-04 03:36:59,108 - src.utils.mt5_utils - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-04 03:36:59,108 - src.utils.mt5_utils - DEBUG - Position in day range: 0.8700959919813936
2025-10-04 03:36:59,109 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:59,109 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:59.109749+07:00
2025-10-04 03:36:59,110 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:59.109749+07:00
2025-10-04 03:36:59,110 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:59.109749+07:00 trong DST: True
2025-10-04 03:36:59,110 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:59,111 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:59,111 - src.core.ict_analysis - DEBUG - Bắt đầu hàm is_silver_bullet_window với now_hhmm: 10:36, kills: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:59,111 - src.core.ict_analysis - DEBUG - Không nằm trong cửa sổ Silver Bullet.
2025-10-04 03:36:59,112 - src.core.ict_analysis - DEBUG - Kết thúc hàm is_silver_bullet_window.
2025-10-04 03:36:59,112 - src.utils.mt5_utils - DEBUG - Killzone active: None, Mins to next killzone: 204
2025-10-04 03:36:59,112 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:36:59,113 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:36:59,113 - src.utils.mt5_utils - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-04 03:36:59,114 - src.utils.mt5_utils - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-04 03:36:59,114 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:36:59,114 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:36:59,115 - src.utils.mt5_utils - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-04 03:36:59,116 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:36:59,117 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3783.265
2025-10-04 03:36:59,117 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3760.112
2025-10-04 03:36:59,117 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3763.997
2025-10-04 03:36:59,118 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.936
2025-10-04 03:36:59,118 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3805.069
2025-10-04 03:36:59,119 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.812
2025-10-04 03:36:59,119 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3806.56
2025-10-04 03:36:59,120 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3831.428
2025-10-04 03:36:59,120 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3809.251
2025-10-04 03:36:59,120 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3833.647
2025-10-04 03:36:59,120 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3822.667
2025-10-04 03:36:59,121 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3834.062
2025-10-04 03:36:59,121 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3825.688
2025-10-04 03:36:59,121 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.242
2025-10-04 03:36:59,122 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.761
2025-10-04 03:36:59,122 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3793.174
2025-10-04 03:36:59,122 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3854.604
2025-10-04 03:36:59,123 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3849.372
2025-10-04 03:36:59,123 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3839.717
2025-10-04 03:36:59,123 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.87
2025-10-04 03:36:59,124 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.622
2025-10-04 03:36:59,125 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.624
2025-10-04 03:36:59,136 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.576
2025-10-04 03:36:59,137 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.937
2025-10-04 03:36:59,138 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3853.395
2025-10-04 03:36:59,138 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3895.417
2025-10-04 03:36:59,138 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.184
2025-10-04 03:36:59,139 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3878.867
2025-10-04 03:36:59,139 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.227
2025-10-04 03:36:59,139 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.948
2025-10-04 03:36:59,140 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.93
2025-10-04 03:36:59,140 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.062
2025-10-04 03:36:59,141 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.894
2025-10-04 03:36:59,141 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3870.082
2025-10-04 03:36:59,142 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.861
2025-10-04 03:36:59,142 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.758
2025-10-04 03:36:59,142 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3897.216
2025-10-04 03:36:59,142 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3819.397
2025-10-04 03:36:59,143 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.415
2025-10-04 03:36:59,143 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:36:59,143 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:36:59,144 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:36:59,144 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:36:59,144 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:36:59,145 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:36:59,145 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:36:59,145 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:36:59,145 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:36:59,146 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:36:59,146 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:36:59,147 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:36:59,148 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:36:59,148 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:36:59,149 - src.utils.mt5_utils - DEBUG - Liquidity levels cho H1: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:36:59,149 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:36:59,159 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4}
2025-10-04 03:36:59,161 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:36:59,161 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12}
2025-10-04 03:36:59,162 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13}
2025-10-04 03:36:59,162 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31}
2025-10-04 03:36:59,162 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32}
2025-10-04 03:36:59,163 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34}
2025-10-04 03:36:59,163 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37}
2025-10-04 03:36:59,163 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38}
2025-10-04 03:36:59,164 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39}
2025-10-04 03:36:59,164 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45}
2025-10-04 03:36:59,164 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50}
2025-10-04 03:36:59,165 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61}
2025-10-04 03:36:59,165 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62}
2025-10-04 03:36:59,165 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66}
2025-10-04 03:36:59,166 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90}
2025-10-04 03:36:59,166 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91}
2025-10-04 03:36:59,167 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95}
2025-10-04 03:36:59,167 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96}
2025-10-04 03:36:59,167 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:36:59,168 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112}
2025-10-04 03:36:59,168 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4} đã được fill.
2025-10-04 03:36:59,168 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:36:59,169 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12} đã được fill.
2025-10-04 03:36:59,169 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13} đã được fill.
2025-10-04 03:36:59,169 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31} đã được fill.
2025-10-04 03:36:59,170 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32} đã được fill.
2025-10-04 03:36:59,170 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34} đã được fill.
2025-10-04 03:36:59,170 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37} đã được fill.
2025-10-04 03:36:59,171 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38} đã được fill.
2025-10-04 03:36:59,171 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39} đã được fill.
2025-10-04 03:36:59,172 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45} đã được fill.
2025-10-04 03:36:59,172 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50} đã được fill.
2025-10-04 03:36:59,172 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61} đã được fill.
2025-10-04 03:36:59,173 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62} đã được fill.
2025-10-04 03:36:59,173 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66} đã được fill.
2025-10-04 03:36:59,173 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90} đã được fill.
2025-10-04 03:36:59,174 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91} đã được fill.
2025-10-04 03:36:59,174 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95} đã được fill.
2025-10-04 03:36:59,174 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96} đã được fill.
2025-10-04 03:36:59,175 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:36:59,175 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112} đã được fill.
2025-10-04 03:36:59,175 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}
2025-10-04 03:36:59,176 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}]
2025-10-04 03:36:59,176 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:36:59,177 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}
2025-10-04 03:36:59,178 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3867.201, 'bottom': 3854.751, 'bar_index': 110}
2025-10-04 03:36:59,178 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3844.879, 'bottom': 3819.397, 'bar_index': 91}
2025-10-04 03:36:59,179 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}
2025-10-04 03:36:59,179 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}]
2025-10-04 03:36:59,180 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:36:59,184 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3897.216, 'range_low': 3760.112, 'equilibrium': 3828.6639999999998, 'status': 'Premium'}
2025-10-04 03:36:59,190 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:36:59,190 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3778.612, 'bottom': 3764.679, 'bar_index': -27}
2025-10-04 03:36:59,191 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3787.543, 'bottom': 3763.997, 'bar_index': -23}
2025-10-04 03:36:59,191 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3819.611, 'bottom': 3806.443, 'bar_index': -15}
2025-10-04 03:36:59,191 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3818.552, 'bottom': 3806.56, 'bar_index': -13}
2025-10-04 03:36:59,192 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.722, 'bottom': 3838.031, 'bar_index': 1}
2025-10-04 03:36:59,192 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3867.242, 'bottom': 3845.851, 'bar_index': 3}
2025-10-04 03:36:59,192 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3871.761, 'bottom': 3854.92, 'bar_index': 6}
2025-10-04 03:36:59,193 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3814.639, 'bottom': 3798.264, 'bar_index': 10}
2025-10-04 03:36:59,193 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3854.604, 'bottom': 3820.442, 'bar_index': 14}
2025-10-04 03:36:59,193 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3860.87, 'bottom': 3847.177, 'bar_index': 19}
2025-10-04 03:36:59,194 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.941, 'bottom': 3858.997, 'bar_index': 30}
2025-10-04 03:36:59,194 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3865.226, 'bottom': 3852.894, 'bar_index': 47}
2025-10-04 03:36:59,195 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.858, 'bottom': 3873.413, 'bar_index': 55}
2025-10-04 03:36:59,195 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3845.401, 'bottom': 3827.234, 'bar_index': 62}
2025-10-04 03:36:59,195 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}
2025-10-04 03:36:59,196 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}
2025-10-04 03:36:59,196 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}
2025-10-04 03:36:59,197 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}]
2025-10-04 03:36:59,197 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho H1 đã được tính.
2025-10-04 03:36:59,198 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:36:59,198 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:36:59,198 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:36:59,198 - src.utils.mt5_utils - DEBUG - MSS cho H1 đã được tính.
2025-10-04 03:36:59,199 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 96 rates, lookback: 200
2025-10-04 03:36:59,199 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3858.531
2025-10-04 03:36:59,199 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:36:59,200 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.878
2025-10-04 03:36:59,200 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:36:59,200 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.326
2025-10-04 03:36:59,200 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3862.684
2025-10-04 03:36:59,201 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:36:59,201 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.953
2025-10-04 03:36:59,201 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:36:59,202 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3848.355
2025-10-04 03:36:59,202 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3843.125
2025-10-04 03:36:59,203 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3850.904
2025-10-04 03:36:59,203 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:36:59,203 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:36:59,204 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:36:59,204 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:36:59,204 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:36:59,205 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:36:59,205 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:36:59,206 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:36:59,206 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:36:59,206 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:36:59,207 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:36:59,207 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:36:59,208 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:36:59,208 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:36:59,208 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:36:59,209 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:36:59,210 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:36:59,211 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:36:59,212 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:36:59,221 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:36:59,222 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:36:59,223 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:36:59,223 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:36:59,223 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:36:59,224 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:36:59,224 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:36:59,224 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:36:59,225 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:36:59,225 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M15: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:36:59,226 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 96 rates, current_price: 3887.107
2025-10-04 03:36:59,226 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3}
2025-10-04 03:36:59,226 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7}
2025-10-04 03:36:59,226 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11}
2025-10-04 03:36:59,227 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23}
2025-10-04 03:36:59,227 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26}
2025-10-04 03:36:59,228 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:36:59,228 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:36:59,228 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42}
2025-10-04 03:36:59,229 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52}
2025-10-04 03:36:59,229 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57}
2025-10-04 03:36:59,229 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58}
2025-10-04 03:36:59,230 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:36:59,230 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65}
2025-10-04 03:36:59,230 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69}
2025-10-04 03:36:59,231 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74}
2025-10-04 03:36:59,231 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3} đã được fill.
2025-10-04 03:36:59,232 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7} đã được fill.
2025-10-04 03:36:59,232 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11} đã được fill.
2025-10-04 03:36:59,232 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23} đã được fill.
2025-10-04 03:36:59,233 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26} đã được fill.
2025-10-04 03:36:59,233 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:36:59,233 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:36:59,234 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42} đã được fill.
2025-10-04 03:36:59,234 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52} đã được fill.
2025-10-04 03:36:59,234 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57} đã được fill.
2025-10-04 03:36:59,235 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58} đã được fill.
2025-10-04 03:36:59,235 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:36:59,235 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65} đã được fill.
2025-10-04 03:36:59,236 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69} đã được fill.
2025-10-04 03:36:59,236 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74} đã được fill.
2025-10-04 03:36:59,236 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}
2025-10-04 03:36:59,237 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}]
2025-10-04 03:36:59,237 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 96 rates, lookback: 100
2025-10-04 03:36:59,237 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}
2025-10-04 03:36:59,238 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}
2025-10-04 03:36:59,238 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3845.326, 'bottom': 3843.359, 'bar_index': 27}
2025-10-04 03:36:59,238 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}
2025-10-04 03:36:59,239 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}
2025-10-04 03:36:59,239 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}, {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}]
2025-10-04 03:36:59,240 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 96 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:36:59,241 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3838.081, 'equilibrium': 3864.906, 'status': 'Premium'}
2025-10-04 03:36:59,241 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 96 rates, lookback: 150
2025-10-04 03:36:59,242 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3858.046, 'bottom': 3854.205, 'bar_index': -48}
2025-10-04 03:36:59,242 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3855.466, 'bottom': 3849.361, 'bar_index': -32}
2025-10-04 03:36:59,243 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3848.913, 'bottom': 3839.835, 'bar_index': -29}
2025-10-04 03:36:59,254 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.766, 'bottom': 3843.897, 'bar_index': -22}
2025-10-04 03:36:59,255 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3863.085, 'bottom': 3857.792, 'bar_index': -13}
2025-10-04 03:36:59,255 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3862.923, 'bar_index': 8}
2025-10-04 03:36:59,255 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}
2025-10-04 03:36:59,256 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}
2025-10-04 03:36:59,256 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}
2025-10-04 03:36:59,257 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}]
2025-10-04 03:36:59,257 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M15 đã được tính.
2025-10-04 03:36:59,258 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 96 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:36:59,258 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:36:59,259 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:36:59,259 - src.utils.mt5_utils - DEBUG - MSS cho M15 đã được tính.
2025-10-04 03:36:59,260 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 180 rates, lookback: 200
2025-10-04 03:36:59,260 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:36:59,260 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.693
2025-10-04 03:36:59,261 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.917
2025-10-04 03:36:59,261 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:36:59,261 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.034
2025-10-04 03:36:59,261 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.033
2025-10-04 03:36:59,262 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.397
2025-10-04 03:36:59,262 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:36:59,262 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.323
2025-10-04 03:36:59,262 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.323
2025-10-04 03:36:59,263 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:36:59,263 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:36:59,264 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.587
2025-10-04 03:36:59,264 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.799
2025-10-04 03:36:59,264 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.325
2025-10-04 03:36:59,265 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.674
2025-10-04 03:36:59,265 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:36:59,265 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.889
2025-10-04 03:36:59,266 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:36:59,266 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.764
2025-10-04 03:36:59,266 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.914
2025-10-04 03:36:59,266 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.651
2025-10-04 03:36:59,267 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.875
2025-10-04 03:36:59,267 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3866.346
2025-10-04 03:36:59,267 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.433
2025-10-04 03:36:59,268 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:36:59,268 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.632
2025-10-04 03:36:59,268 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.646
2025-10-04 03:36:59,268 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:36:59,269 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.432
2025-10-04 03:36:59,269 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.573
2025-10-04 03:36:59,269 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.856
2025-10-04 03:36:59,270 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:36:59,270 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.152
2025-10-04 03:36:59,271 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:36:59,271 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.067
2025-10-04 03:36:59,272 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.802
2025-10-04 03:36:59,272 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.218
2025-10-04 03:36:59,272 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:36:59,273 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.209
2025-10-04 03:36:59,273 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.578
2025-10-04 03:36:59,273 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.963
2025-10-04 03:36:59,274 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3870.06
2025-10-04 03:36:59,274 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.583
2025-10-04 03:36:59,274 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:36:59,276 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:36:59,287 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.355
2025-10-04 03:36:59,287 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.03
2025-10-04 03:36:59,288 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:36:59,288 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3880.206
2025-10-04 03:36:59,289 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.522
2025-10-04 03:36:59,289 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3881.461
2025-10-04 03:36:59,290 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3882.092
2025-10-04 03:36:59,290 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:36:59,290 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:36:59,291 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.454
2025-10-04 03:36:59,291 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.959
2025-10-04 03:36:59,291 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.056
2025-10-04 03:36:59,291 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:36:59,292 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.593
2025-10-04 03:36:59,292 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:36:59,292 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.221
2025-10-04 03:36:59,293 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.978
2025-10-04 03:36:59,293 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.364
2025-10-04 03:36:59,294 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:36:59,294 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.771
2025-10-04 03:36:59,294 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.794
2025-10-04 03:36:59,295 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:36:59,295 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3881.367
2025-10-04 03:36:59,295 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.794
2025-10-04 03:36:59,296 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.241
2025-10-04 03:36:59,296 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:36:59,296 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:36:59,297 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:36:59,297 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3883.496
2025-10-04 03:36:59,297 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:36:59,297 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3879.981
2025-10-04 03:36:59,298 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (9.48s < 300s), bỏ qua làm mới.
2025-10-04 03:36:59,298 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.183
2025-10-04 03:36:59,298 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:36:59,299 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:36:59,299 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:36:59,300 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.019
2025-10-04 03:36:59,300 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:36:59,300 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:36:59,301 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:36:59,301 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:36:59,302 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:36:59,303 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:36:59,304 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:59,304 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:36:59,304 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:59,305 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:36:59,306 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:36:59,306 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:36:59,306 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:36:59,307 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:36:59,307 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:36:59,308 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:36:59,310 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:36:59,311 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:36:59,330 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:36:59,330 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:36:59,331 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M5: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:36:59,332 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 180 rates, current_price: 3887.107
2025-10-04 03:36:59,342 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2}
2025-10-04 03:36:59,417 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17}
2025-10-04 03:36:59,458 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27}
2025-10-04 03:36:59,463 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37}
2025-10-04 03:36:59,487 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:36:59,487 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40}
2025-10-04 03:36:59,488 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:36:59,488 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47}
2025-10-04 03:36:59,489 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:36:59,489 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48}
2025-10-04 03:36:59,492 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56}
2025-10-04 03:36:59,496 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:36:59,501 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63}
2025-10-04 03:36:59,502 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:36:59,502 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64}
2025-10-04 03:36:59,503 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:36:59,503 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68}
2025-10-04 03:36:59,504 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:36:59,505 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70}
2025-10-04 03:36:59,506 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:36:59,506 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:36:59,507 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81}
2025-10-04 03:36:59,507 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:36:59,508 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87}
2025-10-04 03:36:59,508 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:36:59,508 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88}
2025-10-04 03:36:59,509 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:36:59,509 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89}
2025-10-04 03:36:59,510 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:36:59,510 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106}
2025-10-04 03:36:59,511 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113}
2025-10-04 03:36:59,511 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119}
2025-10-04 03:36:59,512 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123}
2025-10-04 03:36:59,512 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:36:59,512 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124}
2025-10-04 03:36:59,513 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:36:59,513 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135}
2025-10-04 03:36:59,513 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:36:59,514 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142}
2025-10-04 03:36:59,514 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:36:59,515 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149}
2025-10-04 03:36:59,515 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:36:59,515 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151}
2025-10-04 03:36:59,516 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:36:59,516 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155}
2025-10-04 03:36:59,517 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:36:59,517 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163}
2025-10-04 03:36:59,517 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:36:59,518 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171}
2025-10-04 03:36:59,518 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:36:59,518 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:36:59,519 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:36:59,519 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:36:59,519 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:36:59,520 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2} đã được fill.
2025-10-04 03:36:59,520 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:36:59,520 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17} đã được fill.
2025-10-04 03:36:59,521 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:36:59,522 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27} đã được fill.
2025-10-04 03:36:59,523 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:36:59.523241+07:00
2025-10-04 03:36:59,523 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37} đã được fill.
2025-10-04 03:36:59,524 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:36:59.523241+07:00
2025-10-04 03:36:59,524 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40} đã được fill.
2025-10-04 03:36:59,525 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:36:59.523241+07:00 trong DST: True
2025-10-04 03:36:59,534 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47} đã được fill.
2025-10-04 03:36:59,535 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:36:59,536 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48} đã được fill.
2025-10-04 03:36:59,536 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:36:59,536 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56} đã được fill.
2025-10-04 03:36:59,537 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:36:59,537 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63} đã được fill.
2025-10-04 03:36:59,537 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:59,538 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64} đã được fill.
2025-10-04 03:36:59,538 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:36:59,538 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68} đã được fill.
2025-10-04 03:36:59,539 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:36:59,539 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70} đã được fill.
2025-10-04 03:36:59,540 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:36:59,540 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:36:59,540 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:36:59,541 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81} đã được fill.
2025-10-04 03:36:59,541 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:36:59,541 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87} đã được fill.
2025-10-04 03:36:59,542 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:36:59,542 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88} đã được fill.
2025-10-04 03:36:59,543 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89} đã được fill.
2025-10-04 03:36:59,543 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:36:59,543 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106} đã được fill.
2025-10-04 03:36:59,544 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:36:59,544 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113} đã được fill.
2025-10-04 03:36:59,544 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:36:59,545 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119} đã được fill.
2025-10-04 03:36:59,545 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:36:59,545 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123} đã được fill.
2025-10-04 03:36:59,546 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:36:59,546 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124} đã được fill.
2025-10-04 03:36:59,547 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:36:59,547 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135} đã được fill.
2025-10-04 03:36:59,548 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:36:59,548 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142} đã được fill.
2025-10-04 03:36:59,548 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:36:59,549 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149} đã được fill.
2025-10-04 03:36:59,549 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151} đã được fill.
2025-10-04 03:36:59,549 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:36:59,550 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155} đã được fill.
2025-10-04 03:36:59,550 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:36:59,551 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163} đã được fill.
2025-10-04 03:36:59,551 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:36:59,551 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171} đã được fill.
2025-10-04 03:36:59,552 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:36:59,552 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:36:59,575 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:36:59,583 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}
2025-10-04 03:36:59,602 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}]
2025-10-04 03:36:59,603 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 180 rates, lookback: 100
2025-10-04 03:36:59,604 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}
2025-10-04 03:36:59,605 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}
2025-10-04 03:36:59,607 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}]
2025-10-04 03:36:59,608 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 180 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:36:59,609 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3850.904, 'equilibrium': 3871.3175, 'status': 'Premium'}
2025-10-04 03:36:59,610 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 180 rates, lookback: 150
2025-10-04 03:36:59,612 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3865.008, 'bottom': 3860.927, 'bar_index': 36}
2025-10-04 03:36:59,614 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3862.887, 'bottom': 3859.58, 'bar_index': 46}
2025-10-04 03:36:59,784 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3867.239, 'bar_index': 80}
2025-10-04 03:36:59,810 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3876.096, 'bottom': 3866.937, 'bar_index': 99}
2025-10-04 03:36:59,833 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.702, 'bottom': 3874.123, 'bar_index': 105}
2025-10-04 03:36:59,846 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.733, 'bottom': 3879.22, 'bar_index': 112}
2025-10-04 03:36:59,854 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.625, 'bottom': 3880.942, 'bar_index': 123}
2025-10-04 03:36:59,854 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.202, 'bottom': 3880.541, 'bar_index': 124}
2025-10-04 03:36:59,855 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3885.241, 'bottom': 3881.17, 'bar_index': 141}
2025-10-04 03:36:59,856 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3882.461, 'bottom': 3877.896, 'bar_index': 143}
2025-10-04 03:36:59,856 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}
2025-10-04 03:36:59,857 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}
2025-10-04 03:36:59,858 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}
2025-10-04 03:36:59,858 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}]
2025-10-04 03:36:59,859 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M5 đã được tính.
2025-10-04 03:36:59,859 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 180 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:36:59,860 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:36:59,860 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:36:59,860 - src.utils.mt5_utils - DEBUG - MSS cho M5 đã được tính.
2025-10-04 03:36:59,861 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:36:59,861 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.619
2025-10-04 03:36:59,862 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.222
2025-10-04 03:36:59,862 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:36:59,863 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.765
2025-10-04 03:36:59,864 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.268
2025-10-04 03:36:59,865 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.256
2025-10-04 03:36:59,871 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.93
2025-10-04 03:36:59,894 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:36:59,895 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.607
2025-10-04 03:36:59,922 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.443
2025-10-04 03:36:59,924 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.378
2025-10-04 03:36:59,925 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.098
2025-10-04 03:36:59,926 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.201
2025-10-04 03:36:59,926 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:36:59,926 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.204
2025-10-04 03:36:59,927 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.989
2025-10-04 03:36:59,927 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.087
2025-10-04 03:36:59,929 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.291
2025-10-04 03:36:59,929 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:36:59,930 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3887.541
2025-10-04 03:36:59,942 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.413
2025-10-04 03:36:59,943 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.942
2025-10-04 03:36:59,943 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.384
2025-10-04 03:36:59,944 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.35
2025-10-04 03:36:59,944 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:36:59,945 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.014
2025-10-04 03:36:59,945 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.179
2025-10-04 03:36:59,945 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.902
2025-10-04 03:36:59,946 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:36:59,946 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.942
2025-10-04 03:36:59,946 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:36:59,947 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.103
2025-10-04 03:36:59,947 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.859
2025-10-04 03:36:59,948 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.29
2025-10-04 03:36:59,948 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.755
2025-10-04 03:36:59,949 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.023
2025-10-04 03:36:59,949 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.154
2025-10-04 03:36:59,949 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.079
2025-10-04 03:36:59,950 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.142
2025-10-04 03:36:59,950 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.8
2025-10-04 03:36:59,950 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.876
2025-10-04 03:36:59,951 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.634
2025-10-04 03:36:59,951 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.689
2025-10-04 03:36:59,952 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.259
2025-10-04 03:36:59,952 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.227
2025-10-04 03:36:59,953 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.176
2025-10-04 03:36:59,953 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.077
2025-10-04 03:36:59,953 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.111
2025-10-04 03:36:59,953 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:36:59,954 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.739
2025-10-04 03:36:59,954 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.335
2025-10-04 03:36:59,955 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.539
2025-10-04 03:36:59,955 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:36:59,955 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.647
2025-10-04 03:36:59,955 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.692
2025-10-04 03:36:59,956 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.989
2025-10-04 03:36:59,956 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.106
2025-10-04 03:36:59,956 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.259
2025-10-04 03:36:59,957 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.124
2025-10-04 03:36:59,957 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.332
2025-10-04 03:36:59,958 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.136
2025-10-04 03:36:59,958 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.321
2025-10-04 03:36:59,959 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.003
2025-10-04 03:36:59,960 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.225
2025-10-04 03:36:59,960 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:36:59,961 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M1: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:36:59,967 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:36:59,973 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7}
2025-10-04 03:36:59,974 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12}
2025-10-04 03:36:59,975 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13}
2025-10-04 03:36:59,975 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37}
2025-10-04 03:36:59,976 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49}
2025-10-04 03:36:59,976 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51}
2025-10-04 03:36:59,977 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58}
2025-10-04 03:36:59,977 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64}
2025-10-04 03:36:59,977 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76}
2025-10-04 03:36:59,978 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87}
2025-10-04 03:36:59,978 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94}
2025-10-04 03:36:59,979 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95}
2025-10-04 03:36:59,979 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:36:59,980 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:36:59,980 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7} đã được fill.
2025-10-04 03:36:59,981 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12} đã được fill.
2025-10-04 03:36:59,981 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13} đã được fill.
2025-10-04 03:36:59,982 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37} đã được fill.
2025-10-04 03:36:59,982 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49} đã được fill.
2025-10-04 03:36:59,982 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51} đã được fill.
2025-10-04 03:36:59,983 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58} đã được fill.
2025-10-04 03:36:59,983 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64} đã được fill.
2025-10-04 03:36:59,983 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76} đã được fill.
2025-10-04 03:36:59,984 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87} đã được fill.
2025-10-04 03:36:59,984 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94} đã được fill.
2025-10-04 03:36:59,985 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95} đã được fill.
2025-10-04 03:36:59,985 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:36:59,985 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:36:59,985 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}
2025-10-04 03:36:59,986 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}]
2025-10-04 03:36:59,986 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:36:59,986 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}
2025-10-04 03:36:59,987 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3884.99, 'bottom': 3884.601, 'bar_index': 108}
2025-10-04 03:36:59,987 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3883.629, 'bottom': 3882.907, 'bar_index': 95}
2025-10-04 03:36:59,988 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}
2025-10-04 03:36:59,988 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}]
2025-10-04 03:36:59,989 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:36:59,989 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3889.197, 'range_low': 3882.907, 'equilibrium': 3886.052, 'status': 'Premium'}
2025-10-04 03:36:59,990 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:36:59,991 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.089, 'bottom': 3884.19, 'bar_index': -24}
2025-10-04 03:36:59,991 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.116, 'bottom': 3886.654, 'bar_index': -18}
2025-10-04 03:36:59,991 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.074, 'bottom': 3886.291, 'bar_index': 5}
2025-10-04 03:36:59,992 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.175, 'bottom': 3886.941, 'bar_index': 6}
2025-10-04 03:36:59,992 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.915, 'bottom': 3886.012, 'bar_index': 20}
2025-10-04 03:37:00,005 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.29, 'bottom': 3885.292, 'bar_index': 33}
2025-10-04 03:37:00,006 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3887.079, 'bottom': 3886.283, 'bar_index': 40}
2025-10-04 03:37:00,007 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.074, 'bottom': 3884.806, 'bar_index': 45}
2025-10-04 03:37:00,008 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.334, 'bottom': 3883.739, 'bar_index': 58}
2025-10-04 03:37:00,008 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}
2025-10-04 03:37:00,009 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}
2025-10-04 03:37:00,010 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}
2025-10-04 03:37:00,010 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}]
2025-10-04 03:37:00,011 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M1 đã được tính.
2025-10-04 03:37:00,013 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:37:00,013 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:37:00,013 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:37:00,014 - src.utils.mt5_utils - DEBUG - MSS cho M1 đã được tính.
2025-10-04 03:37:00,014 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:37:00,014 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:37:00,015 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:37:00,015 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:37:00,015 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:37:00,016 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:37:00,016 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:37:00,016 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:37:00,017 - src.utils.mt5_utils - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-04 03:37:00,017 - src.utils.safe_data - DEBUG - Khởi tạo SafeMT5Data với data có: True
2025-10-04 03:37:00,018 - src.utils.mt5_utils - DEBUG - Đã tạo SafeMT5Data object.
2025-10-04 03:37:00,018 - src.utils.mt5_utils - DEBUG - Kết thúc build_context.
2025-10-04 03:37:00,018 - src.utils.mt5_utils - DEBUG - Kết thúc build_context_from_app.
2025-10-04 03:37:00,019 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:37:00,019 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:37:00,020 - src.core.worker_modules.context_coordinator - DEBUG - Đã lấy dữ liệu MT5. MT5 enabled: True, dữ liệu có: True
2025-10-04 03:37:00,020 - src.core.worker_modules.context_coordinator - DEBUG - MT5 data có sẵn, bắt đầu phân tích tin tức.
2025-10-04 03:37:00,021 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: False, TTL: 300.
2025-10-04 03:37:00,023 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: False, TTL: 300
2025-10-04 03:37:00,023 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (10.21s < 300s), bỏ qua làm mới.
2025-10-04 03:37:00,023 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:00,024 - src.core.worker_modules.context_coordinator - DEBUG - Đã refresh news cache.
2025-10-04 03:37:00,024 - src.services.news - DEBUG - Bắt đầu hàm is_within_news_window cho symbol: XAUUSD, before: 15, after: 15.
2025-10-04 03:37:00,026 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:00,038 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:00,039 - src.services.news - DEBUG - Không có event nào trong cửa sổ tin tức.
2025-10-04 03:37:00,039 - src.services.news - DEBUG - Kết thúc hàm is_within_news_window (ngoài cửa sổ).
2025-10-04 03:37:00,040 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:00,040 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:00,040 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:00,041 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:00,041 - src.core.worker_modules.context_coordinator - DEBUG - Đã phân tích tin tức. Trong cửa sổ tin tức: False, lý do: None.
2025-10-04 03:37:00,042 - src.core.worker_modules.context_coordinator - DEBUG - Đã tạo mt5_json_full.
2025-10-04 03:37:00,042 - src.core.worker_modules.context_coordinator - DEBUG - Kết thúc hàm prepare_and_build_context.
2025-10-04 03:37:00,043 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:37:00,043 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135423.3043975
2025-10-04 03:37:00,044 - src.ui.app_ui - DEBUG - Cập nhật UI status: Context+MT5 xong trong 2.81s
2025-10-04 03:37:00,044 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Context+MT5 xong trong 2.81s
2025-10-04 03:37:00,045 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:37:00,046 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Context+MT5 xong trong 2.81s
2025-10-04 03:37:00,046 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:37:00,047 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:37:00,048 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:37:00,048 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:37:00,049 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:37:00,049 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:37:00,050 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135423.3109298
2025-10-04 03:37:00,051 - src.core.worker_modules.main_worker - DEBUG - Context+MT5 xong trong 2.81s.
2025-10-04 03:37:00,051 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_all_preconditions.
2025-10-04 03:37:00,051 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_no_run_conditions.
2025-10-04 03:37:00,052 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_no_run_conditions. Kết quả: True, Lý do: Đang chạy trong các điều kiện cho phép.
2025-10-04 03:37:00,053 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm evaluate_no_trade_conditions.
2025-10-04 03:37:00,054 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:37:00,055 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:37:00,073 - src.services.news - DEBUG - Bắt đầu hàm is_within_news_window cho symbol: XAUUSD, before: 15, after: 15.
2025-10-04 03:37:00,074 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:00,074 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:00,075 - src.services.news - DEBUG - Không có event nào trong cửa sổ tin tức.
2025-10-04 03:37:00,075 - src.services.news - DEBUG - Kết thúc hàm is_within_news_window (ngoài cửa sổ).
2025-10-04 03:37:00,076 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: spread_current, default: 0
2025-10-04 03:37:00,076 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-04 03:37:00,076 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-04 03:37:00,077 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'point' trong dict. Giá trị: 0.001
2025-10-04 03:37:00,078 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:37:00,079 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:37:00,079 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:37:00,080 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:37:00,080 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:37:00,080 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:37:00,081 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:37:00,081 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:37:00,082 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-04 03:37:00,082 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'point' trong dict. Giá trị: 0.001
2025-10-04 03:37:00,082 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:37:00,083 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:37:00,083 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:37:00,084 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:37:00,085 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:00,086 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:00,086 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:00.086406+07:00
2025-10-04 03:37:00,086 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:00.086406+07:00
2025-10-04 03:37:00,087 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:00.086406+07:00 trong DST: True
2025-10-04 03:37:00,100 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:00,100 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:00,101 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:00,105 - src.core.worker_modules.main_worker - ERROR - Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'
Traceback (most recent call last):
  File "C:\tool\app_gemini\src\core\worker_modules\main_worker.py", line 152, in run_analysis_worker
    should_proceed_trade, no_trade_reason = no_run_trade_conditions.check_all_preconditions(
                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        app, cfg, safe_mt5_data, mt5_dict, context_block, mt5_json_full
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\src\core\worker_modules\no_run_trade_conditions.py", line 212, in check_all_preconditions
    ok_nt, reasons_nt, _, _, _ = evaluate_no_trade_conditions(
                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        safe_mt5_data, cfg, cache_events=app.ff_cache_events_local,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        cache_fetch_time=app.ff_cache_fetch_time, ttl_sec=int(getattr(cfg, 'news_cache_ttl_sec', 300) or 300)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\src\core\worker_modules\no_run_trade_conditions.py", line 145, in evaluate_no_trade_conditions
    if cfg.nt_allow_session_asia:
       ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RunConfig' object has no attribute 'nt_allow_session_asia'. Did you mean: 'trade_allow_session_asia'?
2025-10-04 03:37:00,107 - src.ui.app_ui - DEBUG - Cập nhật UI status: Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'
2025-10-04 03:37:00,108 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'
2025-10-04 03:37:00,108 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:37:00,108 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'
2025-10-04 03:37:00,109 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:37:00,110 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:37:00,110 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:37:00,110 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:37:00,111 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 1511
2025-10-04 03:37:00,111 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:37:00,112 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:37:00,112 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:37:00,113 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất, lưu trữ và dọn dẹp.
2025-10-04 03:37:00,114 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Hoàn tất.
2025-10-04 03:37:00,114 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:37:00,114 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:37:00,121 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:37:00,133 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Hoàn tất.
2025-10-04 03:37:00,134 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:37:00,135 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:37:00,136 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Hoàn tất.
2025-10-04 03:37:00,136 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:37:00,136 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Hoàn tất.
2025-10-04 03:37:00,137 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:37:00,138 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:37:00,138 - src.core.worker_modules.main_worker - DEBUG - Trạng thái UI đã được cập nhật thành 'Hoàn tất'.
2025-10-04 03:37:00,139 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:37:00,139 - src.utils.md_saver - DEBUG - Bắt đầu save_md_report.
2025-10-04 03:37:00,140 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:37:00,140 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:37:00,140 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:37:00,141 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:37:00,142 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:37:00,142 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:37:00,143 - src.utils.md_saver - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\report_20251004_033700.md
2025-10-04 03:37:00,143 - src.utils.md_saver - DEBUG - Bắt đầu extract_human_readable_report.
2025-10-04 03:37:00,143 - src.utils.md_saver - DEBUG - Không tìm thấy header 'NHIỆM VỤ 2', trả về toàn bộ text.
2025-10-04 03:37:00,145 - src.utils.md_saver - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251004_033700.md
2025-10-04 03:37:00,146 - src.utils.utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, pattern: report_*.md, giữ lại: 10 file.
2025-10-04 03:37:00,149 - src.utils.utils - DEBUG - Đã xóa file cũ: report_20251002_134815.md
2025-10-04 03:37:00,150 - src.utils.utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-04 03:37:00,150 - src.utils.md_saver - DEBUG - Đã dọn dẹp các file Markdown cũ.
2025-10-04 03:37:00,151 - src.utils.md_saver - DEBUG - Kết thúc save_md_report.
2025-10-04 03:37:00,151 - src.core.worker_modules.main_worker - DEBUG - Báo cáo Markdown đã lưu tại: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\report_20251004_033700.md
2025-10-04 03:37:00,152 - src.utils.json_saver - DEBUG - Bắt đầu hàm save_json_report.
2025-10-04 03:37:00,152 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:37:00,152 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:37:00,153 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:37:00,153 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:37:00,154 - src.utils.json_saver - DEBUG - Thư mục reports: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, timestamp: 20251004_033700.
2025-10-04 03:37:00,154 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Cảnh báo: Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:37:00,154 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:37:00,155 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Cảnh báo: Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:37:00,155 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:37:00,170 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:37:00,170 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:37:00,171 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:37:00,172 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:37:00,172 - src.utils.json_saver - WARNING - Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:37:00,174 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:37:00,174 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:37:00,175 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:37:00,175 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:37:00,175 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:37:00,176 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: '[LỖI PHÂN TÍCH] Đã xảy ra lỗi.'
2025-10-04 03:37:00,176 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:37:00,177 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:37:00,179 - src.utils.json_saver - DEBUG - Đã parse và lưu plan: {'direction': None}
2025-10-04 03:37:00,180 - src.utils.json_saver - DEBUG - Đã đặt cycle: 2025-10-04 03:37:00
2025-10-04 03:37:00,194 - src.ui.app_ui - DEBUG - Tạo bản đồ khung thời gian cho 4 ảnh.
2025-10-04 03:37:00,195 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm images_tf_map với 4 tên file.
2025-10-04 03:37:00,195 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_H1.png.
2025-10-04 03:37:00,196 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_H1.png
2025-10-04 03:37:00,196 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern '(?<![a-z0-9])(?:h1|1h)(?![a-z0-9])'.
2025-10-04 03:37:00,197 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:37:00,197 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M1.png.
2025-10-04 03:37:00,197 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M1.png
2025-10-04 03:37:00,198 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern '(?<![a-z0-9])(?:m1|1m)(?![a-z0-9])'.
2025-10-04 03:37:00,198 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:37:00,198 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M15.png.
2025-10-04 03:37:00,199 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:37:00,199 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M15.png
2025-10-04 03:37:00,199 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:37:00,200 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern '(?<![a-z0-9])(?:m15|15m)(?![a-z0-9])'.
2025-10-04 03:37:00,200 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:37:00,200 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:37:00,201 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:37:00,201 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M5.png.
2025-10-04 03:37:00,202 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M5.png
2025-10-04 03:37:00,202 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern '(?<![a-z0-9])(?:m5|5m)(?![a-z0-9])'.
2025-10-04 03:37:00,203 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:37:00,203 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm images_tf_map. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-04 03:37:00,203 - src.utils.json_saver - DEBUG - Đã tạo và lưu images_tf_map.
2025-10-04 03:37:00,205 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã lưu thành công file: ctx_20251004_033700.json
2025-10-04 03:37:00,205 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:37:00,205 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã lưu thành công file: ctx_20251004_033700.json
2025-10-04 03:37:00,206 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:37:00,207 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:37:00,207 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:37:00,208 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:37:00,208 - src.utils.json_saver - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251004_033700.json
2025-10-04 03:37:00,208 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:37:00,209 - src.utils.utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, pattern: ctx_*.json, giữ lại: 10 file.
2025-10-04 03:37:00,211 - src.utils.utils - DEBUG - Đã xóa file cũ: ctx_20251002_134815.json
2025-10-04 03:37:00,212 - src.utils.utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-04 03:37:00,212 - src.utils.json_saver - DEBUG - Đã dọn dẹp các file JSON cũ.
2025-10-04 03:37:00,215 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:37:00,228 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:37:00,229 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:37:00,229 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:37:00,230 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:37:00,230 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:37:00,231 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: '[LỖI PHÂN TÍCH] Đã xảy ra lỗi.'
2025-10-04 03:37:00,231 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:37:00,231 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:37:00,232 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:37:00,232 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:37:00,233 - src.utils.json_saver - DEBUG - Kết thúc hàm save_json_report.
2025-10-04 03:37:00,233 - src.core.worker_modules.main_worker - DEBUG - Báo cáo JSON đã lưu.
2025-10-04 03:37:00,233 - src.utils.ui_utils - DEBUG - Yêu cầu làm mới history list.
2025-10-04 03:37:00,234 - src.utils.ui_utils - DEBUG - Enqueueing function: _refresh_history_list
2025-10-04 03:37:00,234 - src.utils.ui_utils - DEBUG - Yêu cầu làm mới JSON list.
2025-10-04 03:37:00,234 - src.utils.ui_utils - DEBUG - Enqueueing function: _refresh_json_list
2025-10-04 03:37:00,235 - src.core.worker_modules.main_worker - DEBUG - Danh sách lịch sử và JSON trên UI đã được làm mới.
2025-10-04 03:37:00,235 - src.ui.app_ui - DEBUG - Gọi app_logic._maybe_notify_telegram từ UI.
2025-10-04 03:37:00,235 - src.core.app_logic - DEBUG - Bắt đầu hàm _maybe_notify_telegram.
2025-10-04 03:37:00,236 - src.core.app_logic - DEBUG - Bắt đầu _maybe_notify_telegram. Telegram enabled: False, Report text length: 1511.
2025-10-04 03:37:00,236 - src.core.app_logic - DEBUG - Telegram không được bật hoặc không có báo cáo, bỏ qua gửi Telegram.
2025-10-04 03:37:00,236 - src.core.app_logic - DEBUG - Kết thúc _maybe_notify_telegram (Telegram không bật hoặc không có báo cáo).
2025-10-04 03:37:00,237 - src.core.worker_modules.main_worker - DEBUG - Đã kiểm tra và gửi thông báo Telegram (nếu có).
2025-10-04 03:37:00,237 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 0.0%
2025-10-04 03:37:00,238 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:37:00,238 - src.utils.ui_utils - DEBUG - Enqueueing function: _finalize_done
2025-10-04 03:37:00,238 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm run_analysis_worker.
2025-10-04 03:37:00,243 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:37:00,243 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:37:00,250 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:37:00,255 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:37:00,313 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:37:00,313 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:37:00,314 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:37:00,315 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:37:00,315 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:37:00,317 - src.ui.history_manager - DEBUG - Đã làm mới history list với 10 file.
2025-10-04 03:37:00,317 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:37:00,317 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _refresh_history_list
2025-10-04 03:37:00,318 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:37:00,318 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:37:00,318 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:37:00,320 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:37:00,320 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:37:00,321 - src.ui.history_manager - DEBUG - Đã làm mới JSON list với 10 file.
2025-10-04 03:37:00,322 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:37:00,322 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _refresh_json_list
2025-10-04 03:37:00,322 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:37:00,323 - src.ui.app_ui - DEBUG - Gọi app_logic._finalize_stopped từ UI (finalize_done).
2025-10-04 03:37:00,323 - src.core.app_logic - DEBUG - Bắt đầu _finalize_stopped.
2025-10-04 03:37:00,323 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã dừng.
2025-10-04 03:37:00,324 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:37:00,324 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã dừng.
2025-10-04 03:37:00,325 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:37:00,326 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:37:00,326 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:37:00,327 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:37:00,328 - src.core.app_logic - DEBUG - Bắt đầu _schedule_next_autorun.
2025-10-04 03:37:00,328 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:37:00,328 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Tự động chạy sau 60s.
2025-10-04 03:37:00,329 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:37:00,329 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Tự động chạy sau 60s.
2025-10-04 03:37:00,330 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:37:00,331 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:37:00,331 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:37:00,332 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:37:00,332 - src.core.app_logic - INFO - Đã lên lịch auto-run tiếp theo sau 60 giây.
2025-10-04 03:37:00,332 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:37:00,333 - src.core.app_logic - DEBUG - Kết thúc _schedule_next_autorun.
2025-10-04 03:37:00,334 - src.core.app_logic - DEBUG - Kết thúc _finalize_stopped.
2025-10-04 03:37:00,336 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _finalize_done
2025-10-04 03:37:00,336 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:37:00,337 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:37:00,357 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:37:00,357 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:37:00,358 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:37:00,358 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:37:00,387 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:37:00,387 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:37:00,388 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:37:00,388 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:37:00,551 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:00,552 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:00,552 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:00,552 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (10.74s < 300s), bỏ qua làm mới.
2025-10-04 03:37:00,553 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:00,553 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:00,553 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:00,554 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:00,554 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:00,555 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:00,555 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:00,555 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:00,556 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:00,556 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:00,558 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:00,583 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:00,707 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:00,708 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:00,708 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:00,710 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:00,710 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:00,711 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:00,711 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:00,712 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:00,713 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:00,713 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:00,714 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:00,714 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:00,716 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:00,716 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:00,716 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:00,717 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:00,722 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:00,728 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:00,728 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:00,730 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:00,730 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:00,730 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:00,731 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:00,731 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:00,732 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:00,732 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:00.732324+07:00
2025-10-04 03:37:00,732 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:00.732324+07:00
2025-10-04 03:37:00,733 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:00.732324+07:00 trong DST: True
2025-10-04 03:37:00,733 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:00,733 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:00,733 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:00,734 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:00,734 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:00,734 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:00,735 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:00,735 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:00,735 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:00,736 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:00,736 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:00,737 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:00,737 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:00,738 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:00,738 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:00,738 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:00,739 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:00,739 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:00,740 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:00,740 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:00,740 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:00,741 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:01,745 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:01,746 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:01,746 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:01,746 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (11.93s < 300s), bỏ qua làm mới.
2025-10-04 03:37:01,747 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:01,747 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:01,747 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:01,748 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:01,748 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:01,748 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:01,748 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:01,749 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:01,749 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:01,749 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:01,752 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:01,781 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:01,905 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:01,906 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:01,906 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:01,908 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:01,908 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:01,908 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:01,909 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:01,910 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:01,911 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:01,911 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:01,912 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:01,912 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:01,913 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:01,913 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:01,913 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:01,914 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:01,914 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:01,914 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:01,915 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:01,915 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:01,915 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:01,916 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:01,916 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:01,917 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:01,917 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:01,917 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:01.917684+07:00
2025-10-04 03:37:01,918 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:01.917684+07:00
2025-10-04 03:37:01,918 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:01.917684+07:00 trong DST: True
2025-10-04 03:37:01,918 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:01,919 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:01,919 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:01,919 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:01,919 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:01,920 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:01,920 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:01,920 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:01,921 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:01,921 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:01,922 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:01,922 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:01,923 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:01,923 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:01,923 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:01,924 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:01,924 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:01,925 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:01,925 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:01,925 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:01,926 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:01,926 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:02,926 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:02,926 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:02,927 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:02,927 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (13.11s < 300s), bỏ qua làm mới.
2025-10-04 03:37:02,927 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:02,928 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:02,928 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:02,928 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:02,929 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:02,929 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:02,929 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:02,930 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:02,930 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:02,930 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:02,933 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:02,951 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:03,075 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:03,076 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:03,077 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:03,078 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:03,078 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:03,079 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:03,080 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:03,081 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:03,081 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:03,081 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:03,082 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:03,082 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:03,083 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:03,084 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:03,085 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:03,085 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:03,086 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:03,086 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:03,098 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:03,099 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:03,099 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:03,100 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:03,100 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:03,100 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:03,101 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:03,101 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:03.101413+07:00
2025-10-04 03:37:03,101 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:03.101413+07:00
2025-10-04 03:37:03,102 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:03.101413+07:00 trong DST: True
2025-10-04 03:37:03,102 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:03,102 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:03,103 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:03,103 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:03,103 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:03,104 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:03,104 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:03,104 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:03,105 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:03,105 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:03,106 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:03,106 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:03,106 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:03,107 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:03,107 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:03,107 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:03,108 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:03,108 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:03,109 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:03,109 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:03,109 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:03,110 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:04,119 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:04,120 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:04,120 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:04,120 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (14.30s < 300s), bỏ qua làm mới.
2025-10-04 03:37:04,121 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:04,121 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:04,121 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:04,122 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:04,122 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:04,122 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:04,122 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:04,123 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:04,123 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:04,123 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:04,126 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:04,144 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:04,264 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:04,264 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:04,265 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:04,266 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:04,267 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:04,267 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:04,268 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:04,269 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:04,269 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:04,269 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:04,270 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:04,270 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:04,271 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:04,272 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:04,272 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:04,273 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:04,273 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:04,274 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:04,274 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:04,279 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:04,285 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:04,286 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:04,287 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:04,288 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:04,288 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:04,288 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:04.288643+07:00
2025-10-04 03:37:04,289 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:04.288643+07:00
2025-10-04 03:37:04,289 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:04.288643+07:00 trong DST: True
2025-10-04 03:37:04,289 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:04,290 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:04,290 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:04,290 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:04,291 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:04,291 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:04,291 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:04,292 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:04,292 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:04,293 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:04,293 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:04,294 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:04,294 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:04,295 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:04,295 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:04,295 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:04,296 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:04,296 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:04,296 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:04,297 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:04,297 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:04,297 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:05,302 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:05,303 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:05,303 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:05,303 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (15.49s < 300s), bỏ qua làm mới.
2025-10-04 03:37:05,304 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:05,304 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:05,304 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:05,305 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:05,305 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:05,305 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:05,306 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:05,306 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:05,306 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:05,306 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:05,309 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:05,326 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:05,583 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:05,584 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:05,584 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:05,586 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:05,586 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:05,586 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:05,587 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:05,588 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:05,588 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:05,589 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:05,589 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:05,589 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:05,591 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:05,591 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:05,592 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:05,592 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:05,592 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:05,603 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:05,604 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:05,604 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:05,605 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:05,606 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:05,606 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:05,606 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:05,606 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:05,607 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:05.607245+07:00
2025-10-04 03:37:05,607 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:05.607245+07:00
2025-10-04 03:37:05,607 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:05.607245+07:00 trong DST: True
2025-10-04 03:37:05,608 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:05,608 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:05,609 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:05,609 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:05,610 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:05,610 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:05,610 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:05,611 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:05,611 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:05,611 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:05,612 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:05,612 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:05,613 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:05,613 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:05,614 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:05,614 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:05,614 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:05,615 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:05,615 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:05,616 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:05,617 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:05,617 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:06,619 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:06,619 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:06,620 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:06,620 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (16.80s < 300s), bỏ qua làm mới.
2025-10-04 03:37:06,621 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:06,621 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:06,621 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:06,621 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:06,622 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:06,622 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:06,622 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:06,623 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:06,623 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:06,623 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:06,626 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:06,644 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:06,768 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:06,769 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:06,769 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:06,771 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:06,771 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:06,772 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:06,773 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:06,774 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:06,775 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:06,775 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:06,775 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:06,776 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:06,777 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:06,789 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:06,790 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:06,790 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:06,791 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:06,791 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:06,792 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:06,792 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:06,792 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:06,793 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:06,793 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:06,793 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:06,793 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:06,794 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:06.794265+07:00
2025-10-04 03:37:06,794 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:06.794265+07:00
2025-10-04 03:37:06,795 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:06.794265+07:00 trong DST: True
2025-10-04 03:37:06,795 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:06,795 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:06,795 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:06,796 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:06,796 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:06,797 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:06,797 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:06,797 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:06,798 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:06,798 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:06,798 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:06,799 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:06,799 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:06,799 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:06,800 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:06,800 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:06,801 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:06,801 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:06,801 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:06,801 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:06,802 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:06,802 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:07,809 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:07,810 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:07,811 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:07,811 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (17.99s < 300s), bỏ qua làm mới.
2025-10-04 03:37:07,811 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:07,812 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:07,812 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:07,812 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:07,812 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:07,813 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:07,813 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:07,813 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:07,814 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:07,814 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:07,817 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:07,841 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:07,963 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:07,964 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:07,964 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:07,966 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:07,966 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:07,966 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:07,967 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:07,968 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:07,969 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:07,969 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:07,969 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:07,970 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:07,971 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:07,971 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:07,972 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:07,972 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:07,972 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:07,983 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:07,984 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:07,985 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:07,985 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:07,986 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:07,986 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:07,986 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:07,987 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:07,987 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:07.987406+07:00
2025-10-04 03:37:07,987 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:07.987406+07:00
2025-10-04 03:37:07,988 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:07.987406+07:00 trong DST: True
2025-10-04 03:37:07,988 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:07,988 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:07,989 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:07,989 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:07,989 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:07,990 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:07,990 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:07,991 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:07,992 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:07,992 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:07,993 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:07,994 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:08,005 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:08,006 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:08,007 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:08,007 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:08,008 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:08,008 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:08,008 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:08,009 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:08,009 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:08,009 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:09,010 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:09,010 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:09,011 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:09,011 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (19.19s < 300s), bỏ qua làm mới.
2025-10-04 03:37:09,012 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:09,012 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:09,012 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:09,012 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:09,013 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:09,013 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:09,013 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:09,014 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:09,014 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:09,014 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:09,017 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:09,043 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:09,161 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:09,162 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:09,162 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:09,164 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:09,164 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:09,164 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:09,165 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:09,166 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:09,167 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:09,167 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:09,167 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:09,168 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:09,169 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:09,169 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:09,169 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:09,170 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:09,170 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:09,171 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:09,182 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:09,183 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:09,183 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:09,184 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:09,185 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:09,185 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:09,186 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:09,186 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:09.186252+07:00
2025-10-04 03:37:09,186 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:09.186252+07:00
2025-10-04 03:37:09,186 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:09.186252+07:00 trong DST: True
2025-10-04 03:37:09,187 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:09,187 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:09,187 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:09,188 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:09,188 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:09,188 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:09,189 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:09,189 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:09,189 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:09,190 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:09,190 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:09,191 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:09,191 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:09,192 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:09,192 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:09,192 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:09,193 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:09,193 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:09,194 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:09,194 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:09,194 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:09,195 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:10,198 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:10,199 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:10,200 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:10,200 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (20.38s < 300s), bỏ qua làm mới.
2025-10-04 03:37:10,200 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:10,201 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:10,201 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:10,201 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:10,202 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:10,202 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:10,202 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:10,203 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:10,203 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:10,203 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:10,206 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:10,230 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:10,350 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:10,351 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:10,351 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:10,353 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:10,353 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:10,353 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:10,354 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:10,355 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:10,356 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:10,356 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:10,356 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:10,357 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:10,358 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:10,358 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:10,358 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:10,359 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:10,359 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:10,370 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:10,372 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:10,373 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:10,373 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:10,373 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:10,374 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:10,374 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:10,374 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:10,375 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:10.375100+07:00
2025-10-04 03:37:10,375 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:10.375100+07:00
2025-10-04 03:37:10,375 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:10.375100+07:00 trong DST: True
2025-10-04 03:37:10,376 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:10,376 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:10,376 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:10,377 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:10,377 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:10,377 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:10,378 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:10,378 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:10,378 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:10,379 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:10,379 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:10,380 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:10,380 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:10,381 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:10,381 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:10,382 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:10,382 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:10,383 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:10,383 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:10,383 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:10,384 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:10,384 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:11,387 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:11,387 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:11,388 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:11,388 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (21.57s < 300s), bỏ qua làm mới.
2025-10-04 03:37:11,388 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:11,389 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:11,389 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:11,389 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:11,390 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:11,390 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:11,390 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:11,390 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:11,391 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:11,391 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:11,394 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:11,412 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:11,535 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:11,536 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:11,536 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:11,538 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:11,538 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:11,538 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:11,539 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:11,540 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:11,541 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:11,541 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:11,541 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:11,542 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:11,543 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:11,543 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:11,544 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:11,544 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:11,555 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:11,556 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:11,557 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:11,557 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:11,558 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:11,558 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:11,558 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:11,559 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:11,559 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:11,559 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:11.559835+07:00
2025-10-04 03:37:11,560 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:11.559835+07:00
2025-10-04 03:37:11,560 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:11.559835+07:00 trong DST: True
2025-10-04 03:37:11,561 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:11,561 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:11,561 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:11,561 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:11,562 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:11,562 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:11,562 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:11,563 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:11,563 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:11,564 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:11,564 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:11,565 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:11,565 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:11,565 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:11,566 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:11,566 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:11,567 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:11,567 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:11,567 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:11,567 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:11,568 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:11,568 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:12,577 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:12,578 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:12,578 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:12,578 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (22.76s < 300s), bỏ qua làm mới.
2025-10-04 03:37:12,579 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:12,579 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:12,580 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:12,580 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:12,581 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:12,581 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:12,581 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:12,582 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:12,582 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:12,582 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:12,585 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:12,606 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:12,727 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:12,728 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:12,728 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:12,730 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:12,730 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:12,730 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:12,731 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:12,732 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:12,733 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:12,733 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:12,734 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:12,734 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:12,735 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:12,736 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:12,736 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:12,736 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:12,737 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:12,737 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:12,737 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:12,738 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:12,738 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:12,739 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:12,739 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:12,739 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:12,740 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:12,740 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:12.740654+07:00
2025-10-04 03:37:12,741 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:12.740654+07:00
2025-10-04 03:37:12,741 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:12.740654+07:00 trong DST: True
2025-10-04 03:37:12,741 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:12,742 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:12,742 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:12,742 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:12,743 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:12,755 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:12,756 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:12,756 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:12,756 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:12,757 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:12,757 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:12,758 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:12,758 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:12,758 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:12,759 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:12,759 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:12,759 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:12,760 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:12,760 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:12,760 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:12,761 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:12,761 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:12,896 - src.ui.app_ui - DEBUG - Gọi app_logic._mt5_snapshot_popup từ UI.
2025-10-04 03:37:12,897 - src.core.app_logic - DEBUG - Bắt đầu _mt5_snapshot_popup.
2025-10-04 03:37:12,898 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context_from_app.
2025-10-04 03:37:12,898 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-04 03:37:12,899 - src.utils.mt5_utils - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-04 03:37:12,899 - src.utils.mt5_utils - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-04 03:37:12,900 - src.utils.mt5_utils - DEBUG - Current price (cp): 3887.107
2025-10-04 03:37:12,900 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-04 03:37:12,900 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-04 03:37:12,901 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-04 03:37:12,903 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-04 03:37:12,903 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:37:12,903 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-04 03:37:12,907 - src.utils.mt5_utils - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-04 03:37:12,907 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:37:12,907 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-04 03:37:12,909 - src.utils.mt5_utils - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-04 03:37:12,909 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:37:12,910 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-04 03:37:12,911 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-04 03:37:12,912 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:37:12,912 - src.utils.mt5_utils - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-04 03:37:12,912 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-04 03:37:12,913 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:37:12,913 - src.utils.mt5_utils - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:37:12,914 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-04 03:37:12,914 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-04 03:37:12,915 - src.utils.mt5_utils - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-04 03:37:12,915 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-04 03:37:12,915 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:37:12,916 - src.utils.mt5_utils - DEBUG - Đã lấy higher timeframe levels.
2025-10-04 03:37:12,916 - src.utils.mt5_utils - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-04 03:37:12,916 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-04 03:37:12,917 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:12,917 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:12.917282+07:00
2025-10-04 03:37:12,917 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:12.917282+07:00
2025-10-04 03:37:12,917 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:12.917282+07:00 trong DST: True
2025-10-04 03:37:12,918 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:12,918 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:12,918 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:12,919 - src.core.ict_analysis - DEBUG - Bắt đầu hàm get_session_liquidity với 96 rates, sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, now_hhmm: 10:37
2025-10-04 03:37:12,919 - src.core.ict_analysis - DEBUG - Kết thúc hàm get_session_liquidity. Kết quả: {}
2025-10-04 03:37:12,920 - src.utils.mt5_utils - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-04 03:37:12,921 - src.utils.mt5_utils - DEBUG - Rates trống, không thể tính VWAP.
2025-10-04 03:37:12,924 - src.utils.mt5_utils - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-04 03:37:12,924 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:37:12,924 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-04 03:37:12,925 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:37:12,925 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-04 03:37:12,925 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-04 03:37:12,926 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-04 03:37:12,926 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-04 03:37:12,927 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-04 03:37:12,927 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-04 03:37:12,927 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-04 03:37:12,928 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-04 03:37:12,928 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-04 03:37:12,928 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:37:12,929 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-04 03:37:12,930 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:37:12,930 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-04 03:37:12,930 - src.utils.mt5_utils - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-04 03:37:12,943 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-04 03:37:12,944 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-04 03:37:12,945 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:37:12,945 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-04 03:37:12,946 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-04 03:37:12,946 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-04 03:37:12,947 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:37:12,947 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-04 03:37:12,947 - src.utils.mt5_utils - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-04 03:37:12,948 - src.utils.mt5_utils - DEBUG - Volatility regime: trending
2025-10-04 03:37:12,948 - src.utils.mt5_utils - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:37:12,949 - src.utils.mt5_utils - DEBUG - Thêm PDH: 3897.216
2025-10-04 03:37:12,949 - src.utils.mt5_utils - DEBUG - Thêm PDL: 3819.397
2025-10-04 03:37:12,949 - src.utils.mt5_utils - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-04 03:37:12,950 - src.utils.mt5_utils - DEBUG - Thêm DO: 3863.536
2025-10-04 03:37:12,950 - src.utils.mt5_utils - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-04 03:37:12,950 - src.utils.mt5_utils - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-04 03:37:12,951 - src.utils.mt5_utils - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-04 03:37:12,951 - src.utils.mt5_utils - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-04 03:37:12,951 - src.utils.mt5_utils - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-04 03:37:12,952 - src.utils.mt5_utils - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:37:12,952 - src.utils.mt5_utils - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-04 03:37:12,953 - src.utils.mt5_utils - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-04 03:37:12,953 - src.utils.mt5_utils - DEBUG - Prev day close: 3862.472
2025-10-04 03:37:12,953 - src.utils.mt5_utils - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-04 03:37:12,954 - src.utils.mt5_utils - DEBUG - Position in day range: 0.8700959919813936
2025-10-04 03:37:12,954 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:12,954 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:12.954904+07:00
2025-10-04 03:37:12,955 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:12.954904+07:00
2025-10-04 03:37:12,955 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:12.954904+07:00 trong DST: True
2025-10-04 03:37:12,956 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:12,956 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:12,956 - src.core.ict_analysis - DEBUG - Bắt đầu hàm is_silver_bullet_window với now_hhmm: 10:37, kills: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:12,957 - src.core.ict_analysis - DEBUG - Không nằm trong cửa sổ Silver Bullet.
2025-10-04 03:37:12,957 - src.core.ict_analysis - DEBUG - Kết thúc hàm is_silver_bullet_window.
2025-10-04 03:37:12,957 - src.utils.mt5_utils - DEBUG - Killzone active: None, Mins to next killzone: 203
2025-10-04 03:37:12,957 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:37:12,958 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:37:12,958 - src.utils.mt5_utils - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-04 03:37:12,958 - src.utils.mt5_utils - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-04 03:37:12,959 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:37:12,960 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3783.265
2025-10-04 03:37:12,961 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3760.112
2025-10-04 03:37:12,961 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3763.997
2025-10-04 03:37:12,962 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.936
2025-10-04 03:37:12,962 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3805.069
2025-10-04 03:37:12,962 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.812
2025-10-04 03:37:12,962 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3806.56
2025-10-04 03:37:12,974 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3831.428
2025-10-04 03:37:12,974 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3809.251
2025-10-04 03:37:12,975 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3833.647
2025-10-04 03:37:12,975 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3822.667
2025-10-04 03:37:12,976 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3834.062
2025-10-04 03:37:12,976 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3825.688
2025-10-04 03:37:12,976 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.242
2025-10-04 03:37:12,977 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.761
2025-10-04 03:37:12,977 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3793.174
2025-10-04 03:37:12,977 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3854.604
2025-10-04 03:37:12,978 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3849.372
2025-10-04 03:37:12,978 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3839.717
2025-10-04 03:37:12,978 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.87
2025-10-04 03:37:12,979 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.622
2025-10-04 03:37:12,979 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.624
2025-10-04 03:37:12,979 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.576
2025-10-04 03:37:12,980 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.937
2025-10-04 03:37:12,980 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3853.395
2025-10-04 03:37:12,980 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3895.417
2025-10-04 03:37:12,981 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.184
2025-10-04 03:37:12,981 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3878.867
2025-10-04 03:37:12,981 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.227
2025-10-04 03:37:12,981 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.948
2025-10-04 03:37:12,982 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.93
2025-10-04 03:37:12,982 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.062
2025-10-04 03:37:12,982 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.894
2025-10-04 03:37:12,983 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3870.082
2025-10-04 03:37:12,983 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.861
2025-10-04 03:37:12,983 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.758
2025-10-04 03:37:12,983 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3897.216
2025-10-04 03:37:12,984 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3819.397
2025-10-04 03:37:12,984 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.415
2025-10-04 03:37:12,985 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:37:12,985 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:37:12,985 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:37:12,986 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:37:12,986 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:37:12,986 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:37:12,987 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:37:12,987 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:37:12,987 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:37:12,988 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:37:12,988 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:37:12,988 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:37:12,989 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:37:12,989 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:37:12,989 - src.utils.mt5_utils - DEBUG - Liquidity levels cho H1: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:37:12,990 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:37:12,990 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4}
2025-10-04 03:37:12,991 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:37:12,992 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12}
2025-10-04 03:37:12,992 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13}
2025-10-04 03:37:12,992 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31}
2025-10-04 03:37:12,993 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32}
2025-10-04 03:37:12,993 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34}
2025-10-04 03:37:12,993 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37}
2025-10-04 03:37:12,994 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38}
2025-10-04 03:37:13,005 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39}
2025-10-04 03:37:13,006 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45}
2025-10-04 03:37:13,006 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50}
2025-10-04 03:37:13,007 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61}
2025-10-04 03:37:13,007 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62}
2025-10-04 03:37:13,008 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66}
2025-10-04 03:37:13,008 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90}
2025-10-04 03:37:13,008 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91}
2025-10-04 03:37:13,009 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95}
2025-10-04 03:37:13,009 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96}
2025-10-04 03:37:13,009 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:37:13,010 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112}
2025-10-04 03:37:13,010 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4} đã được fill.
2025-10-04 03:37:13,011 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:37:13,011 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12} đã được fill.
2025-10-04 03:37:13,012 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13} đã được fill.
2025-10-04 03:37:13,012 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31} đã được fill.
2025-10-04 03:37:13,013 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32} đã được fill.
2025-10-04 03:37:13,013 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34} đã được fill.
2025-10-04 03:37:13,013 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37} đã được fill.
2025-10-04 03:37:13,014 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38} đã được fill.
2025-10-04 03:37:13,014 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39} đã được fill.
2025-10-04 03:37:13,014 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45} đã được fill.
2025-10-04 03:37:13,015 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50} đã được fill.
2025-10-04 03:37:13,015 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61} đã được fill.
2025-10-04 03:37:13,015 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62} đã được fill.
2025-10-04 03:37:13,016 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66} đã được fill.
2025-10-04 03:37:13,016 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90} đã được fill.
2025-10-04 03:37:13,016 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91} đã được fill.
2025-10-04 03:37:13,017 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95} đã được fill.
2025-10-04 03:37:13,017 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96} đã được fill.
2025-10-04 03:37:13,017 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:37:13,018 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112} đã được fill.
2025-10-04 03:37:13,018 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}
2025-10-04 03:37:13,018 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}]
2025-10-04 03:37:13,019 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:37:13,019 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}
2025-10-04 03:37:13,019 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3867.201, 'bottom': 3854.751, 'bar_index': 110}
2025-10-04 03:37:13,020 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3844.879, 'bottom': 3819.397, 'bar_index': 91}
2025-10-04 03:37:13,020 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}
2025-10-04 03:37:13,020 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}]
2025-10-04 03:37:13,021 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:37:13,021 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3897.216, 'range_low': 3760.112, 'equilibrium': 3828.6639999999998, 'status': 'Premium'}
2025-10-04 03:37:13,023 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:37:13,023 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3778.612, 'bottom': 3764.679, 'bar_index': -27}
2025-10-04 03:37:13,024 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3787.543, 'bottom': 3763.997, 'bar_index': -23}
2025-10-04 03:37:13,024 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3819.611, 'bottom': 3806.443, 'bar_index': -15}
2025-10-04 03:37:13,024 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3818.552, 'bottom': 3806.56, 'bar_index': -13}
2025-10-04 03:37:13,025 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.722, 'bottom': 3838.031, 'bar_index': 1}
2025-10-04 03:37:13,035 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3867.242, 'bottom': 3845.851, 'bar_index': 3}
2025-10-04 03:37:13,038 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3871.761, 'bottom': 3854.92, 'bar_index': 6}
2025-10-04 03:37:13,039 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3814.639, 'bottom': 3798.264, 'bar_index': 10}
2025-10-04 03:37:13,040 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3854.604, 'bottom': 3820.442, 'bar_index': 14}
2025-10-04 03:37:13,040 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3860.87, 'bottom': 3847.177, 'bar_index': 19}
2025-10-04 03:37:13,041 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.941, 'bottom': 3858.997, 'bar_index': 30}
2025-10-04 03:37:13,041 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3865.226, 'bottom': 3852.894, 'bar_index': 47}
2025-10-04 03:37:13,041 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.858, 'bottom': 3873.413, 'bar_index': 55}
2025-10-04 03:37:13,042 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3845.401, 'bottom': 3827.234, 'bar_index': 62}
2025-10-04 03:37:13,042 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}
2025-10-04 03:37:13,042 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}
2025-10-04 03:37:13,043 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}
2025-10-04 03:37:13,043 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}]
2025-10-04 03:37:13,044 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho H1 đã được tính.
2025-10-04 03:37:13,044 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:37:13,044 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:37:13,045 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:37:13,045 - src.utils.mt5_utils - DEBUG - MSS cho H1 đã được tính.
2025-10-04 03:37:13,045 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 96 rates, lookback: 200
2025-10-04 03:37:13,046 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3858.531
2025-10-04 03:37:13,046 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:37:13,046 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.878
2025-10-04 03:37:13,047 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:37:13,047 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.326
2025-10-04 03:37:13,047 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3862.684
2025-10-04 03:37:13,047 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:37:13,048 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.953
2025-10-04 03:37:13,048 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:37:13,048 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3848.355
2025-10-04 03:37:13,049 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3843.125
2025-10-04 03:37:13,049 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3850.904
2025-10-04 03:37:13,049 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:37:13,050 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:37:13,050 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:37:13,050 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:37:13,050 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:37:13,051 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:37:13,051 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:37:13,051 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:37:13,052 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:37:13,052 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:37:13,052 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:37:13,053 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:37:13,053 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:37:13,053 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:37:13,055 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:37:13,055 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:37:13,055 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:37:13,066 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:37:13,067 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:37:13,068 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:37:13,068 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:37:13,069 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:37:13,069 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:37:13,069 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:37:13,070 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:37:13,070 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:37:13,070 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:37:13,071 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:37:13,071 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M15: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:37:13,072 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 96 rates, current_price: 3887.107
2025-10-04 03:37:13,072 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3}
2025-10-04 03:37:13,072 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7}
2025-10-04 03:37:13,073 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11}
2025-10-04 03:37:13,073 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23}
2025-10-04 03:37:13,074 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26}
2025-10-04 03:37:13,074 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:37:13,074 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:37:13,075 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42}
2025-10-04 03:37:13,075 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52}
2025-10-04 03:37:13,075 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57}
2025-10-04 03:37:13,076 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58}
2025-10-04 03:37:13,076 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:37:13,076 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65}
2025-10-04 03:37:13,077 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69}
2025-10-04 03:37:13,077 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74}
2025-10-04 03:37:13,077 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3} đã được fill.
2025-10-04 03:37:13,078 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7} đã được fill.
2025-10-04 03:37:13,078 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11} đã được fill.
2025-10-04 03:37:13,078 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23} đã được fill.
2025-10-04 03:37:13,079 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26} đã được fill.
2025-10-04 03:37:13,079 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:37:13,079 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:37:13,080 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42} đã được fill.
2025-10-04 03:37:13,080 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52} đã được fill.
2025-10-04 03:37:13,080 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57} đã được fill.
2025-10-04 03:37:13,081 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58} đã được fill.
2025-10-04 03:37:13,081 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:37:13,082 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65} đã được fill.
2025-10-04 03:37:13,082 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69} đã được fill.
2025-10-04 03:37:13,082 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74} đã được fill.
2025-10-04 03:37:13,083 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}
2025-10-04 03:37:13,083 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}]
2025-10-04 03:37:13,084 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 96 rates, lookback: 100
2025-10-04 03:37:13,084 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}
2025-10-04 03:37:13,085 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}
2025-10-04 03:37:13,086 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3845.326, 'bottom': 3843.359, 'bar_index': 27}
2025-10-04 03:37:13,086 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}
2025-10-04 03:37:13,087 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}
2025-10-04 03:37:13,096 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}, {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}]
2025-10-04 03:37:13,097 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 96 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:37:13,097 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3838.081, 'equilibrium': 3864.906, 'status': 'Premium'}
2025-10-04 03:37:13,098 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 96 rates, lookback: 150
2025-10-04 03:37:13,098 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3858.046, 'bottom': 3854.205, 'bar_index': -48}
2025-10-04 03:37:13,099 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3855.466, 'bottom': 3849.361, 'bar_index': -32}
2025-10-04 03:37:13,099 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3848.913, 'bottom': 3839.835, 'bar_index': -29}
2025-10-04 03:37:13,099 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.766, 'bottom': 3843.897, 'bar_index': -22}
2025-10-04 03:37:13,100 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3863.085, 'bottom': 3857.792, 'bar_index': -13}
2025-10-04 03:37:13,100 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3862.923, 'bar_index': 8}
2025-10-04 03:37:13,100 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}
2025-10-04 03:37:13,101 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}
2025-10-04 03:37:13,101 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}
2025-10-04 03:37:13,102 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}]
2025-10-04 03:37:13,102 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M15 đã được tính.
2025-10-04 03:37:13,103 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 96 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:37:13,103 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:37:13,103 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:37:13,104 - src.utils.mt5_utils - DEBUG - MSS cho M15 đã được tính.
2025-10-04 03:37:13,104 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 180 rates, lookback: 200
2025-10-04 03:37:13,105 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:37:13,105 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.693
2025-10-04 03:37:13,105 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.917
2025-10-04 03:37:13,106 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:37:13,106 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.034
2025-10-04 03:37:13,106 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.033
2025-10-04 03:37:13,107 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.397
2025-10-04 03:37:13,107 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:37:13,108 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.323
2025-10-04 03:37:13,108 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.323
2025-10-04 03:37:13,109 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:37:13,109 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:37:13,109 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.587
2025-10-04 03:37:13,110 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.799
2025-10-04 03:37:13,110 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.325
2025-10-04 03:37:13,110 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.674
2025-10-04 03:37:13,111 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:37:13,111 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.889
2025-10-04 03:37:13,111 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:37:13,112 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.764
2025-10-04 03:37:13,112 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.914
2025-10-04 03:37:13,112 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.651
2025-10-04 03:37:13,113 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.875
2025-10-04 03:37:13,113 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3866.346
2025-10-04 03:37:13,113 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.433
2025-10-04 03:37:13,114 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:37:13,114 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.632
2025-10-04 03:37:13,114 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.646
2025-10-04 03:37:13,114 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:37:13,115 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.432
2025-10-04 03:37:13,115 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.573
2025-10-04 03:37:13,115 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.856
2025-10-04 03:37:13,116 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:37:13,116 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.152
2025-10-04 03:37:13,117 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:37:13,117 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.067
2025-10-04 03:37:13,118 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.802
2025-10-04 03:37:13,118 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.218
2025-10-04 03:37:13,130 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:37:13,131 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.209
2025-10-04 03:37:13,132 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.578
2025-10-04 03:37:13,132 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.963
2025-10-04 03:37:13,132 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3870.06
2025-10-04 03:37:13,133 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.583
2025-10-04 03:37:13,133 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:37:13,133 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:37:13,134 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.355
2025-10-04 03:37:13,134 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.03
2025-10-04 03:37:13,134 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:37:13,134 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3880.206
2025-10-04 03:37:13,135 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.522
2025-10-04 03:37:13,135 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3881.461
2025-10-04 03:37:13,135 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3882.092
2025-10-04 03:37:13,136 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:37:13,136 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:37:13,136 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.454
2025-10-04 03:37:13,137 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.959
2025-10-04 03:37:13,137 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.056
2025-10-04 03:37:13,138 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:37:13,138 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.593
2025-10-04 03:37:13,138 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:37:13,139 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.221
2025-10-04 03:37:13,139 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.978
2025-10-04 03:37:13,139 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.364
2025-10-04 03:37:13,140 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:37:13,140 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.771
2025-10-04 03:37:13,140 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.794
2025-10-04 03:37:13,141 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:37:13,141 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3881.367
2025-10-04 03:37:13,141 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.794
2025-10-04 03:37:13,142 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.241
2025-10-04 03:37:13,142 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:37:13,142 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3883.496
2025-10-04 03:37:13,142 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3879.981
2025-10-04 03:37:13,143 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.183
2025-10-04 03:37:13,143 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:37:13,143 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.019
2025-10-04 03:37:13,144 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:37:13,144 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:37:13,144 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:37:13,144 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:37:13,145 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:37:13,145 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:37:13,145 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:37:13,146 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:37:13,146 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:37:13,147 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:37:13,147 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M5: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:37:13,148 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 180 rates, current_price: 3887.107
2025-10-04 03:37:13,149 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2}
2025-10-04 03:37:13,149 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17}
2025-10-04 03:37:13,149 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27}
2025-10-04 03:37:13,150 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37}
2025-10-04 03:37:13,150 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40}
2025-10-04 03:37:13,161 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47}
2025-10-04 03:37:13,162 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48}
2025-10-04 03:37:13,163 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56}
2025-10-04 03:37:13,163 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63}
2025-10-04 03:37:13,164 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64}
2025-10-04 03:37:13,164 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68}
2025-10-04 03:37:13,164 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70}
2025-10-04 03:37:13,165 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:37:13,165 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81}
2025-10-04 03:37:13,165 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87}
2025-10-04 03:37:13,166 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88}
2025-10-04 03:37:13,166 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89}
2025-10-04 03:37:13,166 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106}
2025-10-04 03:37:13,167 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113}
2025-10-04 03:37:13,167 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119}
2025-10-04 03:37:13,167 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123}
2025-10-04 03:37:13,168 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124}
2025-10-04 03:37:13,168 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135}
2025-10-04 03:37:13,169 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142}
2025-10-04 03:37:13,169 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149}
2025-10-04 03:37:13,169 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151}
2025-10-04 03:37:13,170 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155}
2025-10-04 03:37:13,170 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163}
2025-10-04 03:37:13,170 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171}
2025-10-04 03:37:13,171 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:37:13,171 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:37:13,172 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2} đã được fill.
2025-10-04 03:37:13,172 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17} đã được fill.
2025-10-04 03:37:13,172 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27} đã được fill.
2025-10-04 03:37:13,173 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37} đã được fill.
2025-10-04 03:37:13,173 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40} đã được fill.
2025-10-04 03:37:13,173 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47} đã được fill.
2025-10-04 03:37:13,174 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48} đã được fill.
2025-10-04 03:37:13,174 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56} đã được fill.
2025-10-04 03:37:13,174 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63} đã được fill.
2025-10-04 03:37:13,175 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64} đã được fill.
2025-10-04 03:37:13,175 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68} đã được fill.
2025-10-04 03:37:13,175 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70} đã được fill.
2025-10-04 03:37:13,176 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:37:13,176 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81} đã được fill.
2025-10-04 03:37:13,177 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87} đã được fill.
2025-10-04 03:37:13,177 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88} đã được fill.
2025-10-04 03:37:13,177 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89} đã được fill.
2025-10-04 03:37:13,178 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106} đã được fill.
2025-10-04 03:37:13,179 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113} đã được fill.
2025-10-04 03:37:13,179 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119} đã được fill.
2025-10-04 03:37:13,180 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123} đã được fill.
2025-10-04 03:37:13,180 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124} đã được fill.
2025-10-04 03:37:13,180 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135} đã được fill.
2025-10-04 03:37:13,189 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142} đã được fill.
2025-10-04 03:37:13,190 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149} đã được fill.
2025-10-04 03:37:13,191 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151} đã được fill.
2025-10-04 03:37:13,191 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155} đã được fill.
2025-10-04 03:37:13,192 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163} đã được fill.
2025-10-04 03:37:13,193 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171} đã được fill.
2025-10-04 03:37:13,193 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:37:13,194 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:37:13,194 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}
2025-10-04 03:37:13,194 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}]
2025-10-04 03:37:13,195 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 180 rates, lookback: 100
2025-10-04 03:37:13,195 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}
2025-10-04 03:37:13,196 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}
2025-10-04 03:37:13,196 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}]
2025-10-04 03:37:13,197 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 180 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:37:13,197 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3850.904, 'equilibrium': 3871.3175, 'status': 'Premium'}
2025-10-04 03:37:13,197 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 180 rates, lookback: 150
2025-10-04 03:37:13,198 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3865.008, 'bottom': 3860.927, 'bar_index': 36}
2025-10-04 03:37:13,198 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3862.887, 'bottom': 3859.58, 'bar_index': 46}
2025-10-04 03:37:13,198 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3867.239, 'bar_index': 80}
2025-10-04 03:37:13,199 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3876.096, 'bottom': 3866.937, 'bar_index': 99}
2025-10-04 03:37:13,199 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.702, 'bottom': 3874.123, 'bar_index': 105}
2025-10-04 03:37:13,200 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.733, 'bottom': 3879.22, 'bar_index': 112}
2025-10-04 03:37:13,200 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.625, 'bottom': 3880.942, 'bar_index': 123}
2025-10-04 03:37:13,200 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.202, 'bottom': 3880.541, 'bar_index': 124}
2025-10-04 03:37:13,201 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3885.241, 'bottom': 3881.17, 'bar_index': 141}
2025-10-04 03:37:13,201 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3882.461, 'bottom': 3877.896, 'bar_index': 143}
2025-10-04 03:37:13,201 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}
2025-10-04 03:37:13,202 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}
2025-10-04 03:37:13,202 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}
2025-10-04 03:37:13,203 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}]
2025-10-04 03:37:13,203 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M5 đã được tính.
2025-10-04 03:37:13,204 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 180 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:37:13,204 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:37:13,204 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:37:13,205 - src.utils.mt5_utils - DEBUG - MSS cho M5 đã được tính.
2025-10-04 03:37:13,205 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:37:13,205 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.619
2025-10-04 03:37:13,206 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.222
2025-10-04 03:37:13,206 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:37:13,207 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.765
2025-10-04 03:37:13,207 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.268
2025-10-04 03:37:13,207 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.256
2025-10-04 03:37:13,207 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.93
2025-10-04 03:37:13,208 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:37:13,208 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.607
2025-10-04 03:37:13,208 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.443
2025-10-04 03:37:13,209 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.378
2025-10-04 03:37:13,209 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.098
2025-10-04 03:37:13,209 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.201
2025-10-04 03:37:13,210 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:37:13,211 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.204
2025-10-04 03:37:13,211 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.989
2025-10-04 03:37:13,211 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.087
2025-10-04 03:37:13,212 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.291
2025-10-04 03:37:13,212 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:37:13,212 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3887.541
2025-10-04 03:37:13,212 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.413
2025-10-04 03:37:13,213 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.942
2025-10-04 03:37:13,213 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.384
2025-10-04 03:37:13,215 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.35
2025-10-04 03:37:13,218 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:37:13,220 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.014
2025-10-04 03:37:13,224 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.179
2025-10-04 03:37:13,225 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.902
2025-10-04 03:37:13,226 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:37:13,226 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.942
2025-10-04 03:37:13,226 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:37:13,227 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.103
2025-10-04 03:37:13,227 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.859
2025-10-04 03:37:13,228 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.29
2025-10-04 03:37:13,228 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.755
2025-10-04 03:37:13,228 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.023
2025-10-04 03:37:13,229 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.154
2025-10-04 03:37:13,229 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.079
2025-10-04 03:37:13,229 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.142
2025-10-04 03:37:13,230 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.8
2025-10-04 03:37:13,230 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.876
2025-10-04 03:37:13,230 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.634
2025-10-04 03:37:13,231 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.689
2025-10-04 03:37:13,231 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.259
2025-10-04 03:37:13,231 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.227
2025-10-04 03:37:13,232 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.176
2025-10-04 03:37:13,232 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.077
2025-10-04 03:37:13,232 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.111
2025-10-04 03:37:13,233 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:37:13,233 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.739
2025-10-04 03:37:13,233 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.335
2025-10-04 03:37:13,234 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.539
2025-10-04 03:37:13,234 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:37:13,234 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.647
2025-10-04 03:37:13,235 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.692
2025-10-04 03:37:13,235 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.989
2025-10-04 03:37:13,235 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.106
2025-10-04 03:37:13,236 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.259
2025-10-04 03:37:13,236 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.124
2025-10-04 03:37:13,236 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.332
2025-10-04 03:37:13,237 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.136
2025-10-04 03:37:13,237 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.321
2025-10-04 03:37:13,237 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.003
2025-10-04 03:37:13,238 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.225
2025-10-04 03:37:13,238 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:37:13,238 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M1: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:37:13,239 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:37:13,239 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7}
2025-10-04 03:37:13,240 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12}
2025-10-04 03:37:13,241 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13}
2025-10-04 03:37:13,242 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37}
2025-10-04 03:37:13,242 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49}
2025-10-04 03:37:13,243 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51}
2025-10-04 03:37:13,243 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58}
2025-10-04 03:37:13,251 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64}
2025-10-04 03:37:13,253 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76}
2025-10-04 03:37:13,255 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87}
2025-10-04 03:37:13,255 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94}
2025-10-04 03:37:13,256 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95}
2025-10-04 03:37:13,257 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:37:13,257 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:37:13,257 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7} đã được fill.
2025-10-04 03:37:13,258 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12} đã được fill.
2025-10-04 03:37:13,258 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13} đã được fill.
2025-10-04 03:37:13,258 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37} đã được fill.
2025-10-04 03:37:13,259 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49} đã được fill.
2025-10-04 03:37:13,259 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51} đã được fill.
2025-10-04 03:37:13,259 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58} đã được fill.
2025-10-04 03:37:13,260 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64} đã được fill.
2025-10-04 03:37:13,260 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76} đã được fill.
2025-10-04 03:37:13,260 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87} đã được fill.
2025-10-04 03:37:13,261 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94} đã được fill.
2025-10-04 03:37:13,261 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95} đã được fill.
2025-10-04 03:37:13,262 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:37:13,262 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:37:13,262 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}
2025-10-04 03:37:13,263 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}]
2025-10-04 03:37:13,263 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:37:13,263 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}
2025-10-04 03:37:13,264 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3884.99, 'bottom': 3884.601, 'bar_index': 108}
2025-10-04 03:37:13,264 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3883.629, 'bottom': 3882.907, 'bar_index': 95}
2025-10-04 03:37:13,264 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}
2025-10-04 03:37:13,265 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}]
2025-10-04 03:37:13,265 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:37:13,265 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3889.197, 'range_low': 3882.907, 'equilibrium': 3886.052, 'status': 'Premium'}
2025-10-04 03:37:13,265 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:37:13,266 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.089, 'bottom': 3884.19, 'bar_index': -24}
2025-10-04 03:37:13,266 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.116, 'bottom': 3886.654, 'bar_index': -18}
2025-10-04 03:37:13,267 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.074, 'bottom': 3886.291, 'bar_index': 5}
2025-10-04 03:37:13,267 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.175, 'bottom': 3886.941, 'bar_index': 6}
2025-10-04 03:37:13,267 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.915, 'bottom': 3886.012, 'bar_index': 20}
2025-10-04 03:37:13,268 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.29, 'bottom': 3885.292, 'bar_index': 33}
2025-10-04 03:37:13,268 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3887.079, 'bottom': 3886.283, 'bar_index': 40}
2025-10-04 03:37:13,268 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.074, 'bottom': 3884.806, 'bar_index': 45}
2025-10-04 03:37:13,269 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.334, 'bottom': 3883.739, 'bar_index': 58}
2025-10-04 03:37:13,269 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}
2025-10-04 03:37:13,269 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}
2025-10-04 03:37:13,270 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}
2025-10-04 03:37:13,270 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}]
2025-10-04 03:37:13,271 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M1 đã được tính.
2025-10-04 03:37:13,271 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:37:13,271 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:37:13,272 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:37:13,273 - src.utils.mt5_utils - DEBUG - MSS cho M1 đã được tính.
2025-10-04 03:37:13,273 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:37:13,274 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:37:13,274 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:37:13,275 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:37:13,280 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:37:13,282 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:37:13,284 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:37:13,284 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:37:13,285 - src.utils.mt5_utils - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-04 03:37:13,285 - src.utils.safe_data - DEBUG - Khởi tạo SafeMT5Data với data có: True
2025-10-04 03:37:13,286 - src.utils.mt5_utils - DEBUG - Đã tạo SafeMT5Data object.
2025-10-04 03:37:13,286 - src.utils.mt5_utils - DEBUG - Kết thúc build_context.
2025-10-04 03:37:13,287 - src.utils.mt5_utils - DEBUG - Kết thúc build_context_from_app.
2025-10-04 03:37:13,287 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:37:13,287 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:37:13,288 - src.core.app_logic - DEBUG - Đã chuyển đổi dữ liệu MT5 sang JSON.
2025-10-04 03:37:13,292 - src.core.app_logic - INFO - Đã hiển thị MT5 snapshot popup.
2025-10-04 03:37:13,292 - src.core.app_logic - DEBUG - Kết thúc _mt5_snapshot_popup.
2025-10-04 03:37:13,761 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:13,762 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:13,762 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:13,763 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (23.95s < 300s), bỏ qua làm mới.
2025-10-04 03:37:13,763 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:13,763 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:13,764 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:13,764 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:13,764 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:13,764 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:13,765 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:13,765 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:13,765 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:13,766 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:13,768 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:13,794 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:13,910 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:13,911 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:13,911 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:13,913 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:13,913 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:13,914 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:13,915 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:13,916 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:13,916 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:13,917 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:13,917 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:13,917 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:13,919 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:13,919 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:13,919 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:13,920 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:13,920 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:13,924 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:13,925 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:13,929 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:13,930 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:13,931 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:13,932 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:13,933 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:13,933 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:13,934 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:13.934030+07:00
2025-10-04 03:37:13,934 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:13.934030+07:00
2025-10-04 03:37:13,935 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:13.934030+07:00 trong DST: True
2025-10-04 03:37:13,935 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:13,935 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:13,936 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:13,936 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:13,936 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:13,937 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:13,937 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:13,938 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:13,938 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:13,939 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:13,939 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:13,939 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:13,940 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:13,940 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:13,940 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:13,941 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:13,941 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:13,942 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:13,942 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:13,942 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:13,942 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:13,943 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:14,950 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:14,951 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:14,951 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:14,951 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (25.13s < 300s), bỏ qua làm mới.
2025-10-04 03:37:14,952 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:14,952 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:14,952 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:14,953 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:14,953 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:14,953 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:14,954 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:14,954 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:14,954 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:14,955 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:14,957 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:14,981 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:15,095 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:15,096 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:15,096 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:15,097 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:15,098 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:15,098 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:15,099 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:15,100 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:15,100 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:15,100 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:15,101 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:15,101 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:15,102 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:15,102 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:15,103 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:15,103 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:15,103 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:15,104 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:15,104 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:15,104 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:15,105 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:15,105 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:15,105 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:15,105 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:15,106 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:15,106 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:15.106323+07:00
2025-10-04 03:37:15,106 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:15.106323+07:00
2025-10-04 03:37:15,107 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:15.106323+07:00 trong DST: True
2025-10-04 03:37:15,107 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:15,107 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:15,108 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:15,108 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:15,108 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:15,109 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:15,109 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:15,109 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:15,110 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:15,110 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:15,110 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:15,111 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:15,111 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:15,112 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:15,112 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:15,112 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:15,113 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:15,113 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:15,114 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:15,114 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:15,114 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:15,115 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:16,123 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:16,123 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:16,124 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:16,124 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (26.31s < 300s), bỏ qua làm mới.
2025-10-04 03:37:16,125 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:16,125 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:16,125 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:16,125 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:16,126 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:16,126 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:16,126 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:16,127 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:16,127 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:16,127 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:16,130 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:16,153 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:16,291 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:16,292 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:16,293 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:16,295 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:16,295 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:16,295 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:16,296 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:16,297 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:16,298 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:16,298 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:16,299 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:16,299 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:16,300 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:16,300 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:16,301 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:16,301 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:16,312 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:16,313 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:16,315 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:16,316 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:16,317 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:16,317 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:16,317 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:16,318 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:16,318 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:16,319 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:16.318973+07:00
2025-10-04 03:37:16,319 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:16.318973+07:00
2025-10-04 03:37:16,319 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:16.318973+07:00 trong DST: True
2025-10-04 03:37:16,319 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:16,320 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:16,320 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:16,321 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:16,321 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:16,321 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:16,322 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:16,322 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:16,323 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:16,323 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:16,324 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:16,324 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:16,324 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:16,325 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:16,325 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:16,325 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:16,326 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:16,326 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:16,327 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:16,327 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:16,327 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:16,328 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:17,339 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:17,340 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:17,340 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:17,340 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (27.52s < 300s), bỏ qua làm mới.
2025-10-04 03:37:17,341 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:17,341 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:17,341 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:17,342 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:17,342 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:17,342 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:17,343 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:17,343 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:17,343 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:17,344 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:17,347 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:17,367 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:17,493 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:17,494 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:17,495 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:17,496 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:17,497 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:17,497 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:17,498 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:17,499 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:17,499 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:17,499 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:17,500 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:17,501 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:17,502 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:17,502 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:17,502 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:17,503 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:17,503 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:17,503 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:17,504 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:17,504 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:17,504 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:17,505 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:17,505 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:17,505 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:17,506 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:17,506 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:17.506601+07:00
2025-10-04 03:37:17,507 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:17.506601+07:00
2025-10-04 03:37:17,507 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:17.506601+07:00 trong DST: True
2025-10-04 03:37:17,507 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:17,507 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:17,508 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:17,508 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:17,508 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:17,509 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:17,509 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:17,509 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:17,509 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:17,510 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:17,510 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:17,511 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:17,511 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:17,511 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:17,512 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:17,512 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:17,512 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:17,513 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:17,513 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:17,513 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:17,514 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:17,514 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:18,527 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:18,528 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:18,528 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:18,529 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (28.71s < 300s), bỏ qua làm mới.
2025-10-04 03:37:18,529 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:18,529 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:18,530 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:18,530 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:18,530 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:18,531 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:18,531 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:18,531 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:18,532 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:18,532 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:18,534 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:18,553 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:18,675 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:18,676 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:18,676 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:18,678 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:18,678 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:18,679 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:18,680 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:18,681 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:18,681 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:18,682 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:18,682 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:18,682 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:18,685 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:18,695 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:18,695 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:18,696 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:18,696 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:18,697 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:18,698 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:18,698 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:18,698 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:18,699 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:18,699 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:18,699 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:18,699 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:18,700 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:18.700077+07:00
2025-10-04 03:37:18,700 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:18.700077+07:00
2025-10-04 03:37:18,700 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:18.700077+07:00 trong DST: True
2025-10-04 03:37:18,701 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:18,701 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:18,701 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:18,702 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:18,702 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:18,703 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:18,703 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:18,703 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:18,704 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:18,704 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:18,705 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:18,705 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:18,706 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:18,706 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:18,706 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:18,707 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:18,707 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:18,707 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:18,707 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:18,708 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:18,708 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:18,708 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:19,708 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:19,709 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:19,709 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:19,710 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (29.89s < 300s), bỏ qua làm mới.
2025-10-04 03:37:19,710 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:19,710 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:19,711 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:19,711 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:19,711 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:19,712 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:19,712 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:19,712 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:19,712 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:19,713 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:19,716 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:19,738 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:19,862 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:19,863 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:19,863 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:19,865 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:19,865 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:19,866 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:19,867 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:19,868 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:19,869 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:19,869 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:19,870 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:19,870 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:19,871 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:19,872 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:19,872 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:19,872 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:19,873 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:19,873 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:19,874 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:19,874 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:19,874 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:19,875 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:19,875 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:19,875 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:19,876 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:19,876 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:19.876322+07:00
2025-10-04 03:37:19,876 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:19.876322+07:00
2025-10-04 03:37:19,876 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:19.876322+07:00 trong DST: True
2025-10-04 03:37:19,877 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:19,877 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:19,877 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:19,877 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:19,878 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:19,878 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:19,879 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:19,879 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:19,879 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:19,880 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:19,880 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:19,880 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:19,881 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:19,881 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:19,881 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:19,882 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:19,882 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:19,882 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:19,883 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:19,883 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:19,883 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:19,884 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:20,889 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:20,890 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:20,890 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:20,890 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (31.07s < 300s), bỏ qua làm mới.
2025-10-04 03:37:20,891 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:20,891 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:20,891 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:20,892 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:20,892 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:20,892 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:20,893 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:20,893 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:20,893 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:20,893 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:20,908 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:20,936 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:21,087 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:21,088 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:21,089 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:21,090 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:21,090 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:21,091 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:21,092 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:21,093 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:21,093 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:21,094 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:21,094 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:21,095 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:21,096 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:21,096 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:21,097 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:21,097 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:21,108 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:21,108 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:21,110 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:21,111 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:21,111 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:21,111 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:21,112 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:21,112 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:21,112 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:21,113 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:21.113210+07:00
2025-10-04 03:37:21,113 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:21.113210+07:00
2025-10-04 03:37:21,114 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:21.113210+07:00 trong DST: True
2025-10-04 03:37:21,114 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:21,114 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:21,114 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:21,115 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:21,115 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:21,116 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:21,116 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:21,117 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:21,117 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:21,118 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:21,119 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:21,119 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:21,119 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:21,131 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:21,133 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:21,134 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:21,135 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:21,135 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:21,135 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:21,136 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:21,136 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:21,136 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:21,137 - src.core.app_logic - DEBUG - Bắt đầu _check_mt5_connection.
2025-10-04 03:37:21,145 - src.core.app_logic - DEBUG - MT5 Check: Kết nối vẫn hoạt động.
2025-10-04 03:37:21,146 - src.core.app_logic - DEBUG - Bắt đầu _schedule_next_autorun.
2025-10-04 03:37:21,146 - src.core.app_logic - DEBUG - Đã hủy tác vụ auto-run cũ.
2025-10-04 03:37:21,147 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Tự động chạy sau 60s.
2025-10-04 03:37:21,148 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:37:21,149 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Tự động chạy sau 60s.
2025-10-04 03:37:21,149 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:37:21,152 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:37:21,152 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:37:21,160 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:37:21,161 - src.core.app_logic - INFO - Đã lên lịch auto-run tiếp theo sau 60 giây.
2025-10-04 03:37:21,162 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:37:21,162 - src.core.app_logic - DEBUG - Kết thúc _schedule_next_autorun.
2025-10-04 03:37:21,163 - src.core.app_logic - DEBUG - Kết thúc _check_connection (thành công).
2025-10-04 03:37:21,212 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:37:21,214 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:37:21,216 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:37:21,217 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:37:21,336 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:37:22,139 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:22,140 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:22,140 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:22,141 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (32.32s < 300s), bỏ qua làm mới.
2025-10-04 03:37:22,141 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:22,141 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:22,142 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:22,142 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:22,142 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:22,142 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:22,143 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:22,143 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:22,143 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:22,144 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:22,146 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:22,164 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:22,287 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:22,288 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:22,289 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:22,290 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:22,290 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:22,291 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:22,292 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:22,293 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:22,293 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:22,293 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:22,294 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:22,294 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:22,295 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:22,295 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:22,296 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:22,296 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:22,296 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:22,297 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:22,297 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:22,297 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:22,298 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:22,298 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:22,298 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:22,299 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:22,299 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:22,299 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:22.299593+07:00
2025-10-04 03:37:22,300 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:22.299593+07:00
2025-10-04 03:37:22,300 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:22.299593+07:00 trong DST: True
2025-10-04 03:37:22,300 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:22,300 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:22,301 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:22,301 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:22,301 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:22,302 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:22,302 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:22,302 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:22,303 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:22,303 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:22,303 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:22,304 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:22,305 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:22,305 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:22,306 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:22,306 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:22,308 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:22,321 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:22,322 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:22,323 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:22,323 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:22,324 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:23,329 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:23,330 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:23,331 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:23,331 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (33.51s < 300s), bỏ qua làm mới.
2025-10-04 03:37:23,331 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:23,332 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:23,332 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:23,332 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:23,333 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:23,333 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:23,333 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:23,334 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:23,334 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:23,335 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:23,337 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:23,359 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:23,485 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:23,486 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:23,486 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:23,488 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:23,488 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:23,488 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:23,489 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:23,490 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:23,491 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:23,491 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:23,492 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:23,492 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:23,493 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:23,494 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:23,494 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:23,494 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:23,505 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:23,508 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:23,509 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:23,510 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:23,510 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:23,511 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:23,511 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:23,511 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:23,512 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:23,512 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:23.512473+07:00
2025-10-04 03:37:23,512 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:23.512473+07:00
2025-10-04 03:37:23,513 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:23.512473+07:00 trong DST: True
2025-10-04 03:37:23,513 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:23,513 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:23,513 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:23,514 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:23,514 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:23,515 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:23,515 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:23,516 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:23,516 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:23,516 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:23,517 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:23,518 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:23,518 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:23,518 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:23,518 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:23,519 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:23,519 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:23,519 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:23,520 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:23,520 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:23,521 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:23,521 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:24,528 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:24,528 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:24,529 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:24,529 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (34.71s < 300s), bỏ qua làm mới.
2025-10-04 03:37:24,529 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:24,530 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:24,530 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:24,530 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:24,530 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:24,531 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:24,531 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:24,531 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:24,532 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:24,532 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:24,535 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:24,557 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:24,681 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:24,681 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:24,682 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:24,684 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:24,684 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:24,684 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:24,685 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:24,686 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:24,687 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:24,687 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:24,687 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:24,688 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:24,688 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:24,689 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:24,689 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:24,700 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:24,701 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:24,701 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:24,702 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:24,703 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:24,703 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:24,704 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:24,704 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:24,704 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:24,704 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:24,705 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:24.705057+07:00
2025-10-04 03:37:24,705 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:24.705057+07:00
2025-10-04 03:37:24,705 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:24.705057+07:00 trong DST: True
2025-10-04 03:37:24,706 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:24,706 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:24,706 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:24,707 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:24,707 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:24,707 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:24,708 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:24,708 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:24,709 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:24,709 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:24,710 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:24,711 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:24,712 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:24,712 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:24,715 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:24,725 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:24,726 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:24,727 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:24,727 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:24,727 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:24,728 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:24,728 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:25,734 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:25,734 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:25,735 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:25,735 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (35.92s < 300s), bỏ qua làm mới.
2025-10-04 03:37:25,735 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:25,736 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:25,736 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:25,736 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:25,737 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:25,737 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:25,737 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:25,738 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:25,738 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:25,738 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:25,741 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:25,760 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:25,880 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:25,881 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:25,881 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:25,883 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:25,883 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:25,883 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:25,884 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:25,885 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:25,885 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:25,885 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:25,886 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:25,886 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:25,887 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:25,888 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:25,888 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:25,888 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:25,889 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:25,889 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:25,889 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:25,890 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:25,890 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:25,890 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:25,891 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:25,891 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:25,891 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:25,892 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:25.892086+07:00
2025-10-04 03:37:25,892 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:25.892086+07:00
2025-10-04 03:37:25,892 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:25.892086+07:00 trong DST: True
2025-10-04 03:37:25,893 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:25,893 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:25,893 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:25,893 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:25,894 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:25,894 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:25,895 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:25,895 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:25,895 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:25,895 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:25,896 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:25,896 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:25,897 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:25,897 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:25,898 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:25,898 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:25,898 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:25,899 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:25,899 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:25,899 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:25,900 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:25,900 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:26,903 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:26,904 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:26,904 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:26,905 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (37.09s < 300s), bỏ qua làm mới.
2025-10-04 03:37:26,905 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:26,905 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:26,905 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:26,906 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:26,906 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:26,906 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:26,906 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:26,907 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:26,907 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:26,908 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:26,911 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:26,929 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:27,050 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:27,051 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:27,051 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:27,053 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:27,053 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:27,053 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:27,055 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:27,056 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:27,056 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:27,057 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:27,057 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:27,058 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:27,059 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:27,059 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:27,059 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:27,060 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:27,071 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:27,071 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:27,072 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:27,073 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:27,073 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:27,073 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:27,074 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:27,074 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:27,074 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:27,075 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:27.075245+07:00
2025-10-04 03:37:27,075 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:27.075245+07:00
2025-10-04 03:37:27,075 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:27.075245+07:00 trong DST: True
2025-10-04 03:37:27,076 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:27,076 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:27,076 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:27,077 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:27,077 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:27,077 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:27,078 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:27,078 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:27,079 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:27,079 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:27,079 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:27,080 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:27,080 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:27,081 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:27,081 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:27,082 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:27,082 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:27,082 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:27,083 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:27,083 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:27,083 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:27,084 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:28,092 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:28,092 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:28,093 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:28,093 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (38.28s < 300s), bỏ qua làm mới.
2025-10-04 03:37:28,093 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:28,094 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:28,094 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:28,094 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:28,095 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:28,095 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:28,095 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:28,096 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:28,096 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:28,096 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:28,099 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:28,134 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:28,250 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:28,251 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:28,252 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:28,253 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:28,254 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:28,254 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:28,255 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:28,256 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:28,256 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:28,256 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:28,257 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:28,257 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:28,258 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:28,259 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:28,259 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:28,259 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:28,260 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:28,260 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:28,260 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:28,261 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:28,261 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:28,261 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:28,262 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:28,262 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:28,263 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:28,263 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:28.263396+07:00
2025-10-04 03:37:28,263 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:28.263396+07:00
2025-10-04 03:37:28,264 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:28.263396+07:00 trong DST: True
2025-10-04 03:37:28,264 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:28,264 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:28,265 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:28,265 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:28,266 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:28,266 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:28,266 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:28,267 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:28,267 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:28,268 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:28,269 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:28,269 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:28,270 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:28,270 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:28,270 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:28,271 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:28,271 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:28,272 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:28,272 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:28,273 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:28,273 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:28,274 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:29,280 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:29,280 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:29,281 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:29,281 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (39.46s < 300s), bỏ qua làm mới.
2025-10-04 03:37:29,281 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:29,282 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:29,282 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:29,282 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:29,283 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:29,283 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:29,283 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:29,283 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:29,284 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:29,284 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:29,287 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:29,311 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:29,433 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:29,434 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:29,434 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:29,436 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:29,436 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:29,437 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:29,438 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:29,439 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:29,440 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:29,441 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:29,442 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:29,442 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:29,445 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:29,462 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:29,464 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:29,464 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:29,477 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:29,479 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:29,479 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:29,480 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:29,480 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:29,481 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:29,482 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:29,482 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:29,483 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:29,483 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:29.483344+07:00
2025-10-04 03:37:29,483 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:29.483344+07:00
2025-10-04 03:37:29,484 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:29.483344+07:00 trong DST: True
2025-10-04 03:37:29,484 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:29,485 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:29,485 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:29,485 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:29,486 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:29,486 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:29,487 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:29,487 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:29,487 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:29,488 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:29,488 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:29,489 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:29,489 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:29,489 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:29,490 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:29,490 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:29,490 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:29,491 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:29,491 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:29,493 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:29,493 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:29,494 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:30,494 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:30,495 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:30,495 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:30,495 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (40.68s < 300s), bỏ qua làm mới.
2025-10-04 03:37:30,496 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:30,496 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:30,496 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:30,497 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:30,497 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:30,498 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:30,498 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:30,499 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:30,499 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:30,499 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:30,502 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:30,519 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:30,651 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:30,651 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:30,652 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:30,654 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:30,654 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:30,654 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:30,655 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:30,657 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:30,657 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:30,658 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:30,658 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:30,658 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:30,659 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:30,660 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:30,660 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:30,661 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:30,661 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:30,661 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:30,662 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:30,662 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:30,662 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:30,662 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:30,663 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:30,663 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:30,664 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:30,664 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:30.664437+07:00
2025-10-04 03:37:30,664 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:30.664437+07:00
2025-10-04 03:37:30,665 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:30.664437+07:00 trong DST: True
2025-10-04 03:37:30,665 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:30,665 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:30,665 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:30,666 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:30,666 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:30,666 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:30,667 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:30,667 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:30,667 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:30,667 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:30,668 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:30,669 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:30,669 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:30,670 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:30,670 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:30,670 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:30,671 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:30,671 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:30,671 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:30,672 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:30,672 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:30,672 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:31,686 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:31,687 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:31,688 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:31,688 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (41.87s < 300s), bỏ qua làm mới.
2025-10-04 03:37:31,688 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:31,689 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:31,689 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:31,689 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:31,690 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:31,690 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:31,690 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:31,691 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:31,691 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:31,691 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:31,694 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:31,719 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:31,945 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:31,946 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:31,946 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:31,948 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:31,948 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:31,948 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:31,949 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:31,950 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:31,950 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:31,951 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:31,951 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:31,951 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:31,953 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:31,953 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:31,953 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:31,954 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:31,954 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:31,954 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:31,959 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:31,962 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:31,963 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:31,964 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:31,965 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:31,965 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:31,966 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:31,966 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:31.966754+07:00
2025-10-04 03:37:31,967 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:31.966754+07:00
2025-10-04 03:37:31,967 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:31.966754+07:00 trong DST: True
2025-10-04 03:37:31,968 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:31,968 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:31,969 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:31,969 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:31,969 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:31,970 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:31,970 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:31,970 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:31,971 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:31,971 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:31,971 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:31,972 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:31,972 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:31,972 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:31,973 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:31,973 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:31,973 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:31,974 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:31,974 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:31,974 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:31,975 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:31,975 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:32,986 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:32,986 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:32,987 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:32,987 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (43.17s < 300s), bỏ qua làm mới.
2025-10-04 03:37:32,987 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:32,988 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:32,988 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:32,988 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:32,989 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:32,989 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:32,989 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:32,990 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:32,990 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:32,990 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:32,993 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:33,012 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:33,134 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:33,135 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:33,135 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:33,137 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:33,137 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:33,138 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:33,139 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:33,139 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:33,140 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:33,140 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:33,141 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:33,141 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:33,142 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:33,142 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:33,143 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:33,143 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:33,143 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:33,144 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:33,144 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:33,144 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:33,145 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:33,145 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:33,145 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:33,145 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:33,146 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:33,146 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:33.146717+07:00
2025-10-04 03:37:33,147 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:33.146717+07:00
2025-10-04 03:37:33,147 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:33.146717+07:00 trong DST: True
2025-10-04 03:37:33,147 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:33,148 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:33,148 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:33,148 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:33,149 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:33,149 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:33,149 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:33,150 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:33,150 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:33,151 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:33,153 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:33,163 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:33,163 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:33,164 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:33,165 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:33,165 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:33,166 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:33,166 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:33,166 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:33,166 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:33,167 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:33,167 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:34,181 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:34,181 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:34,182 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:34,182 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (44.36s < 300s), bỏ qua làm mới.
2025-10-04 03:37:34,182 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:34,183 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:34,183 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:34,184 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:34,184 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:34,184 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:34,185 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:34,185 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:34,185 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:34,186 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:34,188 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:34,212 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:34,340 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:34,341 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:34,341 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:34,343 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:34,343 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:34,343 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:34,344 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:34,345 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:34,346 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:34,346 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:34,346 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:34,347 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:34,348 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:34,349 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:34,349 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:34,349 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:34,350 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:34,350 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:34,351 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:34,351 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:34,351 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:34,351 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:34,352 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:34,352 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:34,352 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:34,353 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:34.353488+07:00
2025-10-04 03:37:34,354 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:34.353488+07:00
2025-10-04 03:37:34,354 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:34.353488+07:00 trong DST: True
2025-10-04 03:37:34,354 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:34,355 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:34,355 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:34,355 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:34,356 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:34,356 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:34,357 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:34,357 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:34,357 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:34,358 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:34,358 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:34,359 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:34,359 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:34,359 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:34,360 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:34,360 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:34,361 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:34,361 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:34,361 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:34,361 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:34,362 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:34,362 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:35,363 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:35,364 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:35,364 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:35,364 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (45.55s < 300s), bỏ qua làm mới.
2025-10-04 03:37:35,365 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:35,365 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:35,365 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:35,366 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:35,366 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:35,366 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:35,367 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:35,367 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:35,368 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:35,368 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:35,371 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:35,394 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:35,525 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:35,526 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:35,527 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:35,528 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:35,528 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:35,529 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:35,530 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:35,531 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:35,531 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:35,531 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:35,532 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:35,532 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:35,533 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:35,534 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:35,534 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:35,534 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:35,536 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:35,545 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:35,546 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:35,547 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:35,548 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:35,548 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:35,548 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:35,548 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:35,549 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:35,549 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:35.549536+07:00
2025-10-04 03:37:35,549 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:35.549536+07:00
2025-10-04 03:37:35,550 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:35.549536+07:00 trong DST: True
2025-10-04 03:37:35,550 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:35,551 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:35,551 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:35,551 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:35,552 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:35,552 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:35,552 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:35,553 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:35,553 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:35,553 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:35,554 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:35,554 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:35,556 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:35,556 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:35,556 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:35,557 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:35,557 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:35,561 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:35,570 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:35,571 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:35,571 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:35,572 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:36,573 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:36,573 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:36,574 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:36,574 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (46.76s < 300s), bỏ qua làm mới.
2025-10-04 03:37:36,574 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:36,575 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:36,575 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:36,575 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:36,576 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:36,576 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:36,576 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:36,576 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:36,577 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:36,577 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:36,579 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:36,597 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:36,722 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:36,722 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:36,723 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:36,725 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:36,725 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:36,725 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:36,726 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:36,727 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:36,727 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:36,728 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:36,728 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:36,729 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:36,730 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:36,730 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:36,730 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:36,731 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:36,731 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:36,731 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:36,743 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:36,744 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:36,745 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:36,745 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:36,746 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:36,746 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:36,752 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:36,757 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:36.757684+07:00
2025-10-04 03:37:36,758 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:36.757684+07:00
2025-10-04 03:37:36,758 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:36.757684+07:00 trong DST: True
2025-10-04 03:37:36,759 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:36,759 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:36,759 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:36,760 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:36,760 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:36,760 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:36,761 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:36,761 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:36,761 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:36,762 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:36,762 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:36,763 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:36,763 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:36,764 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:36,764 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:36,764 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:36,765 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:36,765 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:36,766 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:36,766 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:36,766 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:36,767 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:37,776 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:37,777 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:37,777 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:37,777 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (47.96s < 300s), bỏ qua làm mới.
2025-10-04 03:37:37,778 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:37,778 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:37,779 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:37,779 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:37,779 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:37,780 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:37,780 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:37,780 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:37,781 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:37,781 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:37,784 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:37,805 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:37,933 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:37,934 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:37,935 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:37,936 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:37,937 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:37,937 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:37,938 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:37,939 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:37,939 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:37,939 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:37,940 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:37,940 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:37,941 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:37,942 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:37,942 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:37,942 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:37,943 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:37,943 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:37,943 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:37,944 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:37,944 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:37,944 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:37,945 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:37,945 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:37,945 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:37,946 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:37.945958+07:00
2025-10-04 03:37:37,946 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:37.945958+07:00
2025-10-04 03:37:37,946 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:37.945958+07:00 trong DST: True
2025-10-04 03:37:37,946 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:37,947 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:37,947 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:37,947 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:37,948 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:37,948 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:37,949 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:37,949 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:37,949 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:37,950 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:37,950 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:37,951 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:37,951 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:37,951 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:37,952 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:37,952 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:37,952 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:37,953 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:37,953 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:37,953 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:37,954 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:37,954 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:38,957 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:38,957 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:38,958 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:38,958 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (49.14s < 300s), bỏ qua làm mới.
2025-10-04 03:37:38,958 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:38,958 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:38,959 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:38,959 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:38,959 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:38,960 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:38,960 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:38,960 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:38,961 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:38,961 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:38,963 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:38,981 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:39,104 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:39,105 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:39,105 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:39,107 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:39,107 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:39,107 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:39,108 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:39,109 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:39,110 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:39,110 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:39,110 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:39,111 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:39,112 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:39,112 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:39,113 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:39,113 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:39,113 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:39,124 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:39,125 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:39,127 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:39,127 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:39,128 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:39,128 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:39,128 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:39,129 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:39,129 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:39.129260+07:00
2025-10-04 03:37:39,129 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:39.129260+07:00
2025-10-04 03:37:39,130 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:39.129260+07:00 trong DST: True
2025-10-04 03:37:39,130 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:39,130 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:39,131 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:39,131 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:39,131 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:39,132 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:39,132 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:39,132 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:39,133 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:39,133 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:39,134 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:39,134 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:39,134 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:39,135 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:39,135 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:39,135 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:39,136 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:39,136 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:39,137 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:39,137 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:39,137 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:39,138 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:40,151 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:40,152 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:40,152 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:40,153 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (50.34s < 300s), bỏ qua làm mới.
2025-10-04 03:37:40,153 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:40,153 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:40,154 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:40,154 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:40,154 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:40,155 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:40,155 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:40,155 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:40,155 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:40,156 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:40,158 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:40,181 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:40,394 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:40,394 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:40,395 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:40,397 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:40,397 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:40,397 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:40,398 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:40,399 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:40,400 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:40,400 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:40,401 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:40,401 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:40,402 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:40,402 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:40,403 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:40,403 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:40,404 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:40,404 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:40,405 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:40,405 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:40,454 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:40,454 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:40,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:40,459 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:40,460 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:40,462 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:40.462896+07:00
2025-10-04 03:37:40,464 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:40.462896+07:00
2025-10-04 03:37:40,465 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:40.462896+07:00 trong DST: True
2025-10-04 03:37:40,480 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:40,481 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:40,482 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:40,482 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:40,482 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:40,483 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:40,483 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:40,484 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:40,484 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:40,484 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:40,485 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:40,486 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:40,486 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:40,486 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:40,487 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:40,487 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:40,488 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:40,488 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:40,488 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:40,489 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:40,489 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:40,489 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:41,498 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:41,498 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:41,499 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:41,499 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (51.68s < 300s), bỏ qua làm mới.
2025-10-04 03:37:41,499 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:41,500 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:41,500 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:41,500 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:41,501 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:41,501 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:41,501 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:41,502 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:41,502 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:41,502 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:41,506 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:41,525 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:41,647 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:41,648 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:41,648 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:41,651 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:41,651 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:41,651 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:41,652 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:41,654 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:41,654 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:41,655 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:41,655 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:41,655 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:41,667 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:41,668 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:41,669 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:41,669 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:41,670 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:41,670 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:41,671 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:41,671 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:41,671 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:41,672 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:41,672 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:41,673 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:41,673 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:41,673 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:41.673805+07:00
2025-10-04 03:37:41,674 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:41.673805+07:00
2025-10-04 03:37:41,674 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:41.673805+07:00 trong DST: True
2025-10-04 03:37:41,674 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:41,675 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:41,675 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:41,675 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:41,675 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:41,676 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:41,676 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:41,676 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:41,677 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:41,677 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:41,678 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:41,678 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:41,678 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:41,679 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:41,679 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:41,680 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:41,680 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:41,680 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:41,681 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:41,681 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:41,682 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:41,683 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:42,683 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:42,684 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:42,684 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:42,685 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (52.87s < 300s), bỏ qua làm mới.
2025-10-04 03:37:42,685 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:42,685 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:42,686 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:42,686 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:42,686 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:42,686 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:42,687 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:42,687 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:42,687 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:42,688 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:42,690 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:42,715 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:42,841 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:42,842 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:42,842 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:42,844 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:42,844 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:42,845 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:42,845 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:42,846 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:42,847 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:42,847 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:42,848 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:42,848 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:42,849 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:42,849 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:42,850 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:42,850 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:42,850 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:42,851 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:42,851 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:42,851 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:42,852 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:42,852 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:42,852 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:42,853 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:42,853 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:42,853 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:42.853746+07:00
2025-10-04 03:37:42,854 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:42.853746+07:00
2025-10-04 03:37:42,854 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:42.853746+07:00 trong DST: True
2025-10-04 03:37:42,854 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:42,855 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:42,855 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:42,855 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:42,856 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:42,856 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:42,856 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:42,857 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:42,857 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:42,857 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:42,858 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:42,858 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:42,859 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:42,859 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:42,860 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:42,860 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:42,860 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:42,861 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:42,861 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:42,861 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:42,862 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:42,862 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:43,875 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:43,876 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:43,876 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:43,876 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (54.06s < 300s), bỏ qua làm mới.
2025-10-04 03:37:43,877 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:43,877 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:43,878 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:43,878 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:43,878 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:43,879 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:43,879 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:43,879 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:43,880 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:43,880 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:43,882 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:43,901 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:44,022 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:44,023 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:44,023 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:44,026 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:44,026 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:44,027 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:44,028 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:44,029 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:44,029 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:44,029 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:44,030 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:44,030 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:44,032 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:44,042 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:44,043 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:44,044 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:44,044 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:44,044 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:44,045 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:44,045 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:44,045 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:44,046 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:44,046 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:44,047 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:44,047 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:44,047 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:44.047615+07:00
2025-10-04 03:37:44,048 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:44.047615+07:00
2025-10-04 03:37:44,048 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:44.047615+07:00 trong DST: True
2025-10-04 03:37:44,048 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:44,049 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:44,049 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:44,049 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:44,050 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:44,050 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:44,050 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:44,051 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:44,051 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:44,051 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:44,052 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:44,053 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:44,053 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:44,053 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:44,054 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:44,054 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:44,055 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:44,055 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:44,056 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:44,056 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:44,057 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:44,057 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:45,061 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:45,062 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:45,062 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:45,062 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (55.24s < 300s), bỏ qua làm mới.
2025-10-04 03:37:45,063 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:45,063 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:45,063 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:45,064 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:45,064 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:45,064 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:45,064 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:45,065 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:45,065 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:45,065 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:45,068 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:45,094 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:45,210 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:45,210 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:45,211 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:45,213 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:45,214 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:45,214 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:45,215 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:45,216 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:45,217 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:45,217 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:45,217 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:45,218 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:45,219 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:45,219 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:45,220 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:45,220 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:45,220 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:45,221 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:45,221 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:45,221 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:45,222 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:45,222 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:45,222 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:45,223 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:45,223 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:45,223 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:45.223930+07:00
2025-10-04 03:37:45,224 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:45.223930+07:00
2025-10-04 03:37:45,224 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:45.223930+07:00 trong DST: True
2025-10-04 03:37:45,225 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:45,225 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:45,225 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:45,225 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:45,226 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:45,226 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:45,226 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:45,227 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:45,227 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:45,227 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:45,228 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:45,228 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:45,229 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:45,229 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:45,229 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:45,229 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:45,230 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:45,230 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:45,230 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:45,230 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:45,231 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:45,231 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:46,231 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:46,231 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:46,232 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:46,232 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (56.41s < 300s), bỏ qua làm mới.
2025-10-04 03:37:46,233 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:46,233 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:46,233 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:46,234 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:46,234 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:46,234 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:46,235 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:46,235 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:46,235 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:46,236 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:46,239 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:46,258 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:46,380 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:46,381 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:46,381 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:46,382 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:46,383 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:46,383 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:46,384 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:46,385 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:46,385 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:46,386 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:46,386 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:46,387 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:46,388 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:46,388 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:46,389 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:46,402 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:46,403 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:46,403 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:46,404 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:46,404 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:46,405 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:46,405 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:46,405 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:46,406 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:46,406 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:46,406 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:46.406812+07:00
2025-10-04 03:37:46,407 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:46.406812+07:00
2025-10-04 03:37:46,407 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:46.406812+07:00 trong DST: True
2025-10-04 03:37:46,407 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:46,408 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:46,408 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:46,408 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:46,409 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:46,409 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:46,409 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:46,410 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:46,410 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:46,410 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:46,411 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:46,412 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:46,412 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:46,412 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:46,412 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:46,413 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:46,413 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:46,414 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:46,414 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:46,414 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:46,415 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:46,415 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:47,419 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:47,419 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:47,420 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:47,420 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (57.60s < 300s), bỏ qua làm mới.
2025-10-04 03:37:47,420 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:47,421 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:47,421 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:47,422 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:47,422 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:47,422 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:47,423 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:47,423 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:47,423 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:47,424 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:47,426 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:47,453 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:47,576 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:47,577 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:47,577 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:47,579 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:47,579 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:47,580 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:47,581 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:47,582 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:47,583 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:47,583 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:47,583 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:47,584 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:47,585 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:47,596 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:47,597 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:47,598 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:47,599 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:47,600 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:47,600 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:47,600 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:47,601 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:47,601 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:47,601 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:47,602 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:47,602 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:47,603 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:47.603011+07:00
2025-10-04 03:37:47,603 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:47.603011+07:00
2025-10-04 03:37:47,603 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:47.603011+07:00 trong DST: True
2025-10-04 03:37:47,604 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:47,604 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:47,604 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:47,604 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:47,605 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:47,605 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:47,605 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:47,606 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:47,606 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:47,606 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:47,607 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:47,608 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:47,608 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:47,608 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:47,609 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:47,609 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:47,609 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:47,610 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:47,610 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:47,610 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:47,611 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:47,611 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:48,623 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:48,624 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:48,624 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:48,624 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (58.81s < 300s), bỏ qua làm mới.
2025-10-04 03:37:48,625 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:48,625 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:48,625 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:48,626 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:48,626 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:48,626 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:48,627 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:48,627 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:48,627 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:48,627 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:48,630 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:48,648 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:48,769 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:48,770 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:48,770 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:48,772 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:48,772 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:48,773 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:48,774 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:48,776 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:48,776 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:48,777 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:48,777 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:48,778 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:48,780 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:48,790 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:48,791 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:48,792 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:48,792 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:48,793 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:48,793 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:48,794 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:48,794 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:48,794 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:48,795 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:48,795 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:48,795 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:48,796 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:48.796209+07:00
2025-10-04 03:37:48,796 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:48.796209+07:00
2025-10-04 03:37:48,796 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:48.796209+07:00 trong DST: True
2025-10-04 03:37:48,797 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:48,797 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:48,797 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:48,798 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:48,798 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:48,798 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:48,799 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:48,799 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:48,799 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:48,800 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:48,800 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:48,801 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:48,801 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:48,801 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:48,802 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:48,802 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:48,802 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:48,803 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:48,803 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:48,803 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:48,804 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:48,804 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:49,811 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:49,811 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:49,812 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:49,812 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (59.99s < 300s), bỏ qua làm mới.
2025-10-04 03:37:49,813 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:49,813 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:49,813 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:49,814 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:49,814 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:49,814 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:49,814 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:49,815 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:49,815 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:49,815 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:49,818 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:49,846 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:49,973 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:49,973 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:49,974 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:49,975 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:49,976 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:49,976 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:49,977 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:49,978 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:49,979 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:49,979 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:49,980 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:49,980 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:49,981 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:49,981 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:49,982 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:49,982 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:49,982 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:49,983 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:49,983 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:49,983 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:49,984 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:49,984 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:49,985 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:49,985 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:49,985 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:49,986 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:49.986208+07:00
2025-10-04 03:37:49,986 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:49.986208+07:00
2025-10-04 03:37:49,986 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:49.986208+07:00 trong DST: True
2025-10-04 03:37:49,987 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:49,987 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:49,987 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:49,987 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:49,988 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:49,988 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:49,989 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:49,989 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:49,989 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:49,990 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:49,990 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:49,991 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:49,991 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:49,992 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:49,992 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:49,992 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:49,993 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:49,993 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:49,993 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:49,994 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:49,994 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:49,995 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:51,001 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:51,002 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:51,002 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:51,003 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (61.19s < 300s), bỏ qua làm mới.
2025-10-04 03:37:51,003 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:51,003 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:51,003 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:51,004 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:51,004 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:51,004 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:51,005 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:51,005 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:51,005 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:51,006 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:51,008 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:51,030 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:51,151 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:51,152 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:51,152 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:51,154 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:51,154 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:51,154 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:51,155 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:51,156 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:51,157 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:51,157 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:51,158 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:51,158 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:51,159 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:51,159 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:51,160 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:51,160 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:51,162 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:51,171 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:51,173 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:51,173 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:51,174 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:51,174 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:51,175 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:51,175 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:51,175 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:51,176 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:51.176170+07:00
2025-10-04 03:37:51,176 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:51.176170+07:00
2025-10-04 03:37:51,177 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:51.176170+07:00 trong DST: True
2025-10-04 03:37:51,177 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:51,177 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:51,178 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:51,178 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:51,179 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:51,179 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:51,179 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:51,180 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:51,180 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:51,180 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:51,181 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:51,182 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:51,182 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:51,183 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:51,183 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:51,184 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:51,184 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:51,184 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:51,195 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:51,197 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:51,198 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:51,198 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:52,203 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:52,203 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:52,204 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:52,204 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (62.39s < 300s), bỏ qua làm mới.
2025-10-04 03:37:52,205 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:52,205 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:52,205 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:52,206 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:52,206 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:52,206 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:52,207 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:52,207 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:52,207 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:52,208 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:52,210 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:52,235 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:52,349 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:52,350 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:52,351 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:52,352 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:52,353 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:52,353 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:52,354 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:52,355 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:52,355 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:52,356 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:52,356 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:52,357 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:52,358 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:52,358 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:52,358 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:52,359 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:52,359 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:52,359 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:52,360 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:52,360 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:52,361 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:52,361 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:52,361 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:52,361 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:52,362 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:52,362 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:52.362711+07:00
2025-10-04 03:37:52,363 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:52.362711+07:00
2025-10-04 03:37:52,363 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:52.362711+07:00 trong DST: True
2025-10-04 03:37:52,363 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:52,364 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:52,364 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:52,364 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:52,364 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:52,365 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:52,365 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:52,366 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:52,366 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:52,366 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:52,367 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:52,367 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:52,367 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:52,368 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:52,368 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:52,369 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:52,369 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:52,369 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:52,370 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:52,382 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:52,384 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:52,385 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:53,389 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:53,389 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:53,390 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:53,390 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (63.57s < 300s), bỏ qua làm mới.
2025-10-04 03:37:53,390 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:53,391 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:53,391 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:53,391 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:53,392 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:53,392 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:53,392 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:53,393 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:53,393 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:53,393 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:53,396 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:53,414 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:53,549 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:53,550 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:53,550 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:53,552 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:53,552 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:53,552 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:53,553 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:53,554 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:53,555 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:53,555 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:53,556 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:53,556 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:53,557 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:53,557 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:53,558 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:53,558 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:53,560 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:53,571 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:53,572 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:53,573 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:53,573 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:53,574 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:53,574 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:53,574 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:53,575 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:53,575 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:53.575461+07:00
2025-10-04 03:37:53,575 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:53.575461+07:00
2025-10-04 03:37:53,576 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:53.575461+07:00 trong DST: True
2025-10-04 03:37:53,576 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:53,576 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:53,577 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:53,577 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:53,577 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:53,578 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:53,578 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:53,578 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:53,579 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:53,579 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:53,580 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:53,580 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:53,580 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:53,581 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:53,581 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:53,582 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:53,582 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:53,583 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:53,583 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:53,583 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:53,584 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:53,584 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:54,592 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:54,593 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:54,593 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:54,593 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (64.78s < 300s), bỏ qua làm mới.
2025-10-04 03:37:54,594 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:54,594 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:54,594 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:54,595 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:54,595 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:54,595 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:54,595 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:54,596 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:54,596 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:54,596 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:54,599 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:54,627 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:54,754 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:54,754 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:54,755 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:54,756 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:54,757 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:54,757 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:54,758 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:54,759 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:54,759 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:54,759 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:54,760 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:54,760 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:54,761 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:54,761 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:54,762 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:54,762 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:54,762 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:54,763 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:54,763 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:54,764 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:54,764 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:54,764 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:54,765 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:54,765 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:54,765 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:54,766 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:54.766002+07:00
2025-10-04 03:37:54,766 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:54.766002+07:00
2025-10-04 03:37:54,766 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:54.766002+07:00 trong DST: True
2025-10-04 03:37:54,767 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:54,767 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:54,768 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:54,768 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:54,768 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:54,769 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:54,769 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:54,769 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:54,770 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:54,770 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:54,771 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:54,771 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:54,771 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:54,772 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:54,772 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:54,772 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:54,773 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:54,773 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:54,773 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:54,774 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:54,774 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:54,774 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:55,781 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:55,781 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:55,782 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:55,782 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (65.96s < 300s), bỏ qua làm mới.
2025-10-04 03:37:55,782 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:55,783 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:55,783 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:55,783 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:55,784 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:55,784 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:55,784 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:55,785 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:55,785 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:55,785 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:55,788 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:55,811 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:55,933 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:55,934 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:55,934 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:55,936 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:55,936 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:55,937 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:55,938 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:55,939 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:55,939 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:55,939 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:55,940 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:55,940 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:55,941 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:55,942 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:55,942 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:55,942 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:55,944 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:55,954 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:55,954 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:55,955 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:55,956 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:55,956 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:55,957 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:55,957 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:55,958 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:55,958 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:55.958425+07:00
2025-10-04 03:37:55,958 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:55.958425+07:00
2025-10-04 03:37:55,959 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:55.958425+07:00 trong DST: True
2025-10-04 03:37:55,959 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:55,959 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:55,960 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:55,960 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:55,960 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:55,961 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:55,961 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:55,961 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:55,962 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:55,962 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:55,964 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:55,964 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:55,965 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:55,976 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:55,977 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:55,978 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:55,978 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:55,979 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:55,979 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:55,980 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:55,980 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:55,980 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:56,982 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:56,983 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:56,983 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:56,984 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (67.17s < 300s), bỏ qua làm mới.
2025-10-04 03:37:56,984 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:56,984 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:56,985 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:56,985 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:56,985 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:56,985 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:56,986 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:56,986 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:56,986 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:56,987 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:56,989 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:57,008 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:57,128 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:57,129 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:57,129 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:57,131 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:57,131 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:57,131 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:57,132 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:57,133 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:57,134 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:57,134 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:57,134 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:57,135 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:57,136 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:57,136 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:57,136 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:57,137 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:57,137 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:57,148 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:57,149 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:57,150 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:57,150 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:57,151 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:57,151 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:57,151 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:57,152 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:57,152 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:57.152310+07:00
2025-10-04 03:37:57,152 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:57.152310+07:00
2025-10-04 03:37:57,153 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:57.152310+07:00 trong DST: True
2025-10-04 03:37:57,153 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:57,153 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:57,154 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:57,160 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:57,165 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:57,166 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:57,166 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:57,167 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:57,168 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:57,168 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:57,169 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:57,169 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:57,170 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:57,170 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:57,171 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:57,171 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:57,171 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:57,172 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:57,172 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:57,172 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:57,172 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:57,173 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:58,173 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:58,173 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:58,174 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:58,174 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (68.36s < 300s), bỏ qua làm mới.
2025-10-04 03:37:58,175 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:58,175 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:58,175 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:58,176 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:58,176 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:58,176 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:58,177 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:58,177 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:58,177 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:58,178 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:58,181 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:58,199 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:58,429 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:58,430 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:58,430 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:58,432 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:58,432 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:58,433 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:58,433 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:58,435 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:58,435 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:58,436 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:58,436 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:58,436 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:58,438 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:58,450 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:58,450 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:58,453 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:58,454 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:58,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:58,458 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:58,458 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:58,459 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:58,459 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:58,459 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:58,460 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:58,460 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:58,461 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:58.461165+07:00
2025-10-04 03:37:58,461 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:58.461165+07:00
2025-10-04 03:37:58,462 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:58.461165+07:00 trong DST: True
2025-10-04 03:37:58,464 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:58,464 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:58,465 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:58,465 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:58,472 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:58,479 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:58,481 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:58,481 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:58,482 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:58,482 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:58,482 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:58,483 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:58,483 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:58,484 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:58,484 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:58,484 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:58,485 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:58,485 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:58,486 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:58,486 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:58,486 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:58,486 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:37:59,500 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:37:59,501 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:37:59,501 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:37:59,501 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (69.68s < 300s), bỏ qua làm mới.
2025-10-04 03:37:59,502 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:37:59,502 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:37:59,502 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:37:59,503 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:37:59,503 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:37:59,503 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:59,504 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:59,504 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:37:59,504 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:37:59,505 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:37:59,507 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:37:59,526 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:37:59,644 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:37:59,645 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:37:59,646 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:37:59,647 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:37:59,647 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:37:59,648 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:37:59,648 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:37:59,649 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:37:59,650 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:37:59,650 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:37:59,651 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:37:59,652 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:37:59,653 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:37:59,653 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:37:59,653 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:37:59,654 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:37:59,654 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:37:59,660 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:37:59,662 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:37:59,664 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:37:59,664 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:37:59,665 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:37:59,666 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:37:59,667 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:37:59,667 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:37:59,667 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:37:59.667860+07:00
2025-10-04 03:37:59,668 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:37:59.667860+07:00
2025-10-04 03:37:59,668 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:37:59.667860+07:00 trong DST: True
2025-10-04 03:37:59,668 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:37:59,669 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:37:59,669 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:37:59,669 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:59,670 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:37:59,670 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:37:59,670 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:37:59,670 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:37:59,671 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:37:59,671 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:37:59,671 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:37:59,672 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:37:59,672 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:37:59,673 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:37:59,673 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:37:59,673 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:37:59,674 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:37:59,674 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:37:59,674 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:37:59,675 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:37:59,675 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:37:59,675 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:00,688 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:00,688 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:00,689 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:00,689 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (70.87s < 300s), bỏ qua làm mới.
2025-10-04 03:38:00,689 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:00,690 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:00,690 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:00,690 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:00,691 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:00,691 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:00,691 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:00,692 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:00,692 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:00,692 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:00,696 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:00,724 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:00,847 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:00,848 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:00,849 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:00,851 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:00,851 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:00,851 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:00,852 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:00,853 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:00,854 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:00,854 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:00,855 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:00,855 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:00,856 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:00,857 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:00,857 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:00,857 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:00,858 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:00,858 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:00,859 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:00,859 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:00,859 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:00,860 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:00,860 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:00,860 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:00,861 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:00,861 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:00.861361+07:00
2025-10-04 03:38:00,861 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:00.861361+07:00
2025-10-04 03:38:00,862 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:00.861361+07:00 trong DST: True
2025-10-04 03:38:00,862 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:00,862 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:00,863 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:00,863 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:00,863 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:00,864 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:00,864 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:00,864 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:00,865 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:00,865 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:00,866 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:00,866 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:00,867 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:00,867 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:00,867 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:00,868 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:00,868 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:00,868 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:00,868 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:00,869 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:00,869 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:00,870 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:01,874 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:01,875 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:01,875 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:01,875 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (72.06s < 300s), bỏ qua làm mới.
2025-10-04 03:38:01,876 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:01,876 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:01,876 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:01,877 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:01,877 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:01,877 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:01,878 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:01,878 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:01,878 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:01,879 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:01,882 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:01,900 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:02,031 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:02,031 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:02,032 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:02,033 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:02,034 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:02,034 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:02,035 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:02,036 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:02,036 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:02,037 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:02,037 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:02,038 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:02,039 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:02,039 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:02,039 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:02,040 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:02,040 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:02,040 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:02,041 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:02,041 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:02,041 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:02,041 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:02,042 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:02,042 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:02,042 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:02,043 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:02.043309+07:00
2025-10-04 03:38:02,043 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:02.043309+07:00
2025-10-04 03:38:02,044 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:02.043309+07:00 trong DST: True
2025-10-04 03:38:02,044 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:02,045 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:02,045 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:02,045 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:02,046 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:02,046 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:02,046 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:02,047 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:02,047 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:02,047 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:02,048 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:02,048 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:02,049 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:02,049 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:02,049 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:02,050 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:02,050 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:02,050 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:02,051 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:02,051 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:02,051 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:02,052 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:03,062 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:03,062 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:03,063 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:03,063 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (73.25s < 300s), bỏ qua làm mới.
2025-10-04 03:38:03,063 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:03,064 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:03,064 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:03,065 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:03,065 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:03,065 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:03,065 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:03,066 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:03,066 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:03,066 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:03,069 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:03,092 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:03,212 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:03,213 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:03,215 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:03,217 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:03,217 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:03,217 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:03,219 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:03,220 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:03,220 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:03,220 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:03,221 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:03,221 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:03,222 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:03,224 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:03,234 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:03,234 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:03,235 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:03,236 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:03,236 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:03,237 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:03,237 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:03,238 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:03,238 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:03,238 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:03,238 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:03,239 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:03.239248+07:00
2025-10-04 03:38:03,239 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:03.239248+07:00
2025-10-04 03:38:03,240 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:03.239248+07:00 trong DST: True
2025-10-04 03:38:03,240 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:03,240 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:03,241 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:03,241 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:03,241 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:03,242 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:03,242 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:03,242 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:03,243 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:03,243 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:03,243 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:03,245 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:03,246 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:03,246 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:03,246 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:03,247 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:03,259 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:03,261 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:03,261 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:03,261 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:03,262 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:03,262 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:04,266 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:04,267 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:04,267 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:04,268 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (74.45s < 300s), bỏ qua làm mới.
2025-10-04 03:38:04,268 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:04,268 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:04,269 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:04,269 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:04,269 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:04,269 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:04,270 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:04,270 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:04,270 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:04,271 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:04,274 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:04,295 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:04,413 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:04,414 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:04,414 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:04,416 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:04,416 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:04,417 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:04,418 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:04,419 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:04,420 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:04,420 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:04,420 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:04,421 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:04,422 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:04,422 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:04,434 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:04,435 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:04,436 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:04,437 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:04,437 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:04,438 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:04,438 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:04,438 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:04,439 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:04,440 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:04,441 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:04,441 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:04.441893+07:00
2025-10-04 03:38:04,443 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:04.441893+07:00
2025-10-04 03:38:04,443 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:04.441893+07:00 trong DST: True
2025-10-04 03:38:04,444 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:04,444 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:04,445 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:04,445 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:04,446 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:04,446 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:04,447 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:04,447 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:04,447 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:04,448 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:04,448 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:04,449 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:04,449 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:04,449 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:04,450 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:04,452 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:04,452 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:04,453 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:04,453 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:04,453 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:04,454 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:04,454 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:05,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:05,456 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:05,456 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:05,457 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (75.64s < 300s), bỏ qua làm mới.
2025-10-04 03:38:05,457 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:05,457 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:05,458 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:05,458 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:05,458 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:05,459 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:05,459 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:05,459 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:05,459 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:05,460 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:05,462 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:05,480 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:05,603 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:05,604 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:05,605 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:05,606 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:05,607 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:05,607 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:05,608 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:05,609 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:05,609 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:05,610 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:05,610 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:05,611 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:05,612 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:05,612 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:05,612 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:05,613 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:05,618 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:05,624 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:05,625 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:05,625 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:05,627 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:05,627 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:05,628 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:05,628 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:05,628 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:05,629 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:05.629177+07:00
2025-10-04 03:38:05,629 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:05.629177+07:00
2025-10-04 03:38:05,629 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:05.629177+07:00 trong DST: True
2025-10-04 03:38:05,630 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:05,630 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:05,630 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:05,631 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:05,631 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:05,631 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:05,632 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:05,632 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:05,632 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:05,633 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:05,633 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:05,634 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:05,634 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:05,634 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:05,635 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:05,635 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:05,635 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:05,636 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:05,636 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:05,636 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:05,637 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:05,637 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:06,639 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:06,640 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:06,640 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:06,641 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (76.82s < 300s), bỏ qua làm mới.
2025-10-04 03:38:06,641 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:06,641 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:06,641 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:06,642 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:06,642 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:06,642 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:06,643 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:06,643 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:06,643 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:06,644 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:06,646 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:06,672 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:06,791 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:06,791 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:06,792 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:06,793 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:06,794 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:06,794 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:06,795 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:06,796 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:06,797 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:06,797 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:06,798 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:06,798 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:06,799 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:06,810 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:06,811 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:06,812 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:06,813 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:06,813 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:06,814 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:06,814 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:06,814 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:06,815 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:06,815 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:06,815 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:06,816 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:06,816 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:06.816643+07:00
2025-10-04 03:38:06,817 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:06.816643+07:00
2025-10-04 03:38:06,817 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:06.816643+07:00 trong DST: True
2025-10-04 03:38:06,817 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:06,818 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:06,818 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:06,819 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:06,819 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:06,820 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:06,820 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:06,820 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:06,821 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:06,821 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:06,821 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:06,822 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:06,822 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:06,823 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:06,823 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:06,823 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:06,824 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:06,824 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:06,824 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:06,825 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:06,825 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:06,826 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:07,826 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:07,827 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:07,827 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:07,827 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (78.01s < 300s), bỏ qua làm mới.
2025-10-04 03:38:07,828 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:07,828 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:07,828 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:07,829 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:07,829 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:07,829 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:07,830 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:07,830 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:07,830 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:07,831 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:07,833 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:07,860 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:07,979 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:07,980 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:07,980 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:07,982 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:07,982 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:07,983 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:07,984 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:07,985 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:07,985 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:07,985 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:07,986 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:07,986 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:07,987 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:07,987 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:07,988 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:07,988 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:07,989 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:08,000 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:08,001 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:08,002 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:08,003 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:08,003 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:08,003 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:08,004 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:08,004 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:08,005 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:08.005046+07:00
2025-10-04 03:38:08,005 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:08.005046+07:00
2025-10-04 03:38:08,005 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:08.005046+07:00 trong DST: True
2025-10-04 03:38:08,006 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:08,006 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:08,006 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:08,006 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:08,007 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:08,007 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:08,008 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:08,008 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:08,008 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:08,009 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:08,010 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:08,010 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:08,010 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:08,011 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:08,011 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:08,012 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:08,012 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:08,012 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:08,013 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:08,013 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:08,013 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:08,013 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:09,016 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:09,016 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:09,017 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:09,017 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (79.20s < 300s), bỏ qua làm mới.
2025-10-04 03:38:09,017 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:09,018 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:09,018 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:09,018 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:09,019 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:09,019 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:09,019 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:09,020 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:09,020 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:09,021 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:09,024 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:09,051 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:09,169 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:09,170 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:09,171 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:09,172 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:09,172 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:09,173 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:09,174 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:09,174 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:09,175 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:09,175 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:09,176 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:09,176 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:09,177 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:09,177 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:09,178 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:09,178 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:09,189 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:09,190 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:09,191 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:09,191 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:09,192 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:09,192 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:09,192 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:09,193 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:09,193 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:09,193 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:09.193833+07:00
2025-10-04 03:38:09,194 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:09.193833+07:00
2025-10-04 03:38:09,194 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:09.193833+07:00 trong DST: True
2025-10-04 03:38:09,194 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:09,195 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:09,195 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:09,195 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:09,196 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:09,196 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:09,197 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:09,197 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:09,197 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:09,198 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:09,198 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:09,199 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:09,199 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:09,200 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:09,200 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:09,200 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:09,201 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:09,201 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:09,202 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:09,202 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:09,202 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:09,203 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:10,204 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:10,204 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:10,205 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:10,205 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (80.39s < 300s), bỏ qua làm mới.
2025-10-04 03:38:10,205 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:10,206 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:10,206 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:10,206 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:10,207 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:10,207 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:10,207 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:10,208 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:10,208 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:10,208 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:10,211 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:10,229 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:10,351 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:10,352 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:10,352 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:10,354 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:10,354 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:10,354 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:10,355 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:10,356 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:10,356 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:10,357 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:10,357 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:10,358 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:10,359 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:10,359 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:10,360 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:10,360 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:10,360 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:10,372 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:10,374 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:10,375 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:10,375 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:10,376 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:10,377 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:10,377 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:10,377 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:10,378 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:10.378131+07:00
2025-10-04 03:38:10,378 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:10.378131+07:00
2025-10-04 03:38:10,378 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:10.378131+07:00 trong DST: True
2025-10-04 03:38:10,379 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:10,379 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:10,379 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:10,380 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:10,380 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:10,380 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:10,381 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:10,381 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:10,382 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:10,382 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:10,382 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:10,383 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:10,383 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:10,384 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:10,384 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:10,384 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:10,385 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:10,385 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:10,385 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:10,385 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:10,386 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:10,386 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:11,388 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:11,388 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:11,389 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:11,389 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (81.57s < 300s), bỏ qua làm mới.
2025-10-04 03:38:11,390 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:11,390 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:11,390 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:11,391 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:11,391 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:11,391 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:11,392 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:11,392 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:11,392 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:11,393 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:11,396 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:11,414 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:11,538 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:11,539 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:11,540 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:11,541 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:11,541 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:11,542 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:11,543 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:11,544 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:11,544 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:11,544 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:11,545 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:11,545 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:11,546 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:11,547 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:11,547 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:11,548 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:11,549 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:11,551 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:11,559 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:11,560 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:11,561 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:11,561 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:11,562 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:11,562 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:11,562 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:11,563 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:11.563328+07:00
2025-10-04 03:38:11,563 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:11.563328+07:00
2025-10-04 03:38:11,564 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:11.563328+07:00 trong DST: True
2025-10-04 03:38:11,564 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:11,564 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:11,565 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:11,565 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:11,565 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:11,566 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:11,566 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:11,567 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:11,567 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:11,567 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:11,568 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:11,568 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:11,569 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:11,569 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:11,569 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:11,570 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:11,570 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:11,570 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:11,571 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:11,571 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:11,571 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:11,572 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:12,577 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:12,578 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:12,578 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:12,578 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (82.76s < 300s), bỏ qua làm mới.
2025-10-04 03:38:12,579 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:12,580 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:12,580 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:12,581 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:12,581 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:12,581 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:12,581 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:12,582 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:12,582 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:12,582 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:12,585 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:12,602 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:12,724 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:12,725 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:12,725 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:12,727 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:12,727 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:12,728 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:12,729 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:12,730 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:12,730 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:12,731 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:12,731 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:12,731 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:12,732 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:12,733 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:12,743 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:12,744 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:12,746 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:12,746 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:12,748 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:12,757 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:12,758 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:12,759 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:12,759 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:12,759 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:12,760 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:12,760 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:12.760452+07:00
2025-10-04 03:38:12,760 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:12.760452+07:00
2025-10-04 03:38:12,761 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:12.760452+07:00 trong DST: True
2025-10-04 03:38:12,761 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:12,761 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:12,761 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:12,762 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:12,762 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:12,762 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:12,763 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:12,763 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:12,763 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:12,764 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:12,764 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:12,765 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:12,765 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:12,765 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:12,766 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:12,766 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:12,767 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:12,767 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:12,768 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:12,768 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:12,768 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:12,769 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:13,771 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:13,772 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:13,772 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:13,773 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (83.96s < 300s), bỏ qua làm mới.
2025-10-04 03:38:13,773 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:13,774 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:13,774 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:13,774 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:13,774 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:13,775 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:13,775 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:13,775 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:13,776 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:13,776 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:13,780 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:13,804 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:13,925 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:13,926 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:13,927 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:13,928 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:13,929 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:13,929 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:13,930 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:13,931 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:13,931 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:13,931 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:13,932 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:13,933 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:13,934 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:13,934 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:13,934 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:13,935 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:13,935 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:13,935 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:13,936 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:13,936 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:13,937 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:13,937 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:13,937 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:13,938 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:13,938 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:13,939 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:13.939073+07:00
2025-10-04 03:38:13,939 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:13.939073+07:00
2025-10-04 03:38:13,939 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:13.939073+07:00 trong DST: True
2025-10-04 03:38:13,940 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:13,940 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:13,940 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:13,941 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:13,941 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:13,942 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:13,943 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:13,943 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:13,944 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:13,944 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:13,945 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:13,945 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:13,946 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:13,946 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:13,946 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:13,947 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:13,947 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:13,948 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:13,948 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:13,948 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:13,949 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:13,949 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:14,958 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:14,959 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:14,959 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:14,960 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (85.14s < 300s), bỏ qua làm mới.
2025-10-04 03:38:14,960 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:14,960 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:14,961 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:14,961 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:14,961 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:14,961 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:14,962 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:14,962 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:14,962 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:14,963 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:14,965 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:14,984 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:15,103 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:15,104 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:15,105 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:15,106 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:15,106 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:15,107 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:15,108 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:15,109 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:15,109 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:15,109 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:15,110 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:15,110 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:15,111 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:15,112 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:15,112 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:15,112 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:15,113 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:15,113 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:15,119 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:15,124 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:15,125 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:15,126 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:15,127 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:15,127 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:15,127 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:15,128 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:15.128212+07:00
2025-10-04 03:38:15,128 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:15.128212+07:00
2025-10-04 03:38:15,129 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:15.128212+07:00 trong DST: True
2025-10-04 03:38:15,129 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:15,129 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:15,130 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:15,130 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:15,130 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:15,131 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:15,131 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:15,131 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:15,132 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:15,132 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:15,132 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:15,133 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:15,133 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:15,134 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:15,134 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:15,134 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:15,135 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:15,135 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:15,136 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:15,136 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:15,136 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:15,137 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:16,144 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:16,144 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:16,145 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:16,145 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (86.33s < 300s), bỏ qua làm mới.
2025-10-04 03:38:16,145 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:16,146 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:16,146 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:16,146 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:16,147 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:16,147 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:16,147 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:16,148 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:16,148 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:16,148 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:16,151 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:16,169 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:16,306 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:16,307 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:16,307 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:16,309 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:16,310 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:16,310 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:16,311 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:16,312 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:16,313 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:16,313 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:16,314 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:16,314 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:16,316 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:16,326 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:16,328 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:16,329 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:16,329 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:16,329 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:16,330 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:16,330 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:16,331 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:16,331 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:16,332 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:16,332 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:16,332 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:16,333 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:16.332992+07:00
2025-10-04 03:38:16,333 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:16.332992+07:00
2025-10-04 03:38:16,333 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:16.332992+07:00 trong DST: True
2025-10-04 03:38:16,334 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:16,334 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:16,334 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:16,335 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:16,335 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:16,335 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:16,336 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:16,336 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:16,336 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:16,337 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:16,337 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:16,338 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:16,338 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:16,339 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:16,339 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:16,340 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:16,341 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:16,341 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:16,342 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:16,342 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:16,344 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:16,356 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:17,344 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:17,345 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:17,345 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:17,346 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (87.53s < 300s), bỏ qua làm mới.
2025-10-04 03:38:17,347 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:17,347 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:17,347 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:17,348 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:17,348 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:17,349 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:17,349 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:17,350 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:17,351 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:17,351 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:17,360 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:17,410 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:17,674 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:17,675 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:17,676 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:17,678 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:17,679 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:17,680 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:17,682 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:17,685 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:17,685 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:17,704 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:17,706 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:17,708 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:17,711 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:17,711 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:17,712 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:17,713 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:17,713 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:17,719 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:17,741 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:17,742 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:17,743 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:17,744 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:17,745 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:17,745 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:17,749 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:17,750 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:17.750416+07:00
2025-10-04 03:38:17,768 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:17.750416+07:00
2025-10-04 03:38:17,769 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:17.750416+07:00 trong DST: True
2025-10-04 03:38:17,770 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:17,771 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:17,772 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:17,772 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:17,773 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:17,774 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:17,775 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:17,775 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:17,777 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:17,780 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:17,782 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:17,806 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:17,807 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:17,809 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:17,810 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:17,812 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:17,830 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:17,832 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:17,833 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:17,833 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:17,834 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:17,835 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:17,837 - src.ui.app_ui - DEBUG - Gọi app_logic._mt5_connect từ UI.
2025-10-04 03:38:17,838 - src.core.app_logic - DEBUG - Bắt đầu _mt5_connect.
2025-10-04 03:38:17,868 - src.core.app_logic - INFO - MT5 Connect Success: MT5: đã kết nối (build 500)
2025-10-04 03:38:17,869 - src.core.app_logic - DEBUG - Bắt đầu _schedule_mt5_connection_check.
2025-10-04 03:38:17,870 - src.core.app_logic - DEBUG - Đã hủy tác vụ kiểm tra kết nối MT5 cũ.
2025-10-04 03:38:17,871 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:17,874 - src.core.app_logic - INFO - Đã lên lịch kiểm tra kết nối MT5 sau 30 giây.
2025-10-04 03:38:17,875 - src.core.app_logic - DEBUG - Kết thúc _schedule_mt5_connection_check.
2025-10-04 03:38:17,876 - src.core.app_logic - DEBUG - Kết thúc _mt5_connect (thành công).
2025-10-04 03:38:17,894 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:17,895 - src.utils.ui_utils - DEBUG - Hiển thị UI message. Kind: info, Title: MT5, Text: Kết nối thành công.
2025-10-04 03:38:17,896 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:17,897 - src.core.app_logic - DEBUG - Bắt đầu _schedule_mt5_connection_check.
2025-10-04 03:38:17,897 - src.core.app_logic - DEBUG - Đã hủy tác vụ kiểm tra kết nối MT5 cũ.
2025-10-04 03:38:17,898 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:17,898 - src.core.app_logic - INFO - Đã lên lịch kiểm tra kết nối MT5 sau 30 giây.
2025-10-04 03:38:17,899 - src.core.app_logic - DEBUG - Kết thúc _schedule_mt5_connection_check.
2025-10-04 03:38:17,899 - src.ui.app_ui - INFO - Kết nối MT5 thành công từ UI.
2025-10-04 03:38:18,214 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:18,215 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:18,839 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:18,840 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:18,840 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:18,840 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (89.02s < 300s), bỏ qua làm mới.
2025-10-04 03:38:18,841 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:18,841 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:18,841 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:18,842 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:18,842 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:18,842 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:18,843 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:18,843 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:18,844 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:18,844 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:18,847 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:18,866 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:18,997 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:18,998 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:18,998 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:19,000 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:19,000 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:19,000 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:19,001 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:19,002 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:19,003 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:19,003 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:19,004 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:19,004 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:19,005 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:19,005 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:19,005 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:19,006 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:19,006 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:19,007 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:19,007 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:19,007 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:19,008 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:19,008 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:19,008 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:19,009 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:19,009 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:19,009 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:19.009837+07:00
2025-10-04 03:38:19,010 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:19.009837+07:00
2025-10-04 03:38:19,010 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:19.009837+07:00 trong DST: True
2025-10-04 03:38:19,011 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:19,011 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:19,012 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:19,012 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:19,012 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:19,013 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:19,013 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:19,014 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:19,014 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:19,014 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:19,015 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:19,016 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:19,016 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:19,017 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:19,017 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:19,018 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:19,018 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:19,018 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:19,019 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:19,019 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:19,019 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:19,020 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:19,671 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:19,673 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:20,030 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:20,030 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:20,031 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:20,031 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (90.21s < 300s), bỏ qua làm mới.
2025-10-04 03:38:20,031 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:20,032 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:20,032 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:20,032 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:20,033 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:20,033 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:20,033 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:20,033 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:20,034 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:20,034 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:20,036 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:20,055 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:20,189 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:20,189 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:20,190 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:20,192 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:20,192 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:20,192 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:20,193 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:20,194 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:20,195 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:20,195 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:20,195 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:20,196 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:20,197 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:20,197 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:20,197 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:20,198 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:20,198 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:20,198 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:20,199 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:20,199 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:20,199 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:20,199 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:20,200 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:20,200 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:20,200 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:20,201 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:20.201475+07:00
2025-10-04 03:38:20,202 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:20.201475+07:00
2025-10-04 03:38:20,202 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:20.201475+07:00 trong DST: True
2025-10-04 03:38:20,202 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:20,203 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:20,203 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:20,203 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:20,204 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:20,204 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:20,205 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:20,205 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:20,206 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:20,206 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:20,207 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:20,207 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:20,207 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:20,208 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:20,208 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:20,209 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:20,209 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:20,209 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:20,210 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:20,210 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:20,211 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:20,211 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:21,152 - src.core.app_logic - DEBUG - Bắt đầu _autorun_tick.
2025-10-04 03:38:21,152 - src.core.app_logic - INFO - Auto-run: Không có phân tích đang chạy, bắt đầu phân tích mới.
2025-10-04 03:38:21,153 - src.core.app_logic - DEBUG - Bắt đầu start_analysis. App đang chạy: False
2025-10-04 03:38:21,153 - src.core.app_logic - WARNING - Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích.
2025-10-04 03:38:21,153 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích.
2025-10-04 03:38:21,154 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:21,154 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích.
2025-10-04 03:38:21,155 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:21,156 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:21,156 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:21,157 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:21,157 - src.ui.app_ui - DEBUG - Đang xóa tất cả kết quả phân tích.
2025-10-04 03:38:21,157 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:21,158 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:38:21,160 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:21,161 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:38:21,161 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:38:21,161 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã xoá kết quả khỏi giao diện.
2025-10-04 03:38:21,162 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:21,177 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã xoá kết quả khỏi giao diện.
2025-10-04 03:38:21,179 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:21,180 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:21,180 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:21,181 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:21,181 - src.ui.app_ui - DEBUG - Đã xóa kết quả phân tích khỏi giao diện và bộ nhớ.
2025-10-04 03:38:21,182 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:21,182 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đang nạp lại ảnh từ thư mục đã chọn...
2025-10-04 03:38:21,184 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:21,185 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:21,204 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đang nạp lại ảnh từ thư mục đã chọn...
2025-10-04 03:38:21,206 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:21,207 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:21,207 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:21,208 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:21,209 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:21,209 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:21,210 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:21,210 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:21,210 - src.ui.app_ui - DEBUG - Đang tải file từ thư mục: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:38:21,211 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:21,211 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:21,212 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:21,213 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:21,218 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:38:21,237 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:21,239 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:21,239 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:21,240 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:38:21,240 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:21,241 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:21,242 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:21,243 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:21,243 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:21,244 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:21,244 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:38:21,244 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:21,245 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:38:21,268 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:38:21,269 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:21,269 - src.ui.app_ui - DEBUG - Đã tải 4 file từ thư mục C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:38:21,270 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:38:21,271 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:38:21,272 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:21,272 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:38:21,272 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:21,273 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:38:21,273 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:21,274 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:38:21,274 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:21,274 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:38:21,275 - src.core.app_logic - DEBUG - Cấu hình snapshot cho worker: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:38:21,276 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Chưa xử lý.
2025-10-04 03:38:21,276 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:21,278 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Chưa xử lý.
2025-10-04 03:38:21,279 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:21,279 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Chưa xử lý.
2025-10-04 03:38:21,291 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:21,292 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Chưa xử lý.
2025-10-04 03:38:21,294 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:21,295 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:38:21,296 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:38:21,296 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 26
2025-10-04 03:38:21,297 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:21,297 - src.core.app_logic - INFO - Đang chuẩn bị dữ liệu và khởi chạy worker.
2025-10-04 03:38:21,298 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm run_analysis_worker.
2025-10-04 03:38:21,299 - src.core.app_logic - INFO - Đã khởi chạy luồng phân tích worker.
2025-10-04 03:38:21,299 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu run_analysis_worker với model: models/gemini-2.5-flash, folder: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:38:21,299 - src.core.app_logic - DEBUG - Kết thúc start_analysis.
2025-10-04 03:38:21,300 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào. Số ảnh: 4
2025-10-04 03:38:21,300 - src.core.app_logic - DEBUG - Kết thúc _autorun_tick.
2025-10-04 03:38:21,300 - src.core.worker_modules.main_worker - DEBUG - Model 'models/gemini-2.5-flash' được khởi tạo thành công.
2025-10-04 03:38:21,301 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 2: Kiểm tra điều kiện NO-RUN.
2025-10-04 03:38:21,301 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:21,302 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_all_preconditions.
2025-10-04 03:38:21,302 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_no_run_conditions.
2025-10-04 03:38:21,303 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_no_run_conditions. Kết quả: True, Lý do: Đang chạy trong các điều kiện cho phép.
2025-10-04 03:38:21,303 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:21,303 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_all_preconditions. Kết quả: True
2025-10-04 03:38:21,304 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:38:21,304 - src.core.worker_modules.main_worker - DEBUG - Không có điều kiện No-Run nào được kích hoạt.
2025-10-04 03:38:21,304 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:21,304 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh. Số ảnh cần xử lý: 4
2025-10-04 03:38:21,305 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:21,305 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:38:21,305 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:21,306 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135504.5610572
2025-10-04 03:38:21,306 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:38:21,306 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm load của UploadCache.
2025-10-04 03:38:21,308 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:21,310 - src.core.worker_modules.image_processor - DEBUG - Đã tải cache upload. Số mục: 0
2025-10-04 03:38:21,310 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:21,323 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png, optimize: False
2025-10-04 03:38:21,325 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:21,326 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:38:21,327 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:21,327 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:38:21,327 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_H1.png' được chuẩn bị để upload.
2025-10-04 03:38:21,328 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:21,328 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png, optimize: False
2025-10-04 03:38:21,329 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:38:21,329 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:38:21,329 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:21,330 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:38:21,330 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:21,331 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M1.png' được chuẩn bị để upload.
2025-10-04 03:38:21,331 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:21,331 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png, optimize: False
2025-10-04 03:38:21,332 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:21,332 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:38:21,332 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (91.51s < 300s), bỏ qua làm mới.
2025-10-04 03:38:21,333 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:38:21,333 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:21,334 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M15.png' được chuẩn bị để upload.
2025-10-04 03:38:21,334 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:21,334 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png, optimize: False
2025-10-04 03:38:21,335 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:21,335 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:38:21,335 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:21,336 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:38:21,336 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:21,336 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M5.png' được chuẩn bị để upload.
2025-10-04 03:38:21,337 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:21,337 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Đang upload....
2025-10-04 03:38:21,337 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:21,338 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:21,338 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:21,338 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Đang upload....
2025-10-04 03:38:21,339 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:21,340 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:21,341 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:21,341 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Đang upload....
2025-10-04 03:38:21,345 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:21,345 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:21,370 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Đang upload....
2025-10-04 03:38:21,371 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:21,372 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:21,390 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_images_parallel. Số file cần upload: 4
2025-10-04 03:38:21,441 - src.core.worker_modules.image_processor - DEBUG - Max workers: 4, steps_upload: 4, total_steps: 6
2025-10-04 03:38:21,452 - src.core.worker_modules.image_processor - DEBUG - Đã gán ThreadPoolExecutor vào app.active_executor.
2025-10-04 03:38:21,505 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_H1.png
2025-10-04 03:38:21,514 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M1.png
2025-10-04 03:38:21,546 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M15.png
2025-10-04 03:38:21,572 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M5.png
2025-10-04 03:38:21,578 - src.core.worker_modules.image_processor - DEBUG - Đã submit 4 tác vụ upload.
2025-10-04 03:38:21,627 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:21,635 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:21,640 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:21,643 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:21,643 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:21,644 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:21,649 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:21,707 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:21,708 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:21,709 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:21,709 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:21,710 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:21,712 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:21,712 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:21,713 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:21,718 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:21,719 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:21,720 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:21,721 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:21,737 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:21,745 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:21,781 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:21,782 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:21,798 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:21,799 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:21,799 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:21.799672+07:00
2025-10-04 03:38:21,800 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:21.799672+07:00
2025-10-04 03:38:21,800 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:21.799672+07:00 trong DST: True
2025-10-04 03:38:21,801 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:21,802 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:21,802 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:21,803 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:21,804 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:21,805 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:21,806 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:21,896 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:22,000 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:22,037 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:22,087 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:22,164 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:22,222 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:22,228 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:22,303 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:22,355 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:22,401 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:22,486 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:22,608 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:22,660 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:22,718 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:22,768 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:22,858 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:22,864 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:22,867 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:22,878 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:22,947 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:38:22,952 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:38:22,970 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:38:22,997 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:38:23,730 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:23,745 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:23,746 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:23,747 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (93.93s < 300s), bỏ qua làm mới.
2025-10-04 03:38:23,748 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:23,748 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:23,749 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:23,750 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:23,751 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:23,752 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:23,752 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:23,753 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:23,754 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:23,754 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:24,269 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:24,283 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:24,412 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:24,413 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:24,414 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:24,415 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:24,416 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:24,416 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:24,417 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:24,418 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:24,418 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:24,419 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:24,419 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:24,420 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:24,421 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:24,421 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:24,421 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:24,422 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:24,422 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:24,422 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:24,423 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:24,423 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:24,424 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:24,424 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:24,424 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:24,425 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:24,425 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:24,425 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:24.425687+07:00
2025-10-04 03:38:24,426 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:24.425687+07:00
2025-10-04 03:38:24,426 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:24.425687+07:00 trong DST: True
2025-10-04 03:38:24,426 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:24,427 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:24,427 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:24,427 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:24,428 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:24,428 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:24,429 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:24,429 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:24,429 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:24,430 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:24,430 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:24,431 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:24,431 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:24,431 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:24,432 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:24,432 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:24,433 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:24,433 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:24,433 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:24,434 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:24,434 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:24,434 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:25,272 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M5.png', remote_name: files/z2z29y24xybo.
2025-10-04 03:38:25,294 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_H1.png', remote_name: files/592do0byc0pa.
2025-10-04 03:38:25,319 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M5.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:38:25,320 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M5.png' đã ACTIVE.
2025-10-04 03:38:25,320 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:38:25,321 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 16.7%
2025-10-04 03:38:25,321 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:25,321 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Đã upload.
2025-10-04 03:38:25,321 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:25,322 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 1/4.
2025-10-04 03:38:25,348 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M1.png', remote_name: files/raucmj9bbhh7.
2025-10-04 03:38:25,351 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_H1.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:38:25,353 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_H1.png' đã ACTIVE.
2025-10-04 03:38:25,354 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:38:25,354 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 33.3%
2025-10-04 03:38:25,355 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:25,355 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Đã upload.
2025-10-04 03:38:25,356 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:25,356 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 2/4.
2025-10-04 03:38:25,363 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:25,363 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:25,364 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:25,364 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:25,404 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M1.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:38:25,404 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M1.png' đã ACTIVE.
2025-10-04 03:38:25,405 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:38:25,411 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 50.0%
2025-10-04 03:38:25,415 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:25,416 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Đã upload.
2025-10-04 03:38:25,417 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:25,417 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 3/4.
2025-10-04 03:38:25,434 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:25,435 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:25,435 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:25,436 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (95.62s < 300s), bỏ qua làm mới.
2025-10-04 03:38:25,440 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:25,441 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:25,445 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:25,448 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:25,449 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:25,494 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:25,499 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:25,515 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:25,550 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:25,607 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:25,637 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:25,641 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M15.png', remote_name: files/fxioqd7hqwdn.
2025-10-04 03:38:25,700 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:25,861 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:25,862 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M15.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:38:25,862 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:25,863 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M15.png' đã ACTIVE.
2025-10-04 03:38:25,863 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:25,864 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:38:25,865 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 66.7%
2025-10-04 03:38:25,866 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:25,866 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:25,866 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:25,867 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Đã upload.
2025-10-04 03:38:25,867 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:25,868 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:25,869 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:25,869 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 4/4.
2025-10-04 03:38:25,872 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:25,884 - src.core.worker_modules.image_processor - DEBUG - Đã dọn dẹp app.active_executor.
2025-10-04 03:38:25,886 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:25,887 - src.core.worker_modules.image_processor - DEBUG - Kết thúc upload_images_parallel. Tổng số file đã upload: 4.
2025-10-04 03:38:25,887 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:25,888 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:38:25,888 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:25,888 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135509.1434219
2025-10-04 03:38:25,889 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:25,889 - src.ui.app_ui - DEBUG - Cập nhật UI status: Upload xong 4 ảnh trong 4.58s
2025-10-04 03:38:25,890 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Upload xong 4 ảnh trong 4.58s
2025-10-04 03:38:25,890 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:25,890 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:25,891 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Upload xong 4 ảnh trong 4.58s
2025-10-04 03:38:25,891 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:25,892 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:25,892 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:25,892 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:25,893 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:25,893 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:25,893 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:25,894 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:25,894 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:25,895 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:25,895 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:25,895 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:25,896 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:25.896120+07:00
2025-10-04 03:38:25,896 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:25.896120+07:00
2025-10-04 03:38:25,896 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:25.896120+07:00 trong DST: True
2025-10-04 03:38:25,897 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:25,897 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:25,897 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:25,898 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:25,898 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:25,898 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:25,899 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:25,899 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:25,899 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:25,900 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:25,900 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:25,901 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:25,901 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:25,901 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:25,902 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:25,904 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:25,904 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:25,915 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:25,916 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:25,916 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:25,917 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:25,917 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:25,918 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:25,918 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:25,919 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:25,919 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:25,919 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:25,920 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:25,920 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:25,920 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:38:25,921 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:25,921 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:25,921 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135509.1763662
2025-10-04 03:38:25,922 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:25,922 - src.core.worker_modules.main_worker - DEBUG - Upload xong 4 ảnh trong 4.62s.
2025-10-04 03:38:25,924 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png, remote_name: files/592do0byc0pa
2025-10-04 03:38:25,932 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:38:25,982 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:25,983 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:25,985 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:25,987 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:25,987 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 12721:1759549042:7d15486f85fdfaef
2025-10-04 03:38:25,990 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:38:25,991 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:38:25,993 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:38:25,994 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png, remote_name: files/raucmj9bbhh7
2025-10-04 03:38:25,999 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:38:26,052 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 18431:1759549096:640702dd0fe8f90d
2025-10-04 03:38:26,055 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:38:26,055 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:38:26,056 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:38:26,057 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png, remote_name: files/fxioqd7hqwdn
2025-10-04 03:38:26,063 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:38:26,066 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 13778:1759549101:8dbe94c8a17a48b4
2025-10-04 03:38:26,067 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:38:26,068 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:38:26,080 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:38:26,082 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png, remote_name: files/z2z29y24xybo
2025-10-04 03:38:26,083 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:38:26,086 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 14075:1759549099:402252ab9019008d
2025-10-04 03:38:26,086 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:38:26,088 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:38:26,088 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:38:26,088 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm save của UploadCache. Số mục: 4
2025-10-04 03:38:26,092 - src.core.worker_modules.image_processor - ERROR - Lỗi khi lưu upload cache: keys must be str, int, float, bool or None, not WindowsPath
2025-10-04 03:38:26,107 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm save của UploadCache.
2025-10-04 03:38:26,110 - src.core.worker_modules.main_worker - DEBUG - Cache upload đã được cập nhật và lưu.
2025-10-04 03:38:26,111 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 4: Xây dựng ngữ cảnh và kiểm tra NO-TRADE.
2025-10-04 03:38:26,112 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:38:26,113 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135509.3682641
2025-10-04 03:38:26,114 - src.core.worker_modules.context_coordinator - DEBUG - Bắt đầu hàm prepare_and_build_context.
2025-10-04 03:38:26,115 - src.ui.app_ui - DEBUG - Gọi app_logic.compose_context từ UI với budget_chars: 2000.
2025-10-04 03:38:26,116 - src.core.app_logic - DEBUG - Bắt đầu hàm compose_context.
2025-10-04 03:38:26,116 - src.core.app_logic - DEBUG - Bắt đầu compose_context với budget_chars: 2000.
2025-10-04 03:38:26,119 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_compose.
2025-10-04 03:38:26,123 - src.core.context_builder - DEBUG - Bắt đầu hàm compose_context với budget_chars: 2000.
2025-10-04 03:38:26,124 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:38:26,143 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:38:26,146 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:38:26,147 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:38:26,148 - src.core.context_builder - DEBUG - Bắt đầu hàm parse_ctx_json_files từ thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, max_n: 20
2025-10-04 03:38:26,177 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251004_033700.json
2025-10-04 03:38:26,178 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131831.json
2025-10-04 03:38:26,179 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131722.json
2025-10-04 03:38:26,179 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131628.json
2025-10-04 03:38:26,180 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084623.json
2025-10-04 03:38:26,181 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084622.json
2025-10-04 03:38:26,181 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084620.json
2025-10-04 03:38:26,182 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084619.json
2025-10-04 03:38:26,183 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084615.json
2025-10-04 03:38:26,185 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251002_134838.json
2025-10-04 03:38:26,187 - src.core.context_builder - DEBUG - Đã parse 10 file context.
2025-10-04 03:38:26,187 - src.core.context_builder - DEBUG - Kết thúc hàm parse_ctx_json_files.
2025-10-04 03:38:26,187 - src.core.context_builder - DEBUG - Đã tải 10 historical contexts.
2025-10-04 03:38:26,202 - src.core.context_builder - DEBUG - Bắt đầu hàm summarize_checklist_trend với 10 items.
2025-10-04 03:38:26,202 - src.core.context_builder - DEBUG - Chỉ có 1 hoặc 0 item trong sequence, trend là flat.
2025-10-04 03:38:26,203 - src.core.context_builder - DEBUG - Kết thúc hàm summarize_checklist_trend (sequence quá ngắn).
2025-10-04 03:38:26,203 - src.core.context_builder - DEBUG - Trend checklist summary: {'trend': 'flat', 'enough_ratio': None}
2025-10-04 03:38:26,203 - src.core.context_builder - DEBUG - Có 3 detailed context items.
2025-10-04 03:38:26,204 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:38:26,204 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:38:26,204 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:38:26,204 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: ''
2025-10-04 03:38:26,205 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:38:26,205 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:38:26,206 - src.core.context_builder - DEBUG - Latest plan extracted: {'direction': None}
2025-10-04 03:38:26,206 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:38:26,207 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:38:26,207 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:38:26,207 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:38:26,208 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:38:26,208 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:38:26,209 - src.core.context_builder - DEBUG - Đã tạo 0 recent history summaries.
2025-10-04 03:38:26,209 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:38:26,209 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:38:26,210 - src.core.context_builder - DEBUG - MT5 enabled, bắt đầu xây dựng MT5 context.
2025-10-04 03:38:26,210 - src.ui.app_ui - DEBUG - Gọi mt5_utils.build_context_from_app từ UI.
2025-10-04 03:38:26,210 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context_from_app.
2025-10-04 03:38:26,211 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-04 03:38:26,212 - src.utils.mt5_utils - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-04 03:38:26,212 - src.utils.mt5_utils - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-04 03:38:26,212 - src.utils.mt5_utils - DEBUG - Current price (cp): 3887.107
2025-10-04 03:38:26,213 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-04 03:38:26,213 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-04 03:38:26,213 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-04 03:38:26,216 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-04 03:38:26,218 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:38:26,232 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-04 03:38:26,235 - src.utils.mt5_utils - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-04 03:38:26,237 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:38:26,237 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-04 03:38:26,239 - src.utils.mt5_utils - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-04 03:38:26,239 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:38:26,240 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-04 03:38:26,242 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-04 03:38:26,242 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:38:26,243 - src.utils.mt5_utils - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-04 03:38:26,243 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-04 03:38:26,368 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:38:26,368 - src.utils.mt5_utils - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:38:26,369 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-04 03:38:26,495 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-04 03:38:26,496 - src.utils.mt5_utils - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-04 03:38:26,497 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-04 03:38:26,621 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:38:26,622 - src.utils.mt5_utils - DEBUG - Đã lấy higher timeframe levels.
2025-10-04 03:38:26,622 - src.utils.mt5_utils - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-04 03:38:26,623 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-04 03:38:26,623 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:26,623 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:26.623728+07:00
2025-10-04 03:38:26,624 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:26.623728+07:00
2025-10-04 03:38:26,624 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:26.623728+07:00 trong DST: True
2025-10-04 03:38:26,624 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:26,625 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:26,625 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:26,625 - src.core.ict_analysis - DEBUG - Bắt đầu hàm get_session_liquidity với 96 rates, sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, now_hhmm: 10:38
2025-10-04 03:38:26,626 - src.core.ict_analysis - DEBUG - Kết thúc hàm get_session_liquidity. Kết quả: {}
2025-10-04 03:38:26,627 - src.utils.mt5_utils - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-04 03:38:26,628 - src.utils.mt5_utils - DEBUG - Rates trống, không thể tính VWAP.
2025-10-04 03:38:26,630 - src.utils.mt5_utils - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-04 03:38:26,631 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:38:26,631 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-04 03:38:26,632 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:38:26,632 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-04 03:38:26,632 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-04 03:38:26,633 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-04 03:38:26,633 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-04 03:38:26,634 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-04 03:38:26,634 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-04 03:38:26,634 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-04 03:38:26,635 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-04 03:38:26,635 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-04 03:38:26,636 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:38:26,636 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-04 03:38:26,637 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:38:26,637 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-04 03:38:26,637 - src.utils.mt5_utils - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-04 03:38:26,638 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-04 03:38:26,638 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-04 03:38:26,639 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:38:26,639 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-04 03:38:26,640 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-04 03:38:26,640 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-04 03:38:26,640 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:38:26,641 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-04 03:38:26,641 - src.utils.mt5_utils - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-04 03:38:26,642 - src.utils.mt5_utils - DEBUG - Volatility regime: trending
2025-10-04 03:38:26,642 - src.utils.mt5_utils - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:38:26,643 - src.utils.mt5_utils - DEBUG - Thêm PDH: 3897.216
2025-10-04 03:38:26,643 - src.utils.mt5_utils - DEBUG - Thêm PDL: 3819.397
2025-10-04 03:38:26,644 - src.utils.mt5_utils - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-04 03:38:26,644 - src.utils.mt5_utils - DEBUG - Thêm DO: 3863.536
2025-10-04 03:38:26,645 - src.utils.mt5_utils - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-04 03:38:26,645 - src.utils.mt5_utils - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-04 03:38:26,645 - src.utils.mt5_utils - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-04 03:38:26,646 - src.utils.mt5_utils - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-04 03:38:26,646 - src.utils.mt5_utils - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-04 03:38:26,647 - src.utils.mt5_utils - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:38:26,647 - src.utils.mt5_utils - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-04 03:38:26,648 - src.utils.mt5_utils - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-04 03:38:26,648 - src.utils.mt5_utils - DEBUG - Prev day close: 3862.472
2025-10-04 03:38:26,649 - src.utils.mt5_utils - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-04 03:38:26,649 - src.utils.mt5_utils - DEBUG - Position in day range: 0.8700959919813936
2025-10-04 03:38:26,649 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:26,649 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:26.649861+07:00
2025-10-04 03:38:26,650 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:26.649861+07:00
2025-10-04 03:38:26,650 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:26.649861+07:00 trong DST: True
2025-10-04 03:38:26,650 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:26,651 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:26,651 - src.core.ict_analysis - DEBUG - Bắt đầu hàm is_silver_bullet_window với now_hhmm: 10:38, kills: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:26,652 - src.core.ict_analysis - DEBUG - Không nằm trong cửa sổ Silver Bullet.
2025-10-04 03:38:26,652 - src.core.ict_analysis - DEBUG - Kết thúc hàm is_silver_bullet_window.
2025-10-04 03:38:26,652 - src.utils.mt5_utils - DEBUG - Killzone active: None, Mins to next killzone: 202
2025-10-04 03:38:26,653 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:26,653 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:38:26,654 - src.utils.mt5_utils - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-04 03:38:26,655 - src.utils.mt5_utils - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-04 03:38:26,656 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:38:26,656 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:38:26,656 - src.utils.mt5_utils - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-04 03:38:26,672 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:38:26,815 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3783.265
2025-10-04 03:38:26,815 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3760.112
2025-10-04 03:38:26,816 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3763.997
2025-10-04 03:38:26,816 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.936
2025-10-04 03:38:26,816 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3805.069
2025-10-04 03:38:26,817 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.812
2025-10-04 03:38:26,817 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3806.56
2025-10-04 03:38:26,817 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3831.428
2025-10-04 03:38:26,818 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3809.251
2025-10-04 03:38:26,818 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3833.647
2025-10-04 03:38:26,818 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3822.667
2025-10-04 03:38:26,819 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3834.062
2025-10-04 03:38:26,819 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3825.688
2025-10-04 03:38:26,819 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.242
2025-10-04 03:38:26,820 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.761
2025-10-04 03:38:26,820 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3793.174
2025-10-04 03:38:26,820 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3854.604
2025-10-04 03:38:26,821 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3849.372
2025-10-04 03:38:26,821 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3839.717
2025-10-04 03:38:26,822 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.87
2025-10-04 03:38:26,822 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.622
2025-10-04 03:38:26,823 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.624
2025-10-04 03:38:26,823 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.576
2025-10-04 03:38:26,823 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.937
2025-10-04 03:38:26,835 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3853.395
2025-10-04 03:38:26,835 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3895.417
2025-10-04 03:38:26,836 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.184
2025-10-04 03:38:26,837 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3878.867
2025-10-04 03:38:26,838 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.227
2025-10-04 03:38:26,838 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.948
2025-10-04 03:38:26,838 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.93
2025-10-04 03:38:26,839 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.062
2025-10-04 03:38:26,839 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.894
2025-10-04 03:38:26,840 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3870.082
2025-10-04 03:38:26,840 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.861
2025-10-04 03:38:26,841 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.758
2025-10-04 03:38:26,841 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3897.216
2025-10-04 03:38:26,842 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3819.397
2025-10-04 03:38:26,842 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.415
2025-10-04 03:38:26,842 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:38:26,854 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:38:26,855 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:38:26,857 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:38:26,857 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:38:26,857 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:38:26,858 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:38:26,858 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:38:26,858 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:38:26,859 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:38:26,859 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:38:26,860 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:38:26,860 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:38:26,860 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:38:26,861 - src.utils.mt5_utils - DEBUG - Liquidity levels cho H1: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:38:26,861 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:38:26,862 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4}
2025-10-04 03:38:26,862 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:38:26,862 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12}
2025-10-04 03:38:26,863 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13}
2025-10-04 03:38:26,863 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31}
2025-10-04 03:38:26,864 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32}
2025-10-04 03:38:26,864 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34}
2025-10-04 03:38:26,864 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37}
2025-10-04 03:38:26,865 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38}
2025-10-04 03:38:26,865 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39}
2025-10-04 03:38:26,865 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45}
2025-10-04 03:38:26,866 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50}
2025-10-04 03:38:26,866 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61}
2025-10-04 03:38:26,866 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62}
2025-10-04 03:38:26,867 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66}
2025-10-04 03:38:26,867 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90}
2025-10-04 03:38:26,867 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91}
2025-10-04 03:38:26,868 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95}
2025-10-04 03:38:26,868 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96}
2025-10-04 03:38:26,868 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:38:26,869 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112}
2025-10-04 03:38:26,869 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4} đã được fill.
2025-10-04 03:38:26,869 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:38:26,870 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12} đã được fill.
2025-10-04 03:38:26,870 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13} đã được fill.
2025-10-04 03:38:26,871 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31} đã được fill.
2025-10-04 03:38:26,874 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32} đã được fill.
2025-10-04 03:38:26,885 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34} đã được fill.
2025-10-04 03:38:26,885 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37} đã được fill.
2025-10-04 03:38:26,886 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38} đã được fill.
2025-10-04 03:38:26,886 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39} đã được fill.
2025-10-04 03:38:26,887 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45} đã được fill.
2025-10-04 03:38:26,887 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50} đã được fill.
2025-10-04 03:38:26,888 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61} đã được fill.
2025-10-04 03:38:26,888 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62} đã được fill.
2025-10-04 03:38:26,888 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66} đã được fill.
2025-10-04 03:38:26,888 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90} đã được fill.
2025-10-04 03:38:26,889 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91} đã được fill.
2025-10-04 03:38:26,889 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95} đã được fill.
2025-10-04 03:38:26,890 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96} đã được fill.
2025-10-04 03:38:26,890 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:38:26,891 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112} đã được fill.
2025-10-04 03:38:26,891 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}
2025-10-04 03:38:26,892 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}]
2025-10-04 03:38:26,892 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:38:26,892 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}
2025-10-04 03:38:26,892 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3867.201, 'bottom': 3854.751, 'bar_index': 110}
2025-10-04 03:38:26,893 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3844.879, 'bottom': 3819.397, 'bar_index': 91}
2025-10-04 03:38:26,893 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}
2025-10-04 03:38:26,893 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}]
2025-10-04 03:38:26,894 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:38:26,894 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3897.216, 'range_low': 3760.112, 'equilibrium': 3828.6639999999998, 'status': 'Premium'}
2025-10-04 03:38:26,894 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:38:26,895 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3778.612, 'bottom': 3764.679, 'bar_index': -27}
2025-10-04 03:38:26,895 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3787.543, 'bottom': 3763.997, 'bar_index': -23}
2025-10-04 03:38:26,895 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3819.611, 'bottom': 3806.443, 'bar_index': -15}
2025-10-04 03:38:26,896 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3818.552, 'bottom': 3806.56, 'bar_index': -13}
2025-10-04 03:38:26,896 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.722, 'bottom': 3838.031, 'bar_index': 1}
2025-10-04 03:38:26,896 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3867.242, 'bottom': 3845.851, 'bar_index': 3}
2025-10-04 03:38:26,897 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3871.761, 'bottom': 3854.92, 'bar_index': 6}
2025-10-04 03:38:26,897 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3814.639, 'bottom': 3798.264, 'bar_index': 10}
2025-10-04 03:38:26,897 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3854.604, 'bottom': 3820.442, 'bar_index': 14}
2025-10-04 03:38:26,898 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3860.87, 'bottom': 3847.177, 'bar_index': 19}
2025-10-04 03:38:26,898 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.941, 'bottom': 3858.997, 'bar_index': 30}
2025-10-04 03:38:26,898 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3865.226, 'bottom': 3852.894, 'bar_index': 47}
2025-10-04 03:38:26,899 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.858, 'bottom': 3873.413, 'bar_index': 55}
2025-10-04 03:38:26,899 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3845.401, 'bottom': 3827.234, 'bar_index': 62}
2025-10-04 03:38:26,899 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}
2025-10-04 03:38:26,900 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}
2025-10-04 03:38:26,900 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}
2025-10-04 03:38:26,900 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}]
2025-10-04 03:38:26,901 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho H1 đã được tính.
2025-10-04 03:38:26,902 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:38:26,903 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:38:26,903 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:38:26,904 - src.utils.mt5_utils - DEBUG - MSS cho H1 đã được tính.
2025-10-04 03:38:26,914 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 96 rates, lookback: 200
2025-10-04 03:38:26,916 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3858.531
2025-10-04 03:38:26,917 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:26,917 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:38:26,918 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:26,918 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.878
2025-10-04 03:38:26,919 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:26,919 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:38:26,919 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (97.10s < 300s), bỏ qua làm mới.
2025-10-04 03:38:26,920 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.326
2025-10-04 03:38:26,920 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:26,920 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3862.684
2025-10-04 03:38:26,921 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:26,921 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:38:26,921 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:26,922 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.953
2025-10-04 03:38:26,922 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:26,923 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:38:26,923 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:26,924 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3848.355
2025-10-04 03:38:26,924 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:26,924 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3843.125
2025-10-04 03:38:26,925 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:26,925 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3850.904
2025-10-04 03:38:26,925 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:26,926 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:38:26,926 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:26,926 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:38:26,927 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:26,927 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:38:26,930 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:26,930 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:38:26,942 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:38:26,955 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:38:26,955 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:26,955 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:38:26,956 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:38:26,956 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:38:26,957 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:38:26,957 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:38:26,957 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:38:26,966 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:38:27,004 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:38:27,017 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:38:27,033 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:38:27,071 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:38:27,109 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:27,110 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:38:27,110 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:27,111 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:38:27,111 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:27,111 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:38:27,113 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:38:27,114 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:27,114 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:38:27,114 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:27,115 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:38:27,115 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:27,116 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:38:27,117 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:27,117 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:38:27,118 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:38:27,118 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:27,119 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:38:27,119 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:27,119 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:38:27,120 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:27,120 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M15: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:38:27,121 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:27,122 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 96 rates, current_price: 3887.107
2025-10-04 03:38:27,122 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:27,123 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3}
2025-10-04 03:38:27,124 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7}
2025-10-04 03:38:27,124 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:27,124 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11}
2025-10-04 03:38:27,135 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:27,136 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23}
2025-10-04 03:38:27,136 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:27,137 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26}
2025-10-04 03:38:27,137 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:27,138 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:38:27,138 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:27,139 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:38:27,139 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:27,139 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42}
2025-10-04 03:38:27,140 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:27,140 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52}
2025-10-04 03:38:27,140 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:27,141 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57}
2025-10-04 03:38:27,141 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:27,141 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58}
2025-10-04 03:38:27,142 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:27,142 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:38:27,142 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:27,143 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65}
2025-10-04 03:38:27,143 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:27,144 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69}
2025-10-04 03:38:27,145 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:27,145 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74}
2025-10-04 03:38:27,145 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:27.145825+07:00
2025-10-04 03:38:27,146 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3} đã được fill.
2025-10-04 03:38:27,146 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:27.145825+07:00
2025-10-04 03:38:27,147 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7} đã được fill.
2025-10-04 03:38:27,147 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:27.145825+07:00 trong DST: True
2025-10-04 03:38:27,147 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11} đã được fill.
2025-10-04 03:38:27,148 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:27,148 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23} đã được fill.
2025-10-04 03:38:27,148 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:27,149 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26} đã được fill.
2025-10-04 03:38:27,149 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:27,150 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:38:27,150 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:27,150 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:38:27,151 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:27,151 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42} đã được fill.
2025-10-04 03:38:27,152 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:27,152 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52} đã được fill.
2025-10-04 03:38:27,152 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:27,153 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57} đã được fill.
2025-10-04 03:38:27,154 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:27,154 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58} đã được fill.
2025-10-04 03:38:27,154 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:27,155 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:38:27,155 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:27,155 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65} đã được fill.
2025-10-04 03:38:27,166 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:27,166 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69} đã được fill.
2025-10-04 03:38:27,168 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:27,168 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74} đã được fill.
2025-10-04 03:38:27,169 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:27,169 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}
2025-10-04 03:38:27,170 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:27,170 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}]
2025-10-04 03:38:27,170 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:27,171 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 96 rates, lookback: 100
2025-10-04 03:38:27,171 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:27,172 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}
2025-10-04 03:38:27,172 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:27,172 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}
2025-10-04 03:38:27,173 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:27,173 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3845.326, 'bottom': 3843.359, 'bar_index': 27}
2025-10-04 03:38:27,174 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:27,174 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}
2025-10-04 03:38:27,174 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:27,175 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}
2025-10-04 03:38:27,176 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:27,176 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}, {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}]
2025-10-04 03:38:27,177 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:27,177 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 96 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:38:27,179 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3838.081, 'equilibrium': 3864.906, 'status': 'Premium'}
2025-10-04 03:38:27,181 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 96 rates, lookback: 150
2025-10-04 03:38:27,189 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3858.046, 'bottom': 3854.205, 'bar_index': -48}
2025-10-04 03:38:27,197 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3855.466, 'bottom': 3849.361, 'bar_index': -32}
2025-10-04 03:38:27,205 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3848.913, 'bottom': 3839.835, 'bar_index': -29}
2025-10-04 03:38:27,215 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.766, 'bottom': 3843.897, 'bar_index': -22}
2025-10-04 03:38:27,230 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3863.085, 'bottom': 3857.792, 'bar_index': -13}
2025-10-04 03:38:27,231 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3862.923, 'bar_index': 8}
2025-10-04 03:38:27,232 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}
2025-10-04 03:38:27,234 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}
2025-10-04 03:38:27,235 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}
2025-10-04 03:38:27,235 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}]
2025-10-04 03:38:27,236 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M15 đã được tính.
2025-10-04 03:38:27,237 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 96 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:38:27,237 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:38:27,238 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:38:27,239 - src.utils.mt5_utils - DEBUG - MSS cho M15 đã được tính.
2025-10-04 03:38:27,240 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 180 rates, lookback: 200
2025-10-04 03:38:27,241 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:38:27,243 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.693
2025-10-04 03:38:27,244 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.917
2025-10-04 03:38:27,244 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:38:27,246 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.034
2025-10-04 03:38:27,246 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.033
2025-10-04 03:38:27,248 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.397
2025-10-04 03:38:27,249 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:38:27,264 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.323
2025-10-04 03:38:27,265 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.323
2025-10-04 03:38:27,266 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:38:27,267 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:38:27,268 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.587
2025-10-04 03:38:27,269 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.799
2025-10-04 03:38:27,270 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.325
2025-10-04 03:38:27,271 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.674
2025-10-04 03:38:27,272 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:38:27,273 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.889
2025-10-04 03:38:27,274 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:38:27,275 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.764
2025-10-04 03:38:27,276 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.914
2025-10-04 03:38:27,277 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.651
2025-10-04 03:38:27,278 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.875
2025-10-04 03:38:27,279 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3866.346
2025-10-04 03:38:27,283 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.433
2025-10-04 03:38:27,298 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:38:27,308 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.632
2025-10-04 03:38:27,321 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.646
2025-10-04 03:38:27,323 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:38:27,323 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.432
2025-10-04 03:38:27,323 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.573
2025-10-04 03:38:27,324 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.856
2025-10-04 03:38:27,325 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:38:27,326 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.152
2025-10-04 03:38:27,326 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:38:27,328 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.067
2025-10-04 03:38:27,328 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.802
2025-10-04 03:38:27,330 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.218
2025-10-04 03:38:27,330 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:38:27,330 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.209
2025-10-04 03:38:27,331 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.578
2025-10-04 03:38:27,332 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.963
2025-10-04 03:38:27,332 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3870.06
2025-10-04 03:38:27,334 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.583
2025-10-04 03:38:27,334 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:38:27,336 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:38:27,336 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.355
2025-10-04 03:38:27,336 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.03
2025-10-04 03:38:27,338 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:38:27,338 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3880.206
2025-10-04 03:38:27,339 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.522
2025-10-04 03:38:27,356 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3881.461
2025-10-04 03:38:27,358 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3882.092
2025-10-04 03:38:27,360 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:38:27,360 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:38:27,361 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.454
2025-10-04 03:38:27,361 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.959
2025-10-04 03:38:27,361 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.056
2025-10-04 03:38:27,362 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:38:27,362 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.593
2025-10-04 03:38:27,362 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:38:27,364 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.221
2025-10-04 03:38:27,364 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.978
2025-10-04 03:38:27,365 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.364
2025-10-04 03:38:27,366 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:38:27,367 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.771
2025-10-04 03:38:27,367 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.794
2025-10-04 03:38:27,367 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:38:27,369 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3881.367
2025-10-04 03:38:27,369 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.794
2025-10-04 03:38:27,369 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.241
2025-10-04 03:38:27,370 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:38:27,371 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3883.496
2025-10-04 03:38:27,372 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3879.981
2025-10-04 03:38:27,382 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.183
2025-10-04 03:38:27,388 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:38:27,391 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.019
2025-10-04 03:38:27,392 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:38:27,393 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:38:27,394 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:38:27,395 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:38:27,397 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:38:27,398 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:38:27,399 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:38:27,400 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:38:27,401 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:38:27,405 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:38:27,419 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M5: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:38:27,420 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 180 rates, current_price: 3887.107
2025-10-04 03:38:27,421 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2}
2025-10-04 03:38:27,421 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17}
2025-10-04 03:38:27,422 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27}
2025-10-04 03:38:27,422 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37}
2025-10-04 03:38:27,423 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40}
2025-10-04 03:38:27,423 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47}
2025-10-04 03:38:27,423 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48}
2025-10-04 03:38:27,424 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56}
2025-10-04 03:38:27,424 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63}
2025-10-04 03:38:27,425 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64}
2025-10-04 03:38:27,425 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68}
2025-10-04 03:38:27,426 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70}
2025-10-04 03:38:27,427 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:38:27,427 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81}
2025-10-04 03:38:27,427 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87}
2025-10-04 03:38:27,428 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88}
2025-10-04 03:38:27,428 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89}
2025-10-04 03:38:27,428 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106}
2025-10-04 03:38:27,429 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113}
2025-10-04 03:38:27,429 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119}
2025-10-04 03:38:27,430 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123}
2025-10-04 03:38:27,430 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124}
2025-10-04 03:38:27,430 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135}
2025-10-04 03:38:27,431 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142}
2025-10-04 03:38:27,431 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149}
2025-10-04 03:38:27,431 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151}
2025-10-04 03:38:27,432 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155}
2025-10-04 03:38:27,432 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163}
2025-10-04 03:38:27,433 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171}
2025-10-04 03:38:27,435 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:38:27,435 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:38:27,447 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2} đã được fill.
2025-10-04 03:38:27,448 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17} đã được fill.
2025-10-04 03:38:27,449 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27} đã được fill.
2025-10-04 03:38:27,449 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37} đã được fill.
2025-10-04 03:38:27,450 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40} đã được fill.
2025-10-04 03:38:27,450 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47} đã được fill.
2025-10-04 03:38:27,451 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48} đã được fill.
2025-10-04 03:38:27,451 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56} đã được fill.
2025-10-04 03:38:27,451 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63} đã được fill.
2025-10-04 03:38:27,452 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64} đã được fill.
2025-10-04 03:38:27,452 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68} đã được fill.
2025-10-04 03:38:27,452 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70} đã được fill.
2025-10-04 03:38:27,453 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:38:27,453 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81} đã được fill.
2025-10-04 03:38:27,453 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87} đã được fill.
2025-10-04 03:38:27,454 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88} đã được fill.
2025-10-04 03:38:27,454 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89} đã được fill.
2025-10-04 03:38:27,455 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106} đã được fill.
2025-10-04 03:38:27,455 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113} đã được fill.
2025-10-04 03:38:27,455 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119} đã được fill.
2025-10-04 03:38:27,456 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123} đã được fill.
2025-10-04 03:38:27,457 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124} đã được fill.
2025-10-04 03:38:27,457 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135} đã được fill.
2025-10-04 03:38:27,458 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142} đã được fill.
2025-10-04 03:38:27,458 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149} đã được fill.
2025-10-04 03:38:27,458 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151} đã được fill.
2025-10-04 03:38:27,459 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155} đã được fill.
2025-10-04 03:38:27,459 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163} đã được fill.
2025-10-04 03:38:27,459 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171} đã được fill.
2025-10-04 03:38:27,459 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:38:27,460 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:38:27,460 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}
2025-10-04 03:38:27,461 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}]
2025-10-04 03:38:27,461 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 180 rates, lookback: 100
2025-10-04 03:38:27,461 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}
2025-10-04 03:38:27,462 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}
2025-10-04 03:38:27,462 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}]
2025-10-04 03:38:27,462 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 180 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:38:27,463 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3850.904, 'equilibrium': 3871.3175, 'status': 'Premium'}
2025-10-04 03:38:27,463 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 180 rates, lookback: 150
2025-10-04 03:38:27,463 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3865.008, 'bottom': 3860.927, 'bar_index': 36}
2025-10-04 03:38:27,464 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3862.887, 'bottom': 3859.58, 'bar_index': 46}
2025-10-04 03:38:27,464 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3867.239, 'bar_index': 80}
2025-10-04 03:38:27,465 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3876.096, 'bottom': 3866.937, 'bar_index': 99}
2025-10-04 03:38:27,465 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.702, 'bottom': 3874.123, 'bar_index': 105}
2025-10-04 03:38:27,466 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.733, 'bottom': 3879.22, 'bar_index': 112}
2025-10-04 03:38:27,467 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.625, 'bottom': 3880.942, 'bar_index': 123}
2025-10-04 03:38:27,476 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.202, 'bottom': 3880.541, 'bar_index': 124}
2025-10-04 03:38:27,478 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3885.241, 'bottom': 3881.17, 'bar_index': 141}
2025-10-04 03:38:27,479 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3882.461, 'bottom': 3877.896, 'bar_index': 143}
2025-10-04 03:38:27,480 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}
2025-10-04 03:38:27,480 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}
2025-10-04 03:38:27,480 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}
2025-10-04 03:38:27,481 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}]
2025-10-04 03:38:27,481 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M5 đã được tính.
2025-10-04 03:38:27,481 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 180 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:38:27,482 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:38:27,482 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:38:27,482 - src.utils.mt5_utils - DEBUG - MSS cho M5 đã được tính.
2025-10-04 03:38:27,483 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:38:27,483 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.619
2025-10-04 03:38:27,483 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.222
2025-10-04 03:38:27,483 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:38:27,484 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.765
2025-10-04 03:38:27,484 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.268
2025-10-04 03:38:27,484 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.256
2025-10-04 03:38:27,485 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.93
2025-10-04 03:38:27,485 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:38:27,485 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.607
2025-10-04 03:38:27,486 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.443
2025-10-04 03:38:27,486 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.378
2025-10-04 03:38:27,486 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.098
2025-10-04 03:38:27,487 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.201
2025-10-04 03:38:27,487 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:38:27,487 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.204
2025-10-04 03:38:27,488 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.989
2025-10-04 03:38:27,488 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.087
2025-10-04 03:38:27,489 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.291
2025-10-04 03:38:27,489 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:38:27,489 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3887.541
2025-10-04 03:38:27,489 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.413
2025-10-04 03:38:27,490 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.942
2025-10-04 03:38:27,490 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.384
2025-10-04 03:38:27,490 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.35
2025-10-04 03:38:27,491 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:38:27,491 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.014
2025-10-04 03:38:27,491 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.179
2025-10-04 03:38:27,492 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.902
2025-10-04 03:38:27,492 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:38:27,492 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.942
2025-10-04 03:38:27,493 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:38:27,493 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.103
2025-10-04 03:38:27,494 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.859
2025-10-04 03:38:27,494 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.29
2025-10-04 03:38:27,495 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.755
2025-10-04 03:38:27,495 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.023
2025-10-04 03:38:27,497 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.154
2025-10-04 03:38:27,497 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.079
2025-10-04 03:38:27,498 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.142
2025-10-04 03:38:27,498 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.8
2025-10-04 03:38:27,507 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.876
2025-10-04 03:38:27,509 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.634
2025-10-04 03:38:27,510 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.689
2025-10-04 03:38:27,511 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.259
2025-10-04 03:38:27,511 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.227
2025-10-04 03:38:27,511 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.176
2025-10-04 03:38:27,512 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.077
2025-10-04 03:38:27,512 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.111
2025-10-04 03:38:27,512 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:38:27,513 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.739
2025-10-04 03:38:27,513 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.335
2025-10-04 03:38:27,513 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.539
2025-10-04 03:38:27,513 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:38:27,514 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.647
2025-10-04 03:38:27,514 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.692
2025-10-04 03:38:27,514 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.989
2025-10-04 03:38:27,515 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.106
2025-10-04 03:38:27,515 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.259
2025-10-04 03:38:27,515 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.124
2025-10-04 03:38:27,516 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.332
2025-10-04 03:38:27,516 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.136
2025-10-04 03:38:27,517 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.321
2025-10-04 03:38:27,517 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.003
2025-10-04 03:38:27,517 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.225
2025-10-04 03:38:27,518 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:38:27,518 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M1: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:38:27,519 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:38:27,519 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7}
2025-10-04 03:38:27,519 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12}
2025-10-04 03:38:27,520 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13}
2025-10-04 03:38:27,520 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37}
2025-10-04 03:38:27,520 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49}
2025-10-04 03:38:27,520 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51}
2025-10-04 03:38:27,521 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58}
2025-10-04 03:38:27,521 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64}
2025-10-04 03:38:27,522 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76}
2025-10-04 03:38:27,522 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87}
2025-10-04 03:38:27,523 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94}
2025-10-04 03:38:27,523 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95}
2025-10-04 03:38:27,523 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:38:27,524 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:38:27,524 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7} đã được fill.
2025-10-04 03:38:27,524 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12} đã được fill.
2025-10-04 03:38:27,525 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13} đã được fill.
2025-10-04 03:38:27,525 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37} đã được fill.
2025-10-04 03:38:27,526 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49} đã được fill.
2025-10-04 03:38:27,526 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51} đã được fill.
2025-10-04 03:38:27,527 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58} đã được fill.
2025-10-04 03:38:27,527 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64} đã được fill.
2025-10-04 03:38:27,528 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76} đã được fill.
2025-10-04 03:38:27,529 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87} đã được fill.
2025-10-04 03:38:27,529 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94} đã được fill.
2025-10-04 03:38:27,529 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95} đã được fill.
2025-10-04 03:38:27,530 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:38:27,531 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:38:27,538 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}
2025-10-04 03:38:27,540 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}]
2025-10-04 03:38:27,540 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:38:27,541 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}
2025-10-04 03:38:27,541 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3884.99, 'bottom': 3884.601, 'bar_index': 108}
2025-10-04 03:38:27,541 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3883.629, 'bottom': 3882.907, 'bar_index': 95}
2025-10-04 03:38:27,542 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}
2025-10-04 03:38:27,542 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}]
2025-10-04 03:38:27,543 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:38:27,543 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3889.197, 'range_low': 3882.907, 'equilibrium': 3886.052, 'status': 'Premium'}
2025-10-04 03:38:27,543 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:38:27,544 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.089, 'bottom': 3884.19, 'bar_index': -24}
2025-10-04 03:38:27,544 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.116, 'bottom': 3886.654, 'bar_index': -18}
2025-10-04 03:38:27,545 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.074, 'bottom': 3886.291, 'bar_index': 5}
2025-10-04 03:38:27,545 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.175, 'bottom': 3886.941, 'bar_index': 6}
2025-10-04 03:38:27,545 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.915, 'bottom': 3886.012, 'bar_index': 20}
2025-10-04 03:38:27,546 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.29, 'bottom': 3885.292, 'bar_index': 33}
2025-10-04 03:38:27,546 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3887.079, 'bottom': 3886.283, 'bar_index': 40}
2025-10-04 03:38:27,547 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.074, 'bottom': 3884.806, 'bar_index': 45}
2025-10-04 03:38:27,547 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.334, 'bottom': 3883.739, 'bar_index': 58}
2025-10-04 03:38:27,547 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}
2025-10-04 03:38:27,548 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}
2025-10-04 03:38:27,548 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}
2025-10-04 03:38:27,548 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}]
2025-10-04 03:38:27,549 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M1 đã được tính.
2025-10-04 03:38:27,549 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:38:27,549 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:38:27,550 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:38:27,550 - src.utils.mt5_utils - DEBUG - MSS cho M1 đã được tính.
2025-10-04 03:38:27,551 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:27,551 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:38:27,551 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:38:27,551 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:38:27,552 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:38:27,552 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:38:27,552 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:27,553 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:38:27,553 - src.utils.mt5_utils - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-04 03:38:27,553 - src.utils.safe_data - DEBUG - Khởi tạo SafeMT5Data với data có: True
2025-10-04 03:38:27,554 - src.utils.mt5_utils - DEBUG - Đã tạo SafeMT5Data object.
2025-10-04 03:38:27,554 - src.utils.mt5_utils - DEBUG - Kết thúc build_context.
2025-10-04 03:38:27,555 - src.utils.mt5_utils - DEBUG - Kết thúc build_context_from_app.
2025-10-04 03:38:27,555 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:38:27,556 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:38:27,556 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:27,557 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:27,557 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:38:27,558 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:38:27,559 - src.core.context_builder - DEBUG - Đã xây dựng MT5 context lite.
2025-10-04 03:38:27,559 - src.core.context_builder - DEBUG - Đã xây dựng MT5 flags.
2025-10-04 03:38:27,570 - src.core.context_builder - DEBUG - Bắt đầu hàm images_tf_map với 4 tên ảnh.
2025-10-04 03:38:27,575 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_H1.png.
2025-10-04 03:38:27,575 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_H1.png
2025-10-04 03:38:27,576 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern '(?<![a-z0-9])(?:h1|1h)(?![a-z0-9])'.
2025-10-04 03:38:27,576 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:38:27,577 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_H1.png': H1
2025-10-04 03:38:27,577 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M1.png.
2025-10-04 03:38:27,577 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M1.png
2025-10-04 03:38:27,578 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern '(?<![a-z0-9])(?:m1|1m)(?![a-z0-9])'.
2025-10-04 03:38:27,578 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:38:27,578 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M1.png': M1
2025-10-04 03:38:27,579 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M15.png.
2025-10-04 03:38:27,579 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M15.png
2025-10-04 03:38:27,579 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern '(?<![a-z0-9])(?:m15|15m)(?![a-z0-9])'.
2025-10-04 03:38:27,580 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:38:27,580 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M15.png': M15
2025-10-04 03:38:27,580 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M5.png.
2025-10-04 03:38:27,581 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M5.png
2025-10-04 03:38:27,581 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern '(?<![a-z0-9])(?:m5|5m)(?![a-z0-9])'.
2025-10-04 03:38:27,582 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:38:27,582 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M5.png': M5
2025-10-04 03:38:27,582 - src.core.context_builder - DEBUG - Kết thúc hàm images_tf_map.
2025-10-04 03:38:27,583 - src.core.context_builder - DEBUG - Bắt đầu hàm folder_signature với 4 tên ảnh.
2025-10-04 03:38:27,583 - src.core.context_builder - DEBUG - Đã tạo folder signature: sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1
2025-10-04 03:38:27,583 - src.core.context_builder - DEBUG - Kết thúc hàm folder_signature.
2025-10-04 03:38:27,584 - src.core.context_builder - DEBUG - Đã tạo run_meta: {'analysis_id': '2025-10-04T03:38:27Z', 'folder_signature': 'sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1', 'images_tf_map': {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}}
2025-10-04 03:38:27,584 - src.core.context_builder - DEBUG - Checklist pass ratio: None
2025-10-04 03:38:27,584 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:38:27,585 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:38:27,586 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:38:27,586 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:38:27,586 - src.core.context_builder - DEBUG - Bắt đầu hàm parse_proposed_trades_file từ thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:38:27,587 - src.core.context_builder - DEBUG - File log C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\proposed_trades.jsonl không tồn tại.
2025-10-04 03:38:27,587 - src.core.backtester - DEBUG - Bắt đầu hàm evaluate_trade_outcomes cho symbol: XAUUSD, số trades: 0
2025-10-04 03:38:27,588 - src.core.backtester - WARNING - Không có trades được đề xuất hoặc MT5 không kết nối.
2025-10-04 03:38:27,588 - src.core.backtester - DEBUG - Kết thúc hàm evaluate_trade_outcomes (không có trades hoặc MT5 không kết nối).
2025-10-04 03:38:27,588 - src.core.context_builder - DEBUG - Backtest results: {'summary': {'total_proposed': 0, 'wins': 0, 'losses': 0, 'untriggered': 0, 'win_rate': None}}
2025-10-04 03:38:27,589 - src.core.context_builder - DEBUG - Running stats: {'checklist_pass_ratio': None, 'backtest_results': {'summary': {'total_proposed': 0, 'wins': 0, 'losses': 0, 'untriggered': 0, 'win_rate': None}}, 'median_spread': None, 'median_ticks_per_min': None}
2025-10-04 03:38:27,589 - src.core.context_builder - DEBUG - Risk rules: {'max_risk_per_trade_pct': 1.0, 'daily_loss_limit_pct': 3.0, 'max_trades_per_day': 3, 'allowed_killzones': ['london', 'newyork_pre', 'newyork_post'], 'news_blackout_min_before_after': 15}
2025-10-04 03:38:27,589 - src.core.context_builder - DEBUG - Đã tạo composed context.
2025-10-04 03:38:27,591 - src.core.context_builder - DEBUG - MT5 full data có sẵn, bắt đầu vectorization và similarity search.
2025-10-04 03:38:27,591 - src.core.vectorizer - DEBUG - Bắt đầu hàm vectorize_market_state.
2025-10-04 03:38:27,591 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['pip'], default: {}
2025-10-04 03:38:27,592 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}
2025-10-04 03:38:27,592 - src.core.vectorizer - DEBUG - Pip size: 0.1
2025-10-04 03:38:27,606 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['volatility', 'ATR', 'M5'], default: 0.0
2025-10-04 03:38:27,607 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 1.798255272271771
2025-10-04 03:38:27,608 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['volatility', 'ATR', 'H1'], default: 0.0
2025-10-04 03:38:27,608 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 11.031559707039294
2025-10-04 03:38:27,609 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['info', 'spread_current'], default: 0.0
2025-10-04 03:38:27,609 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 37
2025-10-04 03:38:27,609 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['tick_stats_5m', 'ticks_per_min'], default: 0
2025-10-04 03:38:27,610 - src.core.vectorizer - DEBUG - Key 'ticks_per_min' không tìm thấy hoặc d không phải dict. Trả về default.
2025-10-04 03:38:27,610 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested (key không tìm thấy).
2025-10-04 03:38:27,610 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['position_in_day_range'], default: 0.5
2025-10-04 03:38:27,611 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 0.8700959919813936
2025-10-04 03:38:27,611 - src.core.vectorizer - DEBUG - Raw features (part 1): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936]
2025-10-04 03:38:27,612 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['key_levels_nearby'], default: []
2025-10-04 03:38:27,612 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:38:27,612 - src.core.vectorizer - DEBUG - Raw features (part 2 - key levels): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936, 10108.999999999924, 67710.00000000003, 28800.500000000284]
2025-10-04 03:38:27,613 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['trend_refs', 'EMA', 'M5'], default: {}
2025-10-04 03:38:27,613 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}
2025-10-04 03:38:27,613 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['trend_refs', 'EMA', 'H1'], default: {}
2025-10-04 03:38:27,614 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}
2025-10-04 03:38:27,614 - src.core.vectorizer - DEBUG - Raw features (part 3 - EMAs): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936, 10108.999999999924, 67710.00000000003, 28800.500000000284, 106.20206908890395, 352.668318201745]
2025-10-04 03:38:27,615 - src.core.vectorizer - DEBUG - Vector trước khi xử lý NaN/inf: [[1.7982553e+01 1.1031560e+02 3.7000000e+01 0.0000000e+00 8.7009597e-01
  1.0109000e+04 6.7710000e+04 2.8800500e+04 1.0620207e+02 3.5266830e+02]]
2025-10-04 03:38:27,616 - src.core.vectorizer - DEBUG - Vector sau khi xử lý NaN/inf: [[1.7982553e+01 1.1031560e+02 3.7000000e+01 0.0000000e+00 8.7009597e-01
  1.0109000e+04 6.7710000e+04 2.8800500e+04 1.0620207e+02 3.5266830e+02]]
2025-10-04 03:38:27,618 - src.core.vectorizer - DEBUG - Normalized vector: [[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]]
2025-10-04 03:38:27,618 - src.core.vectorizer - DEBUG - Kết thúc vectorize_market_state. Vector: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
2025-10-04 03:38:27,618 - src.core.context_builder - DEBUG - Đã vectorize market state.
2025-10-04 03:38:27,619 - src.core.context_builder - DEBUG - Đã thêm similar_past_scenarios vào composed context.
2025-10-04 03:38:27,619 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'cycle', 'session', 'trend_checklist', 'latest_plan', 'latest_summary_lines', 'recent_history_summary', 'run_meta', 'running_stats', 'risk_rules', 'environment_flags', 'mt5', 'mt5_lite', 'similar_past_scenarios']).
2025-10-04 03:38:27,620 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'cycle', 'session', 'trend_checklist', 'latest_plan', 'latest_summary_lines', 'recent_history_summary', 'run_meta', 'running_stats', 'risk_rules', 'environment_flags', 'mt5', 'mt5_lite', 'similar_past_scenarios']), folder_override: XAUUSD.
2025-10-04 03:38:27,620 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: run-start, Folder override: XAUUSD
2025-10-04 03:38:27,647 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:27,648 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:27,648 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:27,649 - src.core.context_builder - DEBUG - Đã log decision start.
2025-10-04 03:38:27,649 - src.core.context_builder - DEBUG - Kích thước context ban đầu: 9134 ký tự.
2025-10-04 03:38:27,650 - src.core.context_builder - DEBUG - Bắt đầu slimming context.
2025-10-04 03:38:27,651 - src.core.context_builder - DEBUG - Đã xóa full MT5 object. Kích thước mới: 1401 ký tự.
2025-10-04 03:38:27,651 - src.core.app_logic - DEBUG - Kết thúc hàm _do_compose.
2025-10-04 03:38:27,651 - src.core.app_logic - DEBUG - Kết thúc compose_context.
2025-10-04 03:38:27,652 - src.core.worker_modules.context_coordinator - DEBUG - Đã trích xuất plan từ composed context: {'direction': None}
2025-10-04 03:38:27,653 - src.core.worker_modules.context_coordinator - DEBUG - Đã xây dựng context_block.
2025-10-04 03:38:27,654 - src.ui.app_ui - DEBUG - Gọi mt5_utils.build_context_from_app từ UI.
2025-10-04 03:38:27,654 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context_from_app.
2025-10-04 03:38:27,655 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-04 03:38:27,655 - src.utils.mt5_utils - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-04 03:38:27,657 - src.utils.mt5_utils - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-04 03:38:27,668 - src.utils.mt5_utils - DEBUG - Current price (cp): 3887.107
2025-10-04 03:38:27,668 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-04 03:38:27,669 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-04 03:38:27,669 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-04 03:38:27,672 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-04 03:38:27,672 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:38:27,672 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-04 03:38:27,675 - src.utils.mt5_utils - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-04 03:38:27,676 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:38:27,676 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-04 03:38:27,678 - src.utils.mt5_utils - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-04 03:38:27,678 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:38:27,678 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-04 03:38:27,680 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-04 03:38:27,681 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:38:27,681 - src.utils.mt5_utils - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-04 03:38:27,681 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-04 03:38:27,682 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:38:27,682 - src.utils.mt5_utils - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:38:27,683 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-04 03:38:27,683 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-04 03:38:27,684 - src.utils.mt5_utils - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-04 03:38:27,685 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-04 03:38:27,685 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:38:27,686 - src.utils.mt5_utils - DEBUG - Đã lấy higher timeframe levels.
2025-10-04 03:38:27,686 - src.utils.mt5_utils - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-04 03:38:27,686 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-04 03:38:27,687 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:27,700 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:27.700737+07:00
2025-10-04 03:38:27,701 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:27.700737+07:00
2025-10-04 03:38:27,702 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:27.700737+07:00 trong DST: True
2025-10-04 03:38:27,703 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:27,703 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:27,703 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:27,703 - src.core.ict_analysis - DEBUG - Bắt đầu hàm get_session_liquidity với 96 rates, sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, now_hhmm: 10:38
2025-10-04 03:38:27,704 - src.core.ict_analysis - DEBUG - Kết thúc hàm get_session_liquidity. Kết quả: {}
2025-10-04 03:38:27,705 - src.utils.mt5_utils - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-04 03:38:27,705 - src.utils.mt5_utils - DEBUG - Rates trống, không thể tính VWAP.
2025-10-04 03:38:27,708 - src.utils.mt5_utils - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-04 03:38:27,709 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:38:27,709 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-04 03:38:27,709 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:38:27,710 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-04 03:38:27,710 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-04 03:38:27,710 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-04 03:38:27,711 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-04 03:38:27,711 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-04 03:38:27,711 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-04 03:38:27,712 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-04 03:38:27,712 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-04 03:38:27,713 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-04 03:38:27,713 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:38:27,713 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-04 03:38:27,713 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:38:27,714 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-04 03:38:27,714 - src.utils.mt5_utils - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-04 03:38:27,715 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-04 03:38:27,716 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-04 03:38:27,716 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:38:27,717 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-04 03:38:27,717 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-04 03:38:27,720 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-04 03:38:27,721 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:38:27,725 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-04 03:38:27,729 - src.utils.mt5_utils - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-04 03:38:27,731 - src.utils.mt5_utils - DEBUG - Volatility regime: trending
2025-10-04 03:38:27,731 - src.utils.mt5_utils - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:38:27,732 - src.utils.mt5_utils - DEBUG - Thêm PDH: 3897.216
2025-10-04 03:38:27,732 - src.utils.mt5_utils - DEBUG - Thêm PDL: 3819.397
2025-10-04 03:38:27,733 - src.utils.mt5_utils - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-04 03:38:27,733 - src.utils.mt5_utils - DEBUG - Thêm DO: 3863.536
2025-10-04 03:38:27,734 - src.utils.mt5_utils - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-04 03:38:27,734 - src.utils.mt5_utils - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-04 03:38:27,735 - src.utils.mt5_utils - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-04 03:38:27,735 - src.utils.mt5_utils - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-04 03:38:27,735 - src.utils.mt5_utils - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-04 03:38:27,736 - src.utils.mt5_utils - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:38:27,736 - src.utils.mt5_utils - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-04 03:38:27,736 - src.utils.mt5_utils - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-04 03:38:27,737 - src.utils.mt5_utils - DEBUG - Prev day close: 3862.472
2025-10-04 03:38:27,737 - src.utils.mt5_utils - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-04 03:38:27,738 - src.utils.mt5_utils - DEBUG - Position in day range: 0.8700959919813936
2025-10-04 03:38:27,738 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:27,739 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:27.739153+07:00
2025-10-04 03:38:27,739 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:27.739153+07:00
2025-10-04 03:38:27,740 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:27.739153+07:00 trong DST: True
2025-10-04 03:38:27,740 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:27,741 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:27,741 - src.core.ict_analysis - DEBUG - Bắt đầu hàm is_silver_bullet_window với now_hhmm: 10:38, kills: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:27,741 - src.core.ict_analysis - DEBUG - Không nằm trong cửa sổ Silver Bullet.
2025-10-04 03:38:27,742 - src.core.ict_analysis - DEBUG - Kết thúc hàm is_silver_bullet_window.
2025-10-04 03:38:27,742 - src.utils.mt5_utils - DEBUG - Killzone active: None, Mins to next killzone: 202
2025-10-04 03:38:27,742 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:27,743 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:38:27,743 - src.utils.mt5_utils - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-04 03:38:27,744 - src.utils.mt5_utils - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-04 03:38:27,744 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:38:27,744 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:38:27,744 - src.utils.mt5_utils - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-04 03:38:27,745 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:38:27,745 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3783.265
2025-10-04 03:38:27,746 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3760.112
2025-10-04 03:38:27,746 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3763.997
2025-10-04 03:38:27,746 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.936
2025-10-04 03:38:27,747 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3805.069
2025-10-04 03:38:27,747 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.812
2025-10-04 03:38:27,748 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3806.56
2025-10-04 03:38:27,748 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3831.428
2025-10-04 03:38:27,748 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3809.251
2025-10-04 03:38:27,749 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3833.647
2025-10-04 03:38:27,749 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3822.667
2025-10-04 03:38:27,749 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3834.062
2025-10-04 03:38:27,758 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3825.688
2025-10-04 03:38:27,759 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.242
2025-10-04 03:38:27,761 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.761
2025-10-04 03:38:27,762 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3793.174
2025-10-04 03:38:27,762 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3854.604
2025-10-04 03:38:27,763 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3849.372
2025-10-04 03:38:27,763 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3839.717
2025-10-04 03:38:27,763 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.87
2025-10-04 03:38:27,763 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.622
2025-10-04 03:38:27,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.624
2025-10-04 03:38:27,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.576
2025-10-04 03:38:27,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.937
2025-10-04 03:38:27,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3853.395
2025-10-04 03:38:27,765 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3895.417
2025-10-04 03:38:27,765 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.184
2025-10-04 03:38:27,765 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3878.867
2025-10-04 03:38:27,766 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.227
2025-10-04 03:38:27,766 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.948
2025-10-04 03:38:27,766 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.93
2025-10-04 03:38:27,767 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.062
2025-10-04 03:38:27,767 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.894
2025-10-04 03:38:27,767 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3870.082
2025-10-04 03:38:27,768 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.861
2025-10-04 03:38:27,768 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.758
2025-10-04 03:38:27,768 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3897.216
2025-10-04 03:38:27,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3819.397
2025-10-04 03:38:27,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.415
2025-10-04 03:38:27,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:38:27,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:38:27,770 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:38:27,770 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:38:27,770 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:38:27,771 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:38:27,771 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:38:27,771 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:38:27,771 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:38:27,772 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:38:27,772 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:38:27,772 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:38:27,773 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:38:27,773 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:38:27,774 - src.utils.mt5_utils - DEBUG - Liquidity levels cho H1: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:38:27,774 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:38:27,774 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4}
2025-10-04 03:38:27,775 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:38:27,775 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12}
2025-10-04 03:38:27,776 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13}
2025-10-04 03:38:27,776 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31}
2025-10-04 03:38:27,776 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32}
2025-10-04 03:38:27,777 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34}
2025-10-04 03:38:27,777 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37}
2025-10-04 03:38:27,777 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38}
2025-10-04 03:38:27,778 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39}
2025-10-04 03:38:27,779 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45}
2025-10-04 03:38:27,779 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50}
2025-10-04 03:38:27,779 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61}
2025-10-04 03:38:27,780 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62}
2025-10-04 03:38:27,780 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66}
2025-10-04 03:38:27,780 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90}
2025-10-04 03:38:27,781 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91}
2025-10-04 03:38:27,781 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95}
2025-10-04 03:38:27,783 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96}
2025-10-04 03:38:27,784 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:38:27,786 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112}
2025-10-04 03:38:27,788 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4} đã được fill.
2025-10-04 03:38:27,790 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:38:27,790 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12} đã được fill.
2025-10-04 03:38:27,791 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13} đã được fill.
2025-10-04 03:38:27,791 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31} đã được fill.
2025-10-04 03:38:27,792 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32} đã được fill.
2025-10-04 03:38:27,792 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34} đã được fill.
2025-10-04 03:38:27,793 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37} đã được fill.
2025-10-04 03:38:27,793 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38} đã được fill.
2025-10-04 03:38:27,793 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39} đã được fill.
2025-10-04 03:38:27,794 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45} đã được fill.
2025-10-04 03:38:27,794 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50} đã được fill.
2025-10-04 03:38:27,795 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61} đã được fill.
2025-10-04 03:38:27,795 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62} đã được fill.
2025-10-04 03:38:27,795 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66} đã được fill.
2025-10-04 03:38:27,795 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90} đã được fill.
2025-10-04 03:38:27,796 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91} đã được fill.
2025-10-04 03:38:27,796 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95} đã được fill.
2025-10-04 03:38:27,797 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96} đã được fill.
2025-10-04 03:38:27,797 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:38:27,797 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112} đã được fill.
2025-10-04 03:38:27,798 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}
2025-10-04 03:38:27,798 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}]
2025-10-04 03:38:27,799 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:38:27,799 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}
2025-10-04 03:38:27,800 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3867.201, 'bottom': 3854.751, 'bar_index': 110}
2025-10-04 03:38:27,800 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3844.879, 'bottom': 3819.397, 'bar_index': 91}
2025-10-04 03:38:27,801 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}
2025-10-04 03:38:27,801 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}]
2025-10-04 03:38:27,801 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:38:27,802 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3897.216, 'range_low': 3760.112, 'equilibrium': 3828.6639999999998, 'status': 'Premium'}
2025-10-04 03:38:27,802 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:38:27,803 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3778.612, 'bottom': 3764.679, 'bar_index': -27}
2025-10-04 03:38:27,803 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3787.543, 'bottom': 3763.997, 'bar_index': -23}
2025-10-04 03:38:27,804 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3819.611, 'bottom': 3806.443, 'bar_index': -15}
2025-10-04 03:38:27,804 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3818.552, 'bottom': 3806.56, 'bar_index': -13}
2025-10-04 03:38:27,805 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.722, 'bottom': 3838.031, 'bar_index': 1}
2025-10-04 03:38:27,805 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3867.242, 'bottom': 3845.851, 'bar_index': 3}
2025-10-04 03:38:27,806 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3871.761, 'bottom': 3854.92, 'bar_index': 6}
2025-10-04 03:38:27,806 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3814.639, 'bottom': 3798.264, 'bar_index': 10}
2025-10-04 03:38:27,806 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3854.604, 'bottom': 3820.442, 'bar_index': 14}
2025-10-04 03:38:27,807 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3860.87, 'bottom': 3847.177, 'bar_index': 19}
2025-10-04 03:38:27,807 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.941, 'bottom': 3858.997, 'bar_index': 30}
2025-10-04 03:38:27,807 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3865.226, 'bottom': 3852.894, 'bar_index': 47}
2025-10-04 03:38:27,808 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.858, 'bottom': 3873.413, 'bar_index': 55}
2025-10-04 03:38:27,809 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3845.401, 'bottom': 3827.234, 'bar_index': 62}
2025-10-04 03:38:27,810 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}
2025-10-04 03:38:27,810 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}
2025-10-04 03:38:27,811 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}
2025-10-04 03:38:27,813 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}]
2025-10-04 03:38:27,814 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho H1 đã được tính.
2025-10-04 03:38:27,814 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:38:27,816 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:38:27,827 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:38:27,827 - src.utils.mt5_utils - DEBUG - MSS cho H1 đã được tính.
2025-10-04 03:38:27,828 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 96 rates, lookback: 200
2025-10-04 03:38:27,829 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3858.531
2025-10-04 03:38:27,830 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:38:27,831 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.878
2025-10-04 03:38:27,831 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:38:27,831 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.326
2025-10-04 03:38:27,832 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3862.684
2025-10-04 03:38:27,832 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:38:27,832 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.953
2025-10-04 03:38:27,833 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:38:27,833 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3848.355
2025-10-04 03:38:27,833 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3843.125
2025-10-04 03:38:27,833 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3850.904
2025-10-04 03:38:27,834 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:38:27,834 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:38:27,834 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:38:27,835 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:38:27,835 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:38:27,836 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:38:27,836 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:38:27,837 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:38:27,837 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:38:27,838 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:38:27,838 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:38:27,838 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:38:27,839 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:38:27,839 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:38:27,839 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:38:27,840 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:38:27,841 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:38:27,841 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:38:27,842 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:38:27,856 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:38:27,857 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:38:27,858 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:38:27,859 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:38:27,859 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:38:27,860 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:38:27,860 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:38:27,860 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:38:27,861 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:38:27,861 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M15: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:38:27,862 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 96 rates, current_price: 3887.107
2025-10-04 03:38:27,862 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3}
2025-10-04 03:38:27,862 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7}
2025-10-04 03:38:27,863 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11}
2025-10-04 03:38:27,863 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23}
2025-10-04 03:38:27,863 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26}
2025-10-04 03:38:27,864 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:38:27,864 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:38:27,864 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42}
2025-10-04 03:38:27,865 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52}
2025-10-04 03:38:27,865 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57}
2025-10-04 03:38:27,865 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58}
2025-10-04 03:38:27,866 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:38:27,866 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65}
2025-10-04 03:38:27,866 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69}
2025-10-04 03:38:27,867 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74}
2025-10-04 03:38:27,867 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3} đã được fill.
2025-10-04 03:38:27,868 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7} đã được fill.
2025-10-04 03:38:27,868 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11} đã được fill.
2025-10-04 03:38:27,868 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23} đã được fill.
2025-10-04 03:38:27,869 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26} đã được fill.
2025-10-04 03:38:27,869 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:38:27,869 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:38:27,870 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42} đã được fill.
2025-10-04 03:38:27,870 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52} đã được fill.
2025-10-04 03:38:27,870 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57} đã được fill.
2025-10-04 03:38:27,871 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58} đã được fill.
2025-10-04 03:38:27,871 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:38:27,872 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65} đã được fill.
2025-10-04 03:38:27,872 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69} đã được fill.
2025-10-04 03:38:27,873 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74} đã được fill.
2025-10-04 03:38:27,873 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}
2025-10-04 03:38:27,873 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}]
2025-10-04 03:38:27,874 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 96 rates, lookback: 100
2025-10-04 03:38:27,875 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}
2025-10-04 03:38:27,880 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}
2025-10-04 03:38:27,883 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3845.326, 'bottom': 3843.359, 'bar_index': 27}
2025-10-04 03:38:27,885 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}
2025-10-04 03:38:27,885 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}
2025-10-04 03:38:27,886 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}, {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}]
2025-10-04 03:38:27,888 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 96 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:38:27,889 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3838.081, 'equilibrium': 3864.906, 'status': 'Premium'}
2025-10-04 03:38:27,889 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 96 rates, lookback: 150
2025-10-04 03:38:27,890 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3858.046, 'bottom': 3854.205, 'bar_index': -48}
2025-10-04 03:38:27,890 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3855.466, 'bottom': 3849.361, 'bar_index': -32}
2025-10-04 03:38:27,890 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3848.913, 'bottom': 3839.835, 'bar_index': -29}
2025-10-04 03:38:27,891 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.766, 'bottom': 3843.897, 'bar_index': -22}
2025-10-04 03:38:27,891 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3863.085, 'bottom': 3857.792, 'bar_index': -13}
2025-10-04 03:38:27,892 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3862.923, 'bar_index': 8}
2025-10-04 03:38:27,892 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}
2025-10-04 03:38:27,893 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}
2025-10-04 03:38:27,893 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}
2025-10-04 03:38:27,893 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}]
2025-10-04 03:38:27,894 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M15 đã được tính.
2025-10-04 03:38:27,894 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 96 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:38:27,895 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:38:27,895 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:38:27,895 - src.utils.mt5_utils - DEBUG - MSS cho M15 đã được tính.
2025-10-04 03:38:27,896 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 180 rates, lookback: 200
2025-10-04 03:38:27,896 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:38:27,897 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.693
2025-10-04 03:38:27,897 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.917
2025-10-04 03:38:27,897 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:38:27,898 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.034
2025-10-04 03:38:27,898 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.033
2025-10-04 03:38:27,899 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.397
2025-10-04 03:38:27,899 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:38:27,899 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.323
2025-10-04 03:38:27,899 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.323
2025-10-04 03:38:27,900 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:38:27,900 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:38:27,900 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.587
2025-10-04 03:38:27,901 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.799
2025-10-04 03:38:27,901 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.325
2025-10-04 03:38:27,902 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.674
2025-10-04 03:38:27,902 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:38:27,903 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.889
2025-10-04 03:38:27,903 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:38:27,904 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.764
2025-10-04 03:38:27,904 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.914
2025-10-04 03:38:27,905 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.651
2025-10-04 03:38:27,907 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.875
2025-10-04 03:38:27,909 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3866.346
2025-10-04 03:38:27,911 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.433
2025-10-04 03:38:27,914 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:38:27,916 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.632
2025-10-04 03:38:27,917 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.646
2025-10-04 03:38:27,917 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:38:27,917 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.432
2025-10-04 03:38:27,918 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.573
2025-10-04 03:38:27,918 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.856
2025-10-04 03:38:27,918 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:38:27,918 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.152
2025-10-04 03:38:27,919 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:38:27,919 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.067
2025-10-04 03:38:27,919 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.802
2025-10-04 03:38:27,919 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.218
2025-10-04 03:38:27,920 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:38:27,920 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.209
2025-10-04 03:38:27,920 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.578
2025-10-04 03:38:27,921 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.963
2025-10-04 03:38:27,921 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3870.06
2025-10-04 03:38:27,921 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.583
2025-10-04 03:38:27,922 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:38:27,922 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:38:27,922 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.355
2025-10-04 03:38:27,923 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.03
2025-10-04 03:38:27,923 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:38:27,923 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3880.206
2025-10-04 03:38:27,924 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.522
2025-10-04 03:38:27,924 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3881.461
2025-10-04 03:38:27,924 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3882.092
2025-10-04 03:38:27,924 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:38:27,925 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:38:27,925 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.454
2025-10-04 03:38:27,926 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.959
2025-10-04 03:38:27,926 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.056
2025-10-04 03:38:27,926 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:38:27,927 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.593
2025-10-04 03:38:27,927 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:38:27,927 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.221
2025-10-04 03:38:27,927 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.978
2025-10-04 03:38:27,928 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.364
2025-10-04 03:38:27,928 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:38:27,928 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.771
2025-10-04 03:38:27,929 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.794
2025-10-04 03:38:27,929 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:38:27,929 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3881.367
2025-10-04 03:38:27,929 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.794
2025-10-04 03:38:27,930 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.241
2025-10-04 03:38:27,930 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:38:27,930 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3883.496
2025-10-04 03:38:27,931 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3879.981
2025-10-04 03:38:27,931 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.183
2025-10-04 03:38:27,931 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:38:27,932 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.019
2025-10-04 03:38:27,932 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:38:27,932 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:38:27,933 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:38:27,933 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:38:27,933 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:38:27,933 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:38:27,934 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:38:27,935 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:38:27,935 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:38:27,936 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:38:27,936 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M5: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:38:27,948 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 180 rates, current_price: 3887.107
2025-10-04 03:38:27,949 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2}
2025-10-04 03:38:27,950 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17}
2025-10-04 03:38:27,950 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27}
2025-10-04 03:38:27,950 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37}
2025-10-04 03:38:27,951 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40}
2025-10-04 03:38:27,951 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47}
2025-10-04 03:38:27,951 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48}
2025-10-04 03:38:27,952 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56}
2025-10-04 03:38:27,952 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63}
2025-10-04 03:38:27,952 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64}
2025-10-04 03:38:27,952 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68}
2025-10-04 03:38:27,953 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70}
2025-10-04 03:38:27,953 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:38:27,953 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81}
2025-10-04 03:38:27,954 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87}
2025-10-04 03:38:27,954 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88}
2025-10-04 03:38:27,954 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89}
2025-10-04 03:38:27,955 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106}
2025-10-04 03:38:27,955 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113}
2025-10-04 03:38:27,956 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119}
2025-10-04 03:38:27,956 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123}
2025-10-04 03:38:27,956 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124}
2025-10-04 03:38:27,956 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135}
2025-10-04 03:38:27,957 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142}
2025-10-04 03:38:27,957 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149}
2025-10-04 03:38:27,958 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151}
2025-10-04 03:38:27,958 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155}
2025-10-04 03:38:27,958 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163}
2025-10-04 03:38:27,959 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171}
2025-10-04 03:38:27,959 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:38:27,960 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:38:27,960 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2} đã được fill.
2025-10-04 03:38:27,961 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17} đã được fill.
2025-10-04 03:38:27,961 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27} đã được fill.
2025-10-04 03:38:27,961 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37} đã được fill.
2025-10-04 03:38:27,961 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40} đã được fill.
2025-10-04 03:38:27,962 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47} đã được fill.
2025-10-04 03:38:27,962 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48} đã được fill.
2025-10-04 03:38:27,963 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56} đã được fill.
2025-10-04 03:38:27,963 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63} đã được fill.
2025-10-04 03:38:27,964 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64} đã được fill.
2025-10-04 03:38:27,964 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68} đã được fill.
2025-10-04 03:38:27,966 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70} đã được fill.
2025-10-04 03:38:27,966 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:38:27,967 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81} đã được fill.
2025-10-04 03:38:27,968 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87} đã được fill.
2025-10-04 03:38:27,977 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88} đã được fill.
2025-10-04 03:38:27,978 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89} đã được fill.
2025-10-04 03:38:27,978 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106} đã được fill.
2025-10-04 03:38:27,979 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113} đã được fill.
2025-10-04 03:38:27,979 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119} đã được fill.
2025-10-04 03:38:27,980 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123} đã được fill.
2025-10-04 03:38:27,980 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124} đã được fill.
2025-10-04 03:38:27,980 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135} đã được fill.
2025-10-04 03:38:27,981 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142} đã được fill.
2025-10-04 03:38:27,981 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149} đã được fill.
2025-10-04 03:38:27,981 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151} đã được fill.
2025-10-04 03:38:27,982 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155} đã được fill.
2025-10-04 03:38:27,982 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163} đã được fill.
2025-10-04 03:38:27,982 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171} đã được fill.
2025-10-04 03:38:27,983 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:38:27,983 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:38:27,984 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}
2025-10-04 03:38:27,985 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}]
2025-10-04 03:38:27,985 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 180 rates, lookback: 100
2025-10-04 03:38:27,985 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}
2025-10-04 03:38:27,986 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}
2025-10-04 03:38:27,986 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}]
2025-10-04 03:38:27,986 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 180 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:38:27,987 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3850.904, 'equilibrium': 3871.3175, 'status': 'Premium'}
2025-10-04 03:38:27,987 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 180 rates, lookback: 150
2025-10-04 03:38:27,987 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3865.008, 'bottom': 3860.927, 'bar_index': 36}
2025-10-04 03:38:27,988 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3862.887, 'bottom': 3859.58, 'bar_index': 46}
2025-10-04 03:38:27,988 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3867.239, 'bar_index': 80}
2025-10-04 03:38:27,989 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3876.096, 'bottom': 3866.937, 'bar_index': 99}
2025-10-04 03:38:27,989 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.702, 'bottom': 3874.123, 'bar_index': 105}
2025-10-04 03:38:27,989 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.733, 'bottom': 3879.22, 'bar_index': 112}
2025-10-04 03:38:27,990 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.625, 'bottom': 3880.942, 'bar_index': 123}
2025-10-04 03:38:27,990 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.202, 'bottom': 3880.541, 'bar_index': 124}
2025-10-04 03:38:27,990 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3885.241, 'bottom': 3881.17, 'bar_index': 141}
2025-10-04 03:38:27,990 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3882.461, 'bottom': 3877.896, 'bar_index': 143}
2025-10-04 03:38:27,991 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}
2025-10-04 03:38:27,991 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}
2025-10-04 03:38:27,992 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}
2025-10-04 03:38:27,992 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}]
2025-10-04 03:38:27,992 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M5 đã được tính.
2025-10-04 03:38:27,992 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 180 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:38:27,993 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:38:27,993 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:38:27,993 - src.utils.mt5_utils - DEBUG - MSS cho M5 đã được tính.
2025-10-04 03:38:27,994 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:38:27,994 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.619
2025-10-04 03:38:27,994 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.222
2025-10-04 03:38:27,995 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:38:27,995 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.765
2025-10-04 03:38:27,996 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.268
2025-10-04 03:38:27,996 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.256
2025-10-04 03:38:27,996 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.93
2025-10-04 03:38:27,997 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:38:27,998 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.607
2025-10-04 03:38:27,998 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.443
2025-10-04 03:38:27,999 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.378
2025-10-04 03:38:27,999 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.098
2025-10-04 03:38:27,999 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.201
2025-10-04 03:38:28,004 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:38:28,006 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.204
2025-10-04 03:38:28,007 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.989
2025-10-04 03:38:28,008 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.087
2025-10-04 03:38:28,009 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.291
2025-10-04 03:38:28,009 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:38:28,010 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3887.541
2025-10-04 03:38:28,010 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.413
2025-10-04 03:38:28,011 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.942
2025-10-04 03:38:28,011 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.384
2025-10-04 03:38:28,011 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.35
2025-10-04 03:38:28,012 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:38:28,012 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.014
2025-10-04 03:38:28,012 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.179
2025-10-04 03:38:28,013 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.902
2025-10-04 03:38:28,013 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:38:28,013 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.942
2025-10-04 03:38:28,013 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:38:28,014 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.103
2025-10-04 03:38:28,014 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.859
2025-10-04 03:38:28,014 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.29
2025-10-04 03:38:28,015 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.755
2025-10-04 03:38:28,015 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.023
2025-10-04 03:38:28,015 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.154
2025-10-04 03:38:28,016 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.079
2025-10-04 03:38:28,016 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.142
2025-10-04 03:38:28,016 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.8
2025-10-04 03:38:28,017 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.876
2025-10-04 03:38:28,017 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.634
2025-10-04 03:38:28,017 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.689
2025-10-04 03:38:28,017 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.259
2025-10-04 03:38:28,018 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.227
2025-10-04 03:38:28,018 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.176
2025-10-04 03:38:28,018 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.077
2025-10-04 03:38:28,018 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.111
2025-10-04 03:38:28,019 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:38:28,019 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.739
2025-10-04 03:38:28,019 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.335
2025-10-04 03:38:28,020 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.539
2025-10-04 03:38:28,020 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:38:28,020 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.647
2025-10-04 03:38:28,020 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.692
2025-10-04 03:38:28,021 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.989
2025-10-04 03:38:28,021 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.106
2025-10-04 03:38:28,021 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.259
2025-10-04 03:38:28,022 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.124
2025-10-04 03:38:28,022 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.332
2025-10-04 03:38:28,023 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.136
2025-10-04 03:38:28,023 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.321
2025-10-04 03:38:28,023 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.003
2025-10-04 03:38:28,024 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.225
2025-10-04 03:38:28,024 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:38:28,025 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M1: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:38:28,025 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:38:28,025 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7}
2025-10-04 03:38:28,026 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12}
2025-10-04 03:38:28,026 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13}
2025-10-04 03:38:28,026 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37}
2025-10-04 03:38:28,027 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49}
2025-10-04 03:38:28,027 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51}
2025-10-04 03:38:28,027 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58}
2025-10-04 03:38:28,028 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64}
2025-10-04 03:38:28,029 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76}
2025-10-04 03:38:28,029 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87}
2025-10-04 03:38:28,029 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94}
2025-10-04 03:38:28,030 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95}
2025-10-04 03:38:28,038 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:38:28,042 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:38:28,043 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7} đã được fill.
2025-10-04 03:38:28,045 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12} đã được fill.
2025-10-04 03:38:28,045 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13} đã được fill.
2025-10-04 03:38:28,045 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37} đã được fill.
2025-10-04 03:38:28,046 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49} đã được fill.
2025-10-04 03:38:28,046 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51} đã được fill.
2025-10-04 03:38:28,047 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58} đã được fill.
2025-10-04 03:38:28,047 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64} đã được fill.
2025-10-04 03:38:28,047 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76} đã được fill.
2025-10-04 03:38:28,048 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87} đã được fill.
2025-10-04 03:38:28,048 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94} đã được fill.
2025-10-04 03:38:28,048 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95} đã được fill.
2025-10-04 03:38:28,048 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:38:28,049 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:38:28,049 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}
2025-10-04 03:38:28,050 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}]
2025-10-04 03:38:28,050 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:38:28,050 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}
2025-10-04 03:38:28,051 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3884.99, 'bottom': 3884.601, 'bar_index': 108}
2025-10-04 03:38:28,051 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3883.629, 'bottom': 3882.907, 'bar_index': 95}
2025-10-04 03:38:28,051 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}
2025-10-04 03:38:28,052 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}]
2025-10-04 03:38:28,052 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:38:28,053 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3889.197, 'range_low': 3882.907, 'equilibrium': 3886.052, 'status': 'Premium'}
2025-10-04 03:38:28,053 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:38:28,053 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.089, 'bottom': 3884.19, 'bar_index': -24}
2025-10-04 03:38:28,054 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.116, 'bottom': 3886.654, 'bar_index': -18}
2025-10-04 03:38:28,054 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.074, 'bottom': 3886.291, 'bar_index': 5}
2025-10-04 03:38:28,054 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.175, 'bottom': 3886.941, 'bar_index': 6}
2025-10-04 03:38:28,054 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.915, 'bottom': 3886.012, 'bar_index': 20}
2025-10-04 03:38:28,055 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.29, 'bottom': 3885.292, 'bar_index': 33}
2025-10-04 03:38:28,055 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3887.079, 'bottom': 3886.283, 'bar_index': 40}
2025-10-04 03:38:28,056 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.074, 'bottom': 3884.806, 'bar_index': 45}
2025-10-04 03:38:28,056 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.334, 'bottom': 3883.739, 'bar_index': 58}
2025-10-04 03:38:28,056 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}
2025-10-04 03:38:28,057 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}
2025-10-04 03:38:28,057 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}
2025-10-04 03:38:28,057 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}]
2025-10-04 03:38:28,058 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M1 đã được tính.
2025-10-04 03:38:28,058 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:38:28,058 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:38:28,059 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:38:28,059 - src.utils.mt5_utils - DEBUG - MSS cho M1 đã được tính.
2025-10-04 03:38:28,060 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:28,060 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:38:28,060 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:38:28,061 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:38:28,061 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:38:28,061 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:38:28,061 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:28,062 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:38:28,066 - src.utils.mt5_utils - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-04 03:38:28,068 - src.utils.safe_data - DEBUG - Khởi tạo SafeMT5Data với data có: True
2025-10-04 03:38:28,069 - src.utils.mt5_utils - DEBUG - Đã tạo SafeMT5Data object.
2025-10-04 03:38:28,070 - src.utils.mt5_utils - DEBUG - Kết thúc build_context.
2025-10-04 03:38:28,072 - src.utils.mt5_utils - DEBUG - Kết thúc build_context_from_app.
2025-10-04 03:38:28,072 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:38:28,072 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:38:28,073 - src.core.worker_modules.context_coordinator - DEBUG - Đã lấy dữ liệu MT5. MT5 enabled: True, dữ liệu có: True
2025-10-04 03:38:28,074 - src.core.worker_modules.context_coordinator - DEBUG - MT5 data có sẵn, bắt đầu phân tích tin tức.
2025-10-04 03:38:28,074 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: False, TTL: 300.
2025-10-04 03:38:28,074 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: False, TTL: 300
2025-10-04 03:38:28,075 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (98.26s < 300s), bỏ qua làm mới.
2025-10-04 03:38:28,075 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:28,075 - src.core.worker_modules.context_coordinator - DEBUG - Đã refresh news cache.
2025-10-04 03:38:28,075 - src.services.news - DEBUG - Bắt đầu hàm is_within_news_window cho symbol: XAUUSD, before: 15, after: 15.
2025-10-04 03:38:28,076 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:28,076 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:28,076 - src.services.news - DEBUG - Không có event nào trong cửa sổ tin tức.
2025-10-04 03:38:28,077 - src.services.news - DEBUG - Kết thúc hàm is_within_news_window (ngoài cửa sổ).
2025-10-04 03:38:28,077 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:28,077 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:28,078 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:28,078 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:28,078 - src.core.worker_modules.context_coordinator - DEBUG - Đã phân tích tin tức. Trong cửa sổ tin tức: False, lý do: None.
2025-10-04 03:38:28,079 - src.core.worker_modules.context_coordinator - DEBUG - Đã tạo mt5_json_full.
2025-10-04 03:38:28,079 - src.core.worker_modules.context_coordinator - DEBUG - Kết thúc hàm prepare_and_build_context.
2025-10-04 03:38:28,080 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:38:28,080 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135511.3349819
2025-10-04 03:38:28,080 - src.ui.app_ui - DEBUG - Cập nhật UI status: Context+MT5 xong trong 1.97s
2025-10-04 03:38:28,081 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Context+MT5 xong trong 1.97s
2025-10-04 03:38:28,081 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:28,081 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Context+MT5 xong trong 1.97s
2025-10-04 03:38:28,082 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:28,083 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:28,083 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:28,083 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:28,083 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:38:28,084 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:28,084 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135511.339151
2025-10-04 03:38:28,085 - src.core.worker_modules.main_worker - DEBUG - Context+MT5 xong trong 1.97s.
2025-10-04 03:38:28,085 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_all_preconditions.
2025-10-04 03:38:28,086 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_no_run_conditions.
2025-10-04 03:38:28,086 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_no_run_conditions. Kết quả: True, Lý do: Đang chạy trong các điều kiện cho phép.
2025-10-04 03:38:28,086 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm evaluate_no_trade_conditions.
2025-10-04 03:38:28,087 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:38:28,087 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:38:28,087 - src.services.news - DEBUG - Bắt đầu hàm is_within_news_window cho symbol: XAUUSD, before: 15, after: 15.
2025-10-04 03:38:28,088 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:28,088 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:28,088 - src.services.news - DEBUG - Không có event nào trong cửa sổ tin tức.
2025-10-04 03:38:28,088 - src.services.news - DEBUG - Kết thúc hàm is_within_news_window (ngoài cửa sổ).
2025-10-04 03:38:28,089 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: spread_current, default: 0
2025-10-04 03:38:28,089 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-04 03:38:28,090 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-04 03:38:28,091 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'point' trong dict. Giá trị: 0.001
2025-10-04 03:38:28,092 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:28,092 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:28,104 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:28,109 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:38:28,110 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:28,111 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:38:28,111 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:28,112 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-04 03:38:28,112 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:28,112 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'point' trong dict. Giá trị: 0.001
2025-10-04 03:38:28,113 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:28,113 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:28,113 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:38:28,114 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:38:28,114 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:38:28,114 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:28,115 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:28,115 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:28.115471+07:00
2025-10-04 03:38:28,115 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:28.115471+07:00
2025-10-04 03:38:28,116 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:28.115471+07:00 trong DST: True
2025-10-04 03:38:28,116 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:28,116 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:28,117 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:28,119 - src.core.worker_modules.main_worker - ERROR - Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'
Traceback (most recent call last):
  File "C:\tool\app_gemini\src\core\worker_modules\main_worker.py", line 152, in run_analysis_worker
    should_proceed_trade, no_trade_reason = no_run_trade_conditions.check_all_preconditions(
                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        app, cfg, safe_mt5_data, mt5_dict, context_block, mt5_json_full
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\src\core\worker_modules\no_run_trade_conditions.py", line 212, in check_all_preconditions
    ok_nt, reasons_nt, _, _, _ = evaluate_no_trade_conditions(
                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        safe_mt5_data, cfg, cache_events=app.ff_cache_events_local,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        cache_fetch_time=app.ff_cache_fetch_time, ttl_sec=int(getattr(cfg, 'news_cache_ttl_sec', 300) or 300)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\src\core\worker_modules\no_run_trade_conditions.py", line 145, in evaluate_no_trade_conditions
    if cfg.nt_allow_session_asia:
       ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RunConfig' object has no attribute 'nt_allow_session_asia'. Did you mean: 'trade_allow_session_asia'?
2025-10-04 03:38:28,122 - src.ui.app_ui - DEBUG - Cập nhật UI status: Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'
2025-10-04 03:38:28,123 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'
2025-10-04 03:38:28,123 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:28,124 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'
2025-10-04 03:38:28,124 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:28,125 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:28,125 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:28,126 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:28,128 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 1511
2025-10-04 03:38:28,130 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:28,133 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:28,140 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất, lưu trữ và dọn dẹp.
2025-10-04 03:38:28,141 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Hoàn tất.
2025-10-04 03:38:28,142 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:28,142 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Hoàn tất.
2025-10-04 03:38:28,143 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:28,143 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Hoàn tất.
2025-10-04 03:38:28,143 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:28,144 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Hoàn tất.
2025-10-04 03:38:28,144 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:38:28,144 - src.core.worker_modules.main_worker - DEBUG - Trạng thái UI đã được cập nhật thành 'Hoàn tất'.
2025-10-04 03:38:28,144 - src.utils.md_saver - DEBUG - Bắt đầu save_md_report.
2025-10-04 03:38:28,145 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:38:28,145 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:38:28,146 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:38:28,146 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:38:28,147 - src.utils.md_saver - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\report_20251004_033828.md
2025-10-04 03:38:28,147 - src.utils.md_saver - DEBUG - Bắt đầu extract_human_readable_report.
2025-10-04 03:38:28,147 - src.utils.md_saver - DEBUG - Không tìm thấy header 'NHIỆM VỤ 2', trả về toàn bộ text.
2025-10-04 03:38:28,149 - src.utils.md_saver - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251004_033828.md
2025-10-04 03:38:28,149 - src.utils.utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, pattern: report_*.md, giữ lại: 10 file.
2025-10-04 03:38:28,151 - src.utils.utils - DEBUG - Đã xóa file cũ: report_20251002_134838.md
2025-10-04 03:38:28,152 - src.utils.utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-04 03:38:28,152 - src.utils.md_saver - DEBUG - Đã dọn dẹp các file Markdown cũ.
2025-10-04 03:38:28,152 - src.utils.md_saver - DEBUG - Kết thúc save_md_report.
2025-10-04 03:38:28,153 - src.core.worker_modules.main_worker - DEBUG - Báo cáo Markdown đã lưu tại: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\report_20251004_033828.md
2025-10-04 03:38:28,154 - src.utils.json_saver - DEBUG - Bắt đầu hàm save_json_report.
2025-10-04 03:38:28,154 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:38:28,155 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:38:28,155 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:38:28,156 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:38:28,158 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:28,164 - src.utils.json_saver - DEBUG - Thư mục reports: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, timestamp: 20251004_033828.
2025-10-04 03:38:28,171 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:28,173 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Cảnh báo: Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:38:28,173 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:28,173 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:28,174 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:28,174 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Cảnh báo: Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:38:28,176 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:28,176 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:28,177 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:28,177 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:28,178 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:28,178 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:28,178 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (98.36s < 300s), bỏ qua làm mới.
2025-10-04 03:38:28,178 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:28,179 - src.utils.json_saver - WARNING - Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:38:28,179 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:28,179 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:28,180 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:38:28,180 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:28,181 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:38:28,181 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:28,182 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:38:28,182 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:28,182 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:38:28,183 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:28,184 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:38:28,201 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: '[LỖI PHÂN TÍCH] Đã xảy ra lỗi.'
2025-10-04 03:38:28,203 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:28,203 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:38:28,203 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:28,204 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:38:28,204 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:28,205 - src.utils.json_saver - DEBUG - Đã parse và lưu plan: {'direction': None}
2025-10-04 03:38:28,205 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:28,206 - src.utils.json_saver - DEBUG - Đã đặt cycle: 2025-10-04 03:38:28
2025-10-04 03:38:28,206 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:28,206 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:28,207 - src.ui.app_ui - DEBUG - Tạo bản đồ khung thời gian cho 4 ảnh.
2025-10-04 03:38:28,207 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:28,210 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:28,210 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm images_tf_map với 4 tên file.
2025-10-04 03:38:28,211 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:28,222 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_H1.png.
2025-10-04 03:38:28,229 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:28,233 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:28,234 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_H1.png
2025-10-04 03:38:28,394 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern '(?<![a-z0-9])(?:h1|1h)(?![a-z0-9])'.
2025-10-04 03:38:28,457 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:28,463 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:38:28,469 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:28,470 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M1.png.
2025-10-04 03:38:28,471 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:28,476 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M1.png
2025-10-04 03:38:28,479 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:28,482 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern '(?<![a-z0-9])(?:m1|1m)(?![a-z0-9])'.
2025-10-04 03:38:28,488 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:28,492 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:38:28,492 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:28,493 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M15.png.
2025-10-04 03:38:28,495 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:28,497 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M15.png
2025-10-04 03:38:28,514 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:28,516 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern '(?<![a-z0-9])(?:m15|15m)(?![a-z0-9])'.
2025-10-04 03:38:28,517 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:28,518 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:38:28,518 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:28,519 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M5.png.
2025-10-04 03:38:28,519 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:28,520 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M5.png
2025-10-04 03:38:28,520 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:28,521 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern '(?<![a-z0-9])(?:m5|5m)(?![a-z0-9])'.
2025-10-04 03:38:28,524 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:28,525 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:38:28,526 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:28,526 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm images_tf_map. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-04 03:38:28,526 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:28,545 - src.utils.json_saver - DEBUG - Đã tạo và lưu images_tf_map.
2025-10-04 03:38:28,546 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:28,546 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:28,547 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:28,548 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:28,548 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:28,548 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã lưu thành công file: ctx_20251004_033828.json
2025-10-04 03:38:28,548 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:28,549 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:28,549 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:28,550 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã lưu thành công file: ctx_20251004_033828.json
2025-10-04 03:38:28,550 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:28,551 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:28,551 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:28,552 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:28.552015+07:00
2025-10-04 03:38:28,552 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:28.552015+07:00
2025-10-04 03:38:28,552 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:28.552015+07:00 trong DST: True
2025-10-04 03:38:28,553 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:28,553 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:28,553 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:28,553 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:28,554 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:28,554 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:28,554 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:28,555 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:28,555 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:28,555 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:28,556 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:28,557 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:28,557 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:28,557 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:28,558 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:28,558 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:28,559 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:28,560 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:28,560 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:28,560 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:28,561 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:28,572 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:28,573 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:28,573 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:28,575 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:28,575 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:28,575 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:28,576 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:28,576 - src.utils.json_saver - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251004_033828.json
2025-10-04 03:38:28,577 - src.utils.utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, pattern: ctx_*.json, giữ lại: 10 file.
2025-10-04 03:38:28,579 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:28,580 - src.utils.utils - DEBUG - Đã xóa file cũ: ctx_20251002_134838.json
2025-10-04 03:38:28,580 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:28,581 - src.utils.utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-04 03:38:28,581 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:28,581 - src.utils.json_saver - DEBUG - Đã dọn dẹp các file JSON cũ.
2025-10-04 03:38:28,582 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:28,582 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:38:28,583 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:38:28,583 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:38:28,583 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:28,583 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:38:28,584 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:28,584 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: '[LỖI PHÂN TÍCH] Đã xảy ra lỗi.'
2025-10-04 03:38:28,586 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:38:28,619 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:38:28,628 - src.utils.json_saver - DEBUG - Kết thúc hàm save_json_report.
2025-10-04 03:38:28,630 - src.core.worker_modules.main_worker - DEBUG - Báo cáo JSON đã lưu.
2025-10-04 03:38:28,647 - src.utils.ui_utils - DEBUG - Yêu cầu làm mới history list.
2025-10-04 03:38:28,647 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:28,648 - src.utils.ui_utils - DEBUG - Enqueueing function: _refresh_history_list
2025-10-04 03:38:28,649 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:28,651 - src.utils.ui_utils - DEBUG - Yêu cầu làm mới JSON list.
2025-10-04 03:38:28,653 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:28,654 - src.utils.ui_utils - DEBUG - Enqueueing function: _refresh_json_list
2025-10-04 03:38:28,655 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:28,673 - src.core.worker_modules.main_worker - DEBUG - Danh sách lịch sử và JSON trên UI đã được làm mới.
2025-10-04 03:38:28,676 - src.ui.app_ui - DEBUG - Gọi app_logic._maybe_notify_telegram từ UI.
2025-10-04 03:38:28,677 - src.core.app_logic - DEBUG - Bắt đầu hàm _maybe_notify_telegram.
2025-10-04 03:38:28,678 - src.core.app_logic - DEBUG - Bắt đầu _maybe_notify_telegram. Telegram enabled: False, Report text length: 1511.
2025-10-04 03:38:28,679 - src.core.app_logic - DEBUG - Telegram không được bật hoặc không có báo cáo, bỏ qua gửi Telegram.
2025-10-04 03:38:28,679 - src.core.app_logic - DEBUG - Kết thúc _maybe_notify_telegram (Telegram không bật hoặc không có báo cáo).
2025-10-04 03:38:28,680 - src.core.worker_modules.main_worker - DEBUG - Đã kiểm tra và gửi thông báo Telegram (nếu có).
2025-10-04 03:38:28,681 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 0.0%
2025-10-04 03:38:28,685 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:28,700 - src.utils.ui_utils - DEBUG - Enqueueing function: _finalize_done
2025-10-04 03:38:28,711 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm run_analysis_worker.
2025-10-04 03:38:28,799 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:38:28,800 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:38:28,800 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:38:28,801 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:38:28,801 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:38:28,803 - src.ui.history_manager - DEBUG - Đã làm mới history list với 10 file.
2025-10-04 03:38:28,803 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:38:28,804 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _refresh_history_list
2025-10-04 03:38:28,804 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:38:28,804 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:38:28,805 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:38:28,806 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:38:28,806 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:38:28,808 - src.ui.history_manager - DEBUG - Đã làm mới JSON list với 10 file.
2025-10-04 03:38:28,808 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:38:28,808 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _refresh_json_list
2025-10-04 03:38:28,810 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:28,822 - src.ui.app_ui - DEBUG - Gọi app_logic._finalize_stopped từ UI (finalize_done).
2025-10-04 03:38:28,823 - src.core.app_logic - DEBUG - Bắt đầu _finalize_stopped.
2025-10-04 03:38:28,824 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã dừng.
2025-10-04 03:38:28,824 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:28,825 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã dừng.
2025-10-04 03:38:28,825 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:28,827 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:28,827 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:28,827 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:28,827 - src.core.app_logic - DEBUG - Bắt đầu _schedule_next_autorun.
2025-10-04 03:38:28,828 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:28,828 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Tự động chạy sau 60s.
2025-10-04 03:38:28,829 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:28,830 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Tự động chạy sau 60s.
2025-10-04 03:38:28,830 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:28,831 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:28,831 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:28,832 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:28,832 - src.core.app_logic - INFO - Đã lên lịch auto-run tiếp theo sau 60 giây.
2025-10-04 03:38:28,833 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:28,833 - src.core.app_logic - DEBUG - Kết thúc _schedule_next_autorun.
2025-10-04 03:38:28,834 - src.core.app_logic - DEBUG - Kết thúc _finalize_stopped.
2025-10-04 03:38:28,834 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _finalize_done
2025-10-04 03:38:28,835 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:28,835 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:28,854 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:28,860 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:28,861 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:28,861 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:28,877 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:28,887 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:28,888 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:28,889 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:29,562 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:29,563 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:29,563 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:29,564 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (99.75s < 300s), bỏ qua làm mới.
2025-10-04 03:38:29,564 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:29,564 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:29,565 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:29,565 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:29,565 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:29,566 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:29,566 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:29,566 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:29,566 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:29,567 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:29,569 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:29,598 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:29,725 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:29,726 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:29,726 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:29,728 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:29,728 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:29,728 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:29,729 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:29,730 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:29,731 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:29,731 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:29,731 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:29,732 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:29,733 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:29,733 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:29,734 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:29,734 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:29,734 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:29,735 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:29,735 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:29,735 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:29,736 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:29,736 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:29,736 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:29,737 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:29,737 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:29,738 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:29.738028+07:00
2025-10-04 03:38:29,738 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:29.738028+07:00
2025-10-04 03:38:29,738 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:29.738028+07:00 trong DST: True
2025-10-04 03:38:29,739 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:29,739 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:29,739 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:29,739 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:29,740 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:29,740 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:29,740 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:29,741 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:29,741 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:29,741 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:29,742 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:29,742 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:29,743 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:29,743 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:29,743 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:29,744 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:29,744 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:29,744 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:29,745 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:29,745 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:29,745 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:29,745 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:30,747 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:30,747 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:30,747 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:30,748 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (100.93s < 300s), bỏ qua làm mới.
2025-10-04 03:38:30,748 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:30,748 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:30,749 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:30,749 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:30,749 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:30,750 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:30,750 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:30,750 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:30,750 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:30,751 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:30,753 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:30,772 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:30,905 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:30,906 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:30,906 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:30,908 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:30,908 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:30,908 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:30,909 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:30,910 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:30,910 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:30,911 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:30,911 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:30,912 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:30,913 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:30,913 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:30,913 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:30,914 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:30,914 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:30,914 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:30,915 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:30,915 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:30,915 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:30,915 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:30,916 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:30,916 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:30,916 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:30,916 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:30.916893+07:00
2025-10-04 03:38:30,917 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:30.916893+07:00
2025-10-04 03:38:30,917 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:30.916893+07:00 trong DST: True
2025-10-04 03:38:30,917 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:30,918 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:30,918 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:30,918 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:30,919 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:30,919 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:30,919 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:30,920 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:30,920 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:30,920 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:30,921 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:30,921 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:30,921 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:30,922 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:30,922 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:30,923 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:30,923 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:30,923 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:30,924 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:30,924 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:30,924 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:30,925 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:31,929 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:31,929 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:31,930 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:31,930 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (102.11s < 300s), bỏ qua làm mới.
2025-10-04 03:38:31,930 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:31,931 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:31,931 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:31,931 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:31,931 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:31,932 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:31,932 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:31,932 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:31,933 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:31,933 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:31,936 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:31,955 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:32,075 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:32,075 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:32,076 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:32,077 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:32,078 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:32,078 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:32,079 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:32,080 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:32,080 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:32,081 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:32,081 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:32,082 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:32,083 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:32,083 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:32,083 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:32,084 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:32,084 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:32,084 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:32,085 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:32,085 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:32,085 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:32,085 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:32,086 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:32,086 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:32,086 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:32,087 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:32.087251+07:00
2025-10-04 03:38:32,087 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:32.087251+07:00
2025-10-04 03:38:32,088 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:32.087251+07:00 trong DST: True
2025-10-04 03:38:32,088 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:32,088 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:32,088 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:32,089 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:32,089 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:32,089 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:32,090 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:32,090 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:32,090 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:32,091 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:32,091 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:32,092 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:32,092 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:32,094 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:32,095 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:32,097 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:32,099 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:32,101 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:32,101 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:32,103 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:32,104 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:32,105 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:33,108 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:33,108 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:33,109 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:33,109 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (103.29s < 300s), bỏ qua làm mới.
2025-10-04 03:38:33,110 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:33,110 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:33,110 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:33,110 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:33,111 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:33,111 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:33,111 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:33,112 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:33,112 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:33,112 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:33,115 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:33,133 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:33,250 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:33,251 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:33,251 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:33,253 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:33,253 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:33,253 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:33,254 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:33,255 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:33,255 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:33,256 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:33,256 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:33,256 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:33,257 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:33,258 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:33,258 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:33,258 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:33,259 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:33,270 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:33,271 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:33,272 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:33,272 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:33,272 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:33,273 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:33,273 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:33,273 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:33,274 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:33.274017+07:00
2025-10-04 03:38:33,274 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:33.274017+07:00
2025-10-04 03:38:33,274 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:33.274017+07:00 trong DST: True
2025-10-04 03:38:33,274 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:33,275 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:33,275 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:33,276 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:33,276 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:33,276 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:33,277 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:33,277 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:33,278 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:33,279 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:33,279 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:33,280 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:33,280 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:33,281 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:33,293 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:33,294 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:33,294 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:33,295 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:33,295 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:33,296 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:33,296 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:33,296 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:34,298 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:34,299 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:34,299 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:34,299 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (104.48s < 300s), bỏ qua làm mới.
2025-10-04 03:38:34,300 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:34,300 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:34,300 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:34,301 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:34,301 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:34,301 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:34,301 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:34,302 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:34,302 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:34,302 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:34,305 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:34,323 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:34,444 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:34,445 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:34,445 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:34,447 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:34,448 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:34,448 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:34,449 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:34,450 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:34,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:34,471 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:34,473 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:34,474 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:34,475 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:34,475 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:34,475 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:34,476 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:34,476 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:34,477 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:34,477 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:34,477 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:34,478 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:34,478 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:34,478 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:34,479 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:34,479 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:34,479 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:34.479620+07:00
2025-10-04 03:38:34,479 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:34.479620+07:00
2025-10-04 03:38:34,480 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:34.479620+07:00 trong DST: True
2025-10-04 03:38:34,480 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:34,480 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:34,481 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:34,481 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:34,481 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:34,482 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:34,482 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:34,482 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:34,483 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:34,483 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:34,484 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:34,484 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:34,484 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:34,485 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:34,485 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:34,485 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:34,486 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:34,486 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:34,487 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:34,487 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:34,487 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:34,488 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:35,492 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:35,492 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:35,493 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:35,493 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (105.68s < 300s), bỏ qua làm mới.
2025-10-04 03:38:35,493 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:35,494 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:35,494 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:35,494 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:35,495 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:35,495 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:35,495 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:35,495 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:35,496 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:35,497 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:35,500 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:35,526 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:35,645 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:35,646 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:35,646 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:35,648 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:35,648 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:35,648 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:35,649 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:35,650 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:35,651 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:35,651 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:35,652 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:35,652 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:35,653 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:35,654 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:35,654 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:35,654 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:35,665 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:35,666 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:35,667 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:35,667 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:35,668 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:35,668 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:35,669 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:35,669 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:35,669 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:35,670 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:35.670137+07:00
2025-10-04 03:38:35,670 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:35.670137+07:00
2025-10-04 03:38:35,671 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:35.670137+07:00 trong DST: True
2025-10-04 03:38:35,671 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:35,671 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:35,672 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:35,672 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:35,672 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:35,673 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:35,673 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:35,674 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:35,674 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:35,674 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:35,675 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:35,675 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:35,676 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:35,676 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:35,677 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:35,677 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:35,678 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:35,678 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:35,678 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:35,678 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:35,679 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:35,679 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:36,687 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:36,687 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:36,688 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:36,688 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (106.87s < 300s), bỏ qua làm mới.
2025-10-04 03:38:36,688 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:36,689 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:36,689 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:36,690 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:36,690 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:36,690 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:36,691 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:36,691 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:36,692 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:36,692 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:36,695 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:36,716 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:36,842 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:36,843 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:36,844 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:36,845 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:36,846 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:36,846 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:36,847 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:36,848 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:36,849 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:36,849 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:36,849 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:36,850 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:36,851 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:36,851 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:36,862 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:36,863 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:36,864 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:36,864 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:36,865 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:36,866 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:36,866 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:36,866 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:36,867 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:36,867 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:36,867 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:36,868 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:36.868027+07:00
2025-10-04 03:38:36,868 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:36.868027+07:00
2025-10-04 03:38:36,868 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:36.868027+07:00 trong DST: True
2025-10-04 03:38:36,869 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:36,869 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:36,869 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:36,870 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:36,870 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:36,871 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:36,871 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:36,871 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:36,872 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:36,873 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:36,874 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:36,874 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:36,875 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:36,887 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:36,888 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:36,888 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:36,889 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:36,889 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:36,890 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:36,890 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:36,891 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:36,891 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:37,895 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:37,895 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:37,896 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:37,896 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (108.08s < 300s), bỏ qua làm mới.
2025-10-04 03:38:37,897 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:37,897 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:37,897 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:37,897 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:37,898 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:37,898 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:37,898 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:37,899 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:37,899 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:37,899 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:37,902 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:37,922 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:38,046 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:38,047 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:38,047 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:38,049 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:38,049 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:38,049 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:38,050 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:38,051 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:38,052 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:38,052 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:38,053 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:38,053 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:38,054 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:38,054 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:38,055 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:38,055 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:38,056 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:38,056 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:38,056 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:38,057 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:38,057 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:38,057 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:38,058 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:38,058 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:38,059 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:38,059 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:38.059329+07:00
2025-10-04 03:38:38,059 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:38.059329+07:00
2025-10-04 03:38:38,060 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:38.059329+07:00 trong DST: True
2025-10-04 03:38:38,060 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:38,060 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:38,060 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:38,061 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:38,061 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:38,073 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:38,074 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:38,076 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:38,077 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:38,078 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:38,078 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:38,079 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:38,079 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:38,079 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:38,080 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:38,080 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:38,081 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:38,081 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:38,082 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:38,082 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:38,082 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:38,083 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:39,082 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:39,083 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:39,083 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:39,084 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (109.27s < 300s), bỏ qua làm mới.
2025-10-04 03:38:39,084 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:39,084 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:39,085 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:39,085 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:39,086 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:39,086 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:39,086 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:39,087 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:39,087 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:39,087 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:39,091 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:39,110 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:39,230 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:39,231 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:39,231 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:39,233 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:39,233 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:39,233 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:39,234 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:39,235 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:39,236 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:39,236 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:39,236 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:39,237 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:39,238 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:39,238 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:39,238 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:39,250 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:39,250 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:39,251 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:39,252 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:39,252 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:39,253 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:39,253 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:39,254 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:39,254 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:39,254 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:39,254 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:39.254855+07:00
2025-10-04 03:38:39,255 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:39.254855+07:00
2025-10-04 03:38:39,255 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:39.254855+07:00 trong DST: True
2025-10-04 03:38:39,255 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:39,256 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:39,256 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:39,256 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:39,257 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:39,257 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:39,257 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:39,258 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:39,258 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:39,258 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:39,259 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:39,259 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:39,259 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:39,260 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:39,260 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:39,260 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:39,261 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:39,261 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:39,261 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:39,262 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:39,262 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:39,262 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:40,267 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:40,267 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:40,268 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:40,268 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (110.45s < 300s), bỏ qua làm mới.
2025-10-04 03:38:40,268 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:40,269 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:40,269 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:40,269 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:40,269 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:40,270 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:40,270 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:40,270 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:40,271 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:40,271 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:40,274 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:40,293 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:40,417 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:40,418 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:40,418 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:40,420 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:40,420 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:40,421 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:40,421 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:40,423 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:40,423 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:40,424 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:40,424 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:40,424 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:40,425 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:40,437 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:40,438 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:40,439 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:40,440 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:40,440 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:40,441 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:40,441 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:40,442 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:40,442 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:40,442 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:40,443 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:40,443 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:40,443 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:40.443563+07:00
2025-10-04 03:38:40,443 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:40.443563+07:00
2025-10-04 03:38:40,444 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:40.443563+07:00 trong DST: True
2025-10-04 03:38:40,444 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:40,444 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:40,445 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:40,445 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:40,446 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:40,446 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:40,446 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:40,447 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:40,447 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:40,448 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:40,448 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:40,449 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:40,449 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:40,450 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:40,450 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:40,450 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:40,451 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:40,451 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:40,451 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:40,452 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:40,452 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:40,453 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:41,453 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:41,453 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:41,454 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:41,454 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (111.64s < 300s), bỏ qua làm mới.
2025-10-04 03:38:41,454 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:41,455 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:41,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:41,456 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:41,456 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:41,456 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:41,457 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:41,457 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:41,457 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:41,458 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:41,461 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:41,495 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:41,625 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:41,626 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:41,626 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:41,628 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:41,628 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:41,629 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:41,630 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:41,631 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:41,631 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:41,631 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:41,632 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:41,632 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:41,633 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:41,633 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:41,634 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:41,634 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:41,634 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:41,635 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:41,646 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:41,647 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:41,647 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:41,648 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:41,648 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:41,648 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:41,648 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:41,649 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:41.649207+07:00
2025-10-04 03:38:41,649 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:41.649207+07:00
2025-10-04 03:38:41,649 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:41.649207+07:00 trong DST: True
2025-10-04 03:38:41,650 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:41,650 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:41,650 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:41,651 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:41,651 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:41,652 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:41,652 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:41,652 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:41,653 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:41,653 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:41,654 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:41,655 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:41,655 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:41,655 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:41,656 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:41,656 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:41,669 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:41,670 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:41,670 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:41,671 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:41,671 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:41,672 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:41,800 - src.ui.app_ui - DEBUG - Gọi workspace_manager._save_workspace từ UI.
2025-10-04 03:38:41,800 - src.config.workspace_manager - DEBUG - Bắt đầu _save_workspace.
2025-10-04 03:38:41,802 - src.utils.ui_utils - DEBUG - Hiển thị UI message. Kind: info, Title: Workspace, Text: Đã lưu workspace.
2025-10-04 03:38:41,802 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:41,803 - src.config.workspace_manager - INFO - Workspace: Đã lưu workspace thành công.
2025-10-04 03:38:41,803 - src.config.workspace_manager - DEBUG - Kết thúc _save_workspace.
2025-10-04 03:38:42,683 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:42,684 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:42,684 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:42,685 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (112.87s < 300s), bỏ qua làm mới.
2025-10-04 03:38:42,685 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:42,686 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:42,686 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:42,686 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:42,686 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:42,687 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:42,687 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:42,687 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:42,688 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:42,688 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:42,691 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:42,708 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:42,839 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:42,840 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:42,840 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:42,842 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:42,842 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:42,843 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:42,844 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:42,845 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:42,845 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:42,846 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:42,846 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:42,846 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:42,847 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:42,847 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:42,848 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:42,848 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:42,848 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:42,849 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:42,849 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:42,850 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:42,850 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:42,850 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:42,850 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:42,851 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:42,851 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:42,852 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:42.852033+07:00
2025-10-04 03:38:42,852 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:42.852033+07:00
2025-10-04 03:38:42,852 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:42.852033+07:00 trong DST: True
2025-10-04 03:38:42,853 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:42,853 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:42,853 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:42,853 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:42,854 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:42,854 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:42,854 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:42,855 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:42,855 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:42,855 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:42,856 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:42,856 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:42,856 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:42,857 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:42,857 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:42,857 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:42,858 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:42,858 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:42,858 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:42,859 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:42,859 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:42,859 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:43,335 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:43,859 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:43,860 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:43,860 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:43,860 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (114.04s < 300s), bỏ qua làm mới.
2025-10-04 03:38:43,861 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:43,861 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:43,862 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:43,862 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:43,862 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:43,863 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:43,863 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:43,863 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:43,864 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:43,864 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:43,867 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:43,886 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:44,006 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:44,007 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:44,007 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:44,009 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:44,009 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:44,009 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:44,010 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:44,011 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:44,011 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:44,012 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:44,012 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:44,013 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:44,014 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:44,014 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:44,014 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:44,015 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:44,015 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:44,025 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:44,027 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:44,027 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:44,028 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:44,028 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:44,029 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:44,029 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:44,029 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:44,030 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:44.030252+07:00
2025-10-04 03:38:44,030 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:44.030252+07:00
2025-10-04 03:38:44,031 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:44.030252+07:00 trong DST: True
2025-10-04 03:38:44,031 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:44,031 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:44,032 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:44,032 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:44,033 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:44,044 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:44,045 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:44,046 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:44,047 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:44,047 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:44,048 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:44,048 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:44,049 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:44,049 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:44,049 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:44,050 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:44,050 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:44,051 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:44,051 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:44,051 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:44,052 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:44,052 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:45,052 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:45,052 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:45,053 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:45,053 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (115.24s < 300s), bỏ qua làm mới.
2025-10-04 03:38:45,053 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:45,054 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:45,054 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:45,054 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:45,055 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:45,055 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:45,055 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:45,056 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:45,056 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:45,056 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:45,059 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:45,085 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:45,205 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:45,206 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:45,207 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:45,208 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:45,209 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:45,209 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:45,210 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:45,211 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:45,212 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:45,212 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:45,212 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:45,213 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:45,214 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:45,214 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:45,214 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:45,216 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:45,217 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:45,219 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:45,222 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:45,224 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:45,225 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:45,226 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:45,227 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:45,227 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:45,227 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:45,228 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:45.228143+07:00
2025-10-04 03:38:45,228 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:45.228143+07:00
2025-10-04 03:38:45,229 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:45.228143+07:00 trong DST: True
2025-10-04 03:38:45,229 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:45,229 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:45,229 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:45,230 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:45,230 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:45,230 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:45,231 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:45,231 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:45,231 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:45,232 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:45,232 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:45,233 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:45,233 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:45,233 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:45,234 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:45,234 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:45,234 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:45,235 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:45,235 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:45,235 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:45,235 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:45,236 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:46,242 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:46,242 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:46,243 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:46,243 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (116.43s < 300s), bỏ qua làm mới.
2025-10-04 03:38:46,243 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:46,244 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:46,244 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:46,244 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:46,245 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:46,245 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:46,246 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:46,246 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:46,246 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:46,247 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:46,249 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:46,267 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:46,391 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:46,392 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:46,393 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:46,394 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:46,394 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:46,395 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:46,396 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:46,396 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:46,397 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:46,397 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:46,398 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:46,398 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:46,399 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:46,400 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:46,400 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:46,400 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:46,401 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:46,413 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:46,414 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:46,414 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:46,415 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:46,415 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:46,415 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:46,416 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:46,416 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:46,417 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:46.416956+07:00
2025-10-04 03:38:46,417 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:46.416956+07:00
2025-10-04 03:38:46,417 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:46.416956+07:00 trong DST: True
2025-10-04 03:38:46,418 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:46,418 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:46,418 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:46,419 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:46,419 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:46,419 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:46,420 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:46,420 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:46,420 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:46,421 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:46,421 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:46,422 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:46,422 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:46,422 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:46,423 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:46,423 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:46,423 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:46,424 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:46,424 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:46,424 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:46,425 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:46,425 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:47,437 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:38:47,437 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:38:47,438 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:38:47,438 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (117.62s < 300s), bỏ qua làm mới.
2025-10-04 03:38:47,438 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:38:47,439 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:38:47,439 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:38:47,440 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:38:47,440 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:38:47,440 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:47,440 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:47,441 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:38:47,441 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:38:47,441 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:38:47,444 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:38:47,467 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:38:47,604 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:38:47,605 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:38:47,605 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:38:47,607 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:38:47,608 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:38:47,608 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:38:47,609 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:38:47,610 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:38:47,610 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:38:47,610 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:38:47,611 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:38:47,611 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:38:47,613 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:38:47,613 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:38:47,613 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:38:47,614 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:38:47,614 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:38:47,614 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:38:47,615 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:38:47,615 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:38:47,615 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:38:47,615 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:38:47,616 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:38:47,616 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:38:47,616 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:38:47,617 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:38:47.617135+07:00
2025-10-04 03:38:47,617 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:38:47.617135+07:00
2025-10-04 03:38:47,618 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:38:47.617135+07:00 trong DST: True
2025-10-04 03:38:47,618 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:38:47,618 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:38:47,619 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:38:47,619 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:47,619 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:38:47,620 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:38:47,620 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:38:47,620 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:38:47,621 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:38:47,621 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:38:47,622 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:38:47,622 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:38:47,623 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:38:47,623 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:38:47,623 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:38:47,623 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:38:47,624 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:38:47,624 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:38:47,624 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:38:47,627 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:38:47,628 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:38:47,629 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:38:47,904 - src.core.app_logic - DEBUG - Bắt đầu _check_mt5_connection.
2025-10-04 03:38:47,911 - src.core.app_logic - DEBUG - MT5 Check: Kết nối vẫn hoạt động.
2025-10-04 03:38:47,912 - src.core.app_logic - DEBUG - Bắt đầu _schedule_next_autorun.
2025-10-04 03:38:47,912 - src.core.app_logic - DEBUG - Đã hủy tác vụ auto-run cũ.
2025-10-04 03:38:47,912 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Tự động chạy sau 60s.
2025-10-04 03:38:47,913 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:47,913 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Tự động chạy sau 60s.
2025-10-04 03:38:47,914 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:38:47,915 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:38:47,915 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:38:47,915 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:38:47,916 - src.core.app_logic - INFO - Đã lên lịch auto-run tiếp theo sau 60 giây.
2025-10-04 03:38:47,928 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:38:47,928 - src.core.app_logic - DEBUG - Kết thúc _schedule_next_autorun.
2025-10-04 03:38:47,929 - src.core.app_logic - DEBUG - Kết thúc _check_connection (thành công).
2025-10-04 03:38:47,930 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:38:47,957 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:38:47,957 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:38:47,957 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:38:47,958 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:38:48,361 - src.ui.app_ui - DEBUG - Đang xử lý sự kiện đóng cửa sổ (_on_closing).
2025-10-04 03:38:48,362 - src.ui.app_ui - DEBUG - Gọi workspace_manager._save_workspace từ UI.
2025-10-04 03:38:48,362 - src.config.workspace_manager - DEBUG - Bắt đầu _save_workspace.
2025-10-04 03:38:48,364 - src.utils.ui_utils - DEBUG - Hiển thị UI message. Kind: info, Title: Workspace, Text: Đã lưu workspace.
2025-10-04 03:38:48,364 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:38:48,364 - src.config.workspace_manager - INFO - Workspace: Đã lưu workspace thành công.
2025-10-04 03:38:48,365 - src.config.workspace_manager - DEBUG - Kết thúc _save_workspace.
2025-10-04 03:43:43,488 - src.utils.logging_utils - INFO - Đã cấu hình logging, ghi vào: Log\app_debug.log
2025-10-04 03:43:43,491 - src.utils.logging_utils - DEBUG - Kết thúc hàm setup_logging.
2025-10-04 03:43:43,491 - root - INFO - Ứng dụng đang khởi động.
2025-10-04 03:43:43,622 - src.core.app_logic - DEBUG - Bắt đầu hàm __init__.
2025-10-04 03:43:43,622 - src.core.app_logic - DEBUG - Khởi tạo AppLogic.
2025-10-04 03:43:43,623 - src.core.app_logic - DEBUG - Kết thúc hàm __init__.
2025-10-04 03:43:43,623 - src.ui.app_ui - DEBUG - Khởi tạo TradingToolApp.
2025-10-04 03:43:43,623 - src.ui.app_ui - DEBUG - Khởi tạo các biến Tkinter.
2025-10-04 03:43:43,624 - src.utils.utils - DEBUG - Bắt đầu deobfuscate text.
2025-10-04 03:43:43,625 - src.utils.utils - DEBUG - Tạo machine key.
2025-10-04 03:43:43,625 - src.utils.utils - DEBUG - Đã tạo machine key. Độ dài: 32 bytes.
2025-10-04 03:43:43,626 - src.utils.utils - DEBUG - Thực hiện XOR bytes.
2025-10-04 03:43:43,626 - src.utils.utils - DEBUG - Đã deobfuscate text thành công.
2025-10-04 03:43:43,626 - src.ui.app_ui - DEBUG - Đã thêm trace callback cho api_key_var.
2025-10-04 03:43:43,627 - src.ui.app_ui - DEBUG - Các biến Tkinter đã được khởi tạo.
2025-10-04 03:43:43,628 - src.utils.ui_builder - DEBUG - Bắt đầu build_ui.
2025-10-04 03:43:43,628 - src.utils.ui_builder - DEBUG - Bắt đầu _build_top_frame.
2025-10-04 03:43:43,637 - src.utils.ui_builder - DEBUG - Đã xây dựng API Key frame.
2025-10-04 03:43:43,639 - src.ui.app_ui - DEBUG - Đang cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:43:43,640 - src.utils.ui_utils - DEBUG - Enqueueing function: _do_update
2025-10-04 03:43:43,640 - src.utils.ui_builder - DEBUG - Đã xây dựng Model Combobox và cập nhật danh sách model.
2025-10-04 03:43:43,645 - src.utils.ui_builder - DEBUG - Đã xây dựng Folder Path Entry và nút chọn thư mục.
2025-10-04 03:43:43,652 - src.utils.ui_builder - DEBUG - Đã xây dựng Workspace buttons.
2025-10-04 03:43:43,674 - src.utils.ui_builder - DEBUG - Đã xây dựng Run/Autorun controls.
2025-10-04 03:43:43,675 - src.utils.ui_builder - DEBUG - Kết thúc _build_top_frame.
2025-10-04 03:43:43,676 - src.utils.ui_builder - DEBUG - Bắt đầu _build_progress_frame.
2025-10-04 03:43:43,679 - src.utils.ui_builder - DEBUG - Đã xây dựng Progress frame.
2025-10-04 03:43:43,680 - src.utils.ui_builder - DEBUG - Kết thúc _build_progress_frame.
2025-10-04 03:43:43,681 - src.utils.ui_builder - DEBUG - Đã xây dựng Notebook chính.
2025-10-04 03:43:43,682 - src.utils.ui_builder - DEBUG - Bắt đầu _build_report_tab.
2025-10-04 03:43:43,683 - src.utils.ui_builder - DEBUG - Đã thêm tab 'Report' vào Notebook.
2025-10-04 03:43:43,696 - src.utils.ui_builder - DEBUG - Đã xây dựng Treeview cho danh sách ảnh.
2025-10-04 03:43:43,708 - src.utils.ui_builder - DEBUG - Đã xây dựng History panel.
2025-10-04 03:43:43,726 - src.utils.ui_builder - DEBUG - Đã xây dựng JSON panel.
2025-10-04 03:43:43,732 - src.utils.ui_builder - DEBUG - Đã xây dựng Detail Text area.
2025-10-04 03:43:43,732 - src.utils.ui_builder - DEBUG - Kết thúc _build_report_tab.
2025-10-04 03:43:43,733 - src.utils.ui_builder - DEBUG - Bắt đầu _build_chart_tab.
2025-10-04 03:43:43,733 - src.core.chart_tab - DEBUG - Bắt đầu hàm __init__ của ChartTabTV.
2025-10-04 03:43:43,737 - src.core.chart_tab - DEBUG - Bắt đầu hàm _populate_symbol_list.
2025-10-04 03:43:43,739 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:43,764 - src.core.chart_tab - DEBUG - MT5 initialize() thành công, đã cập nhật trạng thái app.
2025-10-04 03:43:43,764 - src.core.chart_tab - DEBUG - Kết thúc hàm _ensure_mt5. Kết nối MT5 OK.
2025-10-04 03:43:43,775 - src.core.chart_tab - DEBUG - Đã đặt symbol mặc định: XAUUSD
2025-10-04 03:43:43,783 - src.core.chart_tab - DEBUG - Đã populate 357 symbols.
2025-10-04 03:43:43,784 - src.core.chart_tab - DEBUG - Kết thúc _populate_symbol_list.
2025-10-04 03:43:43,803 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
2025-10-04 03:43:43,814 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,816 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,816 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,817 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,818 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,818 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,819 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,819 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-04 03:43:43,820 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,820 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,821 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,821 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,822 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-04 03:43:43,822 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,823 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,823 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,824 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,825 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-04 03:43:43,825 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,826 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-04 03:43:43,826 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,827 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,827 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,828 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,828 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,828 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,829 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,829 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,830 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,830 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,831 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,832 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,833 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,833 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,835 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,836 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,850 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,851 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,852 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,852 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,853 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,855 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:43,855 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,856 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,856 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,857 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:43:43,857 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-04 03:43:43,857 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,858 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,858 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,859 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,859 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-04 03:43:43,860 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,860 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-04 03:43:43,861 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-04 03:43:43,861 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,862 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,863 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,863 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,864 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,865 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,866 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,866 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,879 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:43:43,880 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:43,881 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,882 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,882 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,883 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,883 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-04 03:43:43,884 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,884 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,885 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,886 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,887 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,888 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,888 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,889 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,889 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,890 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,890 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,891 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,891 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,892 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:43,892 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,893 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-04 03:43:43,893 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-04 03:43:43,895 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,896 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,897 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,898 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:43,898 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,900 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,900 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-04 03:43:43,901 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,901 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,902 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,902 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,903 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,904 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,914 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,916 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,917 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,917 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,918 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,919 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,919 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,920 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:43:43,920 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,921 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,921 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,922 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,922 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,923 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,923 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,924 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,924 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,926 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,926 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,927 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,928 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,929 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,930 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,930 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-04 03:43:43,931 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-04 03:43:43,931 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,932 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,932 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,933 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,933 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,934 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,935 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,935 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,950 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,950 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,951 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,952 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-04 03:43:43,953 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,954 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,954 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,955 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,955 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,956 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,959 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-04 03:43:43,961 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-04 03:43:43,962 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,963 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:43,964 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,965 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,966 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,966 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,979 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,980 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,981 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,982 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,982 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,983 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,983 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,983 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,985 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,985 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:43,986 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,987 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,987 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:43:43,988 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,989 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:43:43,989 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:43:43,991 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,991 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,992 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-04 03:43:43,993 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,994 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:43,994 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,995 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,995 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,996 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,997 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:43,997 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:43,998 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,998 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:43,999 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:44,000 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:43:44,000 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:44,000 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:44,001 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-04 03:43:44,141 - src.core.chart_tab - DEBUG - Đã khởi tạo Figure và FigureCanvasTkAgg.
2025-10-04 03:43:44,380 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:43:44,409 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:43:44,410 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:43:44,410 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:43:44,411 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 374
2025-10-04 03:43:44,449 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:43:44,450 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:43:44,450 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:43:44,451 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:43:44,451 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 286
2025-10-04 03:43:44,453 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:43:44,454 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:43:44,454 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:43:44,455 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:43:44,455 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 263
2025-10-04 03:43:44,472 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:43:44,472 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:43:44,472 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:43:44,473 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:43:44,473 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 387
2025-10-04 03:43:44,476 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:43:44,476 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:43:44,477 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:43:44,477 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:43:44,477 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 436
2025-10-04 03:43:44,481 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:43:44,481 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:43:44,482 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:43:44,484 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:43:44,484 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 351
2025-10-04 03:43:44,489 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:43:44,489 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:43:44,506 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:43:44,507 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:43:44,507 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 364
2025-10-04 03:43:44,513 - src.core.chart_tab - DEBUG - Đã khởi tạo NavigationToolbar2Tk.
2025-10-04 03:43:44,541 - src.core.chart_tab - DEBUG - Đã khởi tạo panel thông tin tài khoản.
2025-10-04 03:43:44,547 - src.core.chart_tab - DEBUG - Đã khởi tạo bảng lệnh đang mở.
2025-10-04 03:43:44,569 - src.core.chart_tab - DEBUG - Đã khởi tạo bảng lịch sử giao dịch.
2025-10-04 03:43:44,576 - src.core.chart_tab - DEBUG - Đã khởi tạo panel No-Trade.
2025-10-04 03:43:44,577 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:44,577 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:44,577 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:44,578 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:44,578 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:44,581 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:44,597 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:44,599 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:44,604 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:44,619 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:44,777 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:44,778 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:44,778 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:44,780 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:44,780 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:44,781 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:44,782 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:44,784 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:44,784 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:44,785 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:44,785 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:44,785 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:44,786 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:44,787 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:44,787 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:44,788 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:44,802 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:44,803 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:44,816 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:44,816 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:44,817 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:44,817 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:44,817 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:44,818 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:44,818 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:44,823 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:44.823904+07:00
2025-10-04 03:43:44,824 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:44.823904+07:00
2025-10-04 03:43:44,824 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:44.823904+07:00 trong DST: True
2025-10-04 03:43:44,825 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:44,825 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:44,825 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:44,826 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:44,826 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:44,826 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:44,827 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:44,827 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:44,828 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:44,828 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:44,828 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:44,829 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:44,829 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:44,830 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:44,830 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:44,833 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:44,846 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:44,846 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:44,847 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:44,848 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:44,848 - src.core.chart_tab - DEBUG - Kết thúc hàm __init__ của ChartTabTV.
2025-10-04 03:43:44,848 - src.utils.ui_builder - DEBUG - Đã xây dựng ChartTabTV.
2025-10-04 03:43:44,849 - src.utils.ui_builder - DEBUG - Kết thúc _build_chart_tab.
2025-10-04 03:43:44,849 - src.utils.ui_builder - DEBUG - Bắt đầu _build_prompt_tab.
2025-10-04 03:43:44,851 - src.utils.ui_builder - DEBUG - Đã thêm tab 'Prompt' vào Notebook.
2025-10-04 03:43:44,855 - src.utils.ui_builder - DEBUG - Đã xây dựng Prompt action buttons.
2025-10-04 03:43:44,856 - src.utils.ui_builder - DEBUG - Đã xây dựng Prompt Notebook con.
2025-10-04 03:43:44,858 - src.utils.ui_builder - DEBUG - Đã xây dựng tab 'Tìm Lệnh Mới (No Entry)'.
2025-10-04 03:43:44,859 - src.utils.ui_builder - DEBUG - Đã xây dựng tab 'Quản Lý Lệnh (Entry Run)'.
2025-10-04 03:43:44,860 - src.utils.ui_builder - DEBUG - Kết thúc _build_prompt_tab.
2025-10-04 03:43:44,860 - src.utils.ui_builder - DEBUG - Bắt đầu _build_options_tab.
2025-10-04 03:43:44,861 - src.utils.ui_builder - DEBUG - Đã thêm tab 'Options' vào Notebook.
2025-10-04 03:43:44,882 - src.utils.ui_builder - DEBUG - Đã xây dựng Options Notebook con.
2025-10-04 03:43:44,883 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_run.
2025-10-04 03:43:44,884 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'Run' vào Options Notebook.
2025-10-04 03:43:44,889 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Upload & Giới hạn'.
2025-10-04 03:43:44,911 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Tăng tốc & Cache'.
2025-10-04 03:43:44,921 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'NO-TRADE cứng'.
2025-10-04 03:43:44,922 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_run.
2025-10-04 03:43:44,922 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_context.
2025-10-04 03:43:44,923 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'Context' vào Options Notebook.
2025-10-04 03:43:44,943 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Ngữ cảnh từ Text Reports'.
2025-10-04 03:43:44,948 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Ngữ cảnh từ JSON'.
2025-10-04 03:43:44,949 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_context.
2025-10-04 03:43:44,949 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_telegram.
2025-10-04 03:43:44,951 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'Telegram' vào Options Notebook.
2025-10-04 03:43:44,970 - src.utils.ui_builder - DEBUG - Đã xây dựng Telegram options.
2025-10-04 03:43:44,971 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_telegram.
2025-10-04 03:43:44,971 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_mt5.
2025-10-04 03:43:44,973 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'MT5' vào Options Notebook.
2025-10-04 03:43:44,978 - src.utils.ui_builder - DEBUG - Đã xây dựng MT5 connection settings.
2025-10-04 03:43:44,987 - src.utils.ui_builder - DEBUG - Đã xây dựng MT5 candle count settings.
2025-10-04 03:43:45,006 - src.utils.ui_builder - DEBUG - Đã xây dựng MT5 connection/snapshot buttons.
2025-10-04 03:43:45,006 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_autotrade.
2025-10-04 03:43:45,009 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r0.
2025-10-04 03:43:45,014 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r1.
2025-10-04 03:43:45,034 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r2.
2025-10-04 03:43:45,042 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r3.
2025-10-04 03:43:45,046 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r4.
2025-10-04 03:43:45,053 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r5.
2025-10-04 03:43:45,075 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r6.
2025-10-04 03:43:45,077 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r7.
2025-10-04 03:43:45,085 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r8.
2025-10-04 03:43:45,102 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r9.
2025-10-04 03:43:45,103 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_autotrade.
2025-10-04 03:43:45,103 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_mt5.
2025-10-04 03:43:45,104 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_norun.
2025-10-04 03:43:45,108 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'No Run'.
2025-10-04 03:43:45,108 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_norun.
2025-10-04 03:43:45,108 - src.utils.ui_builder - DEBUG - Đã xây dựng các tab con trong Options.
2025-10-04 03:43:45,109 - src.utils.ui_builder - DEBUG - Kết thúc _build_options_tab.
2025-10-04 03:43:45,109 - src.utils.ui_builder - DEBUG - Đã xây dựng các tab chính.
2025-10-04 03:43:45,109 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:43:45,110 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:43:45,110 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:43:45,110 - src.ui.history_manager - WARNING - Không có folder path, không thể lấy reports dir.
2025-10-04 03:43:45,111 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir (không có folder).
2025-10-04 03:43:45,111 - src.ui.history_manager - WARNING - Không thể làm mới history list vì không có thư mục reports hợp lệ.
2025-10-04 03:43:45,116 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:43:45,128 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:43:45,128 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:43:45,129 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:43:45,129 - src.ui.history_manager - WARNING - Không có folder path, không thể lấy reports dir.
2025-10-04 03:43:45,130 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir (không có folder).
2025-10-04 03:43:45,130 - src.ui.history_manager - WARNING - Không thể làm mới JSON list vì không có thư mục reports hợp lệ.
2025-10-04 03:43:45,131 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:43:45,131 - src.ui.app_ui - DEBUG - Gọi prompt_manager._load_prompts_from_disk từ UI. Silent: False.
2025-10-04 03:43:45,131 - src.ui.prompt_manager - DEBUG - Bắt đầu hàm _load_prompts_from_disk. Silent: False
2025-10-04 03:43:45,132 - src.ui.prompt_manager - DEBUG - Bắt đầu hàm _normalize_prompt_text. Độ dài raw text: 4125
2025-10-04 03:43:45,132 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành JSON: Expecting value: line 1 column 1 (char 0)
2025-10-04 03:43:45,133 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành Python literal: unmatched ')' (<unknown>, line 3)
2025-10-04 03:43:45,133 - src.ui.prompt_manager - DEBUG - Không thể normalize prompt, trả về raw text.
2025-10-04 03:43:45,134 - src.ui.prompt_manager - DEBUG - Kết thúc hàm _normalize_prompt_text.
2025-10-04 03:43:45,135 - src.ui.prompt_manager - DEBUG - Đã nạp prompt từ file: prompt_no_entry.txt
2025-10-04 03:43:45,136 - src.ui.prompt_manager - DEBUG - Bắt đầu hàm _normalize_prompt_text. Độ dài raw text: 3265
2025-10-04 03:43:45,137 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành JSON: Expecting value: line 1 column 1 (char 0)
2025-10-04 03:43:45,137 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành Python literal: unmatched ')' (<unknown>, line 3)
2025-10-04 03:43:45,138 - src.ui.prompt_manager - DEBUG - Không thể normalize prompt, trả về raw text.
2025-10-04 03:43:45,138 - src.ui.prompt_manager - DEBUG - Kết thúc hàm _normalize_prompt_text.
2025-10-04 03:43:45,140 - src.ui.prompt_manager - DEBUG - Đã nạp prompt từ file: prompt_entry_run.txt
2025-10-04 03:43:45,140 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 2 prompt từ file.
2025-10-04 03:43:45,140 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:43:45,141 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 2 prompt từ file.
2025-10-04 03:43:45,141 - src.utils.ui_utils - DEBUG - Folder override cho log status: None
2025-10-04 03:43:45,142 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:43:45,142 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:43:45,143 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: None.
2025-10-04 03:43:45,143 - src.ui.prompt_manager - INFO - Đã nạp 2 prompt từ file.
2025-10-04 03:43:45,147 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: None
2025-10-04 03:43:45,158 - src.ui.prompt_manager - DEBUG - Kết thúc hàm _load_prompts_from_disk.
2025-10-04 03:43:45,161 - src.utils.ui_builder - DEBUG - Đã tải dữ liệu ban đầu.
2025-10-04 03:43:45,161 - src.utils.ui_builder - DEBUG - Kết thúc build_ui.
2025-10-04 03:43:45,164 - src.core.app_logic - DEBUG - Bắt đầu hàm _configure_gemini_api_and_update_ui.
2025-10-04 03:43:45,166 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_configure.
2025-10-04 03:43:45,166 - src.core.app_logic - DEBUG - Kết thúc _configure_gemini_api_and_update_ui.
2025-10-04 03:43:45,166 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:43:45,167 - src.ui.app_ui - DEBUG - Gọi workspace_manager._load_workspace từ UI.
2025-10-04 03:43:45,167 - src.core.app_logic - DEBUG - Đã cấu hình Gemini API key.
2025-10-04 03:43:45,167 - src.config.workspace_manager - DEBUG - Bắt đầu _load_workspace.
2025-10-04 03:43:45,168 - src.ui.app_ui - DEBUG - Đang cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:43:45,169 - src.utils.ui_utils - DEBUG - Enqueueing function: _do_update
2025-10-04 03:43:45,169 - src.core.app_logic - DEBUG - Kết thúc hàm _do_configure.
2025-10-04 03:43:45,200 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:43:45,201 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:43:45,202 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:43:45,202 - src.utils.ui_utils - DEBUG - Hiển thị UI message. Kind: info, Title: Workspace, Text: Đã khôi phục workspace.
2025-10-04 03:43:45,203 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:43:45,203 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:43:45,204 - src.config.workspace_manager - INFO - Workspace: Đã tải workspace thành công.
2025-10-04 03:43:45,205 - src.ui.app_ui - DEBUG - Đang tải file từ thư mục: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:43:45,211 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:43:45,225 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:43:45,225 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:43:45,226 - src.utils.ui_utils - DEBUG - Folder override cho log status: None
2025-10-04 03:43:45,227 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:43:45,228 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:43:45,229 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: None.
2025-10-04 03:43:45,229 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:43:45,230 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: None
2025-10-04 03:43:45,230 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:43:45,231 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:43:45,232 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:43:45,232 - src.ui.app_ui - DEBUG - Đã tải 4 file từ thư mục C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:43:45,232 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:43:45,233 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:43:45,233 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:43:45,234 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:43:45,235 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:43:45,238 - src.ui.history_manager - DEBUG - Đã làm mới history list với 10 file.
2025-10-04 03:43:45,261 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:43:45,263 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:43:45,263 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:43:45,264 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:43:45,265 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:43:45,265 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:43:45,266 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:43:45,266 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:43:45,267 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:43:45,268 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:43:45,271 - src.ui.history_manager - DEBUG - Đã làm mới JSON list với 10 file.
2025-10-04 03:43:45,286 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:43:45,287 - src.utils.utils - DEBUG - Bắt đầu deobfuscate text.
2025-10-04 03:43:45,288 - src.utils.utils - DEBUG - Tạo machine key.
2025-10-04 03:43:45,288 - src.utils.utils - DEBUG - Đã tạo machine key. Độ dài: 32 bytes.
2025-10-04 03:43:45,288 - src.utils.utils - DEBUG - Thực hiện XOR bytes.
2025-10-04 03:43:45,289 - src.utils.utils - DEBUG - Đã deobfuscate text thành công.
2025-10-04 03:43:45,289 - src.core.app_logic - DEBUG - Bắt đầu hàm _configure_gemini_api_and_update_ui.
2025-10-04 03:43:45,290 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_configure.
2025-10-04 03:43:45,291 - src.core.app_logic - DEBUG - Kết thúc _configure_gemini_api_and_update_ui.
2025-10-04 03:43:45,291 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:43:45,292 - src.core.app_logic - DEBUG - Đã cấu hình Gemini API key.
2025-10-04 03:43:45,292 - src.ui.app_ui - DEBUG - Đang cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:43:45,292 - src.utils.ui_utils - DEBUG - Enqueueing function: _do_update
2025-10-04 03:43:45,293 - src.core.app_logic - DEBUG - Kết thúc hàm _do_configure.
2025-10-04 03:43:45,294 - src.config.workspace_manager - DEBUG - Kết thúc _load_workspace.
2025-10-04 03:43:45,431 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:43:45,431 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:43:45,431 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:43:45,432 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:43:45,432 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:43:45,433 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:43:45,433 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:43:45,434 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:43:45,434 - src.ui.app_ui - INFO - Đã cập nhật danh sách mô hình AI, tìm thấy 40 mô hình.
2025-10-04 03:43:45,434 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:43:45,435 - src.ui.app_ui - DEBUG - Kết thúc cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:43:45,435 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _do_update
2025-10-04 03:43:45,436 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:43:45,440 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:43:45,440 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:43:45,441 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:43:45,452 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cấu hình Gemini API.
2025-10-04 03:43:45,453 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:43:45,456 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:43:45,456 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:43:45,474 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:43:45,475 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:43:45,475 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:43:45,483 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:43:45,510 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:43:45,511 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:43:45,512 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:43:45,526 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:43:45,535 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:43:45,536 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:43:45,536 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:43:45,537 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:43:45,538 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:43:45,538 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:43:45,539 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:43:45,539 - src.ui.app_ui - INFO - Đã cập nhật danh sách mô hình AI, tìm thấy 40 mô hình.
2025-10-04 03:43:45,539 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:43:45,540 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:43:45,540 - src.ui.app_ui - DEBUG - Kết thúc cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:43:45,540 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:43:45,542 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _do_update
2025-10-04 03:43:45,542 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:43:45,543 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:43:45,545 - src.core.chart_tab - DEBUG - Bắt đầu hàm start.
2025-10-04 03:43:45,545 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:45,545 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:45,546 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:45,546 - src.core.chart_tab - DEBUG - Đã đảm bảo kết nối MT5 (không cần thông tin tài khoản).
2025-10-04 03:43:45,547 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:45,547 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:45,547 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:45,548 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:43:45,548 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:43:45,548 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:45,549 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:43:45,550 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:45,550 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:43:45,570 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:45,572 - src.core.app_logic - INFO - Đang làm mới tin tức không đồng bộ.
2025-10-04 03:43:45,577 - src.core.app_logic - DEBUG - Bắt đầu luồng _do_async để fetch tin tức.
2025-10-04 03:43:45,577 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đã khởi chạy luồng).
2025-10-04 03:43:45,578 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:43:45,579 - src.services.news - DEBUG - Bắt đầu hàm fetch_high_impact_events_for_cfg.
2025-10-04 03:43:45,579 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:45,580 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:43:45,598 - src.services.news - DEBUG - Bắt đầu hàm fetch_high_impact_events.
2025-10-04 03:43:45,601 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:45,601 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:43:45,601 - src.services.news - DEBUG - Bắt đầu hàm _http_get cho URL: https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json
2025-10-04 03:43:45,602 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:45,602 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:43:45,603 - src.services.telegram_client - DEBUG - Bắt đầu hàm build_ssl_context. cafile: None, skip_verify: False
2025-10-04 03:43:45,603 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:45,603 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:45,605 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:45,605 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:45,606 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:45,606 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:45,610 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:45,660 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:45,952 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:45,967 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:45,993 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:46,001 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:46,010 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:46,038 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:46,045 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:46,075 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:46,096 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:46,101 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:46,102 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:46,103 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:46,104 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:46,135 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:46,138 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:46,195 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:46,222 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:46,253 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:46,298 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:46,320 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:46,321 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:46,327 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:46,327 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:46,358 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:46,360 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:46,381 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:46.381560+07:00
2025-10-04 03:43:46,383 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:46.381560+07:00
2025-10-04 03:43:46,385 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:46.381560+07:00 trong DST: True
2025-10-04 03:43:46,386 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:46,387 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:46,388 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:46,389 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:46,389 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:46,390 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:46,391 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:46,392 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:46,393 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:46,394 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:46,410 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:46,412 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:46,413 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:46,413 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:46,414 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:46,414 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:46,415 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:46,415 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:46,415 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:46,416 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:46,417 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:43:46,417 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:43:46,418 - src.core.chart_tab - DEBUG - Kết thúc hàm start.
2025-10-04 03:43:46,582 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0.
2025-10-04 03:43:46,583 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,584 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,585 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,586 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,586 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,587 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,587 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,588 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-04 03:43:46,589 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,590 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,591 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,592 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,610 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-04 03:43:46,611 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,632 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,634 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,635 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,636 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-04 03:43:46,636 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,637 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-04 03:43:46,638 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,639 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,640 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,641 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,641 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,642 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,642 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,656 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,666 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,668 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,721 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,730 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,777 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,778 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,779 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,779 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,780 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,780 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,781 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,781 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,782 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,782 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:46,783 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,784 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,785 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,785 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:43:46,786 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-04 03:43:46,786 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,787 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,787 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,788 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,789 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-04 03:43:46,790 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,790 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-04 03:43:46,791 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-04 03:43:46,792 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,794 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,795 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,795 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,796 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,796 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,797 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,798 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,799 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:43:46,819 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:46,820 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,822 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,823 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,823 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,824 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-04 03:43:46,824 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,825 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,826 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,827 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,827 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,828 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,828 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,829 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,829 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,830 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,847 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,853 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,855 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,855 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:46,856 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,856 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-04 03:43:46,857 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-04 03:43:46,857 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,858 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,859 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,860 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:46,861 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,861 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,880 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-04 03:43:46,881 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,882 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,883 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,884 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,886 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,887 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,888 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,888 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,889 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,889 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,890 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,890 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,891 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,915 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:43:46,917 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,918 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,919 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,919 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,919 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,920 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,921 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,921 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,922 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,922 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,924 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,948 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,949 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,950 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,951 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,952 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-04 03:43:46,952 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-04 03:43:46,953 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,954 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,955 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,976 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,977 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,978 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:46,978 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,979 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:46,981 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:46,982 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,983 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:46,984 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-04 03:43:46,985 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,012 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,016 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,017 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,018 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,036 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,037 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-04 03:43:47,038 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-04 03:43:47,039 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,040 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:47,041 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,041 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,042 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,043 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,043 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,044 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,044 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,045 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,046 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,047 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,047 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,047 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,048 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,048 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:47,049 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,065 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,066 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:43:47,067 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,068 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:43:47,068 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:43:47,071 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,072 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,073 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-04 03:43:47,073 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,074 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,074 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,075 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,076 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,077 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,078 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,079 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,079 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,080 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,080 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,097 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:43:47,099 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,100 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,100 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-04 03:43:47,106 - src.services.telegram_client - DEBUG - Đã tạo SSLContext với certifi.
2025-10-04 03:43:47,107 - src.services.telegram_client - DEBUG - Kết thúc hàm build_ssl_context.
2025-10-04 03:43:47,159 - src.services.news - WARNING - Lần thử 1 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:47,285 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=8.0.
2025-10-04 03:43:47,286 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,286 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,287 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,287 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,288 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,288 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,289 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,289 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-04 03:43:47,290 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,290 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,291 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,291 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,292 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-04 03:43:47,293 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,293 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,293 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,294 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,294 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-04 03:43:47,295 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,296 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-04 03:43:47,297 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,298 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,299 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,299 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,305 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,306 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,307 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,307 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,320 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,322 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,323 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,325 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,325 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,326 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,327 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,327 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,328 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,328 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,329 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,329 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,330 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,331 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:47,347 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,352 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,352 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,353 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:43:47,353 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-04 03:43:47,354 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,354 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,355 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,355 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,356 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-04 03:43:47,356 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,357 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-04 03:43:47,357 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-04 03:43:47,357 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,358 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,358 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,359 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,359 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,360 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,360 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,360 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,361 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:43:47,381 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:47,381 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,382 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,383 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,384 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,384 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-04 03:43:47,385 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,385 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,385 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,386 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,386 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,387 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,387 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,388 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,388 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,388 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,389 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,390 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,390 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,391 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:47,391 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,392 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-04 03:43:47,392 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-04 03:43:47,392 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,407 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,409 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,410 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:47,410 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,411 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,411 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-04 03:43:47,412 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,413 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,413 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,414 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,414 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,415 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,415 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,416 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,416 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,417 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,417 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,418 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,419 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,419 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:43:47,420 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,420 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,421 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,421 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,422 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,422 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,423 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,423 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,424 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,425 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,441 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,442 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,443 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,444 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,445 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,445 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-04 03:43:47,446 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-04 03:43:47,446 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,447 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,447 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,448 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,448 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,448 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,450 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,451 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,451 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,451 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,452 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,452 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-04 03:43:47,453 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,453 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,454 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,454 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,454 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,455 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,456 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-04 03:43:47,474 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-04 03:43:47,475 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,476 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:47,476 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,477 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,477 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,478 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,479 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,479 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,480 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,481 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,482 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,483 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,486 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,487 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,512 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,513 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:43:47,514 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,515 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,516 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:43:47,517 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,517 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:43:47,524 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:43:47,525 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,526 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,527 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-04 03:43:47,527 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,528 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:43:47,528 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,529 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,529 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,530 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,532 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,533 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,533 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,534 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:43:47,535 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:43:47,535 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:43:47,536 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,537 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:43:47,537 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=8.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-04 03:43:47,626 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:47,632 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:47,635 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:47,636 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:43:47,637 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:43:47,639 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:47,667 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:43:47,670 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:47,671 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:43:47,671 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:47,672 - src.core.app_logic - DEBUG - Đã có yêu cầu làm mới tin tức đang thực hiện, bỏ qua.
2025-10-04 03:43:47,673 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đang inflight).
2025-10-04 03:43:47,673 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:47,674 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:47,684 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:47,698 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:47,699 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:47,699 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:47,700 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:47,700 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:47,701 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:47,704 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:47,724 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:47,899 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:47,900 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:47,901 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:47,903 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:47,903 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:47,904 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:47,905 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:47,906 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:47,907 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:47,907 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:47,907 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:47,908 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:47,908 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:47,909 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:47,909 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:47,910 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:47,910 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:47,910 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:47,911 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:47,911 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:47,911 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:47,912 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:47,912 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:47,912 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:47,913 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:47,913 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:47.913628+07:00
2025-10-04 03:43:47,914 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:47.913628+07:00
2025-10-04 03:43:47,914 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:47.913628+07:00 trong DST: True
2025-10-04 03:43:47,915 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:47,915 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:47,915 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:47,916 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:47,916 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:47,917 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:47,917 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:47,917 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:47,918 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:47,918 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:47,919 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:47,919 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:47,919 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:47,920 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:47,920 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:47,920 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:47,921 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:47,921 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:47,921 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:47,922 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:47,923 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:43:47,923 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:43:48,164 - src.services.news - WARNING - Lần thử 2 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:48,930 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:48,946 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:48,973 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:48,974 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:43:48,982 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:43:48,983 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:49,015 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:43:49,033 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:49,048 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:43:49,074 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:49,075 - src.core.app_logic - DEBUG - Đã có yêu cầu làm mới tin tức đang thực hiện, bỏ qua.
2025-10-04 03:43:49,075 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đang inflight).
2025-10-04 03:43:49,075 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:49,076 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:49,076 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:49,077 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:49,077 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:49,077 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:49,078 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:49,078 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:49,079 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:49,084 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:49,140 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:49,236 - src.services.news - WARNING - Lần thử 3 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:49,290 - src.services.news - ERROR - Lỗi khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json' sau 3 lần thử: <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:49,315 - src.services.news - DEBUG - Kết thúc hàm _http_get (lỗi).
2025-10-04 03:43:49,324 - src.services.news - WARNING - Lỗi khi fetch hoặc parse dataset từ URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:49,343 - src.services.news - DEBUG - Bắt đầu hàm _http_get cho URL: https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json
2025-10-04 03:43:49,381 - src.services.telegram_client - DEBUG - Bắt đầu hàm build_ssl_context. cafile: None, skip_verify: False
2025-10-04 03:43:49,422 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:49,424 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:49,424 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:49,427 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:49,433 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:49,437 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:49,440 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:49,443 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:49,444 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:49,444 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:49,446 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:49,446 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:49,448 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:49,448 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:49,448 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:49,449 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:49,449 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:49,450 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:49,450 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:49,451 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:49,451 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:49,451 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:49,452 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:49,452 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:49,453 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:49,453 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:49.453530+07:00
2025-10-04 03:43:49,453 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:49.453530+07:00
2025-10-04 03:43:49,454 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:49.453530+07:00 trong DST: True
2025-10-04 03:43:49,455 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:49,456 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:49,475 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:49,476 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:49,476 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:49,481 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:49,483 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:49,484 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:49,486 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:49,487 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:49,487 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:49,534 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:49,538 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:49,539 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:49,541 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:49,542 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:49,543 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:49,544 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:49,545 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:49,546 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:49,548 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:43:49,604 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:43:50,188 - src.services.telegram_client - DEBUG - Đã tạo SSLContext với certifi.
2025-10-04 03:43:50,188 - src.services.telegram_client - DEBUG - Kết thúc hàm build_ssl_context.
2025-10-04 03:43:50,191 - src.services.news - WARNING - Lần thử 1 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:50,558 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:50,559 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:50,559 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:50,560 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:43:50,560 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:43:50,561 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:50,561 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:43:50,562 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:50,562 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:43:50,562 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:50,563 - src.core.app_logic - DEBUG - Đã có yêu cầu làm mới tin tức đang thực hiện, bỏ qua.
2025-10-04 03:43:50,563 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đang inflight).
2025-10-04 03:43:50,564 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:50,564 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:50,564 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:50,565 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:50,565 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:50,565 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:50,567 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:50,567 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:50,567 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:50,571 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:50,601 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:50,751 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:50,752 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:50,753 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:50,755 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:50,755 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:50,755 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:50,756 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:50,757 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:50,758 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:50,758 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:50,759 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:50,759 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:50,760 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:50,760 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:50,760 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:50,761 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:50,761 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:50,761 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:50,762 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:50,762 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:50,763 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:50,763 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:50,764 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:50,764 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:50,764 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:50,765 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:50.764944+07:00
2025-10-04 03:43:50,765 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:50.764944+07:00
2025-10-04 03:43:50,765 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:50.764944+07:00 trong DST: True
2025-10-04 03:43:50,765 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:50,766 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:50,766 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:50,766 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:50,767 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:50,767 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:50,767 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:50,768 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:50,768 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:50,771 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:50,786 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:50,786 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:50,787 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:50,787 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:50,788 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:50,788 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:50,788 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:50,789 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:50,789 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:50,789 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:50,790 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:43:50,791 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:43:51,197 - src.services.news - WARNING - Lần thử 2 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:51,796 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:51,797 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:51,797 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:51,797 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:43:51,798 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:43:51,798 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:51,799 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:43:51,799 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:51,800 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:43:51,800 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:43:51,801 - src.core.app_logic - DEBUG - Đã có yêu cầu làm mới tin tức đang thực hiện, bỏ qua.
2025-10-04 03:43:51,801 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đang inflight).
2025-10-04 03:43:51,802 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:51,802 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:51,802 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:51,803 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:51,804 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:51,804 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:51,806 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:51,807 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:51,820 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:51,824 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:51,844 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:51,994 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:51,995 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:51,995 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:51,997 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:51,997 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:51,998 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:51,999 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:52,000 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:52,000 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:52,001 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:52,001 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:52,002 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:52,003 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:52,003 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:52,004 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:52,006 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:52,016 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:52,017 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:52,017 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:52,033 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:52,035 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:52,035 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:52,036 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:52,036 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:52,037 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:52,037 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:52.037339+07:00
2025-10-04 03:43:52,037 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:52.037339+07:00
2025-10-04 03:43:52,038 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:52.037339+07:00 trong DST: True
2025-10-04 03:43:52,038 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:52,039 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:52,039 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:52,040 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:52,040 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:52,041 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:52,041 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:52,042 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:52,042 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:52,042 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:52,043 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:52,043 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:52,044 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:52,044 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:52,045 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:52,045 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:52,045 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:52,046 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:52,046 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:52,046 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:52,047 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:43:52,047 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:43:52,205 - src.services.news - WARNING - Lần thử 3 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:52,205 - src.services.news - ERROR - Lỗi khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json' sau 3 lần thử: <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:52,206 - src.services.news - DEBUG - Kết thúc hàm _http_get (lỗi).
2025-10-04 03:43:52,206 - src.services.news - WARNING - Lỗi khi fetch hoặc parse dataset từ URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:43:52,207 - src.services.news - DEBUG - Bắt đầu hàm _dedup_and_trim_week với 0 events.
2025-10-04 03:43:52,208 - src.services.news - DEBUG - Kết thúc hàm _dedup_and_trim_week. Số events sau khi dedup: 0
2025-10-04 03:43:52,208 - src.services.news - DEBUG - Kết thúc hàm fetch_high_impact_events. Tổng số events: 0
2025-10-04 03:43:52,208 - src.services.news - DEBUG - Kết thúc hàm fetch_high_impact_events_for_cfg.
2025-10-04 03:43:52,209 - src.core.app_logic - INFO - Đã làm mới tin tức không đồng bộ, tìm thấy 0 sự kiện.
2025-10-04 03:43:52,209 - src.core.app_logic - DEBUG - Kết thúc luồng _do_async.
2025-10-04 03:43:53,056 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:53,057 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:53,057 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:53,058 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (0.85s < 300s), bỏ qua làm mới.
2025-10-04 03:43:53,058 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:43:53,059 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:53,059 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:53,059 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:53,060 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:53,060 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:53,060 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:53,061 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:53,061 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:53,062 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:53,065 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:53,098 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:53,245 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:53,245 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:53,246 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:53,247 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:53,248 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:53,248 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:53,249 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:53,250 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:53,251 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:53,251 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:53,251 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:53,252 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:53,254 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:53,265 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:53,266 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:53,266 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:53,267 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:53,267 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:53,268 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:53,276 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:53,277 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:53,278 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:53,278 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:53,278 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:53,279 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:53,280 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:53.280335+07:00
2025-10-04 03:43:53,281 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:53.280335+07:00
2025-10-04 03:43:53,281 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:53.280335+07:00 trong DST: True
2025-10-04 03:43:53,282 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:53,282 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:53,282 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:53,283 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:53,283 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:53,283 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:53,284 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:53,284 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:53,285 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:53,285 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:53,285 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:53,286 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:53,286 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:53,287 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:53,287 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:53,287 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:53,288 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:53,288 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:53,288 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:53,289 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:53,289 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:43:53,289 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:43:54,294 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:54,388 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:54,608 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:54,711 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (2.50s < 300s), bỏ qua làm mới.
2025-10-04 03:43:54,798 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:43:54,874 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:54,934 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:54,982 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:55,083 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:55,259 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:55,310 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:55,313 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:55,314 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:55,315 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:55,318 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:55,335 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:55,593 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:55,594 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:55,594 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:55,597 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:55,597 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:55,597 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:55,599 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:55,601 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:55,602 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:55,616 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:55,616 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:55,617 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:55,619 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:55,619 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:55,619 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:55,620 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:55,620 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:55,621 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:55,622 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:55,622 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:55,623 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:55,623 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:55,624 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:55,625 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:55,625 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:55,626 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:55.625977+07:00
2025-10-04 03:43:55,626 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:55.625977+07:00
2025-10-04 03:43:55,627 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:55.625977+07:00 trong DST: True
2025-10-04 03:43:55,628 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:55,629 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:55,629 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:55,629 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:55,630 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:55,631 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:55,631 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:55,631 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:55,632 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:55,632 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:55,633 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:55,634 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:55,635 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:55,635 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:55,636 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:55,637 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:55,637 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:55,639 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:55,639 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:55,639 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:55,640 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:43:55,641 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:43:56,657 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:56,711 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:56,717 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:56,722 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (4.51s < 300s), bỏ qua làm mới.
2025-10-04 03:43:56,724 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:43:56,727 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:56,728 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:56,729 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:56,730 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:56,730 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:56,731 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:56,731 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:56,777 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:56,779 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:56,822 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:56,963 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:57,254 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:57,255 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:57,256 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:57,257 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:57,257 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:57,258 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:57,259 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:57,260 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:57,261 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:57,261 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:57,262 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:57,263 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:57,279 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:57,280 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:57,281 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:57,281 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:57,282 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:57,282 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:57,283 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:57,283 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:57,283 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:57,284 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:57,284 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:57,284 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:57,285 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:57,285 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:57.285628+07:00
2025-10-04 03:43:57,286 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:57.285628+07:00
2025-10-04 03:43:57,286 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:57.285628+07:00 trong DST: True
2025-10-04 03:43:57,286 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:57,286 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:57,287 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:57,287 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:57,287 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:57,288 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:57,288 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:57,288 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:57,289 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:57,289 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:57,290 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:57,290 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:57,290 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:57,291 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:57,291 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:57,291 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:57,292 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:57,292 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:57,293 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:57,293 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:57,293 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:43:57,294 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:43:58,296 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:58,297 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:58,297 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:58,298 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (6.09s < 300s), bỏ qua làm mới.
2025-10-04 03:43:58,298 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:43:58,298 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:58,299 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:58,299 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:58,299 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:58,299 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:58,300 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:58,300 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:43:58,300 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:43:58,302 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:43:58,306 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:43:58,336 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:43:58,505 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:43:58,507 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:43:58,508 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:43:58,510 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:43:58,510 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:43:58,510 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:43:58,511 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:43:58,513 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:43:58,513 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:43:58,514 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:43:58,515 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:58,515 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:58,531 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:43:58,535 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:43:58,536 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:43:58,536 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:43:58,537 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:43:58,538 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:43:58,539 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:43:58,540 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:43:58,541 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:43:58,542 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:43:58,542 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:43:58,543 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:43:58,543 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:43:58,543 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:43:58.543862+07:00
2025-10-04 03:43:58,544 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:43:58.543862+07:00
2025-10-04 03:43:58,544 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:43:58.543862+07:00 trong DST: True
2025-10-04 03:43:58,545 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:43:58,546 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:43:58,546 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:43:58,546 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:58,547 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:43:58,547 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:43:58,548 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:43:58,548 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:43:58,549 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:43:58,549 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:43:58,550 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:43:58,551 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:43:58,558 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:43:58,559 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:43:58,561 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:43:58,561 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:43:58,562 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:43:58,563 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:43:58,563 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:43:58,564 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:43:58,564 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:43:58,565 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:43:59,574 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:43:59,577 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:43:59,636 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:43:59,764 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (7.56s < 300s), bỏ qua làm mới.
2025-10-04 03:43:59,870 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:43:59,922 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:43:59,928 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:43:59,930 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:43:59,931 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:43:59,942 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:43:59,957 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:43:59,990 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:00,006 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:00,010 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:00,015 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:00,106 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:00,374 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:00,375 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:00,376 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:00,378 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:00,379 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:00,379 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:00,381 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:00,398 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:00,400 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:00,401 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:00,401 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:00,401 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:00,404 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:00,404 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:00,405 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:00,405 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:00,405 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:00,406 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:00,406 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:00,406 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:00,407 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:00,408 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:00,408 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:00,409 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:00,409 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:00,409 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:00.409602+07:00
2025-10-04 03:44:00,410 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:00.409602+07:00
2025-10-04 03:44:00,410 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:00.409602+07:00 trong DST: True
2025-10-04 03:44:00,410 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:00,410 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:00,411 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:00,411 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:00,411 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:00,412 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:00,412 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:00,413 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:00,414 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:00,414 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:00,415 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:00,415 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:00,416 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:00,416 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:00,417 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:00,418 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:00,418 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:00,419 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:00,420 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:00,471 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:00,472 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:00,473 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:01,480 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:01,534 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:01,535 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:01,536 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (9.33s < 300s), bỏ qua làm mới.
2025-10-04 03:44:01,547 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:01,548 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:01,549 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:01,549 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:01,570 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:01,571 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:01,575 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:01,576 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:01,603 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:01,605 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:01,609 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:01,630 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:01,834 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:01,836 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:01,837 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:01,839 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:01,839 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:01,839 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:01,841 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:01,842 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:01,842 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:01,843 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:01,843 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:01,844 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:01,845 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:01,845 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:01,846 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:01,847 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:01,847 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:01,847 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:01,848 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:01,849 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:01,850 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:01,850 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:01,851 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:01,851 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:01,852 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:01,854 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:01.854926+07:00
2025-10-04 03:44:01,855 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:01.854926+07:00
2025-10-04 03:44:01,856 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:01.854926+07:00 trong DST: True
2025-10-04 03:44:01,857 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:01,857 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:01,858 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:01,858 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:01,858 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:01,859 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:01,859 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:01,859 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:01,860 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:01,860 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:01,861 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:01,861 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:01,862 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:01,863 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:01,863 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:01,864 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:01,865 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:01,865 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:01,866 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:01,867 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:01,867 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:01,867 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:02,870 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:02,909 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:02,909 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:02,911 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (10.70s < 300s), bỏ qua làm mới.
2025-10-04 03:44:02,912 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:03,010 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:03,026 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:03,027 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:03,088 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:03,089 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:03,090 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:03,092 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:03,093 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:03,094 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:03,097 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:03,113 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:03,285 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:03,287 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:03,288 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:03,291 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:03,292 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:03,293 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:03,294 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:03,296 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:03,296 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:03,297 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:03,311 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:03,313 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:03,314 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:03,315 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:03,316 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:03,318 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:03,318 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:03,318 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:03,319 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:03,319 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:03,320 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:03,320 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:03,320 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:03,321 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:03,321 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:03,321 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:03.321723+07:00
2025-10-04 03:44:03,323 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:03.321723+07:00
2025-10-04 03:44:03,325 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:03.321723+07:00 trong DST: True
2025-10-04 03:44:03,326 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:03,326 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:03,327 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:03,327 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:03,328 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:03,328 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:03,328 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:03,329 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:03,329 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:03,329 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:03,330 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:03,330 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:03,331 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:03,331 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:03,353 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:03,354 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:03,355 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:03,356 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:03,356 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:03,357 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:03,358 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:03,358 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:04,360 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:04,361 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:04,361 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:04,362 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (12.15s < 300s), bỏ qua làm mới.
2025-10-04 03:44:04,362 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:04,362 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:04,363 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:04,363 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:04,365 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:04,366 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:04,366 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:04,366 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:04,367 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:04,368 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:04,373 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:04,398 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:04,548 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:04,549 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:04,550 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:04,551 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:04,554 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:04,554 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:04,557 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:04,559 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:04,569 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:04,570 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:04,570 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:04,571 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:04,572 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:04,572 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:04,572 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:04,573 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:04,574 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:04,574 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:04,574 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:04,575 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:04,575 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:04,575 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:04,576 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:04,576 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:04,576 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:04,577 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:04.577115+07:00
2025-10-04 03:44:04,577 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:04.577115+07:00
2025-10-04 03:44:04,577 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:04.577115+07:00 trong DST: True
2025-10-04 03:44:04,578 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:04,578 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:04,578 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:04,579 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:04,580 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:04,580 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:04,581 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:04,581 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:04,581 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:04,598 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:04,599 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:04,599 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:04,600 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:04,600 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:04,601 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:04,601 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:04,601 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:04,602 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:04,602 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:04,602 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:04,603 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:04,603 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:05,472 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:05,475 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:05,475 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:44:05,476 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:05,477 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:44:05,477 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:44:05,478 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:05,478 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cấu hình Gemini API.
2025-10-04 03:44:05,480 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:05,483 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:05,483 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:05,503 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:05,506 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:05,507 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:05,565 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:05,609 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:44:05,706 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:05,914 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:44:06,008 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:06,065 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:06,111 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:06,165 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:44:06,204 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:06,206 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:06,206 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:06,251 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:06,258 - src.ui.app_ui - INFO - Đã cập nhật danh sách mô hình AI, tìm thấy 40 mô hình.
2025-10-04 03:44:06,259 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:06,259 - src.ui.app_ui - DEBUG - Kết thúc cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:44:06,295 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _do_update
2025-10-04 03:44:06,298 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:06,355 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:06,392 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:06,404 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:06,407 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:06,424 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:06,426 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:06,442 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:06,445 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:06,446 - src.core.app_logic - DEBUG - Bắt đầu _schedule_mt5_connection_check.
2025-10-04 03:44:06,447 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:06,447 - src.core.app_logic - INFO - Đã lên lịch kiểm tra kết nối MT5 sau 30 giây.
2025-10-04 03:44:06,448 - src.core.app_logic - DEBUG - Kết thúc _schedule_mt5_connection_check.
2025-10-04 03:44:06,449 - src.ui.app_ui - DEBUG - TradingToolApp đã khởi tạo xong.
2025-10-04 03:44:06,450 - src.core.app_logic - DEBUG - Bắt đầu hàm set_ui_references.
2025-10-04 03:44:06,450 - src.core.app_logic - DEBUG - Thiết lập tham chiếu UI cho AppLogic.
2025-10-04 03:44:06,451 - src.core.app_logic - DEBUG - Kết thúc set_ui_references.
2025-10-04 03:44:06,451 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:06,452 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:06,452 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:06,453 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (14.24s < 300s), bỏ qua làm mới.
2025-10-04 03:44:06,454 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:06,454 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:06,454 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:06,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:06,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:06,455 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:06,456 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:06,456 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:06,456 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:06,457 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:06,461 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:06,480 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:06,695 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:06,696 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:06,696 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:06,698 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:06,699 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:06,700 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:06,701 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:06,702 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:06,703 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:06,703 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:06,703 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:06,704 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:06,705 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:06,705 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:06,705 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:06,706 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:06,706 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:06,707 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:06,707 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:06,709 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:06,710 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:06,724 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:06,725 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:06,725 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:06,726 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:06,726 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:06.726756+07:00
2025-10-04 03:44:06,727 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:06.726756+07:00
2025-10-04 03:44:06,727 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:06.726756+07:00 trong DST: True
2025-10-04 03:44:06,727 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:06,728 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:06,728 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:06,728 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:06,730 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:06,730 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:06,730 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:06,731 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:06,731 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:06,731 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:06,732 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:06,732 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:06,733 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:06,733 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:06,734 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:06,734 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:06,735 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:06,735 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:06,735 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:06,735 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:06,736 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:06,736 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:06,738 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:07,736 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:07,752 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:07,753 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:07,756 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (15.55s < 300s), bỏ qua làm mới.
2025-10-04 03:44:07,757 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:07,757 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:07,758 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:07,761 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:07,761 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:07,761 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:07,767 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:07,769 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:07,776 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:07,778 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:07,868 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:07,909 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:08,244 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:08,245 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:08,245 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:08,247 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:08,247 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:08,248 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:08,249 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:08,250 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:08,250 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:08,251 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:08,251 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:08,252 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:08,253 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:08,266 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:08,268 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:08,269 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:08,269 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:08,271 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:08,272 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:08,274 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:08,275 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:08,275 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:08,276 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:08,278 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:08,279 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:08,280 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:08.280586+07:00
2025-10-04 03:44:08,299 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:08.280586+07:00
2025-10-04 03:44:08,300 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:08.280586+07:00 trong DST: True
2025-10-04 03:44:08,300 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:08,304 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:08,305 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:08,305 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:08,307 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:08,308 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:08,308 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:08,309 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:08,310 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:08,313 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:08,314 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:08,331 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:08,339 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:08,341 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:08,341 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:08,342 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:08,343 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:08,343 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:08,343 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:08,344 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:08,344 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:08,345 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:08,538 - src.ui.app_ui - DEBUG - Gọi app_logic.start_analysis từ UI.
2025-10-04 03:44:08,538 - src.core.app_logic - DEBUG - Bắt đầu start_analysis. App đang chạy: False
2025-10-04 03:44:08,539 - src.ui.app_ui - DEBUG - Đang xóa tất cả kết quả phân tích.
2025-10-04 03:44:08,539 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:44:08,539 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:08,540 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:44:08,540 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:44:08,540 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã xoá kết quả khỏi giao diện.
2025-10-04 03:44:08,541 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:08,541 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã xoá kết quả khỏi giao diện.
2025-10-04 03:44:08,541 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:08,543 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:08,543 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:08,543 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:08,544 - src.ui.app_ui - DEBUG - Đã xóa kết quả phân tích khỏi giao diện và bộ nhớ.
2025-10-04 03:44:08,544 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:08,545 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đang nạp lại ảnh từ thư mục đã chọn...
2025-10-04 03:44:08,546 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:08,547 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đang nạp lại ảnh từ thư mục đã chọn...
2025-10-04 03:44:08,567 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:08,569 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:08,569 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:08,570 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:08,570 - src.ui.app_ui - DEBUG - Đang tải file từ thư mục: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:44:08,572 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:08,574 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:08,574 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:08,575 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:08,576 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:08,577 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:44:08,577 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:08,578 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:44:08,578 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:08,580 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:08,580 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:08,581 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:08,581 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:44:08,581 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:08,582 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:44:08,598 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:08,603 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:44:08,604 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:08,605 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:08,605 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:08,606 - src.ui.app_ui - DEBUG - Đã tải 4 file từ thư mục C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:44:08,608 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:08,609 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:44:08,611 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:44:08,612 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:44:08,634 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:44:08,635 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:44:08,636 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:44:08,636 - src.core.app_logic - DEBUG - Cấu hình snapshot cho worker: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:44:08,637 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Chưa xử lý.
2025-10-04 03:44:08,637 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:08,638 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:08,638 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Chưa xử lý.
2025-10-04 03:44:08,638 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:08,639 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:08,639 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:08,640 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Chưa xử lý.
2025-10-04 03:44:08,640 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:08,640 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:08,642 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Chưa xử lý.
2025-10-04 03:44:08,642 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:08,642 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:44:08,643 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:44:08,643 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 26
2025-10-04 03:44:08,643 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:08,644 - src.core.app_logic - INFO - Đang chuẩn bị dữ liệu và khởi chạy worker.
2025-10-04 03:44:08,662 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm run_analysis_worker.
2025-10-04 03:44:08,663 - src.core.app_logic - INFO - Đã khởi chạy luồng phân tích worker.
2025-10-04 03:44:08,663 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu run_analysis_worker với model: models/gemini-2.5-flash, folder: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:44:08,664 - src.core.app_logic - DEBUG - Kết thúc start_analysis.
2025-10-04 03:44:08,664 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào. Số ảnh: 4
2025-10-04 03:44:08,665 - src.core.worker_modules.main_worker - DEBUG - Model 'models/gemini-2.5-flash' được khởi tạo thành công.
2025-10-04 03:44:08,665 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 2: Kiểm tra điều kiện NO-RUN.
2025-10-04 03:44:08,666 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_all_preconditions.
2025-10-04 03:44:08,666 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:08,666 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_no_run_conditions.
2025-10-04 03:44:08,667 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:44:08,667 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_no_run_conditions. Kết quả: True, Lý do: Đang chạy trong các điều kiện cho phép.
2025-10-04 03:44:08,668 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:08,668 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_all_preconditions. Kết quả: True
2025-10-04 03:44:08,669 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:08,669 - src.core.worker_modules.main_worker - DEBUG - Không có điều kiện No-Run nào được kích hoạt.
2025-10-04 03:44:08,669 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:08,669 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh. Số ảnh cần xử lý: 4
2025-10-04 03:44:08,670 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:44:08,670 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:44:08,671 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:08,671 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135851.9020438
2025-10-04 03:44:08,672 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:08,672 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm load của UploadCache.
2025-10-04 03:44:08,673 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:08,673 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:08,674 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:08,674 - src.core.worker_modules.image_processor - DEBUG - Đã tải cache upload. Số mục: 0
2025-10-04 03:44:08,674 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:44:08,674 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png, optimize: False
2025-10-04 03:44:08,675 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:44:08,675 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:08,675 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:44:08,691 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_H1.png' được chuẩn bị để upload.
2025-10-04 03:44:08,693 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png, optimize: False
2025-10-04 03:44:08,694 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:44:08,695 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:44:08,695 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M1.png' được chuẩn bị để upload.
2025-10-04 03:44:08,697 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png, optimize: False
2025-10-04 03:44:08,697 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:44:08,697 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:44:08,698 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M15.png' được chuẩn bị để upload.
2025-10-04 03:44:08,698 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png, optimize: False
2025-10-04 03:44:08,698 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:44:08,699 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:44:08,699 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M5.png' được chuẩn bị để upload.
2025-10-04 03:44:08,700 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Đang upload....
2025-10-04 03:44:08,700 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:08,700 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Đang upload....
2025-10-04 03:44:08,701 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:08,702 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Đang upload....
2025-10-04 03:44:08,702 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:08,703 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Đang upload....
2025-10-04 03:44:08,703 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:08,703 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_images_parallel. Số file cần upload: 4
2025-10-04 03:44:08,704 - src.core.worker_modules.image_processor - DEBUG - Max workers: 4, steps_upload: 4, total_steps: 6
2025-10-04 03:44:08,704 - src.core.worker_modules.image_processor - DEBUG - Đã gán ThreadPoolExecutor vào app.active_executor.
2025-10-04 03:44:08,706 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_H1.png
2025-10-04 03:44:08,714 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M1.png
2025-10-04 03:44:08,727 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M15.png
2025-10-04 03:44:08,735 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M5.png
2025-10-04 03:44:08,735 - src.core.worker_modules.image_processor - DEBUG - Đã submit 4 tác vụ upload.
2025-10-04 03:44:08,756 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:08,874 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:08,951 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:09,040 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:09,345 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:09,353 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:09,361 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:09,362 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (17.15s < 300s), bỏ qua làm mới.
2025-10-04 03:44:09,362 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:09,363 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:09,481 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:09,482 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:09,576 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:09,652 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:09,730 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:09,790 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:09,800 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:09,854 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:09,917 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:10,018 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:10,149 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:44:10,218 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:44:10,257 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:44:10,265 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:10,266 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:44:10,288 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:10,291 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:10,293 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:10,294 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:10,295 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:10,297 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:10,298 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:10,299 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:10,300 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:10,300 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:10,317 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:10,320 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:10,320 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:10,321 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:10,322 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:10,323 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:10,326 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:10,327 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:10,328 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:10,328 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:10,329 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:10,329 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:10,330 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:10,331 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:10,331 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:10.331862+07:00
2025-10-04 03:44:10,342 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:10.331862+07:00
2025-10-04 03:44:10,343 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:10.331862+07:00 trong DST: True
2025-10-04 03:44:10,344 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:10,454 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:10,455 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:10,455 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:10,456 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:10,727 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:11,013 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:11,187 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:11,263 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:11,356 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:11,454 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:11,469 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:11,477 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:11,561 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:11,581 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:11,601 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:11,602 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:11,602 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:11,603 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:11,603 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:11,604 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:11,604 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:12,568 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_H1.png', remote_name: files/gjtyad6xj65d.
2025-10-04 03:44:12,569 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M15.png', remote_name: files/tbbum9zas097.
2025-10-04 03:44:12,576 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M1.png', remote_name: files/70cjlrhwdtez.
2025-10-04 03:44:12,581 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M5.png', remote_name: files/d5jacu4buuwy.
2025-10-04 03:44:12,602 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_H1.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:44:12,602 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_H1.png' đã ACTIVE.
2025-10-04 03:44:12,603 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:44:12,603 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 16.7%
2025-10-04 03:44:12,604 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:12,604 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Đã upload.
2025-10-04 03:44:12,604 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:12,604 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:12,605 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 1/4.
2025-10-04 03:44:12,605 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:12,606 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:12,606 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (20.40s < 300s), bỏ qua làm mới.
2025-10-04 03:44:12,606 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:12,607 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:12,607 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:12,607 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:12,607 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:12,608 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:12,608 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:12,608 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:12,609 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:12,609 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:12,612 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:12,629 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M15.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:44:12,639 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:12,639 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M15.png' đã ACTIVE.
2025-10-04 03:44:12,639 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M1.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:44:12,640 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:44:12,693 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M1.png' đã ACTIVE.
2025-10-04 03:44:12,711 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M5.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:44:12,803 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 33.3%
2025-10-04 03:44:12,810 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:12,810 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M5.png' đã ACTIVE.
2025-10-04 03:44:12,811 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:12,811 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:12,812 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Đã upload.
2025-10-04 03:44:12,812 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:12,813 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:12,815 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 2/4.
2025-10-04 03:44:12,815 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:44:12,816 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:12,816 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 50.0%
2025-10-04 03:44:12,816 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:12,817 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:12,817 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:12,817 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Đã upload.
2025-10-04 03:44:12,819 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:12,819 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:12,821 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 3/4.
2025-10-04 03:44:12,821 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:12,821 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:44:12,821 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:12,822 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 66.7%
2025-10-04 03:44:12,822 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:12,822 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:12,823 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:12,823 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Đã upload.
2025-10-04 03:44:12,824 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:12,824 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:12,825 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 4/4.
2025-10-04 03:44:12,826 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:12,826 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:12,827 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:12,827 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:12,827 - src.core.worker_modules.image_processor - DEBUG - Đã dọn dẹp app.active_executor.
2025-10-04 03:44:12,828 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:12,829 - src.core.worker_modules.image_processor - DEBUG - Kết thúc upload_images_parallel. Tổng số file đã upload: 4.
2025-10-04 03:44:12,829 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:12,829 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:44:12,830 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:12,831 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135856.0613078
2025-10-04 03:44:12,831 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:12,831 - src.ui.app_ui - DEBUG - Cập nhật UI status: Upload xong 4 ảnh trong 4.16s
2025-10-04 03:44:12,832 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:12,832 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Upload xong 4 ảnh trong 4.16s
2025-10-04 03:44:12,832 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:12,833 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:12,833 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:12,835 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Upload xong 4 ảnh trong 4.16s
2025-10-04 03:44:12,836 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:12,836 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:12,836 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:12.836764+07:00
2025-10-04 03:44:12,849 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:12.836764+07:00
2025-10-04 03:44:12,850 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:12.836764+07:00 trong DST: True
2025-10-04 03:44:12,850 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:12,851 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:12,851 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:12,852 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:12,852 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:12,852 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:12,853 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:12,853 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:12,854 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:12,854 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:12,855 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:12,856 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:12,856 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:12,857 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:12,857 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:12,857 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:12,858 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:12,858 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:12,858 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:12,858 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:12,859 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:12,860 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:12,860 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:12,860 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:12,861 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:12,861 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:12,861 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:12,862 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:12,862 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:12,862 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:44:12,863 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:12,863 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:12,864 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135856.0941833
2025-10-04 03:44:12,888 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:12,889 - src.core.worker_modules.main_worker - DEBUG - Upload xong 4 ảnh trong 4.19s.
2025-10-04 03:44:12,890 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:12,891 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png, remote_name: files/gjtyad6xj65d
2025-10-04 03:44:12,892 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:12,892 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:44:12,892 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:12,893 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:12,893 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:12,894 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 12721:1759549402:7d15486f85fdfaef
2025-10-04 03:44:12,894 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:12,895 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:44:12,918 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:12,928 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:44:12,953 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:12,956 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:44:12,958 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png, remote_name: files/70cjlrhwdtez
2025-10-04 03:44:12,974 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:44:12,983 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 17445:1759549396:329ef45a73d4642c
2025-10-04 03:44:12,984 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:44:12,986 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:44:12,987 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:44:12,988 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png, remote_name: files/tbbum9zas097
2025-10-04 03:44:13,006 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:44:13,015 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 13248:1759549401:106fc6ab3976cd41
2025-10-04 03:44:13,016 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:44:13,018 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:44:13,038 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:44:13,049 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png, remote_name: files/d5jacu4buuwy
2025-10-04 03:44:13,080 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:44:13,114 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 14075:1759549399:402252ab9019008d
2025-10-04 03:44:13,128 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:44:13,131 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:44:13,133 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:44:13,134 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm save của UploadCache. Số mục: 4
2025-10-04 03:44:13,140 - src.core.worker_modules.image_processor - DEBUG - Đã lưu upload cache thành công.
2025-10-04 03:44:13,142 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm save của UploadCache.
2025-10-04 03:44:13,143 - src.core.worker_modules.main_worker - DEBUG - Cache upload đã được cập nhật và lưu.
2025-10-04 03:44:13,143 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 4: Xây dựng ngữ cảnh và kiểm tra NO-TRADE.
2025-10-04 03:44:13,144 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:44:13,161 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135856.3915709
2025-10-04 03:44:13,162 - src.core.worker_modules.context_coordinator - DEBUG - Bắt đầu hàm prepare_and_build_context.
2025-10-04 03:44:13,163 - src.ui.app_ui - DEBUG - Gọi app_logic.compose_context từ UI với budget_chars: 2000.
2025-10-04 03:44:13,163 - src.core.app_logic - DEBUG - Bắt đầu hàm compose_context.
2025-10-04 03:44:13,164 - src.core.app_logic - DEBUG - Bắt đầu compose_context với budget_chars: 2000.
2025-10-04 03:44:13,166 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_compose.
2025-10-04 03:44:13,167 - src.core.context_builder - DEBUG - Bắt đầu hàm compose_context với budget_chars: 2000.
2025-10-04 03:44:13,168 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:44:13,168 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:44:13,169 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:44:13,169 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:44:13,170 - src.core.context_builder - DEBUG - Bắt đầu hàm parse_ctx_json_files từ thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, max_n: 20
2025-10-04 03:44:13,192 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251004_033828.json
2025-10-04 03:44:13,199 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251004_033700.json
2025-10-04 03:44:13,200 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131831.json
2025-10-04 03:44:13,201 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131722.json
2025-10-04 03:44:13,202 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131628.json
2025-10-04 03:44:13,203 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084623.json
2025-10-04 03:44:13,204 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084622.json
2025-10-04 03:44:13,204 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084620.json
2025-10-04 03:44:13,205 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084619.json
2025-10-04 03:44:13,205 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084615.json
2025-10-04 03:44:13,206 - src.core.context_builder - DEBUG - Đã parse 10 file context.
2025-10-04 03:44:13,206 - src.core.context_builder - DEBUG - Kết thúc hàm parse_ctx_json_files.
2025-10-04 03:44:13,207 - src.core.context_builder - DEBUG - Đã tải 10 historical contexts.
2025-10-04 03:44:13,207 - src.core.context_builder - DEBUG - Bắt đầu hàm summarize_checklist_trend với 10 items.
2025-10-04 03:44:13,207 - src.core.context_builder - DEBUG - Chỉ có 1 hoặc 0 item trong sequence, trend là flat.
2025-10-04 03:44:13,228 - src.core.context_builder - DEBUG - Kết thúc hàm summarize_checklist_trend (sequence quá ngắn).
2025-10-04 03:44:13,229 - src.core.context_builder - DEBUG - Trend checklist summary: {'trend': 'flat', 'enough_ratio': None}
2025-10-04 03:44:13,229 - src.core.context_builder - DEBUG - Có 3 detailed context items.
2025-10-04 03:44:13,230 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:44:13,230 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:44:13,230 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:44:13,231 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: ''
2025-10-04 03:44:13,231 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:44:13,232 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:44:13,232 - src.core.context_builder - DEBUG - Latest plan extracted: {'direction': None}
2025-10-04 03:44:13,233 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:44:13,234 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:44:13,234 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:44:13,234 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:44:13,235 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:44:13,235 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:44:13,236 - src.core.context_builder - DEBUG - Đã tạo 0 recent history summaries.
2025-10-04 03:44:13,236 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:44:13,237 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:44:13,237 - src.core.context_builder - DEBUG - MT5 enabled, bắt đầu xây dựng MT5 context.
2025-10-04 03:44:13,238 - src.ui.app_ui - DEBUG - Gọi mt5_utils.build_context_from_app từ UI.
2025-10-04 03:44:13,238 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context_from_app.
2025-10-04 03:44:13,239 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-04 03:44:13,259 - src.utils.mt5_utils - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-04 03:44:13,260 - src.utils.mt5_utils - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-04 03:44:13,260 - src.utils.mt5_utils - DEBUG - Current price (cp): 3887.107
2025-10-04 03:44:13,261 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-04 03:44:13,262 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-04 03:44:13,264 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-04 03:44:13,267 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-04 03:44:13,268 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:44:13,268 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-04 03:44:13,273 - src.utils.mt5_utils - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-04 03:44:13,287 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:44:13,288 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-04 03:44:13,290 - src.utils.mt5_utils - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-04 03:44:13,290 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:44:13,291 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-04 03:44:13,294 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-04 03:44:13,294 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:44:13,295 - src.utils.mt5_utils - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-04 03:44:13,295 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-04 03:44:13,445 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:44:13,446 - src.utils.mt5_utils - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:44:13,446 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-04 03:44:13,694 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-04 03:44:13,697 - src.utils.mt5_utils - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-04 03:44:13,698 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-04 03:44:14,342 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:44:14,342 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:14,347 - src.utils.mt5_utils - DEBUG - Đã lấy higher timeframe levels.
2025-10-04 03:44:14,348 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:14,349 - src.utils.mt5_utils - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-04 03:44:14,350 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:14,351 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-04 03:44:14,352 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (22.14s < 300s), bỏ qua làm mới.
2025-10-04 03:44:14,353 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:14,354 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:14,355 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:14.355205+07:00
2025-10-04 03:44:14,356 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:14,357 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:14.355205+07:00
2025-10-04 03:44:14,358 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:14,358 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:14.355205+07:00 trong DST: True
2025-10-04 03:44:14,359 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:14,360 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:14,361 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:14,361 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:14,362 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:14,363 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:14,365 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:14,365 - src.core.ict_analysis - DEBUG - Bắt đầu hàm get_session_liquidity với 96 rates, sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, now_hhmm: 10:44
2025-10-04 03:44:14,366 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:14,367 - src.core.ict_analysis - DEBUG - Kết thúc hàm get_session_liquidity. Kết quả: {}
2025-10-04 03:44:14,368 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:14,370 - src.utils.mt5_utils - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-04 03:44:14,371 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:14,372 - src.utils.mt5_utils - DEBUG - Rates trống, không thể tính VWAP.
2025-10-04 03:44:14,393 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:14,402 - src.utils.mt5_utils - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-04 03:44:14,432 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:14,437 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:44:14,440 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-04 03:44:14,515 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:44:14,690 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:14,729 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-04 03:44:14,790 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:14,794 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-04 03:44:14,796 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:14,797 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-04 03:44:14,800 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:14,800 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-04 03:44:14,800 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:14,801 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-04 03:44:14,802 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:14,803 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-04 03:44:14,805 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:14,871 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:14,872 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-04 03:44:14,873 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-04 03:44:14,875 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-04 03:44:14,876 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:44:14,876 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-04 03:44:14,877 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:44:14,878 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-04 03:44:14,879 - src.utils.mt5_utils - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-04 03:44:14,880 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-04 03:44:14,881 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-04 03:44:14,882 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:44:14,883 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-04 03:44:14,884 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-04 03:44:14,885 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-04 03:44:14,889 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:44:14,890 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-04 03:44:14,891 - src.utils.mt5_utils - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-04 03:44:14,892 - src.utils.mt5_utils - DEBUG - Volatility regime: trending
2025-10-04 03:44:14,893 - src.utils.mt5_utils - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:44:14,894 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:14,896 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:14,897 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:14,898 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:14,901 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:14,901 - src.utils.mt5_utils - DEBUG - Thêm PDH: 3897.216
2025-10-04 03:44:14,903 - src.utils.mt5_utils - DEBUG - Thêm PDL: 3819.397
2025-10-04 03:44:14,903 - src.utils.mt5_utils - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-04 03:44:14,956 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:14,957 - src.utils.mt5_utils - DEBUG - Thêm DO: 3863.536
2025-10-04 03:44:14,971 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:14,972 - src.utils.mt5_utils - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-04 03:44:14,973 - src.utils.mt5_utils - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-04 03:44:14,974 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:14,975 - src.utils.mt5_utils - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-04 03:44:14,975 - src.utils.mt5_utils - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-04 03:44:14,976 - src.utils.mt5_utils - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-04 03:44:14,977 - src.utils.mt5_utils - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:44:14,977 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:14,978 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:14,983 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:14,983 - src.utils.mt5_utils - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-04 03:44:14,984 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:14,985 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:14,986 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:14,995 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:14,996 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:14,997 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:14,998 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:14.998060+07:00
2025-10-04 03:44:14,999 - src.utils.mt5_utils - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-04 03:44:14,999 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:14.998060+07:00
2025-10-04 03:44:15,011 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:14.998060+07:00 trong DST: True
2025-10-04 03:44:15,012 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:15,014 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:15,014 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:15,015 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:15,017 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:15,018 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:15,019 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:15,021 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:15,022 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:15,023 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:15,024 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:15,026 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:15,026 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:15,027 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:15,028 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:15,028 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:15,029 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:15,033 - src.utils.mt5_utils - DEBUG - Prev day close: 3862.472
2025-10-04 03:44:15,074 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:15,078 - src.utils.mt5_utils - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-04 03:44:15,081 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:15,082 - src.utils.mt5_utils - DEBUG - Position in day range: 0.8700959919813936
2025-10-04 03:44:15,102 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:15,103 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:15,106 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:15,107 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:15.107898+07:00
2025-10-04 03:44:15,108 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:15.107898+07:00
2025-10-04 03:44:15,109 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:15.107898+07:00 trong DST: True
2025-10-04 03:44:15,110 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:15,111 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:15,111 - src.core.ict_analysis - DEBUG - Bắt đầu hàm is_silver_bullet_window với now_hhmm: 10:44, kills: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:15,113 - src.core.ict_analysis - DEBUG - Không nằm trong cửa sổ Silver Bullet.
2025-10-04 03:44:15,114 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:15,159 - src.core.ict_analysis - DEBUG - Kết thúc hàm is_silver_bullet_window.
2025-10-04 03:44:15,164 - src.utils.mt5_utils - DEBUG - Killzone active: None, Mins to next killzone: 196
2025-10-04 03:44:15,166 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:15,170 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:44:15,172 - src.utils.mt5_utils - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-04 03:44:15,174 - src.utils.mt5_utils - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-04 03:44:15,196 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:44:15,201 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:44:15,206 - src.utils.mt5_utils - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-04 03:44:15,275 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:44:15,324 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3783.265
2025-10-04 03:44:15,332 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3760.112
2025-10-04 03:44:15,350 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3763.997
2025-10-04 03:44:15,351 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.936
2025-10-04 03:44:15,352 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3805.069
2025-10-04 03:44:15,353 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.812
2025-10-04 03:44:15,357 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3806.56
2025-10-04 03:44:15,358 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3831.428
2025-10-04 03:44:15,359 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3809.251
2025-10-04 03:44:15,360 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3833.647
2025-10-04 03:44:15,360 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3822.667
2025-10-04 03:44:15,361 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3834.062
2025-10-04 03:44:15,362 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3825.688
2025-10-04 03:44:15,363 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.242
2025-10-04 03:44:15,364 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.761
2025-10-04 03:44:15,366 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3793.174
2025-10-04 03:44:15,366 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3854.604
2025-10-04 03:44:15,368 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3849.372
2025-10-04 03:44:15,369 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3839.717
2025-10-04 03:44:15,369 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.87
2025-10-04 03:44:15,370 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.622
2025-10-04 03:44:15,371 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.624
2025-10-04 03:44:15,371 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.576
2025-10-04 03:44:15,372 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.937
2025-10-04 03:44:15,373 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3853.395
2025-10-04 03:44:15,373 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3895.417
2025-10-04 03:44:15,374 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.184
2025-10-04 03:44:15,375 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3878.867
2025-10-04 03:44:15,376 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.227
2025-10-04 03:44:15,377 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.948
2025-10-04 03:44:15,378 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.93
2025-10-04 03:44:15,378 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.062
2025-10-04 03:44:15,379 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.894
2025-10-04 03:44:15,380 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3870.082
2025-10-04 03:44:15,381 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.861
2025-10-04 03:44:15,381 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.758
2025-10-04 03:44:15,382 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3897.216
2025-10-04 03:44:15,383 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3819.397
2025-10-04 03:44:15,383 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.415
2025-10-04 03:44:15,384 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:44:15,388 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:44:15,389 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:44:15,390 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:44:15,390 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:44:15,391 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:44:15,392 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:44:15,392 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:44:15,393 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:44:15,394 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:44:15,395 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:44:15,397 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:44:15,397 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:44:15,398 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:44:15,399 - src.utils.mt5_utils - DEBUG - Liquidity levels cho H1: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:44:15,400 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:44:15,401 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4}
2025-10-04 03:44:15,402 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:44:15,403 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12}
2025-10-04 03:44:15,403 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13}
2025-10-04 03:44:15,404 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31}
2025-10-04 03:44:15,405 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32}
2025-10-04 03:44:15,406 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34}
2025-10-04 03:44:15,407 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37}
2025-10-04 03:44:15,408 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38}
2025-10-04 03:44:15,409 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39}
2025-10-04 03:44:15,410 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45}
2025-10-04 03:44:15,410 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50}
2025-10-04 03:44:15,411 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61}
2025-10-04 03:44:15,412 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62}
2025-10-04 03:44:15,413 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66}
2025-10-04 03:44:15,414 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90}
2025-10-04 03:44:15,415 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91}
2025-10-04 03:44:15,416 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95}
2025-10-04 03:44:15,418 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96}
2025-10-04 03:44:15,432 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:44:15,445 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112}
2025-10-04 03:44:15,453 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4} đã được fill.
2025-10-04 03:44:15,476 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:44:15,484 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12} đã được fill.
2025-10-04 03:44:15,487 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13} đã được fill.
2025-10-04 03:44:15,487 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31} đã được fill.
2025-10-04 03:44:15,488 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32} đã được fill.
2025-10-04 03:44:15,489 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34} đã được fill.
2025-10-04 03:44:15,493 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37} đã được fill.
2025-10-04 03:44:15,494 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38} đã được fill.
2025-10-04 03:44:15,495 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39} đã được fill.
2025-10-04 03:44:15,495 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45} đã được fill.
2025-10-04 03:44:15,496 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50} đã được fill.
2025-10-04 03:44:15,496 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61} đã được fill.
2025-10-04 03:44:15,497 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62} đã được fill.
2025-10-04 03:44:15,498 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66} đã được fill.
2025-10-04 03:44:15,499 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90} đã được fill.
2025-10-04 03:44:15,500 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91} đã được fill.
2025-10-04 03:44:15,501 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95} đã được fill.
2025-10-04 03:44:15,502 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96} đã được fill.
2025-10-04 03:44:15,503 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:44:15,503 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112} đã được fill.
2025-10-04 03:44:15,504 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}
2025-10-04 03:44:15,505 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}]
2025-10-04 03:44:15,506 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:44:15,506 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}
2025-10-04 03:44:15,507 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3867.201, 'bottom': 3854.751, 'bar_index': 110}
2025-10-04 03:44:15,508 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3844.879, 'bottom': 3819.397, 'bar_index': 91}
2025-10-04 03:44:15,508 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}
2025-10-04 03:44:15,509 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}]
2025-10-04 03:44:15,513 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:44:15,514 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3897.216, 'range_low': 3760.112, 'equilibrium': 3828.6639999999998, 'status': 'Premium'}
2025-10-04 03:44:15,514 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:44:15,515 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3778.612, 'bottom': 3764.679, 'bar_index': -27}
2025-10-04 03:44:15,516 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3787.543, 'bottom': 3763.997, 'bar_index': -23}
2025-10-04 03:44:15,516 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3819.611, 'bottom': 3806.443, 'bar_index': -15}
2025-10-04 03:44:15,517 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3818.552, 'bottom': 3806.56, 'bar_index': -13}
2025-10-04 03:44:15,518 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.722, 'bottom': 3838.031, 'bar_index': 1}
2025-10-04 03:44:15,519 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3867.242, 'bottom': 3845.851, 'bar_index': 3}
2025-10-04 03:44:15,519 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3871.761, 'bottom': 3854.92, 'bar_index': 6}
2025-10-04 03:44:15,521 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3814.639, 'bottom': 3798.264, 'bar_index': 10}
2025-10-04 03:44:15,523 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3854.604, 'bottom': 3820.442, 'bar_index': 14}
2025-10-04 03:44:15,524 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3860.87, 'bottom': 3847.177, 'bar_index': 19}
2025-10-04 03:44:15,525 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.941, 'bottom': 3858.997, 'bar_index': 30}
2025-10-04 03:44:15,540 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3865.226, 'bottom': 3852.894, 'bar_index': 47}
2025-10-04 03:44:15,564 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.858, 'bottom': 3873.413, 'bar_index': 55}
2025-10-04 03:44:15,565 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3845.401, 'bottom': 3827.234, 'bar_index': 62}
2025-10-04 03:44:15,567 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}
2025-10-04 03:44:15,570 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}
2025-10-04 03:44:15,572 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}
2025-10-04 03:44:15,575 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}]
2025-10-04 03:44:15,575 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho H1 đã được tính.
2025-10-04 03:44:15,576 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:44:15,576 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:44:15,578 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:44:15,579 - src.utils.mt5_utils - DEBUG - MSS cho H1 đã được tính.
2025-10-04 03:44:15,579 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 96 rates, lookback: 200
2025-10-04 03:44:15,580 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3858.531
2025-10-04 03:44:15,580 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:44:15,580 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.878
2025-10-04 03:44:15,581 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:44:15,581 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.326
2025-10-04 03:44:15,581 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3862.684
2025-10-04 03:44:15,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:44:15,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.953
2025-10-04 03:44:15,585 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:44:15,599 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3848.355
2025-10-04 03:44:15,600 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3843.125
2025-10-04 03:44:15,600 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3850.904
2025-10-04 03:44:15,601 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:44:15,602 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:44:15,603 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:44:15,604 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:44:15,607 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:44:15,607 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:44:15,608 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:44:15,608 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:44:15,609 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:44:15,610 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:44:15,610 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:44:15,612 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:44:15,613 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:44:15,616 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:44:15,617 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:44:15,619 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:44:15,620 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:44:15,620 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:44:15,621 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:44:15,622 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:44:15,623 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:44:15,623 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:44:15,624 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:44:15,626 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:44:15,627 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:44:15,627 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:44:15,633 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:44:15,637 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:44:15,641 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M15: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:44:15,642 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 96 rates, current_price: 3887.107
2025-10-04 03:44:15,643 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3}
2025-10-04 03:44:15,644 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7}
2025-10-04 03:44:15,644 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11}
2025-10-04 03:44:15,646 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23}
2025-10-04 03:44:15,648 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26}
2025-10-04 03:44:15,649 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:44:15,649 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:44:15,650 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42}
2025-10-04 03:44:15,651 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52}
2025-10-04 03:44:15,652 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57}
2025-10-04 03:44:15,652 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58}
2025-10-04 03:44:15,654 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:44:15,655 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65}
2025-10-04 03:44:15,656 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69}
2025-10-04 03:44:15,657 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74}
2025-10-04 03:44:15,658 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3} đã được fill.
2025-10-04 03:44:15,659 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7} đã được fill.
2025-10-04 03:44:15,659 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11} đã được fill.
2025-10-04 03:44:15,661 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23} đã được fill.
2025-10-04 03:44:15,661 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26} đã được fill.
2025-10-04 03:44:15,662 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:44:15,737 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:44:15,750 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42} đã được fill.
2025-10-04 03:44:15,756 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52} đã được fill.
2025-10-04 03:44:15,764 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57} đã được fill.
2025-10-04 03:44:15,765 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58} đã được fill.
2025-10-04 03:44:15,766 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:44:15,767 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65} đã được fill.
2025-10-04 03:44:15,769 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69} đã được fill.
2025-10-04 03:44:15,770 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74} đã được fill.
2025-10-04 03:44:15,775 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}
2025-10-04 03:44:15,777 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}]
2025-10-04 03:44:15,777 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 96 rates, lookback: 100
2025-10-04 03:44:15,778 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}
2025-10-04 03:44:15,779 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}
2025-10-04 03:44:15,780 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3845.326, 'bottom': 3843.359, 'bar_index': 27}
2025-10-04 03:44:15,848 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}
2025-10-04 03:44:15,882 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}
2025-10-04 03:44:15,892 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}, {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}]
2025-10-04 03:44:15,912 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 96 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:44:15,928 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3838.081, 'equilibrium': 3864.906, 'status': 'Premium'}
2025-10-04 03:44:15,951 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 96 rates, lookback: 150
2025-10-04 03:44:15,953 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3858.046, 'bottom': 3854.205, 'bar_index': -48}
2025-10-04 03:44:15,954 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3855.466, 'bottom': 3849.361, 'bar_index': -32}
2025-10-04 03:44:15,955 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3848.913, 'bottom': 3839.835, 'bar_index': -29}
2025-10-04 03:44:15,956 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.766, 'bottom': 3843.897, 'bar_index': -22}
2025-10-04 03:44:15,957 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3863.085, 'bottom': 3857.792, 'bar_index': -13}
2025-10-04 03:44:15,958 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3862.923, 'bar_index': 8}
2025-10-04 03:44:15,975 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}
2025-10-04 03:44:15,976 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}
2025-10-04 03:44:15,977 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}
2025-10-04 03:44:15,978 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}]
2025-10-04 03:44:15,981 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M15 đã được tính.
2025-10-04 03:44:15,982 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 96 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:44:15,983 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:44:15,984 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:44:15,984 - src.utils.mt5_utils - DEBUG - MSS cho M15 đã được tính.
2025-10-04 03:44:15,985 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 180 rates, lookback: 200
2025-10-04 03:44:15,986 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:44:15,988 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.693
2025-10-04 03:44:16,010 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.917
2025-10-04 03:44:16,031 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:44:16,060 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.034
2025-10-04 03:44:16,062 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.033
2025-10-04 03:44:16,063 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.397
2025-10-04 03:44:16,063 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:44:16,064 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.323
2025-10-04 03:44:16,065 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.323
2025-10-04 03:44:16,067 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:44:16,069 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:44:16,070 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.587
2025-10-04 03:44:16,070 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.799
2025-10-04 03:44:16,071 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.325
2025-10-04 03:44:16,072 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.674
2025-10-04 03:44:16,074 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:44:16,075 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.889
2025-10-04 03:44:16,076 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:44:16,077 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.764
2025-10-04 03:44:16,078 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.914
2025-10-04 03:44:16,079 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.651
2025-10-04 03:44:16,080 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.875
2025-10-04 03:44:16,103 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:16,126 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3866.346
2025-10-04 03:44:16,128 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:16,129 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:16,130 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (23.92s < 300s), bỏ qua làm mới.
2025-10-04 03:44:16,132 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:16,132 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:16,133 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:16,134 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:16,135 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:16,135 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:16,137 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:16,138 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:16,138 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:16,139 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:16,143 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:16,147 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.433
2025-10-04 03:44:16,166 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:16,194 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:44:16,288 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.632
2025-10-04 03:44:16,412 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:16,415 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.646
2025-10-04 03:44:16,423 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:16,424 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:44:16,425 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:16,425 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.432
2025-10-04 03:44:16,428 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:16,435 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.573
2025-10-04 03:44:16,436 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:16,437 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.856
2025-10-04 03:44:16,439 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:16,440 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:44:16,440 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.152
2025-10-04 03:44:16,442 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:16,457 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:44:16,462 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:16,464 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:16,464 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:16,465 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:16,466 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:16,467 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:16,468 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.067
2025-10-04 03:44:16,469 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:16,475 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:16,476 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:16,477 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:16,477 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:16,478 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:16,484 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:16,484 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:16,485 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:16,486 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:16,486 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:16,487 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:16,488 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:16.488433+07:00
2025-10-04 03:44:16,490 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:16.488433+07:00
2025-10-04 03:44:16,491 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:16.488433+07:00 trong DST: True
2025-10-04 03:44:16,492 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:16,493 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:16,493 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:16,494 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:16,495 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:16,496 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:16,497 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:16,497 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:16,498 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:16,499 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:16,500 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.802
2025-10-04 03:44:16,502 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:16,533 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:16,534 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.218
2025-10-04 03:44:16,534 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:44:16,754 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:17,027 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.209
2025-10-04 03:44:17,241 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:17,344 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.578
2025-10-04 03:44:17,461 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:17,576 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.963
2025-10-04 03:44:17,696 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:17,887 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3870.06
2025-10-04 03:44:17,984 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:18,007 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.583
2025-10-04 03:44:18,008 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:18,009 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:44:18,010 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:18,010 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:44:18,011 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.355
2025-10-04 03:44:18,013 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.03
2025-10-04 03:44:18,013 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:18,014 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:18,015 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:44:18,016 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3880.206
2025-10-04 03:44:18,016 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:18,017 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.522
2025-10-04 03:44:18,291 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3881.461
2025-10-04 03:44:18,344 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3882.092
2025-10-04 03:44:18,404 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:44:18,406 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:44:18,416 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.454
2025-10-04 03:44:18,455 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.959
2025-10-04 03:44:18,483 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.056
2025-10-04 03:44:18,516 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:44:18,535 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.593
2025-10-04 03:44:18,537 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:44:18,540 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.221
2025-10-04 03:44:18,542 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.978
2025-10-04 03:44:18,543 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.364
2025-10-04 03:44:18,544 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:44:18,545 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.771
2025-10-04 03:44:18,545 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.794
2025-10-04 03:44:18,546 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:44:18,548 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3881.367
2025-10-04 03:44:18,548 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.794
2025-10-04 03:44:18,549 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.241
2025-10-04 03:44:18,550 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:44:18,550 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3883.496
2025-10-04 03:44:18,551 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3879.981
2025-10-04 03:44:18,568 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.183
2025-10-04 03:44:18,569 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:44:18,569 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.019
2025-10-04 03:44:18,570 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:44:18,570 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:44:18,571 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:44:18,571 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:44:18,576 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:44:18,577 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:44:18,577 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:44:18,578 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:44:18,578 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:44:18,579 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:44:18,580 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M5: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:44:18,580 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 180 rates, current_price: 3887.107
2025-10-04 03:44:18,581 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2}
2025-10-04 03:44:18,582 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17}
2025-10-04 03:44:18,596 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27}
2025-10-04 03:44:18,598 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37}
2025-10-04 03:44:18,599 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40}
2025-10-04 03:44:18,599 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47}
2025-10-04 03:44:18,601 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48}
2025-10-04 03:44:18,601 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56}
2025-10-04 03:44:18,603 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63}
2025-10-04 03:44:18,604 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64}
2025-10-04 03:44:18,605 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68}
2025-10-04 03:44:18,605 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70}
2025-10-04 03:44:18,606 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:44:18,606 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81}
2025-10-04 03:44:18,607 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87}
2025-10-04 03:44:18,609 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88}
2025-10-04 03:44:18,609 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89}
2025-10-04 03:44:18,610 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106}
2025-10-04 03:44:18,610 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113}
2025-10-04 03:44:18,631 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119}
2025-10-04 03:44:18,632 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123}
2025-10-04 03:44:18,633 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124}
2025-10-04 03:44:18,688 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135}
2025-10-04 03:44:18,713 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142}
2025-10-04 03:44:18,719 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149}
2025-10-04 03:44:18,719 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151}
2025-10-04 03:44:18,729 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155}
2025-10-04 03:44:18,768 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163}
2025-10-04 03:44:18,769 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171}
2025-10-04 03:44:18,773 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:44:18,774 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:44:18,775 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2} đã được fill.
2025-10-04 03:44:18,776 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17} đã được fill.
2025-10-04 03:44:18,777 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27} đã được fill.
2025-10-04 03:44:18,779 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37} đã được fill.
2025-10-04 03:44:18,783 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40} đã được fill.
2025-10-04 03:44:18,784 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47} đã được fill.
2025-10-04 03:44:18,785 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48} đã được fill.
2025-10-04 03:44:18,785 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56} đã được fill.
2025-10-04 03:44:18,786 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63} đã được fill.
2025-10-04 03:44:18,786 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64} đã được fill.
2025-10-04 03:44:18,789 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68} đã được fill.
2025-10-04 03:44:18,790 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70} đã được fill.
2025-10-04 03:44:18,791 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:44:18,795 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81} đã được fill.
2025-10-04 03:44:18,796 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87} đã được fill.
2025-10-04 03:44:18,797 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88} đã được fill.
2025-10-04 03:44:18,798 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89} đã được fill.
2025-10-04 03:44:18,798 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106} đã được fill.
2025-10-04 03:44:18,800 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113} đã được fill.
2025-10-04 03:44:18,801 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119} đã được fill.
2025-10-04 03:44:18,817 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123} đã được fill.
2025-10-04 03:44:18,818 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124} đã được fill.
2025-10-04 03:44:18,818 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135} đã được fill.
2025-10-04 03:44:18,819 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142} đã được fill.
2025-10-04 03:44:18,820 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149} đã được fill.
2025-10-04 03:44:18,822 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151} đã được fill.
2025-10-04 03:44:18,823 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155} đã được fill.
2025-10-04 03:44:18,824 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163} đã được fill.
2025-10-04 03:44:18,825 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171} đã được fill.
2025-10-04 03:44:18,825 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:44:18,826 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:44:18,829 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}
2025-10-04 03:44:18,830 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}]
2025-10-04 03:44:18,832 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 180 rates, lookback: 100
2025-10-04 03:44:18,847 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}
2025-10-04 03:44:18,848 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}
2025-10-04 03:44:18,849 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}]
2025-10-04 03:44:18,850 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 180 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:44:18,853 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3850.904, 'equilibrium': 3871.3175, 'status': 'Premium'}
2025-10-04 03:44:18,854 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 180 rates, lookback: 150
2025-10-04 03:44:18,855 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3865.008, 'bottom': 3860.927, 'bar_index': 36}
2025-10-04 03:44:18,856 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3862.887, 'bottom': 3859.58, 'bar_index': 46}
2025-10-04 03:44:18,856 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3867.239, 'bar_index': 80}
2025-10-04 03:44:18,857 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3876.096, 'bottom': 3866.937, 'bar_index': 99}
2025-10-04 03:44:18,859 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.702, 'bottom': 3874.123, 'bar_index': 105}
2025-10-04 03:44:18,862 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.733, 'bottom': 3879.22, 'bar_index': 112}
2025-10-04 03:44:18,878 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.625, 'bottom': 3880.942, 'bar_index': 123}
2025-10-04 03:44:18,880 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.202, 'bottom': 3880.541, 'bar_index': 124}
2025-10-04 03:44:18,881 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3885.241, 'bottom': 3881.17, 'bar_index': 141}
2025-10-04 03:44:18,882 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3882.461, 'bottom': 3877.896, 'bar_index': 143}
2025-10-04 03:44:18,883 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}
2025-10-04 03:44:18,884 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}
2025-10-04 03:44:18,889 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}
2025-10-04 03:44:18,890 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}]
2025-10-04 03:44:18,891 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M5 đã được tính.
2025-10-04 03:44:18,892 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 180 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:44:18,894 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:44:18,908 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:44:18,909 - src.utils.mt5_utils - DEBUG - MSS cho M5 đã được tính.
2025-10-04 03:44:18,910 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:44:18,911 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.619
2025-10-04 03:44:18,911 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.222
2025-10-04 03:44:18,912 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:44:18,914 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.765
2025-10-04 03:44:18,915 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.268
2025-10-04 03:44:18,915 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.256
2025-10-04 03:44:18,916 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.93
2025-10-04 03:44:18,920 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:44:18,921 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.607
2025-10-04 03:44:18,922 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.443
2025-10-04 03:44:18,923 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.378
2025-10-04 03:44:18,923 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.098
2025-10-04 03:44:18,924 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.201
2025-10-04 03:44:18,925 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:44:18,925 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.204
2025-10-04 03:44:18,926 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.989
2025-10-04 03:44:18,941 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.087
2025-10-04 03:44:18,942 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.291
2025-10-04 03:44:18,943 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:44:18,944 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3887.541
2025-10-04 03:44:18,945 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.413
2025-10-04 03:44:18,947 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.942
2025-10-04 03:44:18,947 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.384
2025-10-04 03:44:18,950 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.35
2025-10-04 03:44:18,953 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:44:18,954 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.014
2025-10-04 03:44:18,955 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.179
2025-10-04 03:44:18,956 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.902
2025-10-04 03:44:18,956 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:44:18,957 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.942
2025-10-04 03:44:18,972 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:44:18,973 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.103
2025-10-04 03:44:18,974 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.859
2025-10-04 03:44:18,976 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.29
2025-10-04 03:44:18,977 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.755
2025-10-04 03:44:18,983 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.023
2025-10-04 03:44:18,984 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.154
2025-10-04 03:44:18,985 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.079
2025-10-04 03:44:18,985 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.142
2025-10-04 03:44:18,986 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.8
2025-10-04 03:44:18,987 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.876
2025-10-04 03:44:18,987 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.634
2025-10-04 03:44:18,989 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.689
2025-10-04 03:44:19,004 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.259
2025-10-04 03:44:19,005 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.227
2025-10-04 03:44:19,005 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.176
2025-10-04 03:44:19,006 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.077
2025-10-04 03:44:19,006 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.111
2025-10-04 03:44:19,006 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:44:19,007 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.739
2025-10-04 03:44:19,007 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.335
2025-10-04 03:44:19,008 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.539
2025-10-04 03:44:19,008 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:44:19,008 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.647
2025-10-04 03:44:19,011 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.692
2025-10-04 03:44:19,013 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.989
2025-10-04 03:44:19,014 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.106
2025-10-04 03:44:19,015 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:19,018 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.259
2025-10-04 03:44:19,050 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:19,096 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.124
2025-10-04 03:44:19,099 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:19,101 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.332
2025-10-04 03:44:19,102 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (26.89s < 300s), bỏ qua làm mới.
2025-10-04 03:44:19,102 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.136
2025-10-04 03:44:19,103 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:19,111 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.321
2025-10-04 03:44:19,154 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:19,155 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.003
2025-10-04 03:44:19,155 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:19,156 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:19,156 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.225
2025-10-04 03:44:19,157 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:19,158 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:44:19,159 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:19,159 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M1: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:44:19,160 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:19,161 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:44:19,165 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:19,167 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7}
2025-10-04 03:44:19,170 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:19,173 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12}
2025-10-04 03:44:19,175 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:19,176 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13}
2025-10-04 03:44:19,194 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:19,204 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37}
2025-10-04 03:44:19,297 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:19,309 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49}
2025-10-04 03:44:19,337 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51}
2025-10-04 03:44:19,385 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58}
2025-10-04 03:44:19,425 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64}
2025-10-04 03:44:19,491 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76}
2025-10-04 03:44:19,553 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87}
2025-10-04 03:44:19,580 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94}
2025-10-04 03:44:19,651 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95}
2025-10-04 03:44:19,737 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:44:20,004 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:20,015 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:44:20,070 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:20,186 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7} đã được fill.
2025-10-04 03:44:20,200 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:20,294 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12} đã được fill.
2025-10-04 03:44:20,360 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:20,406 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13} đã được fill.
2025-10-04 03:44:20,470 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:20,543 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37} đã được fill.
2025-10-04 03:44:20,607 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:20,673 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49} đã được fill.
2025-10-04 03:44:20,748 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:20,812 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51} đã được fill.
2025-10-04 03:44:20,885 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:20,981 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58} đã được fill.
2025-10-04 03:44:21,267 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:21,391 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64} đã được fill.
2025-10-04 03:44:21,441 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:21,452 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76} đã được fill.
2025-10-04 03:44:21,453 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:21,454 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:21,454 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87} đã được fill.
2025-10-04 03:44:21,455 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:21,456 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94} đã được fill.
2025-10-04 03:44:21,469 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:21,471 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95} đã được fill.
2025-10-04 03:44:21,472 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:21,472 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:44:21,473 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:21,473 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:44:21,475 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:21,476 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}
2025-10-04 03:44:21,477 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:21,601 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}]
2025-10-04 03:44:21,661 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:21,742 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:44:21,828 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:21,904 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}
2025-10-04 03:44:21,923 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:21,925 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3884.99, 'bottom': 3884.601, 'bar_index': 108}
2025-10-04 03:44:21,925 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:21,926 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:21,927 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3883.629, 'bottom': 3882.907, 'bar_index': 95}
2025-10-04 03:44:21,929 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:21,931 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}
2025-10-04 03:44:21,935 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:21,936 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}]
2025-10-04 03:44:21,938 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:21.937961+07:00
2025-10-04 03:44:21,938 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:44:21,938 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3889.197, 'range_low': 3882.907, 'equilibrium': 3886.052, 'status': 'Premium'}
2025-10-04 03:44:21,939 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:44:21,939 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.089, 'bottom': 3884.19, 'bar_index': -24}
2025-10-04 03:44:21,965 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:21.937961+07:00
2025-10-04 03:44:21,969 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.116, 'bottom': 3886.654, 'bar_index': -18}
2025-10-04 03:44:21,972 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:21.937961+07:00 trong DST: True
2025-10-04 03:44:21,972 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:21,973 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.074, 'bottom': 3886.291, 'bar_index': 5}
2025-10-04 03:44:21,973 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:21,974 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.175, 'bottom': 3886.941, 'bar_index': 6}
2025-10-04 03:44:21,976 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:21,976 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.915, 'bottom': 3886.012, 'bar_index': 20}
2025-10-04 03:44:21,977 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:21,977 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.29, 'bottom': 3885.292, 'bar_index': 33}
2025-10-04 03:44:21,978 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:21,978 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3887.079, 'bottom': 3886.283, 'bar_index': 40}
2025-10-04 03:44:21,989 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:22,002 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.074, 'bottom': 3884.806, 'bar_index': 45}
2025-10-04 03:44:22,003 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:22,003 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.334, 'bottom': 3883.739, 'bar_index': 58}
2025-10-04 03:44:22,004 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:22,005 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}
2025-10-04 03:44:22,006 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:22,006 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}
2025-10-04 03:44:22,008 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:22,008 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}
2025-10-04 03:44:22,009 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:22,009 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}]
2025-10-04 03:44:22,011 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:22,012 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M1 đã được tính.
2025-10-04 03:44:22,012 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:22,013 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:44:22,013 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:22,014 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:44:22,016 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:22,016 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:44:22,018 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:22,019 - src.utils.mt5_utils - DEBUG - MSS cho M1 đã được tính.
2025-10-04 03:44:22,036 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:22,037 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:22,038 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:22,039 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:44:22,040 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:22,040 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:44:22,041 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:22,042 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:22,043 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:44:22,043 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:22,044 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:44:22,081 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:44:22,123 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:22,132 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:44:22,173 - src.utils.mt5_utils - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-04 03:44:22,174 - src.utils.safe_data - DEBUG - Khởi tạo SafeMT5Data với data có: True
2025-10-04 03:44:22,244 - src.utils.mt5_utils - DEBUG - Đã tạo SafeMT5Data object.
2025-10-04 03:44:22,249 - src.utils.mt5_utils - DEBUG - Kết thúc build_context.
2025-10-04 03:44:22,315 - src.utils.mt5_utils - DEBUG - Kết thúc build_context_from_app.
2025-10-04 03:44:22,322 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:44:22,324 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:44:22,326 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:22,327 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:22,329 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:44:22,329 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:44:22,330 - src.core.context_builder - DEBUG - Đã xây dựng MT5 context lite.
2025-10-04 03:44:22,331 - src.core.context_builder - DEBUG - Đã xây dựng MT5 flags.
2025-10-04 03:44:22,332 - src.core.context_builder - DEBUG - Bắt đầu hàm images_tf_map với 4 tên ảnh.
2025-10-04 03:44:22,348 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_H1.png.
2025-10-04 03:44:22,350 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_H1.png
2025-10-04 03:44:22,353 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern '(?<![a-z0-9])(?:h1|1h)(?![a-z0-9])'.
2025-10-04 03:44:22,357 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:44:22,358 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_H1.png': H1
2025-10-04 03:44:22,359 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M1.png.
2025-10-04 03:44:22,360 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M1.png
2025-10-04 03:44:22,362 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern '(?<![a-z0-9])(?:m1|1m)(?![a-z0-9])'.
2025-10-04 03:44:22,402 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:44:22,406 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M1.png': M1
2025-10-04 03:44:22,409 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M15.png.
2025-10-04 03:44:22,412 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M15.png
2025-10-04 03:44:22,418 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern '(?<![a-z0-9])(?:m15|15m)(?![a-z0-9])'.
2025-10-04 03:44:22,432 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:44:22,441 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M15.png': M15
2025-10-04 03:44:22,442 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M5.png.
2025-10-04 03:44:22,444 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M5.png
2025-10-04 03:44:22,446 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern '(?<![a-z0-9])(?:m5|5m)(?![a-z0-9])'.
2025-10-04 03:44:22,448 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:44:22,448 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M5.png': M5
2025-10-04 03:44:22,453 - src.core.context_builder - DEBUG - Kết thúc hàm images_tf_map.
2025-10-04 03:44:22,454 - src.core.context_builder - DEBUG - Bắt đầu hàm folder_signature với 4 tên ảnh.
2025-10-04 03:44:22,455 - src.core.context_builder - DEBUG - Đã tạo folder signature: sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1
2025-10-04 03:44:22,456 - src.core.context_builder - DEBUG - Kết thúc hàm folder_signature.
2025-10-04 03:44:22,457 - src.core.context_builder - DEBUG - Đã tạo run_meta: {'analysis_id': '2025-10-04T03:44:22Z', 'folder_signature': 'sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1', 'images_tf_map': {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}}
2025-10-04 03:44:22,475 - src.core.context_builder - DEBUG - Checklist pass ratio: None
2025-10-04 03:44:22,476 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:44:22,476 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:44:22,478 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:44:22,479 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:44:22,485 - src.core.context_builder - DEBUG - Bắt đầu hàm parse_proposed_trades_file từ thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:44:22,518 - src.core.context_builder - DEBUG - File log C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\proposed_trades.jsonl không tồn tại.
2025-10-04 03:44:22,537 - src.core.backtester - DEBUG - Bắt đầu hàm evaluate_trade_outcomes cho symbol: XAUUSD, số trades: 0
2025-10-04 03:44:22,541 - src.core.backtester - WARNING - Không có trades được đề xuất hoặc MT5 không kết nối.
2025-10-04 03:44:22,549 - src.core.backtester - DEBUG - Kết thúc hàm evaluate_trade_outcomes (không có trades hoặc MT5 không kết nối).
2025-10-04 03:44:22,572 - src.core.context_builder - DEBUG - Backtest results: {'summary': {'total_proposed': 0, 'wins': 0, 'losses': 0, 'untriggered': 0, 'win_rate': None}}
2025-10-04 03:44:22,573 - src.core.context_builder - DEBUG - Running stats: {'checklist_pass_ratio': None, 'backtest_results': {'summary': {'total_proposed': 0, 'wins': 0, 'losses': 0, 'untriggered': 0, 'win_rate': None}}, 'median_spread': None, 'median_ticks_per_min': None}
2025-10-04 03:44:22,574 - src.core.context_builder - DEBUG - Risk rules: {'max_risk_per_trade_pct': 1.0, 'daily_loss_limit_pct': 3.0, 'max_trades_per_day': 3, 'allowed_killzones': ['london', 'newyork_pre', 'newyork_post'], 'news_blackout_min_before_after': 15}
2025-10-04 03:44:22,576 - src.core.context_builder - DEBUG - Đã tạo composed context.
2025-10-04 03:44:22,577 - src.core.context_builder - DEBUG - MT5 full data có sẵn, bắt đầu vectorization và similarity search.
2025-10-04 03:44:22,578 - src.core.vectorizer - DEBUG - Bắt đầu hàm vectorize_market_state.
2025-10-04 03:44:22,578 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['pip'], default: {}
2025-10-04 03:44:22,579 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}
2025-10-04 03:44:22,580 - src.core.vectorizer - DEBUG - Pip size: 0.1
2025-10-04 03:44:22,581 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['volatility', 'ATR', 'M5'], default: 0.0
2025-10-04 03:44:22,583 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 1.798255272271771
2025-10-04 03:44:22,616 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['volatility', 'ATR', 'H1'], default: 0.0
2025-10-04 03:44:22,658 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 11.031559707039294
2025-10-04 03:44:22,659 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['info', 'spread_current'], default: 0.0
2025-10-04 03:44:22,660 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 37
2025-10-04 03:44:22,661 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['tick_stats_5m', 'ticks_per_min'], default: 0
2025-10-04 03:44:22,662 - src.core.vectorizer - DEBUG - Key 'ticks_per_min' không tìm thấy hoặc d không phải dict. Trả về default.
2025-10-04 03:44:22,662 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested (key không tìm thấy).
2025-10-04 03:44:22,663 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['position_in_day_range'], default: 0.5
2025-10-04 03:44:22,664 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 0.8700959919813936
2025-10-04 03:44:22,665 - src.core.vectorizer - DEBUG - Raw features (part 1): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936]
2025-10-04 03:44:22,666 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['key_levels_nearby'], default: []
2025-10-04 03:44:22,666 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:44:22,667 - src.core.vectorizer - DEBUG - Raw features (part 2 - key levels): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936, 10108.999999999924, 67710.00000000003, 28800.500000000284]
2025-10-04 03:44:22,669 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['trend_refs', 'EMA', 'M5'], default: {}
2025-10-04 03:44:22,821 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}
2025-10-04 03:44:22,947 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['trend_refs', 'EMA', 'H1'], default: {}
2025-10-04 03:44:22,973 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}
2025-10-04 03:44:22,978 - src.core.vectorizer - DEBUG - Raw features (part 3 - EMAs): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936, 10108.999999999924, 67710.00000000003, 28800.500000000284, 106.20206908890395, 352.668318201745]
2025-10-04 03:44:22,985 - src.core.vectorizer - DEBUG - Vector trước khi xử lý NaN/inf: [[1.7982553e+01 1.1031560e+02 3.7000000e+01 0.0000000e+00 8.7009597e-01
  1.0109000e+04 6.7710000e+04 2.8800500e+04 1.0620207e+02 3.5266830e+02]]
2025-10-04 03:44:22,988 - src.core.vectorizer - DEBUG - Vector sau khi xử lý NaN/inf: [[1.7982553e+01 1.1031560e+02 3.7000000e+01 0.0000000e+00 8.7009597e-01
  1.0109000e+04 6.7710000e+04 2.8800500e+04 1.0620207e+02 3.5266830e+02]]
2025-10-04 03:44:22,993 - src.core.vectorizer - DEBUG - Normalized vector: [[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]]
2025-10-04 03:44:23,022 - src.core.vectorizer - DEBUG - Kết thúc vectorize_market_state. Vector: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
2025-10-04 03:44:23,043 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:23,051 - src.core.context_builder - DEBUG - Đã vectorize market state.
2025-10-04 03:44:23,069 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:23,069 - src.core.context_builder - DEBUG - Đã thêm similar_past_scenarios vào composed context.
2025-10-04 03:44:23,070 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:23,070 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (30.86s < 300s), bỏ qua làm mới.
2025-10-04 03:44:23,073 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:23,073 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:23,074 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:23,075 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:23,077 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:23,077 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:23,078 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:23,078 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:23,079 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:23,079 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:23,082 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:23,102 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:23,293 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:23,295 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:23,296 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:23,298 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:23,300 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:23,301 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:23,302 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:23,306 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:23,307 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:23,307 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:23,308 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:23,322 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:23,324 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:23,326 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:23,327 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:23,328 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:23,328 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:23,328 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:23,329 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:23,329 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:23,330 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:23,330 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:23,331 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:23,331 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:23,331 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:23,332 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:23.332156+07:00
2025-10-04 03:44:23,332 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:23.332156+07:00
2025-10-04 03:44:23,332 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:23.332156+07:00 trong DST: True
2025-10-04 03:44:23,333 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:23,355 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:23,357 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:23,358 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:23,359 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:23,359 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:23,360 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:23,360 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:23,361 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:23,362 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:23,362 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:23,363 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:23,382 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:23,386 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:23,387 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:23,387 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:23,388 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:23,391 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:23,394 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:23,394 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:23,395 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:23,395 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:23,410 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'cycle', 'session', 'trend_checklist', 'latest_plan', 'latest_summary_lines', 'recent_history_summary', 'run_meta', 'running_stats', 'risk_rules', 'environment_flags', 'mt5', 'mt5_lite', 'similar_past_scenarios']).
2025-10-04 03:44:23,456 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'cycle', 'session', 'trend_checklist', 'latest_plan', 'latest_summary_lines', 'recent_history_summary', 'run_meta', 'running_stats', 'risk_rules', 'environment_flags', 'mt5', 'mt5_lite', 'similar_past_scenarios']), folder_override: XAUUSD.
2025-10-04 03:44:23,555 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: run-start, Folder override: XAUUSD
2025-10-04 03:44:23,720 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:23,758 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:23,794 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:23,796 - src.core.context_builder - DEBUG - Đã log decision start.
2025-10-04 03:44:23,798 - src.core.context_builder - DEBUG - Kích thước context ban đầu: 9134 ký tự.
2025-10-04 03:44:23,799 - src.core.context_builder - DEBUG - Bắt đầu slimming context.
2025-10-04 03:44:23,816 - src.core.context_builder - DEBUG - Đã xóa full MT5 object. Kích thước mới: 1401 ký tự.
2025-10-04 03:44:23,818 - src.core.app_logic - DEBUG - Kết thúc hàm _do_compose.
2025-10-04 03:44:23,819 - src.core.app_logic - DEBUG - Kết thúc compose_context.
2025-10-04 03:44:23,820 - src.core.worker_modules.context_coordinator - DEBUG - Đã trích xuất plan từ composed context: {'direction': None}
2025-10-04 03:44:23,821 - src.core.worker_modules.context_coordinator - DEBUG - Đã xây dựng context_block.
2025-10-04 03:44:23,821 - src.ui.app_ui - DEBUG - Gọi mt5_utils.build_context_from_app từ UI.
2025-10-04 03:44:23,822 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context_from_app.
2025-10-04 03:44:23,822 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-04 03:44:23,823 - src.utils.mt5_utils - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-04 03:44:23,824 - src.utils.mt5_utils - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-04 03:44:23,825 - src.utils.mt5_utils - DEBUG - Current price (cp): 3887.107
2025-10-04 03:44:23,825 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-04 03:44:23,826 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-04 03:44:23,827 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-04 03:44:23,865 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-04 03:44:23,866 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:44:23,866 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-04 03:44:23,871 - src.utils.mt5_utils - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-04 03:44:23,878 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:44:23,879 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-04 03:44:24,524 - src.utils.mt5_utils - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-04 03:44:24,525 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:24,525 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:44:24,525 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:24,526 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-04 03:44:24,526 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:24,529 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-04 03:44:24,529 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (32.32s < 300s), bỏ qua làm mới.
2025-10-04 03:44:24,529 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:44:24,530 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:24,530 - src.utils.mt5_utils - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-04 03:44:24,531 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:24,532 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-04 03:44:24,533 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:24,673 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:44:24,673 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:24,674 - src.utils.mt5_utils - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:44:24,674 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:24,674 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-04 03:44:24,675 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:24,818 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-04 03:44:24,818 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:24,819 - src.utils.mt5_utils - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-04 03:44:24,819 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:24,820 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-04 03:44:24,820 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:24,949 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:44:24,949 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:24,949 - src.utils.mt5_utils - DEBUG - Đã lấy higher timeframe levels.
2025-10-04 03:44:24,953 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:24,953 - src.utils.mt5_utils - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-04 03:44:24,972 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:24,973 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-04 03:44:24,973 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:24,977 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:24.977216+07:00
2025-10-04 03:44:25,027 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:24.977216+07:00
2025-10-04 03:44:25,056 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:24.977216+07:00 trong DST: True
2025-10-04 03:44:25,097 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:25,141 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:25,141 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:25,142 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:25,142 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:25,143 - src.core.ict_analysis - DEBUG - Bắt đầu hàm get_session_liquidity với 96 rates, sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, now_hhmm: 10:44
2025-10-04 03:44:25,143 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:25,144 - src.core.ict_analysis - DEBUG - Kết thúc hàm get_session_liquidity. Kết quả: {}
2025-10-04 03:44:25,146 - src.utils.mt5_utils - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-04 03:44:25,147 - src.utils.mt5_utils - DEBUG - Rates trống, không thể tính VWAP.
2025-10-04 03:44:25,147 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:25,155 - src.utils.mt5_utils - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-04 03:44:25,162 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:25,163 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:44:25,163 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:25,164 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-04 03:44:25,165 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:25,165 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:44:25,167 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:25,167 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-04 03:44:25,167 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:25,168 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-04 03:44:25,168 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:25,169 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-04 03:44:25,169 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:25,169 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-04 03:44:25,170 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:25,170 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-04 03:44:25,171 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-04 03:44:25,171 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-04 03:44:25,171 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-04 03:44:25,172 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:25,172 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-04 03:44:25,172 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:25,173 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:44:25,174 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:25,174 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-04 03:44:25,175 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:25,175 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:44:25,175 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:25,175 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-04 03:44:25,176 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:25,176 - src.utils.mt5_utils - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-04 03:44:25,177 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:25,177 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-04 03:44:25,194 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:25,194 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-04 03:44:25,195 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:25,195 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:44:25,195 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:25,196 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-04 03:44:25,197 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:25,197 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-04 03:44:25,197 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:25,198 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-04 03:44:25,198 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:25,198 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:44:25,199 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:25.199148+07:00
2025-10-04 03:44:25,199 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-04 03:44:25,200 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:25.199148+07:00
2025-10-04 03:44:25,200 - src.utils.mt5_utils - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-04 03:44:25,201 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:25.199148+07:00 trong DST: True
2025-10-04 03:44:25,201 - src.utils.mt5_utils - DEBUG - Volatility regime: trending
2025-10-04 03:44:25,201 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:25,202 - src.utils.mt5_utils - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:44:25,202 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:25,202 - src.utils.mt5_utils - DEBUG - Thêm PDH: 3897.216
2025-10-04 03:44:25,203 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:25,203 - src.utils.mt5_utils - DEBUG - Thêm PDL: 3819.397
2025-10-04 03:44:25,203 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:25,204 - src.utils.mt5_utils - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-04 03:44:25,204 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:25,205 - src.utils.mt5_utils - DEBUG - Thêm DO: 3863.536
2025-10-04 03:44:25,205 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:25,205 - src.utils.mt5_utils - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-04 03:44:25,206 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:25,206 - src.utils.mt5_utils - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-04 03:44:25,206 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:25,207 - src.utils.mt5_utils - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-04 03:44:25,207 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:25,207 - src.utils.mt5_utils - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-04 03:44:25,208 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:25,208 - src.utils.mt5_utils - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-04 03:44:25,225 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:25,226 - src.utils.mt5_utils - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:44:25,226 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:44:25,226 - src.utils.mt5_utils - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-04 03:44:25,227 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:25,227 - src.utils.mt5_utils - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-04 03:44:25,228 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:25,229 - src.utils.mt5_utils - DEBUG - Prev day close: 3862.472
2025-10-04 03:44:25,229 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:25,229 - src.utils.mt5_utils - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-04 03:44:25,230 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:25,230 - src.utils.mt5_utils - DEBUG - Position in day range: 0.8700959919813936
2025-10-04 03:44:25,231 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:25,231 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:25,231 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:25.231867+07:00
2025-10-04 03:44:25,232 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:25,232 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:25.231867+07:00
2025-10-04 03:44:25,232 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:25,233 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:25.231867+07:00 trong DST: True
2025-10-04 03:44:25,233 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:25,233 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:25,234 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:25,234 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:25,234 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:25,235 - src.core.ict_analysis - DEBUG - Bắt đầu hàm is_silver_bullet_window với now_hhmm: 10:44, kills: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:25,236 - src.core.ict_analysis - DEBUG - Không nằm trong cửa sổ Silver Bullet.
2025-10-04 03:44:25,245 - src.core.ict_analysis - DEBUG - Kết thúc hàm is_silver_bullet_window.
2025-10-04 03:44:25,264 - src.utils.mt5_utils - DEBUG - Killzone active: None, Mins to next killzone: 196
2025-10-04 03:44:25,266 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:25,287 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:44:25,289 - src.utils.mt5_utils - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-04 03:44:25,290 - src.utils.mt5_utils - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-04 03:44:25,291 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:44:25,291 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:44:25,292 - src.utils.mt5_utils - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-04 03:44:25,293 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:44:25,294 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3783.265
2025-10-04 03:44:25,296 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3760.112
2025-10-04 03:44:25,297 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3763.997
2025-10-04 03:44:25,298 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.936
2025-10-04 03:44:25,299 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3805.069
2025-10-04 03:44:25,299 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.812
2025-10-04 03:44:25,301 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3806.56
2025-10-04 03:44:25,301 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3831.428
2025-10-04 03:44:25,303 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3809.251
2025-10-04 03:44:25,324 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3833.647
2025-10-04 03:44:25,325 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3822.667
2025-10-04 03:44:25,326 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3834.062
2025-10-04 03:44:25,327 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3825.688
2025-10-04 03:44:25,329 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.242
2025-10-04 03:44:25,331 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.761
2025-10-04 03:44:25,332 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3793.174
2025-10-04 03:44:25,333 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3854.604
2025-10-04 03:44:25,334 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3849.372
2025-10-04 03:44:25,380 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3839.717
2025-10-04 03:44:25,382 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.87
2025-10-04 03:44:25,383 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.622
2025-10-04 03:44:25,384 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.624
2025-10-04 03:44:25,386 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.576
2025-10-04 03:44:25,387 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.937
2025-10-04 03:44:25,387 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3853.395
2025-10-04 03:44:25,388 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3895.417
2025-10-04 03:44:25,389 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.184
2025-10-04 03:44:25,390 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3878.867
2025-10-04 03:44:25,390 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.227
2025-10-04 03:44:25,391 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.948
2025-10-04 03:44:25,392 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.93
2025-10-04 03:44:25,393 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.062
2025-10-04 03:44:25,393 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.894
2025-10-04 03:44:25,394 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3870.082
2025-10-04 03:44:25,395 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.861
2025-10-04 03:44:25,396 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.758
2025-10-04 03:44:25,421 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3897.216
2025-10-04 03:44:25,423 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3819.397
2025-10-04 03:44:25,423 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.415
2025-10-04 03:44:25,425 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:44:25,425 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:44:25,427 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:44:25,449 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:44:25,451 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:44:25,453 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:44:25,455 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:44:25,456 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:44:25,478 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:44:25,479 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:44:25,481 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:44:25,484 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:44:25,484 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:44:25,488 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:44:25,489 - src.utils.mt5_utils - DEBUG - Liquidity levels cho H1: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:44:25,511 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:44:25,511 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4}
2025-10-04 03:44:25,512 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:44:25,512 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12}
2025-10-04 03:44:25,513 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13}
2025-10-04 03:44:25,513 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31}
2025-10-04 03:44:25,514 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32}
2025-10-04 03:44:25,514 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34}
2025-10-04 03:44:25,514 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37}
2025-10-04 03:44:25,515 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38}
2025-10-04 03:44:25,515 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39}
2025-10-04 03:44:25,516 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45}
2025-10-04 03:44:25,516 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50}
2025-10-04 03:44:25,517 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61}
2025-10-04 03:44:25,517 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62}
2025-10-04 03:44:25,517 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66}
2025-10-04 03:44:25,518 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90}
2025-10-04 03:44:25,518 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91}
2025-10-04 03:44:25,519 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95}
2025-10-04 03:44:25,519 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96}
2025-10-04 03:44:25,519 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:44:25,520 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112}
2025-10-04 03:44:25,536 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4} đã được fill.
2025-10-04 03:44:25,537 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:44:25,538 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12} đã được fill.
2025-10-04 03:44:25,538 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13} đã được fill.
2025-10-04 03:44:25,539 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31} đã được fill.
2025-10-04 03:44:25,539 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32} đã được fill.
2025-10-04 03:44:25,539 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34} đã được fill.
2025-10-04 03:44:25,540 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37} đã được fill.
2025-10-04 03:44:25,540 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38} đã được fill.
2025-10-04 03:44:25,541 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39} đã được fill.
2025-10-04 03:44:25,541 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45} đã được fill.
2025-10-04 03:44:25,542 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50} đã được fill.
2025-10-04 03:44:25,542 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61} đã được fill.
2025-10-04 03:44:25,543 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62} đã được fill.
2025-10-04 03:44:25,543 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66} đã được fill.
2025-10-04 03:44:25,543 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90} đã được fill.
2025-10-04 03:44:25,544 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91} đã được fill.
2025-10-04 03:44:25,544 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95} đã được fill.
2025-10-04 03:44:25,545 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96} đã được fill.
2025-10-04 03:44:25,545 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:44:25,546 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112} đã được fill.
2025-10-04 03:44:25,546 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}
2025-10-04 03:44:25,547 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}]
2025-10-04 03:44:25,547 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:44:25,547 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}
2025-10-04 03:44:25,548 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3867.201, 'bottom': 3854.751, 'bar_index': 110}
2025-10-04 03:44:25,548 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3844.879, 'bottom': 3819.397, 'bar_index': 91}
2025-10-04 03:44:25,549 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}
2025-10-04 03:44:25,549 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}]
2025-10-04 03:44:25,550 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:44:25,550 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3897.216, 'range_low': 3760.112, 'equilibrium': 3828.6639999999998, 'status': 'Premium'}
2025-10-04 03:44:25,550 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:44:25,551 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3778.612, 'bottom': 3764.679, 'bar_index': -27}
2025-10-04 03:44:25,551 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3787.543, 'bottom': 3763.997, 'bar_index': -23}
2025-10-04 03:44:25,552 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3819.611, 'bottom': 3806.443, 'bar_index': -15}
2025-10-04 03:44:25,570 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3818.552, 'bottom': 3806.56, 'bar_index': -13}
2025-10-04 03:44:25,570 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.722, 'bottom': 3838.031, 'bar_index': 1}
2025-10-04 03:44:25,571 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3867.242, 'bottom': 3845.851, 'bar_index': 3}
2025-10-04 03:44:25,571 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3871.761, 'bottom': 3854.92, 'bar_index': 6}
2025-10-04 03:44:25,572 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3814.639, 'bottom': 3798.264, 'bar_index': 10}
2025-10-04 03:44:25,572 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3854.604, 'bottom': 3820.442, 'bar_index': 14}
2025-10-04 03:44:25,572 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3860.87, 'bottom': 3847.177, 'bar_index': 19}
2025-10-04 03:44:25,573 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.941, 'bottom': 3858.997, 'bar_index': 30}
2025-10-04 03:44:25,573 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3865.226, 'bottom': 3852.894, 'bar_index': 47}
2025-10-04 03:44:25,573 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.858, 'bottom': 3873.413, 'bar_index': 55}
2025-10-04 03:44:25,574 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3845.401, 'bottom': 3827.234, 'bar_index': 62}
2025-10-04 03:44:25,574 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}
2025-10-04 03:44:25,575 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}
2025-10-04 03:44:25,575 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}
2025-10-04 03:44:25,576 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}]
2025-10-04 03:44:25,576 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho H1 đã được tính.
2025-10-04 03:44:25,576 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:44:25,577 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:44:25,577 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:44:25,578 - src.utils.mt5_utils - DEBUG - MSS cho H1 đã được tính.
2025-10-04 03:44:25,578 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 96 rates, lookback: 200
2025-10-04 03:44:25,578 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3858.531
2025-10-04 03:44:25,579 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:44:25,579 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.878
2025-10-04 03:44:25,579 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:44:25,580 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.326
2025-10-04 03:44:25,580 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3862.684
2025-10-04 03:44:25,580 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:44:25,581 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.953
2025-10-04 03:44:25,581 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:44:25,581 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3848.355
2025-10-04 03:44:25,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3843.125
2025-10-04 03:44:25,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3850.904
2025-10-04 03:44:25,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:44:25,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:44:25,583 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:44:25,583 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:44:25,584 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:44:25,584 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:44:25,584 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:44:25,586 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:44:25,587 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:44:25,599 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:44:25,599 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:44:25,600 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:44:25,600 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:44:25,600 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:44:25,601 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:44:25,601 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:44:25,601 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:44:25,601 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:44:25,602 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:44:25,602 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:44:25,602 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:44:25,603 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:44:25,603 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:44:25,604 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:44:25,604 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:44:25,604 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:44:25,605 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:44:25,605 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:44:25,606 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M15: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:44:25,606 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 96 rates, current_price: 3887.107
2025-10-04 03:44:25,607 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3}
2025-10-04 03:44:25,607 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7}
2025-10-04 03:44:25,607 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11}
2025-10-04 03:44:25,608 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23}
2025-10-04 03:44:25,608 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26}
2025-10-04 03:44:25,609 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:44:25,609 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:44:25,610 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42}
2025-10-04 03:44:25,610 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52}
2025-10-04 03:44:25,611 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57}
2025-10-04 03:44:25,611 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58}
2025-10-04 03:44:25,611 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:44:25,612 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65}
2025-10-04 03:44:25,612 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69}
2025-10-04 03:44:25,612 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74}
2025-10-04 03:44:25,613 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3} đã được fill.
2025-10-04 03:44:25,613 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7} đã được fill.
2025-10-04 03:44:25,614 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11} đã được fill.
2025-10-04 03:44:25,614 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23} đã được fill.
2025-10-04 03:44:25,615 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26} đã được fill.
2025-10-04 03:44:25,615 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:44:25,618 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:44:25,618 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42} đã được fill.
2025-10-04 03:44:25,624 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52} đã được fill.
2025-10-04 03:44:25,624 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57} đã được fill.
2025-10-04 03:44:25,628 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58} đã được fill.
2025-10-04 03:44:25,629 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:44:25,630 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65} đã được fill.
2025-10-04 03:44:25,630 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69} đã được fill.
2025-10-04 03:44:25,630 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74} đã được fill.
2025-10-04 03:44:25,631 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}
2025-10-04 03:44:25,631 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}]
2025-10-04 03:44:25,631 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 96 rates, lookback: 100
2025-10-04 03:44:25,632 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}
2025-10-04 03:44:25,632 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}
2025-10-04 03:44:25,632 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3845.326, 'bottom': 3843.359, 'bar_index': 27}
2025-10-04 03:44:25,633 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}
2025-10-04 03:44:25,633 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}
2025-10-04 03:44:25,633 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}, {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}]
2025-10-04 03:44:25,634 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 96 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:44:25,634 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3838.081, 'equilibrium': 3864.906, 'status': 'Premium'}
2025-10-04 03:44:25,635 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 96 rates, lookback: 150
2025-10-04 03:44:25,635 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3858.046, 'bottom': 3854.205, 'bar_index': -48}
2025-10-04 03:44:25,635 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3855.466, 'bottom': 3849.361, 'bar_index': -32}
2025-10-04 03:44:25,636 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3848.913, 'bottom': 3839.835, 'bar_index': -29}
2025-10-04 03:44:25,636 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.766, 'bottom': 3843.897, 'bar_index': -22}
2025-10-04 03:44:25,636 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3863.085, 'bottom': 3857.792, 'bar_index': -13}
2025-10-04 03:44:25,637 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3862.923, 'bar_index': 8}
2025-10-04 03:44:25,637 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}
2025-10-04 03:44:25,637 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}
2025-10-04 03:44:25,638 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}
2025-10-04 03:44:25,638 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}]
2025-10-04 03:44:25,638 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M15 đã được tính.
2025-10-04 03:44:25,639 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 96 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:44:25,639 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:44:25,639 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:44:25,640 - src.utils.mt5_utils - DEBUG - MSS cho M15 đã được tính.
2025-10-04 03:44:25,640 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 180 rates, lookback: 200
2025-10-04 03:44:25,640 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:44:25,641 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.693
2025-10-04 03:44:25,641 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.917
2025-10-04 03:44:25,641 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:44:25,642 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.034
2025-10-04 03:44:25,642 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.033
2025-10-04 03:44:25,642 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.397
2025-10-04 03:44:25,642 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:44:25,643 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.323
2025-10-04 03:44:25,643 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.323
2025-10-04 03:44:25,643 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:44:25,644 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:44:25,644 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.587
2025-10-04 03:44:25,644 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.799
2025-10-04 03:44:25,644 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.325
2025-10-04 03:44:25,645 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.674
2025-10-04 03:44:25,645 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:44:25,645 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.889
2025-10-04 03:44:25,646 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:44:25,646 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.764
2025-10-04 03:44:25,646 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.914
2025-10-04 03:44:25,648 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.651
2025-10-04 03:44:25,648 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.875
2025-10-04 03:44:25,648 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3866.346
2025-10-04 03:44:25,649 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.433
2025-10-04 03:44:25,655 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:44:25,658 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.632
2025-10-04 03:44:25,660 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.646
2025-10-04 03:44:25,663 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:44:25,663 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.432
2025-10-04 03:44:25,663 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.573
2025-10-04 03:44:25,664 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.856
2025-10-04 03:44:25,664 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:44:25,664 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.152
2025-10-04 03:44:25,665 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:44:25,665 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.067
2025-10-04 03:44:25,665 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.802
2025-10-04 03:44:25,666 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.218
2025-10-04 03:44:25,666 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:44:25,666 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.209
2025-10-04 03:44:25,666 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.578
2025-10-04 03:44:25,667 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.963
2025-10-04 03:44:25,667 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3870.06
2025-10-04 03:44:25,667 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.583
2025-10-04 03:44:25,668 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:44:25,668 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:44:25,668 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.355
2025-10-04 03:44:25,669 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.03
2025-10-04 03:44:25,669 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:44:25,669 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3880.206
2025-10-04 03:44:25,670 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.522
2025-10-04 03:44:25,670 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3881.461
2025-10-04 03:44:25,670 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3882.092
2025-10-04 03:44:25,671 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:44:25,671 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:44:25,671 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.454
2025-10-04 03:44:25,672 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.959
2025-10-04 03:44:25,672 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.056
2025-10-04 03:44:25,672 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:44:25,673 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.593
2025-10-04 03:44:25,673 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:44:25,674 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.221
2025-10-04 03:44:25,674 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.978
2025-10-04 03:44:25,675 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.364
2025-10-04 03:44:25,675 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:44:25,675 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.771
2025-10-04 03:44:25,676 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.794
2025-10-04 03:44:25,676 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:44:25,677 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3881.367
2025-10-04 03:44:25,687 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.794
2025-10-04 03:44:25,693 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.241
2025-10-04 03:44:25,694 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:44:25,694 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3883.496
2025-10-04 03:44:25,695 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3879.981
2025-10-04 03:44:25,695 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.183
2025-10-04 03:44:25,695 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:44:25,696 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.019
2025-10-04 03:44:25,696 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:44:25,696 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:44:25,697 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:44:25,697 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:44:25,698 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:44:25,698 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:44:25,698 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:44:25,698 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:44:25,699 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:44:25,699 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:44:25,700 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M5: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:44:25,700 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 180 rates, current_price: 3887.107
2025-10-04 03:44:25,701 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2}
2025-10-04 03:44:25,701 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17}
2025-10-04 03:44:25,701 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27}
2025-10-04 03:44:25,702 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37}
2025-10-04 03:44:25,702 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40}
2025-10-04 03:44:25,702 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47}
2025-10-04 03:44:25,703 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48}
2025-10-04 03:44:25,703 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56}
2025-10-04 03:44:25,703 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63}
2025-10-04 03:44:25,704 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64}
2025-10-04 03:44:25,704 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68}
2025-10-04 03:44:25,704 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70}
2025-10-04 03:44:25,705 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:44:25,705 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81}
2025-10-04 03:44:25,706 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87}
2025-10-04 03:44:25,706 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88}
2025-10-04 03:44:25,707 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89}
2025-10-04 03:44:25,707 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106}
2025-10-04 03:44:25,707 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113}
2025-10-04 03:44:25,708 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119}
2025-10-04 03:44:25,708 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123}
2025-10-04 03:44:25,709 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124}
2025-10-04 03:44:25,711 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135}
2025-10-04 03:44:25,718 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142}
2025-10-04 03:44:25,721 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149}
2025-10-04 03:44:25,722 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151}
2025-10-04 03:44:25,723 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155}
2025-10-04 03:44:25,723 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163}
2025-10-04 03:44:25,724 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171}
2025-10-04 03:44:25,724 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:44:25,724 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:44:25,725 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2} đã được fill.
2025-10-04 03:44:25,725 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17} đã được fill.
2025-10-04 03:44:25,726 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27} đã được fill.
2025-10-04 03:44:25,726 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37} đã được fill.
2025-10-04 03:44:25,726 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40} đã được fill.
2025-10-04 03:44:25,727 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47} đã được fill.
2025-10-04 03:44:25,727 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48} đã được fill.
2025-10-04 03:44:25,727 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56} đã được fill.
2025-10-04 03:44:25,728 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63} đã được fill.
2025-10-04 03:44:25,728 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64} đã được fill.
2025-10-04 03:44:25,728 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68} đã được fill.
2025-10-04 03:44:25,729 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70} đã được fill.
2025-10-04 03:44:25,729 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:44:25,729 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81} đã được fill.
2025-10-04 03:44:25,730 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87} đã được fill.
2025-10-04 03:44:25,730 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88} đã được fill.
2025-10-04 03:44:25,730 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89} đã được fill.
2025-10-04 03:44:25,731 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106} đã được fill.
2025-10-04 03:44:25,731 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113} đã được fill.
2025-10-04 03:44:25,732 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119} đã được fill.
2025-10-04 03:44:25,732 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123} đã được fill.
2025-10-04 03:44:25,732 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124} đã được fill.
2025-10-04 03:44:25,733 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135} đã được fill.
2025-10-04 03:44:25,733 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142} đã được fill.
2025-10-04 03:44:25,733 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149} đã được fill.
2025-10-04 03:44:25,734 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151} đã được fill.
2025-10-04 03:44:25,734 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155} đã được fill.
2025-10-04 03:44:25,734 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163} đã được fill.
2025-10-04 03:44:25,735 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171} đã được fill.
2025-10-04 03:44:25,735 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:44:25,735 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:44:25,736 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}
2025-10-04 03:44:25,736 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}]
2025-10-04 03:44:25,736 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 180 rates, lookback: 100
2025-10-04 03:44:25,737 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}
2025-10-04 03:44:25,737 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}
2025-10-04 03:44:25,738 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}]
2025-10-04 03:44:25,738 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 180 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:44:25,738 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3850.904, 'equilibrium': 3871.3175, 'status': 'Premium'}
2025-10-04 03:44:25,739 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 180 rates, lookback: 150
2025-10-04 03:44:25,739 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3865.008, 'bottom': 3860.927, 'bar_index': 36}
2025-10-04 03:44:25,740 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3862.887, 'bottom': 3859.58, 'bar_index': 46}
2025-10-04 03:44:25,740 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3867.239, 'bar_index': 80}
2025-10-04 03:44:25,742 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3876.096, 'bottom': 3866.937, 'bar_index': 99}
2025-10-04 03:44:25,742 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.702, 'bottom': 3874.123, 'bar_index': 105}
2025-10-04 03:44:25,743 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.733, 'bottom': 3879.22, 'bar_index': 112}
2025-10-04 03:44:25,748 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.625, 'bottom': 3880.942, 'bar_index': 123}
2025-10-04 03:44:25,756 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.202, 'bottom': 3880.541, 'bar_index': 124}
2025-10-04 03:44:25,756 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3885.241, 'bottom': 3881.17, 'bar_index': 141}
2025-10-04 03:44:25,757 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3882.461, 'bottom': 3877.896, 'bar_index': 143}
2025-10-04 03:44:25,757 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}
2025-10-04 03:44:25,758 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}
2025-10-04 03:44:25,758 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}
2025-10-04 03:44:25,758 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}]
2025-10-04 03:44:25,759 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M5 đã được tính.
2025-10-04 03:44:25,759 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 180 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:44:25,760 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:44:25,760 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:44:25,760 - src.utils.mt5_utils - DEBUG - MSS cho M5 đã được tính.
2025-10-04 03:44:25,761 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:44:25,761 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.619
2025-10-04 03:44:25,761 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.222
2025-10-04 03:44:25,762 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:44:25,762 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.765
2025-10-04 03:44:25,763 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.268
2025-10-04 03:44:25,763 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.256
2025-10-04 03:44:25,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.93
2025-10-04 03:44:25,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:44:25,764 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.607
2025-10-04 03:44:25,765 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.443
2025-10-04 03:44:25,766 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.378
2025-10-04 03:44:25,766 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.098
2025-10-04 03:44:25,767 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.201
2025-10-04 03:44:25,767 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:44:25,768 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.204
2025-10-04 03:44:25,768 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.989
2025-10-04 03:44:25,768 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.087
2025-10-04 03:44:25,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.291
2025-10-04 03:44:25,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:44:25,769 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3887.541
2025-10-04 03:44:25,770 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.413
2025-10-04 03:44:25,770 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.942
2025-10-04 03:44:25,770 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.384
2025-10-04 03:44:25,771 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.35
2025-10-04 03:44:25,771 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:44:25,773 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.014
2025-10-04 03:44:25,773 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.179
2025-10-04 03:44:25,773 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.902
2025-10-04 03:44:25,774 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:44:25,774 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.942
2025-10-04 03:44:25,775 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:44:25,776 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.103
2025-10-04 03:44:25,784 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.859
2025-10-04 03:44:25,788 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.29
2025-10-04 03:44:25,789 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.755
2025-10-04 03:44:25,789 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.023
2025-10-04 03:44:25,790 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.154
2025-10-04 03:44:25,790 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.079
2025-10-04 03:44:25,790 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.142
2025-10-04 03:44:25,790 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.8
2025-10-04 03:44:25,791 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.876
2025-10-04 03:44:25,791 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.634
2025-10-04 03:44:25,791 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.689
2025-10-04 03:44:25,792 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.259
2025-10-04 03:44:25,792 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.227
2025-10-04 03:44:25,792 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.176
2025-10-04 03:44:25,793 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.077
2025-10-04 03:44:25,793 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.111
2025-10-04 03:44:25,793 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:44:25,793 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.739
2025-10-04 03:44:25,794 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.335
2025-10-04 03:44:25,794 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.539
2025-10-04 03:44:25,794 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:44:25,795 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.647
2025-10-04 03:44:25,795 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.692
2025-10-04 03:44:25,795 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.989
2025-10-04 03:44:25,796 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.106
2025-10-04 03:44:25,796 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.259
2025-10-04 03:44:25,796 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.124
2025-10-04 03:44:25,796 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.332
2025-10-04 03:44:25,797 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.136
2025-10-04 03:44:25,797 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.321
2025-10-04 03:44:25,797 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.003
2025-10-04 03:44:25,798 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.225
2025-10-04 03:44:25,798 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:44:25,799 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M1: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:44:25,799 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:44:25,799 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7}
2025-10-04 03:44:25,800 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12}
2025-10-04 03:44:25,800 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13}
2025-10-04 03:44:25,800 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37}
2025-10-04 03:44:25,800 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49}
2025-10-04 03:44:25,801 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51}
2025-10-04 03:44:25,801 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58}
2025-10-04 03:44:25,802 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64}
2025-10-04 03:44:25,802 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76}
2025-10-04 03:44:25,802 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87}
2025-10-04 03:44:25,803 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94}
2025-10-04 03:44:25,803 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95}
2025-10-04 03:44:25,803 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:44:25,804 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:44:25,805 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7} đã được fill.
2025-10-04 03:44:25,806 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12} đã được fill.
2025-10-04 03:44:25,806 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13} đã được fill.
2025-10-04 03:44:25,808 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37} đã được fill.
2025-10-04 03:44:25,814 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49} đã được fill.
2025-10-04 03:44:25,816 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51} đã được fill.
2025-10-04 03:44:25,818 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58} đã được fill.
2025-10-04 03:44:25,821 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64} đã được fill.
2025-10-04 03:44:25,822 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76} đã được fill.
2025-10-04 03:44:25,822 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87} đã được fill.
2025-10-04 03:44:25,822 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94} đã được fill.
2025-10-04 03:44:25,823 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95} đã được fill.
2025-10-04 03:44:25,823 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:44:25,823 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:44:25,824 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}
2025-10-04 03:44:25,824 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}]
2025-10-04 03:44:25,824 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:44:25,825 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}
2025-10-04 03:44:25,825 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3884.99, 'bottom': 3884.601, 'bar_index': 108}
2025-10-04 03:44:25,825 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3883.629, 'bottom': 3882.907, 'bar_index': 95}
2025-10-04 03:44:25,826 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}
2025-10-04 03:44:25,826 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}]
2025-10-04 03:44:25,826 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:44:25,827 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3889.197, 'range_low': 3882.907, 'equilibrium': 3886.052, 'status': 'Premium'}
2025-10-04 03:44:25,827 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:44:25,827 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.089, 'bottom': 3884.19, 'bar_index': -24}
2025-10-04 03:44:25,828 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.116, 'bottom': 3886.654, 'bar_index': -18}
2025-10-04 03:44:25,828 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.074, 'bottom': 3886.291, 'bar_index': 5}
2025-10-04 03:44:25,829 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.175, 'bottom': 3886.941, 'bar_index': 6}
2025-10-04 03:44:25,829 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.915, 'bottom': 3886.012, 'bar_index': 20}
2025-10-04 03:44:25,829 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.29, 'bottom': 3885.292, 'bar_index': 33}
2025-10-04 03:44:25,830 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3887.079, 'bottom': 3886.283, 'bar_index': 40}
2025-10-04 03:44:25,830 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.074, 'bottom': 3884.806, 'bar_index': 45}
2025-10-04 03:44:25,830 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.334, 'bottom': 3883.739, 'bar_index': 58}
2025-10-04 03:44:25,831 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}
2025-10-04 03:44:25,831 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}
2025-10-04 03:44:25,831 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}
2025-10-04 03:44:25,832 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}]
2025-10-04 03:44:25,833 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M1 đã được tính.
2025-10-04 03:44:25,845 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:44:25,846 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:44:25,847 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:44:25,847 - src.utils.mt5_utils - DEBUG - MSS cho M1 đã được tính.
2025-10-04 03:44:25,848 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:25,848 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:44:25,848 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:44:25,849 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:44:25,849 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:44:25,849 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:44:25,850 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:25,850 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:44:25,850 - src.utils.mt5_utils - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-04 03:44:25,851 - src.utils.safe_data - DEBUG - Khởi tạo SafeMT5Data với data có: True
2025-10-04 03:44:25,851 - src.utils.mt5_utils - DEBUG - Đã tạo SafeMT5Data object.
2025-10-04 03:44:25,851 - src.utils.mt5_utils - DEBUG - Kết thúc build_context.
2025-10-04 03:44:25,852 - src.utils.mt5_utils - DEBUG - Kết thúc build_context_from_app.
2025-10-04 03:44:25,852 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:44:25,853 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:44:25,853 - src.core.worker_modules.context_coordinator - DEBUG - Đã lấy dữ liệu MT5. MT5 enabled: True, dữ liệu có: True
2025-10-04 03:44:25,853 - src.core.worker_modules.context_coordinator - DEBUG - MT5 data có sẵn, bắt đầu phân tích tin tức.
2025-10-04 03:44:25,854 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: False, TTL: 300.
2025-10-04 03:44:25,854 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: False, TTL: 300
2025-10-04 03:44:25,854 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (33.65s < 300s), bỏ qua làm mới.
2025-10-04 03:44:25,854 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:25,855 - src.core.worker_modules.context_coordinator - DEBUG - Đã refresh news cache.
2025-10-04 03:44:25,855 - src.services.news - DEBUG - Bắt đầu hàm is_within_news_window cho symbol: XAUUSD, before: 15, after: 15.
2025-10-04 03:44:25,856 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:25,856 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:25,856 - src.services.news - DEBUG - Không có event nào trong cửa sổ tin tức.
2025-10-04 03:44:25,857 - src.services.news - DEBUG - Kết thúc hàm is_within_news_window (ngoài cửa sổ).
2025-10-04 03:44:25,857 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:25,857 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:25,858 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:25,858 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:25,858 - src.core.worker_modules.context_coordinator - DEBUG - Đã phân tích tin tức. Trong cửa sổ tin tức: False, lý do: None.
2025-10-04 03:44:25,859 - src.core.worker_modules.context_coordinator - DEBUG - Đã tạo mt5_json_full.
2025-10-04 03:44:25,859 - src.core.worker_modules.context_coordinator - DEBUG - Kết thúc hàm prepare_and_build_context.
2025-10-04 03:44:25,860 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:44:25,860 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135869.0896399
2025-10-04 03:44:25,860 - src.ui.app_ui - DEBUG - Cập nhật UI status: Context+MT5 xong trong 12.70s
2025-10-04 03:44:25,860 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Context+MT5 xong trong 12.70s
2025-10-04 03:44:25,861 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:25,861 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Context+MT5 xong trong 12.70s
2025-10-04 03:44:25,862 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:25,863 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:25,863 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:25,863 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:25,864 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:44:25,864 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:25,864 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 135869.0940121
2025-10-04 03:44:25,868 - src.core.worker_modules.main_worker - DEBUG - Context+MT5 xong trong 12.70s.
2025-10-04 03:44:25,883 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_all_preconditions.
2025-10-04 03:44:25,885 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_no_run_conditions.
2025-10-04 03:44:25,886 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_no_run_conditions. Kết quả: True, Lý do: Đang chạy trong các điều kiện cho phép.
2025-10-04 03:44:25,886 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm evaluate_no_trade_conditions.
2025-10-04 03:44:25,886 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:44:25,887 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:44:25,887 - src.services.news - DEBUG - Bắt đầu hàm is_within_news_window cho symbol: XAUUSD, before: 15, after: 15.
2025-10-04 03:44:25,887 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:25,888 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:25,888 - src.services.news - DEBUG - Không có event nào trong cửa sổ tin tức.
2025-10-04 03:44:25,888 - src.services.news - DEBUG - Kết thúc hàm is_within_news_window (ngoài cửa sổ).
2025-10-04 03:44:25,888 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: spread_current, default: 0
2025-10-04 03:44:25,889 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-04 03:44:25,889 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-04 03:44:25,889 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'point' trong dict. Giá trị: 0.001
2025-10-04 03:44:25,890 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:25,890 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:25,891 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:44:25,891 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:44:25,891 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-04 03:44:25,891 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'point' trong dict. Giá trị: 0.001
2025-10-04 03:44:25,892 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:25,892 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:44:25,892 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:44:25,893 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:44:25,893 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:25,893 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:25,893 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:25,894 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:25.894470+07:00
2025-10-04 03:44:25,894 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:25.894470+07:00
2025-10-04 03:44:25,895 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:25.894470+07:00 trong DST: True
2025-10-04 03:44:25,895 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:25,895 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:25,896 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:25,901 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm evaluate_no_trade_conditions. Kết quả: False, Lý do: ['Spread quá cao (3.70 pips > 1.20 pips).']
2025-10-04 03:44:25,913 - src.core.worker_modules.main_worker - ERROR - Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'
Traceback (most recent call last):
  File "C:\tool\app_gemini\src\core\worker_modules\main_worker.py", line 152, in run_analysis_worker
    should_proceed_trade, no_trade_reason = no_run_trade_conditions.check_all_preconditions(
                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        app, cfg, safe_mt5_data, mt5_dict, context_block, mt5_json_full
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\src\core\worker_modules\no_run_trade_conditions.py", line 221, in check_all_preconditions
    "t": app._tnow_str(), # Sử dụng hàm _tnow_str từ app
         ^^^^^^^^^^^^^
AttributeError: 'TradingToolApp' object has no attribute '_tnow_str'
2025-10-04 03:44:25,916 - src.ui.app_ui - DEBUG - Cập nhật UI status: Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'
2025-10-04 03:44:25,917 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'
2025-10-04 03:44:25,917 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:25,917 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'
2025-10-04 03:44:25,918 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:25,919 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:25,919 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:25,919 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:25,920 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:25,920 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:25,920 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:25,920 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:25,921 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 851
2025-10-04 03:44:25,921 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:25,921 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:25,922 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất, lưu trữ và dọn dẹp.
2025-10-04 03:44:25,923 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Hoàn tất.
2025-10-04 03:44:25,923 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:25,923 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Hoàn tất.
2025-10-04 03:44:25,924 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:25,924 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Hoàn tất.
2025-10-04 03:44:25,924 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:25,924 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Hoàn tất.
2025-10-04 03:44:25,925 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:44:25,925 - src.core.worker_modules.main_worker - DEBUG - Trạng thái UI đã được cập nhật thành 'Hoàn tất'.
2025-10-04 03:44:25,925 - src.utils.md_saver - DEBUG - Bắt đầu save_md_report.
2025-10-04 03:44:25,926 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:44:25,926 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:44:25,927 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:44:25,930 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:44:25,949 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:25,952 - src.utils.md_saver - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\report_20251004_034425.md
2025-10-04 03:44:25,952 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:25,953 - src.utils.md_saver - DEBUG - Bắt đầu extract_human_readable_report.
2025-10-04 03:44:25,953 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:25,954 - src.utils.md_saver - DEBUG - Không tìm thấy header 'NHIỆM VỤ 2', trả về toàn bộ text.
2025-10-04 03:44:25,954 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:25,956 - src.utils.md_saver - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251004_034425.md
2025-10-04 03:44:25,956 - src.utils.utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, pattern: report_*.md, giữ lại: 10 file.
2025-10-04 03:44:25,958 - src.utils.utils - DEBUG - Đã xóa file cũ: report_20251003_084615.md
2025-10-04 03:44:25,958 - src.utils.utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-04 03:44:25,959 - src.utils.md_saver - DEBUG - Đã dọn dẹp các file Markdown cũ.
2025-10-04 03:44:25,960 - src.utils.md_saver - DEBUG - Kết thúc save_md_report.
2025-10-04 03:44:25,962 - src.core.worker_modules.main_worker - DEBUG - Báo cáo Markdown đã lưu tại: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\report_20251004_034425.md
2025-10-04 03:44:25,974 - src.utils.json_saver - DEBUG - Bắt đầu hàm save_json_report.
2025-10-04 03:44:25,975 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:44:25,975 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:44:25,975 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:25,976 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:44:25,977 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:44:25,977 - src.utils.json_saver - DEBUG - Thư mục reports: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, timestamp: 20251004_034425.
2025-10-04 03:44:25,977 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Cảnh báo: Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:44:25,978 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:25,978 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Cảnh báo: Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:44:25,978 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:25,979 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:25,979 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:25,980 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:25,980 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:44:25,981 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:25,981 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:25,982 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:25,982 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:25,983 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:25,983 - src.utils.json_saver - WARNING - Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:44:25,983 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:25,984 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:44:25,984 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:44:25,986 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:44:25,986 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:44:25,987 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:44:25,987 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: '[LỖI PHÂN TÍCH] Đã xảy ra lỗi.'
2025-10-04 03:44:25,988 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:44:25,988 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:44:25,988 - src.utils.json_saver - DEBUG - Đã parse và lưu plan: {'direction': None}
2025-10-04 03:44:25,989 - src.utils.json_saver - DEBUG - Đã đặt cycle: 2025-10-04 03:44:25
2025-10-04 03:44:25,989 - src.ui.app_ui - DEBUG - Tạo bản đồ khung thời gian cho 4 ảnh.
2025-10-04 03:44:25,989 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm images_tf_map với 4 tên file.
2025-10-04 03:44:25,990 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_H1.png.
2025-10-04 03:44:25,991 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_H1.png
2025-10-04 03:44:26,013 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:26,014 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern '(?<![a-z0-9])(?:h1|1h)(?![a-z0-9])'.
2025-10-04 03:44:26,022 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:26,026 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:26,027 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:44:26,027 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:26,028 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M1.png.
2025-10-04 03:44:26,029 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M1.png
2025-10-04 03:44:26,029 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern '(?<![a-z0-9])(?:m1|1m)(?![a-z0-9])'.
2025-10-04 03:44:26,030 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:44:26,030 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M15.png.
2025-10-04 03:44:26,030 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M15.png
2025-10-04 03:44:26,031 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern '(?<![a-z0-9])(?:m15|15m)(?![a-z0-9])'.
2025-10-04 03:44:26,031 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:44:26,032 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M5.png.
2025-10-04 03:44:26,032 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M5.png
2025-10-04 03:44:26,033 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern '(?<![a-z0-9])(?:m5|5m)(?![a-z0-9])'.
2025-10-04 03:44:26,033 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:44:26,033 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm images_tf_map. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-04 03:44:26,033 - src.utils.json_saver - DEBUG - Đã tạo và lưu images_tf_map.
2025-10-04 03:44:26,035 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã lưu thành công file: ctx_20251004_034425.json
2025-10-04 03:44:26,035 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:26,036 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã lưu thành công file: ctx_20251004_034425.json
2025-10-04 03:44:26,037 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:26,038 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:26,039 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:26,039 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:26,039 - src.utils.json_saver - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251004_034425.json
2025-10-04 03:44:26,040 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:26,040 - src.utils.utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, pattern: ctx_*.json, giữ lại: 10 file.
2025-10-04 03:44:26,043 - src.utils.utils - DEBUG - Đã xóa file cũ: ctx_20251003_084615.json
2025-10-04 03:44:26,043 - src.utils.utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-04 03:44:26,044 - src.utils.json_saver - DEBUG - Đã dọn dẹp các file JSON cũ.
2025-10-04 03:44:26,044 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:44:26,044 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:44:26,044 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:44:26,045 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: '[LỖI PHÂN TÍCH] Đã xảy ra lỗi.'
2025-10-04 03:44:26,045 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:44:26,045 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:44:26,045 - src.utils.json_saver - DEBUG - Kết thúc hàm save_json_report.
2025-10-04 03:44:26,046 - src.core.worker_modules.main_worker - DEBUG - Báo cáo JSON đã lưu.
2025-10-04 03:44:26,046 - src.utils.ui_utils - DEBUG - Yêu cầu làm mới history list.
2025-10-04 03:44:26,046 - src.utils.ui_utils - DEBUG - Enqueueing function: _refresh_history_list
2025-10-04 03:44:26,047 - src.utils.ui_utils - DEBUG - Yêu cầu làm mới JSON list.
2025-10-04 03:44:26,048 - src.utils.ui_utils - DEBUG - Enqueueing function: _refresh_json_list
2025-10-04 03:44:26,048 - src.core.worker_modules.main_worker - DEBUG - Danh sách lịch sử và JSON trên UI đã được làm mới.
2025-10-04 03:44:26,048 - src.ui.app_ui - DEBUG - Gọi app_logic._maybe_notify_telegram từ UI.
2025-10-04 03:44:26,049 - src.core.app_logic - DEBUG - Bắt đầu hàm _maybe_notify_telegram.
2025-10-04 03:44:26,049 - src.core.app_logic - DEBUG - Bắt đầu _maybe_notify_telegram. Telegram enabled: False, Report text length: 851.
2025-10-04 03:44:26,049 - src.core.app_logic - DEBUG - Telegram không được bật hoặc không có báo cáo, bỏ qua gửi Telegram.
2025-10-04 03:44:26,049 - src.core.app_logic - DEBUG - Kết thúc _maybe_notify_telegram (Telegram không bật hoặc không có báo cáo).
2025-10-04 03:44:26,050 - src.core.worker_modules.main_worker - DEBUG - Đã kiểm tra và gửi thông báo Telegram (nếu có).
2025-10-04 03:44:26,050 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 0.0%
2025-10-04 03:44:26,050 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:26,051 - src.utils.ui_utils - DEBUG - Enqueueing function: _finalize_done
2025-10-04 03:44:26,051 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm run_analysis_worker.
2025-10-04 03:44:26,062 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:26,066 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:26,072 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:44:26,072 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:26,073 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:44:26,073 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:26,074 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:26,074 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:44:26,075 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:44:26,075 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:44:26,077 - src.ui.history_manager - DEBUG - Đã làm mới history list với 10 file.
2025-10-04 03:44:26,077 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:44:26,078 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _refresh_history_list
2025-10-04 03:44:26,078 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:44:26,079 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:44:26,079 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:44:26,080 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:44:26,080 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:44:26,082 - src.ui.history_manager - DEBUG - Đã làm mới JSON list với 10 file.
2025-10-04 03:44:26,082 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:44:26,082 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _refresh_json_list
2025-10-04 03:44:26,083 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:26,083 - src.ui.app_ui - DEBUG - Gọi app_logic._finalize_stopped từ UI (finalize_done).
2025-10-04 03:44:26,102 - src.core.app_logic - DEBUG - Bắt đầu _finalize_stopped.
2025-10-04 03:44:26,103 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã dừng.
2025-10-04 03:44:26,103 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:26,104 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã dừng.
2025-10-04 03:44:26,104 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:26,105 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:26,105 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:26,106 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:26,107 - src.core.app_logic - DEBUG - Bắt đầu _schedule_next_autorun.
2025-10-04 03:44:26,108 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:26,108 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Tự động chạy sau 60s.
2025-10-04 03:44:26,109 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:26,109 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Tự động chạy sau 60s.
2025-10-04 03:44:26,109 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:26,111 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:26,111 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:26,111 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:26,111 - src.core.app_logic - INFO - Đã lên lịch auto-run tiếp theo sau 60 giây.
2025-10-04 03:44:26,112 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:26,112 - src.core.app_logic - DEBUG - Kết thúc _schedule_next_autorun.
2025-10-04 03:44:26,113 - src.core.app_logic - DEBUG - Kết thúc _finalize_stopped.
2025-10-04 03:44:26,114 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _finalize_done
2025-10-04 03:44:26,114 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:26,115 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:26,134 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:26,136 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:26,136 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:26,137 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:26,159 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:26,168 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:26,168 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:26,169 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:26,234 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:26,235 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:26,235 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:26,235 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (34.03s < 300s), bỏ qua làm mới.
2025-10-04 03:44:26,236 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:26,236 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:26,236 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:26,237 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:26,237 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:26,237 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:26,238 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:26,238 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:26,238 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:26,239 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:26,243 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:26,258 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:26,402 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:26,403 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:26,404 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:26,405 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:26,406 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:26,406 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:26,407 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:26,408 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:26,408 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:26,409 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:26,409 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:26,409 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:26,410 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:26,411 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:26,411 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:26,422 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:26,423 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:26,423 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:26,424 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:26,424 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:26,424 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:26,425 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:26,425 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:26,425 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:26,426 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:26,426 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:26.426545+07:00
2025-10-04 03:44:26,426 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:26.426545+07:00
2025-10-04 03:44:26,427 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:26.426545+07:00 trong DST: True
2025-10-04 03:44:26,428 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:26,430 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:26,431 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:26,443 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:26,444 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:26,445 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:26,446 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:26,446 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:26,447 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:26,447 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:26,448 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:26,448 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:26,449 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:26,449 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:26,450 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:26,450 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:26,450 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:26,451 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:26,451 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:26,452 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:26,452 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:26,452 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:27,453 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:27,453 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:27,454 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:27,454 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (35.25s < 300s), bỏ qua làm mới.
2025-10-04 03:44:27,455 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:27,455 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:27,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:27,456 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:27,456 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:27,457 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:27,457 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:27,457 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:27,458 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:27,458 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:27,461 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:27,500 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:27,722 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:27,728 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:27,731 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:27,735 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:27,737 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:27,737 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:27,752 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:27,754 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:27,755 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:27,757 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:27,758 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:27,758 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:27,759 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:27,760 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:27,760 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:27,760 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:27,764 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:27,766 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:27,766 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:27,766 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:27,767 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:27,767 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:27,768 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:27,768 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:27,769 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:27,770 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:27.770312+07:00
2025-10-04 03:44:27,786 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:27.770312+07:00
2025-10-04 03:44:27,788 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:27.770312+07:00 trong DST: True
2025-10-04 03:44:27,789 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:27,790 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:27,790 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:27,791 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:27,792 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:27,792 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:27,793 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:27,794 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:27,794 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:27,795 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:27,796 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:27,797 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:27,797 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:27,798 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:27,799 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:27,799 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:27,800 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:27,800 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:27,801 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:27,801 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:27,802 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:27,804 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:28,802 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:28,809 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:28,810 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:28,810 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (36.60s < 300s), bỏ qua làm mới.
2025-10-04 03:44:28,811 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:28,831 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:28,849 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:28,883 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:28,883 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:28,884 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:28,885 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:28,885 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:28,886 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:28,889 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:28,892 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:28,922 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:29,159 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:29,160 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:29,161 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:29,163 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:29,163 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:29,163 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:29,164 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:29,165 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:29,166 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:29,166 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:29,166 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:29,167 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:29,168 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:29,169 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:29,175 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:29,183 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:29,185 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:29,189 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:29,190 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:29,232 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:29,234 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:29,281 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:29,282 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:29,283 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:29,283 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:29,284 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:29.284309+07:00
2025-10-04 03:44:29,284 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:29.284309+07:00
2025-10-04 03:44:29,286 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:29.284309+07:00 trong DST: True
2025-10-04 03:44:29,286 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:29,287 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:29,287 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:29,287 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:29,288 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:29,288 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:29,288 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:29,289 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:29,289 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:29,289 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:29,290 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:29,291 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:29,291 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:29,291 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:29,292 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:29,292 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:29,293 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:29,293 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:29,294 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:29,294 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:29,295 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:29,295 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:30,295 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:30,295 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:30,296 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:30,296 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (38.09s < 300s), bỏ qua làm mới.
2025-10-04 03:44:30,297 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:30,297 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:30,297 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:30,298 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:30,298 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:30,298 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:30,299 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:30,299 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:30,299 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:30,300 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:30,303 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:30,333 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:30,491 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:30,497 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:30,497 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:30,499 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:30,500 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:30,500 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:30,502 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:30,503 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:30,503 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:30,504 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:30,504 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:30,504 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:30,505 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:30,506 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:30,506 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:30,507 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:30,507 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:30,507 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:30,508 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:30,508 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:30,509 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:30,509 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:30,509 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:30,510 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:30,510 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:30,510 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:30.510650+07:00
2025-10-04 03:44:30,511 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:30.510650+07:00
2025-10-04 03:44:30,511 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:30.510650+07:00 trong DST: True
2025-10-04 03:44:30,512 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:30,512 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:30,513 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:30,513 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:30,513 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:30,514 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:30,514 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:30,514 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:30,515 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:30,515 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:30,515 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:30,516 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:30,517 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:30,517 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:30,517 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:30,518 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:30,518 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:30,518 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:30,519 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:30,519 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:30,519 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:30,520 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:31,519 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:31,520 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:31,520 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:31,521 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (39.31s < 300s), bỏ qua làm mới.
2025-10-04 03:44:31,521 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:31,522 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:31,522 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:31,524 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:31,525 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:31,525 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:31,527 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:31,528 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:31,528 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:31,528 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:31,533 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:31,552 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:31,703 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:31,704 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:31,704 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:31,706 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:31,706 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:31,707 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:31,708 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:31,709 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:31,711 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:31,712 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:31,713 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:31,713 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:31,716 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:31,726 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:31,727 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:31,727 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:31,727 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:31,728 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:31,728 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:31,729 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:31,730 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:31,730 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:31,731 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:31,731 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:31,731 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:31,732 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:31.732069+07:00
2025-10-04 03:44:31,732 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:31.732069+07:00
2025-10-04 03:44:31,732 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:31.732069+07:00 trong DST: True
2025-10-04 03:44:31,733 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:31,733 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:31,733 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:31,734 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:31,734 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:31,734 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:31,735 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:31,735 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:31,735 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:31,736 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:31,736 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:31,737 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:31,737 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:31,738 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:31,738 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:31,739 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:31,739 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:31,739 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:31,740 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:31,740 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:31,741 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:31,742 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:32,524 - src.ui.app_ui - DEBUG - Gọi history_manager._preview_history_selected từ UI.
2025-10-04 03:44:32,525 - src.ui.history_manager - DEBUG - Bắt đầu hàm _preview_history_selected.
2025-10-04 03:44:32,550 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Xem: report_20251004_034425.md
2025-10-04 03:44:32,550 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:32,550 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Xem: report_20251004_034425.md
2025-10-04 03:44:32,551 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:32,552 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:32,552 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:32,552 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:32,553 - src.ui.history_manager - DEBUG - Đã xem trước báo cáo lịch sử: report_20251004_034425.md
2025-10-04 03:44:32,556 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:32,575 - src.ui.history_manager - DEBUG - Kết thúc _preview_history_selected.
2025-10-04 03:44:32,576 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:32,583 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:32,605 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:32,606 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:32,606 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:32,741 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:32,743 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:32,743 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:32,744 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (40.53s < 300s), bỏ qua làm mới.
2025-10-04 03:44:32,744 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:32,744 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:32,745 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:32,745 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:32,746 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:32,746 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:32,746 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:32,747 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:32,747 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:32,747 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:32,751 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:32,764 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:32,906 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:32,907 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:32,908 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:32,909 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:32,910 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:32,910 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:32,911 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:32,912 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:32,913 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:32,913 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:32,914 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:32,914 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:32,915 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:32,916 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:32,916 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:32,918 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:32,930 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:32,933 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:32,935 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:32,935 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:32,935 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:32,936 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:32,936 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:32,937 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:32,937 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:32,938 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:32.938030+07:00
2025-10-04 03:44:32,938 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:32.938030+07:00
2025-10-04 03:44:32,939 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:32.938030+07:00 trong DST: True
2025-10-04 03:44:32,939 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:32,939 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:32,940 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:32,940 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:32,940 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:32,941 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:32,941 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:32,941 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:32,942 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:32,942 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:32,943 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:32,943 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:32,944 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:32,944 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:32,944 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:32,945 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:32,945 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:32,946 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:32,946 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:32,946 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:32,947 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:32,947 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:33,856 - src.ui.app_ui - DEBUG - Gọi history_manager._preview_json_selected từ UI.
2025-10-04 03:44:33,857 - src.ui.history_manager - DEBUG - Bắt đầu hàm _preview_json_selected.
2025-10-04 03:44:33,880 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Xem JSON: ctx_20251004_034425.json
2025-10-04 03:44:33,914 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:33,915 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Xem JSON: ctx_20251004_034425.json
2025-10-04 03:44:33,916 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:33,988 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:33,989 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:34,032 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:34,052 - src.ui.history_manager - DEBUG - Đã xem trước file JSON: ctx_20251004_034425.json
2025-10-04 03:44:34,067 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:34,068 - src.ui.history_manager - DEBUG - Kết thúc _preview_json_selected.
2025-10-04 03:44:34,148 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:34,193 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:34,193 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:34,200 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:34,205 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:34,289 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:34,311 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:34,312 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:34,312 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (42.10s < 300s), bỏ qua làm mới.
2025-10-04 03:44:34,313 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:34,314 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:34,314 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:34,316 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:34,316 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:34,317 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:34,317 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:34,318 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:34,321 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:34,322 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:34,326 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:34,344 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:34,661 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:34,663 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:34,664 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:34,667 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:34,668 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:34,669 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:34,670 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:34,671 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:34,672 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:34,673 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:34,674 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:34,675 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:34,677 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:34,677 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:34,678 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:34,715 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:34,831 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:34,959 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:34,993 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:34,997 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:35,052 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:35,054 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:35,066 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:35,067 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:35,067 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:35,068 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:35.068097+07:00
2025-10-04 03:44:35,068 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:35.068097+07:00
2025-10-04 03:44:35,069 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:35.068097+07:00 trong DST: True
2025-10-04 03:44:35,069 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:35,069 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:35,070 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:35,070 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:35,071 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:35,071 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:35,073 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:35,073 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:35,074 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:35,074 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:35,075 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:35,076 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:35,077 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:35,078 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:35,078 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:35,078 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:35,079 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:35,079 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:35,080 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:35,081 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:35,081 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:35,082 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:35,084 - src.ui.app_ui - DEBUG - Gọi history_manager._preview_json_selected từ UI.
2025-10-04 03:44:35,086 - src.ui.history_manager - DEBUG - Bắt đầu hàm _preview_json_selected.
2025-10-04 03:44:35,098 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Xem JSON: ctx_20251004_034425.json
2025-10-04 03:44:35,099 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:35,099 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Xem JSON: ctx_20251004_034425.json
2025-10-04 03:44:35,100 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:35,101 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:35,101 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:35,102 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:35,102 - src.ui.history_manager - DEBUG - Đã xem trước file JSON: ctx_20251004_034425.json
2025-10-04 03:44:35,103 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:35,103 - src.ui.history_manager - DEBUG - Kết thúc _preview_json_selected.
2025-10-04 03:44:35,105 - src.ui.app_ui - DEBUG - Gọi history_manager._load_json_selected từ UI.
2025-10-04 03:44:35,108 - src.ui.history_manager - DEBUG - Bắt đầu hàm _load_json_selected.
2025-10-04 03:44:35,108 - src.utils.ui_utils - DEBUG - Bắt đầu _open_path cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\ctx_20251004_034425.json
2025-10-04 03:44:35,131 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:35,138 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:35,138 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:35,140 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:35,307 - src.utils.ui_utils - INFO - Đã mở path thành công: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\ctx_20251004_034425.json
2025-10-04 03:44:35,313 - src.utils.ui_utils - DEBUG - Kết thúc _open_path.
2025-10-04 03:44:35,314 - src.ui.history_manager - DEBUG - Đã mở file JSON: ctx_20251004_034425.json
2025-10-04 03:44:35,319 - src.ui.history_manager - DEBUG - Kết thúc _load_json_selected.
2025-10-04 03:44:35,321 - src.ui.app_ui - DEBUG - Gọi history_manager._load_json_selected từ UI.
2025-10-04 03:44:35,321 - src.ui.history_manager - DEBUG - Bắt đầu hàm _load_json_selected.
2025-10-04 03:44:35,322 - src.utils.ui_utils - DEBUG - Bắt đầu _open_path cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\ctx_20251004_034425.json
2025-10-04 03:44:35,414 - src.utils.ui_utils - INFO - Đã mở path thành công: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\ctx_20251004_034425.json
2025-10-04 03:44:35,434 - src.utils.ui_utils - DEBUG - Kết thúc _open_path.
2025-10-04 03:44:35,436 - src.ui.history_manager - DEBUG - Đã mở file JSON: ctx_20251004_034425.json
2025-10-04 03:44:35,437 - src.ui.history_manager - DEBUG - Kết thúc _load_json_selected.
2025-10-04 03:44:35,440 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:36,081 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:36,089 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:36,090 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:36,091 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (43.88s < 300s), bỏ qua làm mới.
2025-10-04 03:44:36,091 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:36,092 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:36,092 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:36,092 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:36,093 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:36,096 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:36,096 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:36,117 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:36,118 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:36,125 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:36,129 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:36,172 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:36,451 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:36,466 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:36,467 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:36,470 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:36,471 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:36,472 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:36,473 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:36,475 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:36,476 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:36,477 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:36,478 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:36,478 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:36,480 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:36,525 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:36,526 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:36,541 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:36,572 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:36,573 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:36,598 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:36,605 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:36,608 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:36,612 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:36,638 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:36,722 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:36,739 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:36,757 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:36.757024+07:00
2025-10-04 03:44:36,764 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:36.757024+07:00
2025-10-04 03:44:36,767 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:36.757024+07:00 trong DST: True
2025-10-04 03:44:36,799 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:36,844 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:37,147 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:37,360 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:37,451 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:37,566 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:37,644 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:37,722 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:37,780 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:37,917 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:38,048 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:38,126 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:38,218 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:38,343 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:38,385 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:38,393 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:38,396 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:38,424 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:38,426 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:38,427 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:38,449 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:38,453 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:38,455 - src.core.app_logic - DEBUG - Bắt đầu _check_mt5_connection.
2025-10-04 03:44:38,481 - src.core.app_logic - DEBUG - MT5 Check: Kết nối vẫn hoạt động.
2025-10-04 03:44:38,482 - src.core.app_logic - DEBUG - Bắt đầu _schedule_next_autorun.
2025-10-04 03:44:38,484 - src.core.app_logic - DEBUG - Đã hủy tác vụ auto-run cũ.
2025-10-04 03:44:38,486 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Tự động chạy sau 60s.
2025-10-04 03:44:38,487 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:38,488 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Tự động chạy sau 60s.
2025-10-04 03:44:38,489 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:38,519 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:38,519 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:38,521 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:38,521 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:38,579 - src.core.app_logic - INFO - Đã lên lịch auto-run tiếp theo sau 60 giây.
2025-10-04 03:44:38,602 - src.core.app_logic - DEBUG - Kết thúc _schedule_next_autorun.
2025-10-04 03:44:38,603 - src.core.app_logic - DEBUG - Kết thúc _check_connection (thành công).
2025-10-04 03:44:38,604 - src.ui.app_ui - DEBUG - Gọi history_manager._preview_history_selected từ UI.
2025-10-04 03:44:38,640 - src.ui.history_manager - DEBUG - Bắt đầu hàm _preview_history_selected.
2025-10-04 03:44:38,644 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:38,663 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Xem: report_20251004_034425.md
2025-10-04 03:44:38,663 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:38,664 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:38,668 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:38,673 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Xem: report_20251004_034425.md
2025-10-04 03:44:38,702 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:38,704 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:38,709 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:38,710 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:38,737 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:38,740 - src.ui.history_manager - DEBUG - Đã xem trước báo cáo lịch sử: report_20251004_034425.md
2025-10-04 03:44:38,756 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:38,757 - src.ui.history_manager - DEBUG - Kết thúc _preview_history_selected.
2025-10-04 03:44:38,791 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:38,799 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:38,820 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:38,862 - src.ui.app_ui - DEBUG - Gọi history_manager._preview_history_selected từ UI.
2025-10-04 03:44:38,877 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:38,878 - src.ui.history_manager - DEBUG - Bắt đầu hàm _preview_history_selected.
2025-10-04 03:44:38,879 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:38,880 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:38,915 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Xem: report_20251004_033700.md
2025-10-04 03:44:38,919 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:38,920 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Xem: report_20251004_033700.md
2025-10-04 03:44:38,921 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:38,923 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:38,923 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:38,924 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:38,925 - src.ui.history_manager - DEBUG - Đã xem trước báo cáo lịch sử: report_20251004_033700.md
2025-10-04 03:44:38,926 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:38,926 - src.ui.history_manager - DEBUG - Kết thúc _preview_history_selected.
2025-10-04 03:44:38,949 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:38,985 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:39,007 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:39,013 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:39,016 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:39,449 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:39,450 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:39,450 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:39,451 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (47.24s < 300s), bỏ qua làm mới.
2025-10-04 03:44:39,451 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:39,451 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:39,452 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:39,452 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:39,452 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:39,453 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:39,453 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:39,453 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:39,454 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:39,454 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:39,457 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:39,483 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:39,629 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:39,630 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:39,630 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:39,632 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:39,633 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:39,633 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:39,634 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:39,635 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:39,636 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:39,636 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:39,637 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:39,637 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:39,638 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:39,639 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:39,639 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:39,639 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:39,640 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:39,640 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:39,640 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:39,641 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:39,641 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:39,642 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:39,642 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:39,642 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:39,643 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:39,643 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:39.643400+07:00
2025-10-04 03:44:39,643 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:39.643400+07:00
2025-10-04 03:44:39,644 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:39.643400+07:00 trong DST: True
2025-10-04 03:44:39,644 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:39,644 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:39,644 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:39,645 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:39,645 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:39,645 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:39,646 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:39,646 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:39,646 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:39,647 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:39,647 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:39,649 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:39,650 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:39,662 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:39,663 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:39,664 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:39,664 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:39,665 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:39,665 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:39,665 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:39,666 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:39,666 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:40,666 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:40,699 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:40,788 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:40,830 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (48.62s < 300s), bỏ qua làm mới.
2025-10-04 03:44:40,832 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:40,835 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:40,837 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:40,839 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:40,840 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:40,841 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:40,842 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:40,845 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:40,847 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:40,851 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:40,888 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:40,918 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:41,134 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:41,161 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:41,162 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:41,164 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:41,165 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:41,166 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:41,167 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:41,168 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:41,182 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:41,184 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:41,184 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:41,185 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:41,186 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:41,186 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:41,187 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:41,187 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:41,188 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:41,188 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:41,188 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:41,189 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:41,189 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:41,189 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:41,190 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:41,190 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:41,191 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:41,191 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:41.191522+07:00
2025-10-04 03:44:41,191 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:41.191522+07:00
2025-10-04 03:44:41,192 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:41.191522+07:00 trong DST: True
2025-10-04 03:44:41,192 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:41,192 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:41,193 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:41,193 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:41,194 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:41,194 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:41,194 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:41,195 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:41,195 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:41,196 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:41,196 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:41,197 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:41,197 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:41,198 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:41,198 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:41,198 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:41,199 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:41,199 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:41,199 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:41,200 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:41,200 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:41,200 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:41,201 - src.ui.app_ui - DEBUG - Gọi history_manager._preview_history_selected từ UI.
2025-10-04 03:44:41,202 - src.ui.history_manager - DEBUG - Bắt đầu hàm _preview_history_selected.
2025-10-04 03:44:41,203 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Xem: report_20251004_034425.md
2025-10-04 03:44:41,203 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:41,204 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Xem: report_20251004_034425.md
2025-10-04 03:44:41,204 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:44:41,206 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:44:41,206 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:44:41,206 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:44:41,207 - src.ui.history_manager - DEBUG - Đã xem trước báo cáo lịch sử: report_20251004_034425.md
2025-10-04 03:44:41,207 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:44:41,208 - src.ui.history_manager - DEBUG - Kết thúc _preview_history_selected.
2025-10-04 03:44:41,288 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:44:41,289 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:44:41,290 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:44:41,291 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:44:41,426 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:44:42,200 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:42,201 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:42,201 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:42,202 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (49.99s < 300s), bỏ qua làm mới.
2025-10-04 03:44:42,202 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:42,202 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:42,203 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:42,203 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:42,203 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:42,204 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:42,204 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:42,204 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:42,205 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:42,205 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:42,209 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:42,240 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:42,415 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:42,435 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:42,437 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:42,440 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:42,441 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:42,442 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:42,444 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:42,445 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:42,446 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:42,446 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:42,447 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:42,448 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:42,450 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:42,450 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:42,451 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:42,451 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:42,452 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:42,453 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:42,453 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:42,454 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:42,454 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:42,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:42,457 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:42,465 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:42,466 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:42,473 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:42.472028+07:00
2025-10-04 03:44:42,476 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:42.472028+07:00
2025-10-04 03:44:42,482 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:42.472028+07:00 trong DST: True
2025-10-04 03:44:42,483 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:42,490 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:42,490 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:42,510 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:42,570 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:42,571 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:42,571 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:42,572 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:42,573 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:42,574 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:42,574 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:42,575 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:42,576 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:42,576 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:42,578 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:42,580 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:42,581 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:42,582 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:42,582 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:42,583 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:42,583 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:42,585 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:43,584 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:43,602 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:43,622 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:43,623 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (51.41s < 300s), bỏ qua làm mới.
2025-10-04 03:44:43,624 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:43,624 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:43,625 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:43,626 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:43,626 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:43,628 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:43,629 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:43,629 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:43,630 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:43,630 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:43,634 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:43,652 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:44,000 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:44,014 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:44,031 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:44,039 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:44,040 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:44,040 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:44,041 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:44,042 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:44,043 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:44,043 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:44,043 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:44,044 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:44,045 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:44,045 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:44,045 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:44,046 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:44,046 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:44,047 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:44,047 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:44,047 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:44,048 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:44,048 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:44,049 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:44,049 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:44,049 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:44,050 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:44.050057+07:00
2025-10-04 03:44:44,050 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:44.050057+07:00
2025-10-04 03:44:44,050 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:44.050057+07:00 trong DST: True
2025-10-04 03:44:44,051 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:44,051 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:44,051 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:44,052 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:44,052 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:44,052 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:44,053 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:44,053 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:44,053 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:44,054 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:44,055 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:44,058 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:44,058 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:44,062 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:44,070 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:44,071 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:44,071 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:44,072 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:44,072 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:44,073 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:44,073 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:44,073 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:45,073 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:45,073 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:45,074 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:45,074 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (52.87s < 300s), bỏ qua làm mới.
2025-10-04 03:44:45,075 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:45,075 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:45,075 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:45,076 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:45,076 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:45,076 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:45,077 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:45,077 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:45,077 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:45,077 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:45,081 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:45,102 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:45,266 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:45,267 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:45,268 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:45,270 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:45,270 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:45,271 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:45,272 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:45,276 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:45,277 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:45,277 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:45,277 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:45,278 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:45,279 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:45,279 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:45,280 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:45,280 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:45,280 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:45,281 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:45,281 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:45,282 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:45,282 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:45,282 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:45,282 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:45,283 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:45,283 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:45,283 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:45.283806+07:00
2025-10-04 03:44:45,284 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:45.283806+07:00
2025-10-04 03:44:45,284 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:45.283806+07:00 trong DST: True
2025-10-04 03:44:45,284 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:45,285 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:45,285 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:45,285 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:45,286 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:45,286 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:45,287 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:45,288 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:45,288 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:45,288 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:45,289 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:45,289 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:45,289 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:45,290 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:45,290 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:45,290 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:45,291 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:45,291 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:45,292 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:45,292 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:45,292 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:45,293 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:46,292 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:46,293 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:46,293 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:46,294 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (54.08s < 300s), bỏ qua làm mới.
2025-10-04 03:44:46,294 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:46,294 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:46,295 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:46,295 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:46,295 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:46,296 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:46,296 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:46,296 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:46,297 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:46,297 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:46,300 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:46,321 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:46,961 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:47,004 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:47,033 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:47,052 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:47,081 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:47,129 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:47,190 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:47,202 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:47,231 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:47,232 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:47,233 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:47,234 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:47,235 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:47,235 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:47,238 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:47,239 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:47,239 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:47,239 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:47,240 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:47,240 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:47,241 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:47,241 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:47,263 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:47,264 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:47,264 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:47,265 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:47.265261+07:00
2025-10-04 03:44:47,265 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:47.265261+07:00
2025-10-04 03:44:47,265 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:47.265261+07:00 trong DST: True
2025-10-04 03:44:47,266 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:47,266 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:47,266 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:47,267 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:47,267 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:47,267 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:47,268 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:47,268 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:47,269 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:47,269 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:47,269 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:47,270 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:47,270 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:47,322 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:47,379 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:47,381 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:47,383 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:47,383 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:47,384 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:47,384 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:47,385 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:47,385 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:48,385 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:48,385 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:48,386 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:48,386 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (56.18s < 300s), bỏ qua làm mới.
2025-10-04 03:44:48,386 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:48,387 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:48,387 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:48,388 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:48,388 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:48,388 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:48,389 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:48,389 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:48,389 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:48,390 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:48,394 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:48,423 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:48,588 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:48,590 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:48,591 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:48,592 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:48,593 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:48,593 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:48,594 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:48,595 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:48,596 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:48,597 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:48,597 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:48,597 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:48,598 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:48,599 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:48,599 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:48,600 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:48,600 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:48,601 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:48,601 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:48,602 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:48,602 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:48,603 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:48,603 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:48,603 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:48,604 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:48,604 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:48.604676+07:00
2025-10-04 03:44:48,605 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:48.604676+07:00
2025-10-04 03:44:48,605 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:48.604676+07:00 trong DST: True
2025-10-04 03:44:48,605 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:48,606 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:48,606 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:48,606 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:48,607 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:48,607 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:48,609 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:48,609 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:48,609 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:48,610 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:48,610 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:48,611 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:48,611 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:48,611 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:48,612 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:48,612 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:48,613 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:48,613 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:48,613 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:48,614 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:48,614 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:48,615 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:49,614 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:49,615 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:49,616 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:49,616 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (57.41s < 300s), bỏ qua làm mới.
2025-10-04 03:44:49,619 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:49,619 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:49,621 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:49,621 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:49,622 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:49,623 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:49,623 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:49,623 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:49,624 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:49,624 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:49,629 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:49,661 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:49,872 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:49,874 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:49,876 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:49,878 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:49,878 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:49,878 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:49,880 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:49,882 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:49,883 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:49,884 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:49,884 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:49,886 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:49,887 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:49,888 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:49,888 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:49,889 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:49,889 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:49,890 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:49,891 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:49,896 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:49,897 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:49,898 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:49,898 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:49,902 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:49,904 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:49,906 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:49.906058+07:00
2025-10-04 03:44:49,907 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:49.906058+07:00
2025-10-04 03:44:49,918 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:49.906058+07:00 trong DST: True
2025-10-04 03:44:49,920 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:49,920 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:49,922 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:49,923 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:49,923 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:49,923 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:49,924 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:49,925 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:49,925 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:49,925 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:49,926 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:49,926 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:49,927 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:49,927 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:49,928 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:49,947 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:49,949 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:49,953 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:49,954 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:49,954 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:49,955 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:49,955 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:50,955 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:50,956 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:50,956 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:50,957 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (58.75s < 300s), bỏ qua làm mới.
2025-10-04 03:44:50,957 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:50,957 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:50,958 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:50,958 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:50,958 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:50,959 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:50,959 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:50,959 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:50,960 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:50,960 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:50,964 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:50,983 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:51,114 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:51,115 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:51,116 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:51,119 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:51,119 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:51,119 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:51,121 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:51,122 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:51,122 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:51,123 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:51,123 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:51,124 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:51,125 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:51,126 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:51,128 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:51,131 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:51,135 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:51,136 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:51,137 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:51,137 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:51,137 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:51,137 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:51,138 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:51,138 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:51,138 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:51,139 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:51.139034+07:00
2025-10-04 03:44:51,139 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:51.139034+07:00
2025-10-04 03:44:51,139 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:51.139034+07:00 trong DST: True
2025-10-04 03:44:51,139 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:51,140 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:51,140 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:51,140 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:51,141 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:51,142 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:51,142 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:51,142 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:51,143 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:51,143 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:51,143 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:51,144 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:51,144 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:51,145 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:51,145 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:51,145 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:51,146 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:51,147 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:51,147 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:51,147 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:51,162 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:51,162 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:52,162 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:44:52,162 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:44:52,163 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:44:52,163 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (59.95s < 300s), bỏ qua làm mới.
2025-10-04 03:44:52,164 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:44:52,164 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:44:52,164 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:44:52,165 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:44:52,165 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:44:52,165 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:52,165 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:52,166 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:44:52,166 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:44:52,166 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:44:52,170 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:44:52,190 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:44:52,328 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:44:52,329 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:44:52,330 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:44:52,331 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:44:52,332 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:44:52,332 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:44:52,333 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:44:52,334 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:44:52,335 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:44:52,336 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:44:52,338 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:44:52,339 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:44:52,352 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:44:52,353 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:44:52,353 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:44:52,355 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:44:52,355 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:44:52,355 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:44:52,356 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:44:52,357 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:44:52,358 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:44:52,358 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:44:52,358 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:44:52,358 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:44:52,359 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:44:52,359 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:44:52.359573+07:00
2025-10-04 03:44:52,359 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:44:52.359573+07:00
2025-10-04 03:44:52,360 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:44:52.359573+07:00 trong DST: True
2025-10-04 03:44:52,360 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:44:52,360 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:44:52,361 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:44:52,361 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:52,361 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:44:52,362 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:44:52,362 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:44:52,363 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:44:52,363 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:44:52,364 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:44:52,364 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:44:52,365 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:44:52,365 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:44:52,365 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:44:52,366 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'XAU', 'USD'}
2025-10-04 03:44:52,366 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:44:52,367 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:44:52,381 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:44:52,381 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:44:52,382 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:44:52,383 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:44:52,383 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:44:53,209 - src.ui.app_ui - DEBUG - Đang xử lý sự kiện đóng cửa sổ (_on_closing).
2025-10-04 03:44:53,210 - src.ui.app_ui - DEBUG - Gọi workspace_manager._save_workspace từ UI.
2025-10-04 03:44:53,210 - src.config.workspace_manager - DEBUG - Bắt đầu _save_workspace.
2025-10-04 03:44:53,212 - src.utils.ui_utils - DEBUG - Hiển thị UI message. Kind: info, Title: Workspace, Text: Đã lưu workspace.
2025-10-04 03:44:53,214 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:44:53,215 - src.config.workspace_manager - INFO - Workspace: Đã lưu workspace thành công.
2025-10-04 03:44:53,216 - src.config.workspace_manager - DEBUG - Kết thúc _save_workspace.
2025-10-04 03:46:52,659 - src.utils.logging_utils - INFO - Đã cấu hình logging, ghi vào: Log\app_debug.log
2025-10-04 03:46:52,659 - src.utils.logging_utils - DEBUG - Kết thúc hàm setup_logging.
2025-10-04 03:46:52,660 - root - INFO - Ứng dụng đang khởi động.
2025-10-04 03:46:52,774 - src.core.app_logic - DEBUG - Bắt đầu hàm __init__.
2025-10-04 03:46:52,776 - src.core.app_logic - DEBUG - Khởi tạo AppLogic.
2025-10-04 03:46:52,777 - src.core.app_logic - DEBUG - Kết thúc hàm __init__.
2025-10-04 03:46:52,778 - src.ui.app_ui - DEBUG - Khởi tạo TradingToolApp.
2025-10-04 03:46:52,779 - src.ui.app_ui - DEBUG - Khởi tạo các biến Tkinter.
2025-10-04 03:46:52,780 - src.utils.utils - DEBUG - Bắt đầu deobfuscate text.
2025-10-04 03:46:52,782 - src.utils.utils - DEBUG - Tạo machine key.
2025-10-04 03:46:52,783 - src.utils.utils - DEBUG - Đã tạo machine key. Độ dài: 32 bytes.
2025-10-04 03:46:52,784 - src.utils.utils - DEBUG - Thực hiện XOR bytes.
2025-10-04 03:46:52,784 - src.utils.utils - DEBUG - Đã deobfuscate text thành công.
2025-10-04 03:46:52,785 - src.ui.app_ui - DEBUG - Đã thêm trace callback cho api_key_var.
2025-10-04 03:46:52,786 - src.ui.app_ui - DEBUG - Các biến Tkinter đã được khởi tạo.
2025-10-04 03:46:52,787 - src.utils.ui_builder - DEBUG - Bắt đầu build_ui.
2025-10-04 03:46:52,788 - src.utils.ui_builder - DEBUG - Bắt đầu _build_top_frame.
2025-10-04 03:46:52,808 - src.utils.ui_builder - DEBUG - Đã xây dựng API Key frame.
2025-10-04 03:46:52,811 - src.ui.app_ui - DEBUG - Đang cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:46:52,812 - src.utils.ui_utils - DEBUG - Enqueueing function: _do_update
2025-10-04 03:46:52,812 - src.utils.ui_builder - DEBUG - Đã xây dựng Model Combobox và cập nhật danh sách model.
2025-10-04 03:46:52,818 - src.utils.ui_builder - DEBUG - Đã xây dựng Folder Path Entry và nút chọn thư mục.
2025-10-04 03:46:52,825 - src.utils.ui_builder - DEBUG - Đã xây dựng Workspace buttons.
2025-10-04 03:46:52,870 - src.utils.ui_builder - DEBUG - Đã xây dựng Run/Autorun controls.
2025-10-04 03:46:52,870 - src.utils.ui_builder - DEBUG - Kết thúc _build_top_frame.
2025-10-04 03:46:52,871 - src.utils.ui_builder - DEBUG - Bắt đầu _build_progress_frame.
2025-10-04 03:46:52,874 - src.utils.ui_builder - DEBUG - Đã xây dựng Progress frame.
2025-10-04 03:46:52,874 - src.utils.ui_builder - DEBUG - Kết thúc _build_progress_frame.
2025-10-04 03:46:52,875 - src.utils.ui_builder - DEBUG - Đã xây dựng Notebook chính.
2025-10-04 03:46:52,876 - src.utils.ui_builder - DEBUG - Bắt đầu _build_report_tab.
2025-10-04 03:46:52,878 - src.utils.ui_builder - DEBUG - Đã thêm tab 'Report' vào Notebook.
2025-10-04 03:46:52,897 - src.utils.ui_builder - DEBUG - Đã xây dựng Treeview cho danh sách ảnh.
2025-10-04 03:46:52,905 - src.utils.ui_builder - DEBUG - Đã xây dựng History panel.
2025-10-04 03:46:52,912 - src.utils.ui_builder - DEBUG - Đã xây dựng JSON panel.
2025-10-04 03:46:52,926 - src.utils.ui_builder - DEBUG - Đã xây dựng Detail Text area.
2025-10-04 03:46:52,926 - src.utils.ui_builder - DEBUG - Kết thúc _build_report_tab.
2025-10-04 03:46:52,927 - src.utils.ui_builder - DEBUG - Bắt đầu _build_chart_tab.
2025-10-04 03:46:52,927 - src.core.chart_tab - DEBUG - Bắt đầu hàm __init__ của ChartTabTV.
2025-10-04 03:46:52,933 - src.core.chart_tab - DEBUG - Bắt đầu hàm _populate_symbol_list.
2025-10-04 03:46:52,934 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:46:52,955 - src.core.chart_tab - DEBUG - MT5 initialize() thành công, đã cập nhật trạng thái app.
2025-10-04 03:46:52,963 - src.core.chart_tab - DEBUG - Kết thúc hàm _ensure_mt5. Kết nối MT5 OK.
2025-10-04 03:46:52,975 - src.core.chart_tab - DEBUG - Đã đặt symbol mặc định: XAUUSD
2025-10-04 03:46:52,991 - src.core.chart_tab - DEBUG - Đã populate 357 symbols.
2025-10-04 03:46:52,992 - src.core.chart_tab - DEBUG - Kết thúc _populate_symbol_list.
2025-10-04 03:46:53,022 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
2025-10-04 03:46:53,023 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,023 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,024 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,024 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,025 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,025 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,026 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,026 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-04 03:46:53,027 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,027 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,028 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,028 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,028 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-04 03:46:53,029 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,029 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,030 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,030 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,031 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-04 03:46:53,031 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,031 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-04 03:46:53,032 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,032 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,033 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,033 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,034 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,052 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,053 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,054 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,054 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,055 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,055 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,056 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,056 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,057 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,057 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,058 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,058 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,059 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,059 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,060 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,060 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,061 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:53,061 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,061 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,062 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,062 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:46:53,062 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-04 03:46:53,063 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,064 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,064 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,065 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,065 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-04 03:46:53,069 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,079 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-04 03:46:53,087 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-04 03:46:53,089 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,090 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,091 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,091 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,092 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,092 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,092 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,093 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,093 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:46:53,093 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:53,094 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,094 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,095 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,095 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,096 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-04 03:46:53,100 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,111 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,112 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,113 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,113 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,113 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,114 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,114 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,115 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,115 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,117 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,117 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,118 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,118 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:53,119 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,119 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-04 03:46:53,120 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-04 03:46:53,120 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,121 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,121 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,121 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:53,122 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,122 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,123 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-04 03:46:53,123 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,123 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,124 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,125 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,125 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,125 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,126 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,126 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,127 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,130 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,142 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,142 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,143 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,143 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:46:53,144 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,144 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,145 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,145 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,146 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,146 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,147 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,147 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,148 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,148 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,149 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,149 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,150 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,150 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,151 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,151 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-04 03:46:53,151 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-04 03:46:53,152 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,152 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,153 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,153 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,154 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,155 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,155 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,155 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,156 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,156 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,156 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,157 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-04 03:46:53,157 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,158 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,158 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,159 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,161 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,167 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,179 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-04 03:46:53,181 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-04 03:46:53,182 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,183 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:53,183 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,184 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,184 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,184 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,185 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,185 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,186 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,187 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,187 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,187 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,188 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,188 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,189 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,190 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:53,194 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,206 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,206 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:46:53,207 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,207 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:46:53,208 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:46:53,208 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,209 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,209 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-04 03:46:53,209 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,210 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:53,210 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,211 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,211 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,212 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,212 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,213 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,213 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,213 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:53,214 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:53,214 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:46:53,215 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,215 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:53,216 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-04 03:46:53,252 - src.core.chart_tab - DEBUG - Đã khởi tạo Figure và FigureCanvasTkAgg.
2025-10-04 03:46:53,286 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:46:53,286 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:46:53,287 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:46:53,287 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:46:53,288 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 374
2025-10-04 03:46:53,315 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:46:53,315 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:46:53,316 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:46:53,317 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:46:53,318 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 286
2025-10-04 03:46:53,330 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:46:53,331 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:46:53,332 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:46:53,332 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:46:53,332 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 263
2025-10-04 03:46:53,335 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:46:53,336 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:46:53,336 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:46:53,336 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:46:53,337 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 387
2025-10-04 03:46:53,340 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:46:53,340 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:46:53,341 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:46:53,341 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:46:53,341 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 436
2025-10-04 03:46:53,344 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:46:53,345 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:46:53,345 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:46:53,345 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:46:53,346 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 351
2025-10-04 03:46:53,350 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-04 03:46:53,362 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-04 03:46:53,363 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-04 03:46:53,363 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-04 03:46:53,363 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 364
2025-10-04 03:46:53,368 - src.core.chart_tab - DEBUG - Đã khởi tạo NavigationToolbar2Tk.
2025-10-04 03:46:53,394 - src.core.chart_tab - DEBUG - Đã khởi tạo panel thông tin tài khoản.
2025-10-04 03:46:53,398 - src.core.chart_tab - DEBUG - Đã khởi tạo bảng lệnh đang mở.
2025-10-04 03:46:53,402 - src.core.chart_tab - DEBUG - Đã khởi tạo bảng lịch sử giao dịch.
2025-10-04 03:46:53,421 - src.core.chart_tab - DEBUG - Đã khởi tạo panel No-Trade.
2025-10-04 03:46:53,424 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:46:53,425 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:46:53,426 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:46:53,426 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:53,427 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:53,427 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:46:53,427 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:46:53,428 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:46:53,432 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:46:53,451 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:46:53,626 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:46:53,628 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:46:53,629 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:46:53,631 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:46:53,632 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:46:53,632 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:46:53,633 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:46:53,635 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:46:53,635 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:46:53,635 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:46:53,636 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:53,636 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:53,637 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:46:53,637 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:46:53,638 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:46:53,638 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:46:53,638 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:46:53,639 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:46:53,639 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:46:53,639 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:46:53,640 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:46:53,640 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:46:53,641 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:46:53,642 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:46:53,642 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:46:53,648 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:46:53.648526+07:00
2025-10-04 03:46:53,650 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:46:53.648526+07:00
2025-10-04 03:46:53,651 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:46:53.648526+07:00 trong DST: True
2025-10-04 03:46:53,652 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:46:53,652 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:46:53,652 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:46:53,653 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:53,654 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:46:53,654 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:53,656 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:46:53,664 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:46:53,665 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:46:53,666 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:46:53,666 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:46:53,667 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:46:53,667 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:46:53,669 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:46:53,670 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:46:53,670 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:46:53,672 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:46:53,672 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:46:53,673 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:46:53,673 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:46:53,674 - src.core.chart_tab - DEBUG - Kết thúc hàm __init__ của ChartTabTV.
2025-10-04 03:46:53,674 - src.utils.ui_builder - DEBUG - Đã xây dựng ChartTabTV.
2025-10-04 03:46:53,675 - src.utils.ui_builder - DEBUG - Kết thúc _build_chart_tab.
2025-10-04 03:46:53,675 - src.utils.ui_builder - DEBUG - Bắt đầu _build_prompt_tab.
2025-10-04 03:46:53,676 - src.utils.ui_builder - DEBUG - Đã thêm tab 'Prompt' vào Notebook.
2025-10-04 03:46:53,680 - src.utils.ui_builder - DEBUG - Đã xây dựng Prompt action buttons.
2025-10-04 03:46:53,681 - src.utils.ui_builder - DEBUG - Đã xây dựng Prompt Notebook con.
2025-10-04 03:46:53,683 - src.utils.ui_builder - DEBUG - Đã xây dựng tab 'Tìm Lệnh Mới (No Entry)'.
2025-10-04 03:46:53,685 - src.utils.ui_builder - DEBUG - Đã xây dựng tab 'Quản Lý Lệnh (Entry Run)'.
2025-10-04 03:46:53,686 - src.utils.ui_builder - DEBUG - Kết thúc _build_prompt_tab.
2025-10-04 03:46:53,686 - src.utils.ui_builder - DEBUG - Bắt đầu _build_options_tab.
2025-10-04 03:46:53,688 - src.utils.ui_builder - DEBUG - Đã thêm tab 'Options' vào Notebook.
2025-10-04 03:46:53,689 - src.utils.ui_builder - DEBUG - Đã xây dựng Options Notebook con.
2025-10-04 03:46:53,689 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_run.
2025-10-04 03:46:53,692 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'Run' vào Options Notebook.
2025-10-04 03:46:53,698 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Upload & Giới hạn'.
2025-10-04 03:46:53,705 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Tăng tốc & Cache'.
2025-10-04 03:46:53,715 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'NO-TRADE cứng'.
2025-10-04 03:46:53,716 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_run.
2025-10-04 03:46:53,716 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_context.
2025-10-04 03:46:53,718 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'Context' vào Options Notebook.
2025-10-04 03:46:53,725 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Ngữ cảnh từ Text Reports'.
2025-10-04 03:46:53,731 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'Ngữ cảnh từ JSON'.
2025-10-04 03:46:53,732 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_context.
2025-10-04 03:46:53,732 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_telegram.
2025-10-04 03:46:53,734 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'Telegram' vào Options Notebook.
2025-10-04 03:46:53,741 - src.utils.ui_builder - DEBUG - Đã xây dựng Telegram options.
2025-10-04 03:46:53,741 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_telegram.
2025-10-04 03:46:53,742 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_mt5.
2025-10-04 03:46:53,743 - src.utils.ui_builder - DEBUG - Đã thêm tab con 'MT5' vào Options Notebook.
2025-10-04 03:46:53,748 - src.utils.ui_builder - DEBUG - Đã xây dựng MT5 connection settings.
2025-10-04 03:46:53,759 - src.utils.ui_builder - DEBUG - Đã xây dựng MT5 candle count settings.
2025-10-04 03:46:53,763 - src.utils.ui_builder - DEBUG - Đã xây dựng MT5 connection/snapshot buttons.
2025-10-04 03:46:53,764 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_autotrade.
2025-10-04 03:46:53,770 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r0.
2025-10-04 03:46:53,780 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r1.
2025-10-04 03:46:53,789 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r2.
2025-10-04 03:46:53,798 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r3.
2025-10-04 03:46:53,806 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r4.
2025-10-04 03:46:53,810 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r5.
2025-10-04 03:46:53,837 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r6.
2025-10-04 03:46:53,843 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r7.
2025-10-04 03:46:53,850 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r8.
2025-10-04 03:46:53,860 - src.utils.ui_builder - DEBUG - Đã xây dựng Auto-Trade r9.
2025-10-04 03:46:53,861 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_autotrade.
2025-10-04 03:46:53,861 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_mt5.
2025-10-04 03:46:53,862 - src.utils.ui_builder - DEBUG - Bắt đầu _build_opts_norun.
2025-10-04 03:46:53,865 - src.utils.ui_builder - DEBUG - Đã xây dựng card 'No Run'.
2025-10-04 03:46:53,866 - src.utils.ui_builder - DEBUG - Kết thúc _build_opts_norun.
2025-10-04 03:46:53,866 - src.utils.ui_builder - DEBUG - Đã xây dựng các tab con trong Options.
2025-10-04 03:46:53,867 - src.utils.ui_builder - DEBUG - Kết thúc _build_options_tab.
2025-10-04 03:46:53,867 - src.utils.ui_builder - DEBUG - Đã xây dựng các tab chính.
2025-10-04 03:46:53,867 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:46:53,868 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:46:53,868 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:46:53,869 - src.ui.history_manager - WARNING - Không có folder path, không thể lấy reports dir.
2025-10-04 03:46:53,869 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir (không có folder).
2025-10-04 03:46:53,869 - src.ui.history_manager - WARNING - Không thể làm mới history list vì không có thư mục reports hợp lệ.
2025-10-04 03:46:53,870 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:46:53,870 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:46:53,870 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:46:53,871 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:46:53,872 - src.ui.history_manager - WARNING - Không có folder path, không thể lấy reports dir.
2025-10-04 03:46:53,872 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir (không có folder).
2025-10-04 03:46:53,872 - src.ui.history_manager - WARNING - Không thể làm mới JSON list vì không có thư mục reports hợp lệ.
2025-10-04 03:46:53,873 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:46:53,889 - src.ui.app_ui - DEBUG - Gọi prompt_manager._load_prompts_from_disk từ UI. Silent: False.
2025-10-04 03:46:53,927 - src.ui.prompt_manager - DEBUG - Bắt đầu hàm _load_prompts_from_disk. Silent: False
2025-10-04 03:46:53,928 - src.ui.prompt_manager - DEBUG - Bắt đầu hàm _normalize_prompt_text. Độ dài raw text: 4125
2025-10-04 03:46:53,934 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành JSON: Expecting value: line 1 column 1 (char 0)
2025-10-04 03:46:53,934 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành Python literal: unmatched ')' (<unknown>, line 3)
2025-10-04 03:46:53,935 - src.ui.prompt_manager - DEBUG - Không thể normalize prompt, trả về raw text.
2025-10-04 03:46:53,935 - src.ui.prompt_manager - DEBUG - Kết thúc hàm _normalize_prompt_text.
2025-10-04 03:46:53,937 - src.ui.prompt_manager - DEBUG - Đã nạp prompt từ file: prompt_no_entry.txt
2025-10-04 03:46:53,938 - src.ui.prompt_manager - DEBUG - Bắt đầu hàm _normalize_prompt_text. Độ dài raw text: 3265
2025-10-04 03:46:53,939 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành JSON: Expecting value: line 1 column 1 (char 0)
2025-10-04 03:46:54,042 - src.ui.prompt_manager - DEBUG - Không thể parse raw text thành Python literal: unmatched ')' (<unknown>, line 3)
2025-10-04 03:46:54,119 - src.ui.prompt_manager - DEBUG - Không thể normalize prompt, trả về raw text.
2025-10-04 03:46:54,168 - src.ui.prompt_manager - DEBUG - Kết thúc hàm _normalize_prompt_text.
2025-10-04 03:46:54,185 - src.ui.prompt_manager - DEBUG - Đã nạp prompt từ file: prompt_entry_run.txt
2025-10-04 03:46:54,186 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 2 prompt từ file.
2025-10-04 03:46:54,187 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:46:54,188 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 2 prompt từ file.
2025-10-04 03:46:54,188 - src.utils.ui_utils - DEBUG - Folder override cho log status: None
2025-10-04 03:46:54,195 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:46:54,195 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:46:54,196 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: None.
2025-10-04 03:46:54,196 - src.ui.prompt_manager - INFO - Đã nạp 2 prompt từ file.
2025-10-04 03:46:54,197 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: None
2025-10-04 03:46:54,197 - src.ui.prompt_manager - DEBUG - Kết thúc hàm _load_prompts_from_disk.
2025-10-04 03:46:54,198 - src.utils.ui_builder - DEBUG - Đã tải dữ liệu ban đầu.
2025-10-04 03:46:54,199 - src.utils.ui_builder - DEBUG - Kết thúc build_ui.
2025-10-04 03:46:54,199 - src.core.app_logic - DEBUG - Bắt đầu hàm _configure_gemini_api_and_update_ui.
2025-10-04 03:46:54,201 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_configure.
2025-10-04 03:46:54,201 - src.core.app_logic - DEBUG - Kết thúc _configure_gemini_api_and_update_ui.
2025-10-04 03:46:54,262 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:46:54,269 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:46:54,271 - src.ui.app_ui - DEBUG - Gọi workspace_manager._load_workspace từ UI.
2025-10-04 03:46:54,273 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:46:54,274 - src.core.app_logic - DEBUG - Đã cấu hình Gemini API key.
2025-10-04 03:46:54,274 - src.config.workspace_manager - DEBUG - Bắt đầu _load_workspace.
2025-10-04 03:46:54,274 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:46:54,275 - src.ui.app_ui - DEBUG - Đang cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:46:54,276 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:46:54,276 - src.utils.ui_utils - DEBUG - Enqueueing function: _do_update
2025-10-04 03:46:54,276 - src.core.app_logic - DEBUG - Kết thúc hàm _do_configure.
2025-10-04 03:46:54,278 - src.utils.ui_utils - DEBUG - Hiển thị UI message. Kind: info, Title: Workspace, Text: Đã khôi phục workspace.
2025-10-04 03:46:54,279 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:46:54,280 - src.config.workspace_manager - INFO - Workspace: Đã tải workspace thành công.
2025-10-04 03:46:54,280 - src.ui.app_ui - DEBUG - Đang tải file từ thư mục: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:46:54,284 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:46:54,287 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:46:54,287 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:46:54,288 - src.utils.ui_utils - DEBUG - Folder override cho log status: None
2025-10-04 03:46:54,290 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:46:54,290 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:46:54,291 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: None.
2025-10-04 03:46:54,291 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:46:54,292 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: None
2025-10-04 03:46:54,292 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:46:54,295 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:46:54,296 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:46:54,296 - src.ui.app_ui - DEBUG - Đã tải 4 file từ thư mục C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:46:54,296 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:46:54,297 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:46:54,298 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:46:54,299 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:46:54,299 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:46:54,301 - src.ui.history_manager - DEBUG - Đã làm mới history list với 10 file.
2025-10-04 03:46:54,314 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:46:54,336 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:46:54,337 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:46:54,337 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:46:54,338 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:46:54,338 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:46:54,340 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:46:54,340 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:46:54,341 - src.ui.history_manager - DEBUG - Đã làm mới JSON list với 10 file.
2025-10-04 03:46:54,341 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:46:54,341 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:46:54,342 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:46:54,343 - src.utils.utils - DEBUG - Bắt đầu deobfuscate text.
2025-10-04 03:46:54,343 - src.utils.utils - DEBUG - Tạo machine key.
2025-10-04 03:46:54,343 - src.utils.utils - DEBUG - Đã tạo machine key. Độ dài: 32 bytes.
2025-10-04 03:46:54,344 - src.utils.utils - DEBUG - Thực hiện XOR bytes.
2025-10-04 03:46:54,344 - src.utils.utils - DEBUG - Đã deobfuscate text thành công.
2025-10-04 03:46:54,344 - src.core.app_logic - DEBUG - Bắt đầu hàm _configure_gemini_api_and_update_ui.
2025-10-04 03:46:54,345 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_configure.
2025-10-04 03:46:54,346 - src.core.app_logic - DEBUG - Kết thúc _configure_gemini_api_and_update_ui.
2025-10-04 03:46:54,350 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:46:54,367 - src.core.app_logic - DEBUG - Đã cấu hình Gemini API key.
2025-10-04 03:46:54,368 - src.config.workspace_manager - DEBUG - Kết thúc _load_workspace.
2025-10-04 03:46:54,368 - src.ui.app_ui - DEBUG - Đang cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:46:54,369 - src.utils.ui_utils - DEBUG - Enqueueing function: _do_update
2025-10-04 03:46:54,370 - src.core.app_logic - DEBUG - Kết thúc hàm _do_configure.
2025-10-04 03:46:54,496 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:46:54,497 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:46:54,498 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:46:54,499 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:46:54,500 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:46:54,502 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:46:54,502 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:46:54,526 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:46:54,527 - src.ui.app_ui - INFO - Đã cập nhật danh sách mô hình AI, tìm thấy 40 mô hình.
2025-10-04 03:46:54,527 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:46:54,528 - src.ui.app_ui - DEBUG - Kết thúc cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:46:54,529 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _do_update
2025-10-04 03:46:54,530 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:46:54,530 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:46:54,530 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:46:54,531 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:46:54,531 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cấu hình Gemini API.
2025-10-04 03:46:54,531 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:46:54,533 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:46:54,533 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:46:54,535 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:46:54,549 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:46:54,551 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:46:54,566 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:46:54,580 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:46:54,581 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:46:54,582 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:46:54,602 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:46:54,606 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:46:54,611 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:46:54,612 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:46:54,612 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:46:54,613 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:46:54,613 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:46:54,614 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:46:54,614 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:46:54,616 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:46:54,616 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:46:54,616 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:46:54,617 - src.ui.app_ui - INFO - Đã cập nhật danh sách mô hình AI, tìm thấy 40 mô hình.
2025-10-04 03:46:54,617 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:46:54,617 - src.ui.app_ui - DEBUG - Kết thúc cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:46:54,618 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _do_update
2025-10-04 03:46:54,621 - src.core.chart_tab - DEBUG - Bắt đầu hàm start.
2025-10-04 03:46:54,622 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:46:54,623 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:54,623 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:54,624 - src.core.chart_tab - DEBUG - Đã đảm bảo kết nối MT5 (không cần thông tin tài khoản).
2025-10-04 03:46:54,624 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:46:54,624 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:46:54,625 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:46:54,625 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:46:54,625 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:46:54,626 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:54,626 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:46:54,627 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:54,630 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:46:54,630 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:54,631 - src.core.app_logic - INFO - Đang làm mới tin tức không đồng bộ.
2025-10-04 03:46:54,637 - src.core.app_logic - DEBUG - Bắt đầu luồng _do_async để fetch tin tức.
2025-10-04 03:46:54,638 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đã khởi chạy luồng).
2025-10-04 03:46:54,638 - src.services.news - DEBUG - Bắt đầu hàm fetch_high_impact_events_for_cfg.
2025-10-04 03:46:54,639 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:46:54,639 - src.services.news - DEBUG - Bắt đầu hàm fetch_high_impact_events.
2025-10-04 03:46:54,639 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:46:54,640 - src.services.news - DEBUG - Bắt đầu hàm _http_get cho URL: https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json
2025-10-04 03:46:54,640 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:46:54,641 - src.services.telegram_client - DEBUG - Bắt đầu hàm build_ssl_context. cafile: None, skip_verify: False
2025-10-04 03:46:54,652 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:46:54,653 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:54,655 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:54,669 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:46:54,669 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:46:54,670 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:46:54,670 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:46:54,708 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:46:54,713 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:46:54,713 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:46:54,717 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:46:54,750 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:46:54,910 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:46:54,911 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:46:54,911 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:46:54,913 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:46:54,913 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:46:54,914 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:46:54,915 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:46:54,916 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:46:54,916 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:46:54,917 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:46:54,917 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:54,918 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:54,919 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:46:54,919 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:46:54,919 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:46:54,929 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:46:54,930 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:46:54,932 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:46:54,933 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:46:54,933 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:46:54,934 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:46:54,935 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:46:54,935 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:46:54,935 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:46:54,936 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:46:54,936 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:46:54.936293+07:00
2025-10-04 03:46:54,936 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:46:54.936293+07:00
2025-10-04 03:46:54,937 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:46:54.936293+07:00 trong DST: True
2025-10-04 03:46:54,937 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:46:54,937 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:46:54,937 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:46:54,938 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:54,938 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:46:54,938 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:54,939 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:46:54,939 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:46:54,939 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:46:54,940 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:46:54,944 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:46:54,944 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:46:54,944 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:46:54,945 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:46:54,945 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:46:54,945 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:46:54,946 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:46:54,946 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:46:54,947 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:46:54,947 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:46:54,947 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:46:54,948 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:46:54,948 - src.core.chart_tab - DEBUG - Kết thúc hàm start.
2025-10-04 03:46:55,015 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0.
2025-10-04 03:46:55,016 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,017 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,017 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,018 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,018 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,019 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,020 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,020 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-04 03:46:55,020 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,021 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,022 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,023 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,023 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-04 03:46:55,024 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,024 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,024 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,025 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,026 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-04 03:46:55,026 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,027 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-04 03:46:55,028 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,028 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,029 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,029 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,030 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,030 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,031 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,032 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,033 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,033 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,035 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,037 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,054 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,055 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,056 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,057 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,057 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,060 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,061 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,061 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,062 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,062 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,063 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,063 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,064 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,064 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:46:55,068 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-04 03:46:55,083 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,085 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,085 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,086 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,087 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-04 03:46:55,087 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,088 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-04 03:46:55,088 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-04 03:46:55,089 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,090 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,090 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,091 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,091 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,092 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,092 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,093 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,093 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:46:55,094 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,095 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,095 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,115 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,116 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,117 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-04 03:46:55,117 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,118 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,118 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,119 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,120 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,120 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,121 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,121 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,122 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,122 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,123 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,123 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,124 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,125 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,125 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,126 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-04 03:46:55,126 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-04 03:46:55,127 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,127 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,144 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,145 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,146 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,147 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,147 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-04 03:46:55,148 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,148 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,149 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,150 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,150 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,151 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,151 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,152 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,152 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,153 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,153 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,154 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,155 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,155 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:46:55,156 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,156 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,157 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,157 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,158 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,160 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,180 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,183 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,185 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,185 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,186 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,187 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,187 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,188 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,188 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,189 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-04 03:46:55,208 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-04 03:46:55,210 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,210 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,211 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,212 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,212 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,212 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,213 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,214 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,214 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,215 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,216 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,217 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-04 03:46:55,217 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,218 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,218 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,219 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,219 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,220 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,221 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-04 03:46:55,222 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-04 03:46:55,223 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,237 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,240 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,240 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,241 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,242 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,242 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,243 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,243 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,244 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,244 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,245 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,245 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,246 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,246 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,247 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,247 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,248 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,249 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:46:55,249 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,250 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:46:55,250 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:46:55,251 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,251 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,267 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-04 03:46:55,268 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,269 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,269 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,270 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,270 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,271 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,271 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,272 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,273 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,273 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,274 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,274 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:46:55,275 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,275 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,275 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-04 03:46:55,424 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=8.0.
2025-10-04 03:46:55,425 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,425 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,426 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,427 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,427 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,428 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,429 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,429 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-04 03:46:55,430 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,430 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,431 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,433 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,449 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-04 03:46:55,451 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,452 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,453 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,454 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,455 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-04 03:46:55,455 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,456 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-04 03:46:55,456 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,457 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,458 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,458 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,459 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,459 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,460 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,460 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,461 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,461 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,462 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,462 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,463 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,464 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,465 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,466 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,466 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,467 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,467 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,468 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,469 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,470 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,470 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,471 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,486 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,487 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:46:55,488 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-04 03:46:55,488 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,489 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,490 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,490 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,490 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-04 03:46:55,491 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,493 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-04 03:46:55,493 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-04 03:46:55,494 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,494 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,495 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,496 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,496 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,497 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,498 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,498 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,499 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:46:55,500 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,502 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,525 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,528 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,549 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,550 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-04 03:46:55,551 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,551 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,552 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,552 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,553 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,554 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,555 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,555 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,556 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,556 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,557 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,557 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,558 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,558 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,561 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,561 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-04 03:46:55,562 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-04 03:46:55,562 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,563 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,563 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,564 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,564 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,586 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,587 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-04 03:46:55,588 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,588 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,589 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,590 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,590 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,591 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,591 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,592 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,592 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,593 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,593 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,594 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,596 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,611 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:46:55,611 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,612 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,612 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,613 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,613 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,614 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,615 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,616 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,617 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,617 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,618 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,618 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,619 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,620 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,620 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,621 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-04 03:46:55,621 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-04 03:46:55,622 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,622 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,623 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,623 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,624 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,624 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,625 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,626 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,627 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,643 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,644 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,645 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-04 03:46:55,645 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,646 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,646 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,647 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,647 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,648 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,648 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-04 03:46:55,650 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-04 03:46:55,650 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,651 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,652 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,652 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,653 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,653 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,654 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,654 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,655 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,655 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,657 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,657 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,658 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,658 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,659 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,660 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-04 03:46:55,678 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,679 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,679 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-04 03:46:55,680 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,681 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:46:55,681 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-04 03:46:55,682 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,682 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,683 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-04 03:46:55,684 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,684 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-04 03:46:55,685 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,686 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,686 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,687 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,687 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,688 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,689 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,689 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-04 03:46:55,690 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-04 03:46:55,705 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-04 03:46:55,705 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,706 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-04 03:46:55,707 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=8.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-04 03:46:55,741 - src.services.telegram_client - DEBUG - Đã tạo SSLContext với certifi.
2025-10-04 03:46:55,742 - src.services.telegram_client - DEBUG - Kết thúc hàm build_ssl_context.
2025-10-04 03:46:55,770 - src.services.news - WARNING - Lần thử 1 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:46:55,948 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:46:55,958 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:46:55,958 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:46:55,959 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:46:55,960 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:46:55,961 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:55,961 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:46:55,983 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:55,988 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:46:55,989 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:55,990 - src.core.app_logic - DEBUG - Đã có yêu cầu làm mới tin tức đang thực hiện, bỏ qua.
2025-10-04 03:46:55,990 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đang inflight).
2025-10-04 03:46:55,991 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:46:55,991 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:46:55,992 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:46:55,995 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:46:55,995 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:55,998 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:56,001 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:46:56,049 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:46:56,056 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:46:56,105 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:46:56,121 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:46:56,457 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:46:56,460 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:46:56,461 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:46:56,463 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:46:56,464 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:46:56,465 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:46:56,467 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:46:56,469 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:46:56,470 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:46:56,470 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:46:56,471 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:56,472 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:56,475 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:46:56,487 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:46:56,489 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:46:56,490 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:46:56,490 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:46:56,494 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:46:56,501 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:46:56,550 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:46:56,551 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:46:56,560 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:46:56,570 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:46:56,589 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:46:56,592 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:46:56,594 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:46:56.594460+07:00
2025-10-04 03:46:56,600 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:46:56.594460+07:00
2025-10-04 03:46:56,601 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:46:56.594460+07:00 trong DST: True
2025-10-04 03:46:56,601 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:46:56,602 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:46:56,602 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:46:56,603 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:56,603 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:46:56,605 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:56,606 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:46:56,606 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:46:56,607 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:46:56,607 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:46:56,607 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:46:56,608 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:46:56,608 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:46:56,609 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:46:56,609 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:46:56,610 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:46:56,611 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:46:56,611 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:46:56,612 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:46:56,612 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:46:56,612 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:46:56,613 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:46:56,775 - src.services.news - WARNING - Lần thử 2 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:46:57,627 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:46:57,627 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:46:57,628 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:46:57,628 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:46:57,628 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:46:57,629 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:57,629 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:46:57,630 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:57,630 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:46:57,631 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:57,631 - src.core.app_logic - DEBUG - Đã có yêu cầu làm mới tin tức đang thực hiện, bỏ qua.
2025-10-04 03:46:57,632 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đang inflight).
2025-10-04 03:46:57,632 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:46:57,632 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:46:57,632 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:46:57,633 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:46:57,633 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:57,634 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:57,634 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:46:57,635 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:46:57,635 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:46:57,640 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:46:57,669 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:46:57,808 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:46:57,809 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:46:57,809 - src.services.news - WARNING - Lần thử 3 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:46:57,810 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:46:57,810 - src.services.news - ERROR - Lỗi khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json' sau 3 lần thử: <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:46:57,812 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:46:57,812 - src.services.news - DEBUG - Kết thúc hàm _http_get (lỗi).
2025-10-04 03:46:57,813 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:46:57,813 - src.services.news - WARNING - Lỗi khi fetch hoặc parse dataset từ URL 'https://cdn-nfs.faireconomy.media/ff_calendar_thisweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:46:57,814 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:46:57,814 - src.services.news - DEBUG - Bắt đầu hàm _http_get cho URL: https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json
2025-10-04 03:46:57,815 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:46:57,816 - src.services.telegram_client - DEBUG - Bắt đầu hàm build_ssl_context. cafile: None, skip_verify: False
2025-10-04 03:46:57,817 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:46:57,830 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:46:57,831 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:46:57,831 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:57,832 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:57,833 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:46:57,833 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:46:57,833 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:46:57,834 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:46:57,834 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:46:57,835 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:46:57,835 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:46:57,836 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:46:57,836 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:46:57,836 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:46:57,836 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:46:57,837 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:46:57,837 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:46:57,837 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:46:57.837839+07:00
2025-10-04 03:46:57,838 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:46:57.837839+07:00
2025-10-04 03:46:57,838 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:46:57.837839+07:00 trong DST: True
2025-10-04 03:46:57,839 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:46:57,840 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:46:57,840 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:46:57,840 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:57,841 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:46:57,841 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:57,841 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:46:57,842 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:46:57,842 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:46:57,842 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:46:57,843 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:46:57,843 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:46:57,844 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:46:57,844 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:46:57,845 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:46:57,845 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:46:57,846 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:46:57,846 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:46:57,863 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:46:57,863 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:46:57,864 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:46:57,864 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:46:58,748 - src.services.telegram_client - DEBUG - Đã tạo SSLContext với certifi.
2025-10-04 03:46:58,749 - src.services.telegram_client - DEBUG - Kết thúc hàm build_ssl_context.
2025-10-04 03:46:58,751 - src.services.news - WARNING - Lần thử 1 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:46:58,872 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:46:58,872 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:46:58,873 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:46:58,873 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:46:58,874 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:46:58,874 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:58,875 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:46:58,875 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:58,875 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:46:58,876 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:46:58,876 - src.core.app_logic - DEBUG - Đã có yêu cầu làm mới tin tức đang thực hiện, bỏ qua.
2025-10-04 03:46:58,876 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đang inflight).
2025-10-04 03:46:58,877 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:46:58,877 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:46:58,877 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:46:58,878 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:46:58,879 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:58,880 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:58,880 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:46:58,881 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:46:58,881 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:46:58,886 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:46:58,910 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:46:59,050 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:46:59,051 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:46:59,051 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:46:59,053 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:46:59,053 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:46:59,054 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:46:59,055 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:46:59,056 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:46:59,056 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:46:59,057 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:46:59,057 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:46:59,057 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:46:59,058 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:46:59,059 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:46:59,059 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:46:59,059 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:46:59,060 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:46:59,060 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:46:59,060 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:46:59,061 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:46:59,061 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:46:59,061 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:46:59,062 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:46:59,062 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:46:59,063 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:46:59,063 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:46:59.063292+07:00
2025-10-04 03:46:59,063 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:46:59.063292+07:00
2025-10-04 03:46:59,064 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:46:59.063292+07:00 trong DST: True
2025-10-04 03:46:59,064 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:46:59,064 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:46:59,065 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:46:59,065 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:59,066 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:46:59,066 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:46:59,067 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:46:59,081 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:46:59,081 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:46:59,081 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:46:59,082 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:46:59,082 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:46:59,083 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:46:59,083 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:46:59,084 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:46:59,084 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:46:59,084 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:46:59,085 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:46:59,085 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:46:59,085 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:46:59,086 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:46:59,086 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:46:59,776 - src.services.news - WARNING - Lần thử 2 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:47:00,106 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:00,115 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:00,160 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:00,161 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:47:00,162 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:47:00,163 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:47:00,168 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:47:00,182 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:47:00,183 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:47:00,183 - src.core.app_logic - DEBUG - Đã tạo snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:47:00,184 - src.core.app_logic - DEBUG - Đã có yêu cầu làm mới tin tức đang thực hiện, bỏ qua.
2025-10-04 03:47:00,185 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (async, đang inflight).
2025-10-04 03:47:00,186 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:00,189 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:00,190 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:00,221 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:00,271 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:00,281 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:00,281 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:00,282 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:00,282 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:00,286 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:00,317 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:00,503 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:00,508 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:00,509 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:00,511 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:00,512 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:00,513 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:00,515 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:00,516 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:00,517 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:00,517 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:00,517 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:00,518 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:00,519 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:00,519 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:00,520 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:00,520 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:00,520 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:00,521 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:00,521 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:00,522 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:00,522 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:00,523 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:00,523 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:00,523 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:00,524 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:00,524 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:00.524268+07:00
2025-10-04 03:47:00,524 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:00.524268+07:00
2025-10-04 03:47:00,525 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:00.524268+07:00 trong DST: True
2025-10-04 03:47:00,525 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:00,525 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:00,525 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:00,526 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:00,526 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:00,526 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:00,527 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:00,527 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:00,527 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:00,528 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:00,528 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:00,529 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:00,529 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:00,529 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:00,530 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:00,530 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:00,530 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:00,531 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:00,531 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:00,531 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:00,532 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:00,532 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:00,785 - src.services.news - WARNING - Lần thử 3 thất bại khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:47:00,786 - src.services.news - ERROR - Lỗi khi fetch URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json' sau 3 lần thử: <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:47:00,787 - src.services.news - DEBUG - Kết thúc hàm _http_get (lỗi).
2025-10-04 03:47:00,787 - src.services.news - WARNING - Lỗi khi fetch hoặc parse dataset từ URL 'https://cdn-nfs.faireconomy.media/ff_calendar_nextweek.json': <urlopen error [Errno 11001] getaddrinfo failed>
2025-10-04 03:47:00,788 - src.services.news - DEBUG - Bắt đầu hàm _dedup_and_trim_week với 0 events.
2025-10-04 03:47:00,788 - src.services.news - DEBUG - Kết thúc hàm _dedup_and_trim_week. Số events sau khi dedup: 0
2025-10-04 03:47:00,788 - src.services.news - DEBUG - Kết thúc hàm fetch_high_impact_events. Tổng số events: 0
2025-10-04 03:47:00,789 - src.services.news - DEBUG - Kết thúc hàm fetch_high_impact_events_for_cfg.
2025-10-04 03:47:00,789 - src.core.app_logic - INFO - Đã làm mới tin tức không đồng bộ, tìm thấy 0 sự kiện.
2025-10-04 03:47:00,789 - src.core.app_logic - DEBUG - Kết thúc luồng _do_async.
2025-10-04 03:47:01,550 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:01,550 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:01,551 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:01,551 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (0.76s < 300s), bỏ qua làm mới.
2025-10-04 03:47:01,551 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:01,552 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:01,552 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:01,552 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:01,552 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:01,553 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:01,553 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:01,553 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:01,554 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:01,554 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:01,557 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:01,576 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:01,710 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:01,711 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:01,711 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:01,713 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:01,713 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:01,714 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:01,714 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:01,716 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:01,716 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:01,716 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:01,717 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:01,717 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:01,718 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:01,719 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:01,719 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:01,719 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:01,720 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:01,721 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:01,732 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:01,732 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:01,733 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:01,734 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:01,734 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:01,734 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:01,735 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:01,735 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:01.735377+07:00
2025-10-04 03:47:01,735 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:01.735377+07:00
2025-10-04 03:47:01,736 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:01.735377+07:00 trong DST: True
2025-10-04 03:47:01,736 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:01,736 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:01,737 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:01,737 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:01,738 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:01,738 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:01,738 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:01,739 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:01,739 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:01,739 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:01,740 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:01,740 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:01,740 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:01,741 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:01,741 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:01,741 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:01,742 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:01,742 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:01,742 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:01,743 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:01,743 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:01,743 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:02,744 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:02,744 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:02,745 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:02,745 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (1.96s < 300s), bỏ qua làm mới.
2025-10-04 03:47:02,745 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:02,746 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:02,746 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:02,746 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:02,747 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:02,747 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:02,747 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:02,748 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:02,748 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:02,748 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:02,751 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:02,771 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:03,171 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:03,187 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:03,209 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:03,211 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:03,219 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:03,239 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:03,252 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:03,257 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:03,258 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:03,259 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:03,259 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:03,260 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:03,301 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:03,309 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:03,312 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:03,313 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:03,314 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:03,314 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:03,315 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:03,332 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:03,333 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:03,334 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:03,335 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:03,336 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:03,336 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:03,336 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:03.336712+07:00
2025-10-04 03:47:03,337 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:03.336712+07:00
2025-10-04 03:47:03,337 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:03.336712+07:00 trong DST: True
2025-10-04 03:47:03,337 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:03,338 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:03,338 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:03,339 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:03,339 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:03,339 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:03,340 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:03,340 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:03,340 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:03,341 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:03,341 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:03,342 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:03,342 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:03,342 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:03,343 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:03,344 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:03,344 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:03,345 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:03,345 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:03,345 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:03,346 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:03,346 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:04,352 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:04,353 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:04,353 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:04,353 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (3.56s < 300s), bỏ qua làm mới.
2025-10-04 03:47:04,354 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:04,354 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:04,354 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:04,355 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:04,355 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:04,355 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:04,356 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:04,356 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:04,356 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:04,356 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:04,360 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:04,374 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:04,519 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:04,520 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:04,521 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:04,522 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:04,522 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:04,523 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:04,524 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:04,525 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:04,526 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:04,526 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:04,527 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:04,527 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:04,528 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:04,529 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:04,529 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:04,529 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:04,530 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:04,530 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:04,530 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:04,531 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:04,531 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:04,532 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:04,532 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:04,532 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:04,533 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:04,533 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:04.533697+07:00
2025-10-04 03:47:04,534 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:04.533697+07:00
2025-10-04 03:47:04,534 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:04.533697+07:00 trong DST: True
2025-10-04 03:47:04,536 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:04,536 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:04,537 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:04,537 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:04,537 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:04,539 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:04,550 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:04,551 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:04,552 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:04,553 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:04,553 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:04,554 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:04,554 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:04,555 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:04,555 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:04,556 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:04,556 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:04,557 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:04,557 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:04,557 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:04,558 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:04,558 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:04,720 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:04,721 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:04,721 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:47:04,722 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:04,723 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:47:04,723 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cấu hình Gemini API.
2025-10-04 03:47:04,723 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:04,724 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cấu hình Gemini API.
2025-10-04 03:47:04,724 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:04,726 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:04,726 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:04,726 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:04,726 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:04,727 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:04,756 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:04,764 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:04,765 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:04,765 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:04,772 - src.ui.app_ui - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:47:04,773 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:47:04,773 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:04,773 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã cập nhật danh sách mô hình AI.
2025-10-04 03:47:04,774 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:04,775 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:04,775 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:04,776 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:04,776 - src.ui.app_ui - INFO - Đã cập nhật danh sách mô hình AI, tìm thấy 40 mô hình.
2025-10-04 03:47:04,777 - src.ui.app_ui - DEBUG - Kết thúc cập nhật danh sách mô hình AI trong UI.
2025-10-04 03:47:04,777 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:04,777 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _do_update
2025-10-04 03:47:04,780 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:04,781 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:04,783 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:04,784 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:04,787 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:04,787 - src.core.app_logic - DEBUG - Bắt đầu _schedule_mt5_connection_check.
2025-10-04 03:47:04,787 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:04,788 - src.core.app_logic - INFO - Đã lên lịch kiểm tra kết nối MT5 sau 30 giây.
2025-10-04 03:47:04,803 - src.core.app_logic - DEBUG - Kết thúc _schedule_mt5_connection_check.
2025-10-04 03:47:04,804 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:04,805 - src.ui.app_ui - DEBUG - TradingToolApp đã khởi tạo xong.
2025-10-04 03:47:04,805 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:04,806 - src.core.app_logic - DEBUG - Bắt đầu hàm set_ui_references.
2025-10-04 03:47:04,806 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:04,807 - src.core.app_logic - DEBUG - Thiết lập tham chiếu UI cho AppLogic.
2025-10-04 03:47:04,807 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:04,807 - src.core.app_logic - DEBUG - Kết thúc set_ui_references.
2025-10-04 03:47:04,868 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:05,558 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:05,570 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:05,580 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:05,583 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (4.79s < 300s), bỏ qua làm mới.
2025-10-04 03:47:05,600 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:05,603 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:05,606 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:05,608 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:05,610 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:05,610 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:05,611 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:05,612 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:05,613 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:05,613 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:05,617 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:05,637 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:05,809 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:05,810 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:05,810 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:05,812 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:05,812 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:05,812 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:05,814 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:05,815 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:05,815 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:05,816 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:05,816 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:05,816 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:05,817 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:05,818 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:05,828 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:05,829 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:05,830 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:05,830 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:05,831 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:05,831 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:05,832 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:05,832 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:05,832 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:05,832 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:05,833 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:05,833 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:05.833560+07:00
2025-10-04 03:47:05,833 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:05.833560+07:00
2025-10-04 03:47:05,834 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:05.833560+07:00 trong DST: True
2025-10-04 03:47:05,834 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:05,835 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:05,835 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:05,835 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:05,836 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:05,836 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:05,836 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:05,837 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:05,837 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:05,837 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:05,838 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:05,838 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:05,839 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:05,839 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:05,839 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:05,840 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:05,840 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:05,840 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:05,841 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:05,841 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:05,841 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:05,842 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:05,843 - src.ui.app_ui - DEBUG - Gọi app_logic.start_analysis từ UI.
2025-10-04 03:47:05,843 - src.core.app_logic - DEBUG - Bắt đầu start_analysis. App đang chạy: False
2025-10-04 03:47:05,844 - src.ui.app_ui - DEBUG - Đang xóa tất cả kết quả phân tích.
2025-10-04 03:47:05,844 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:47:05,844 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:05,845 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:47:05,845 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:47:05,845 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã xoá kết quả khỏi giao diện.
2025-10-04 03:47:05,846 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:05,846 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã xoá kết quả khỏi giao diện.
2025-10-04 03:47:05,846 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:05,847 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:05,847 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:05,848 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:05,848 - src.ui.app_ui - DEBUG - Đã xóa kết quả phân tích khỏi giao diện và bộ nhớ.
2025-10-04 03:47:05,849 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:05,849 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đang nạp lại ảnh từ thư mục đã chọn...
2025-10-04 03:47:05,850 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:05,866 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đang nạp lại ảnh từ thư mục đã chọn...
2025-10-04 03:47:05,869 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:05,870 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:05,871 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:05,871 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:05,872 - src.ui.app_ui - DEBUG - Đang tải file từ thư mục: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:47:05,873 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:05,876 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:47:05,876 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:05,877 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần.
2025-10-04 03:47:05,877 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:05,877 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:05,880 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:05,883 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:05,883 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:05,895 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:05,896 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:05,898 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:47:05,899 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:05,900 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:05,900 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:47:05,901 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 55
2025-10-04 03:47:05,902 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:05,902 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:05,902 - src.ui.app_ui - DEBUG - Đã tải 4 file từ thư mục C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-04 03:47:05,903 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:05,903 - src.core.app_logic - DEBUG - Bắt đầu hàm _snapshot_config.
2025-10-04 03:47:05,903 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:05,904 - src.config.config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-04 03:47:05,905 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:05,905 - src.config.config - DEBUG - RunConfig được khởi tạo: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:47:05,906 - src.config.config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-04 03:47:05,907 - src.core.app_logic - DEBUG - Đã chụp snapshot cấu hình cho news fetch: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:47:05,907 - src.core.app_logic - DEBUG - Kết thúc hàm _snapshot_config.
2025-10-04 03:47:05,908 - src.core.app_logic - DEBUG - Cấu hình snapshot cho worker: RunConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=False, max_files=0, upload_workers=4, cache_enabled=True, optimize_lossless=False, only_generate_if_changed=False, ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, telegram_enabled=False, telegram_token='', telegram_chat_id='', telegram_skip_verify=False, telegram_ca_path='', mt5_enabled=True, mt5_symbol='XAUUSD', mt5_n_M1=120, mt5_n_M5=180, mt5_n_M15=96, mt5_n_H1=120, nt_enabled=True, nt_spread_factor=1.2, nt_min_atr_m5_pips=3.0, nt_min_ticks_per_min=5, auto_trade_enabled=True, trade_strict_bias=True, trade_size_mode='money', trade_lots_total=0.02, trade_equity_risk_pct=1.0, trade_money_risk=10.0, trade_split_tp1_pct=50, trade_deviation_points=20, trade_pending_threshold_points=60, trade_magic=26092026, trade_comment_prefix='AI-ICTs', trade_pending_ttl_min=90, trade_min_rr_tp2=2.0, trade_min_dist_keylvl_pips=5.0, trade_cooldown_min=10, trade_dynamic_pending=True, auto_trade_dry_run=False, trade_move_to_be_after_tp1=True, trade_trailing_atr_mult=0.5, trade_allow_session_asia=True, trade_allow_session_london=True, trade_allow_session_ny=True, trade_news_block_before_min=15, trade_news_block_after_min=15, trade_news_block_enabled=True, news_cache_ttl_sec=300, no_run_weekend_enabled=False, no_run_killzone_enabled=False)
2025-10-04 03:47:05,908 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Chưa xử lý.
2025-10-04 03:47:05,908 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:05,909 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Chưa xử lý.
2025-10-04 03:47:05,911 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:05,912 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Chưa xử lý.
2025-10-04 03:47:05,912 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:05,925 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:05,928 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Chưa xử lý.
2025-10-04 03:47:05,929 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:05,930 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:05,930 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:05,931 - src.utils.ui_utils - DEBUG - Cập nhật UI progress: 0.0%, status: None
2025-10-04 03:47:05,931 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:05,931 - src.utils.ui_utils - DEBUG - Enqueueing function: _act
2025-10-04 03:47:05,933 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 26
2025-10-04 03:47:05,933 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:05,933 - src.core.app_logic - INFO - Đang chuẩn bị dữ liệu và khởi chạy worker.
2025-10-04 03:47:05,935 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm run_analysis_worker.
2025-10-04 03:47:05,935 - src.core.app_logic - INFO - Đã khởi chạy luồng phân tích worker.
2025-10-04 03:47:05,936 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu run_analysis_worker với model: models/gemini-2.5-flash, folder: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:47:05,936 - src.core.app_logic - DEBUG - Kết thúc start_analysis.
2025-10-04 03:47:05,936 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào. Số ảnh: 4
2025-10-04 03:47:05,937 - src.core.worker_modules.main_worker - DEBUG - Model 'models/gemini-2.5-flash' được khởi tạo thành công.
2025-10-04 03:47:05,937 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 2: Kiểm tra điều kiện NO-RUN.
2025-10-04 03:47:05,938 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_all_preconditions.
2025-10-04 03:47:05,938 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:05,938 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_no_run_conditions.
2025-10-04 03:47:05,939 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:47:05,939 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_no_run_conditions. Kết quả: True, Lý do: Đang chạy trong các điều kiện cho phép.
2025-10-04 03:47:05,940 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_all_preconditions. Kết quả: True
2025-10-04 03:47:05,940 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:05,940 - src.core.worker_modules.main_worker - DEBUG - Không có điều kiện No-Run nào được kích hoạt.
2025-10-04 03:47:05,941 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:05,941 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh. Số ảnh cần xử lý: 4
2025-10-04 03:47:05,941 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:05,942 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:47:05,942 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:47:05,943 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 136029.158798
2025-10-04 03:47:05,943 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:05,944 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm load của UploadCache.
2025-10-04 03:47:05,944 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:05,959 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:05,961 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:05,961 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:05,962 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _act
2025-10-04 03:47:05,962 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:05,982 - src.core.worker_modules.image_processor - DEBUG - Đã tải cache upload. Số mục: 4
2025-10-04 03:47:05,995 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm lookup của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:47:06,005 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:47:06,021 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 12721:1759549583:7d15486f85fdfaef
2025-10-04 03:47:06,022 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:47:06,025 - src.core.worker_modules.image_processor - DEBUG - Kết quả lookup cache: 
2025-10-04 03:47:06,027 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm lookup của UploadCache.
2025-10-04 03:47:06,027 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png, optimize: False
2025-10-04 03:47:06,029 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:47:06,030 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:47:06,032 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_H1.png' được chuẩn bị để upload.
2025-10-04 03:47:06,034 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm lookup của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:47:06,037 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:47:06,053 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 18431:1759549576:640702dd0fe8f90d
2025-10-04 03:47:06,055 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:47:06,056 - src.core.worker_modules.image_processor - DEBUG - Kết quả lookup cache: 
2025-10-04 03:47:06,058 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm lookup của UploadCache.
2025-10-04 03:47:06,059 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png, optimize: False
2025-10-04 03:47:06,059 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:47:06,060 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:47:06,061 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M1.png' được chuẩn bị để upload.
2025-10-04 03:47:06,062 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm lookup của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:47:06,064 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:47:06,073 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 13248:1759549581:106fc6ab3976cd41
2025-10-04 03:47:06,091 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:47:06,097 - src.core.worker_modules.image_processor - DEBUG - Kết quả lookup cache: 
2025-10-04 03:47:06,107 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm lookup của UploadCache.
2025-10-04 03:47:06,109 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png, optimize: False
2025-10-04 03:47:06,111 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:47:06,111 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:47:06,113 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M15.png' được chuẩn bị để upload.
2025-10-04 03:47:06,114 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm lookup của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:47:06,115 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:47:06,119 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 14075:1759549579:402252ab9019008d
2025-10-04 03:47:06,120 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:47:06,120 - src.core.worker_modules.image_processor - DEBUG - Kết quả lookup cache: 
2025-10-04 03:47:06,125 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm lookup của UploadCache.
2025-10-04 03:47:06,145 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm prepare_image cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png, optimize: False
2025-10-04 03:47:06,147 - src.core.worker_modules.image_processor - DEBUG - Không tối ưu hóa ảnh hoặc PIL.Image không có sẵn, trả về path gốc.
2025-10-04 03:47:06,147 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm prepare_image (không tối ưu hóa).
2025-10-04 03:47:06,149 - src.core.worker_modules.main_worker - DEBUG - Ảnh 'XAUUSD_M5.png' được chuẩn bị để upload.
2025-10-04 03:47:06,149 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Đang upload....
2025-10-04 03:47:06,151 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:06,151 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Đang upload....
2025-10-04 03:47:06,157 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:06,162 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Đang upload....
2025-10-04 03:47:06,163 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:06,180 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Đang upload....
2025-10-04 03:47:06,181 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:06,181 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_images_parallel. Số file cần upload: 4
2025-10-04 03:47:06,182 - src.core.worker_modules.image_processor - DEBUG - Max workers: 4, steps_upload: 4, total_steps: 6
2025-10-04 03:47:06,184 - src.core.worker_modules.image_processor - DEBUG - Đã gán ThreadPoolExecutor vào app.active_executor.
2025-10-04 03:47:06,187 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_H1.png
2025-10-04 03:47:06,189 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M1.png
2025-10-04 03:47:06,193 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M15.png
2025-10-04 03:47:06,221 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm upload_one_file_for_worker cho item: XAUUSD_M5.png
2025-10-04 03:47:06,221 - src.core.worker_modules.image_processor - DEBUG - Đã submit 4 tác vụ upload.
2025-10-04 03:47:06,242 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:06,304 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:06,366 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:06,446 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:06,853 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:06,856 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:06,857 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:06,858 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (6.07s < 300s), bỏ qua làm mới.
2025-10-04 03:47:06,858 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:06,859 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:06,861 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:06,862 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:06,863 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:06,863 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:06,907 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:06,907 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:06,953 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:06,960 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:06,977 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:07,015 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:07,233 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:07,243 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:07,243 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:07,246 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:07,247 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:07,248 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:07,249 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:07,276 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:07,284 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:07,365 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:07,410 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:07,450 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:07,453 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:07,454 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:07,460 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:07,462 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:07,464 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:07,465 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:07,466 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:07,467 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:07,467 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:07,467 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:07,468 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:07,468 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:07,469 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:07,469 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:07.469437+07:00
2025-10-04 03:47:07,470 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:07.469437+07:00
2025-10-04 03:47:07,472 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:07.469437+07:00 trong DST: True
2025-10-04 03:47:07,500 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:07,502 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:47:07,516 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:47:07,533 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:07,570 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:47:07,590 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:07,591 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:07,594 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:07,595 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:07,596 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:07,596 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:07,617 - googleapiclient.discovery - DEBUG - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyCzUdGeVnMi5DoLgibU4dSAqFoEIKt2Kqk&alt=json&uploadType=resumable
2025-10-04 03:47:07,656 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:07,694 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:07,698 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:07,699 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:07,700 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:07,700 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:07,701 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:07,701 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:07,702 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:07,703 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:07,704 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:07,705 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:07,705 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:07,706 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:08,707 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:08,717 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:08,738 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:08,739 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (7.95s < 300s), bỏ qua làm mới.
2025-10-04 03:47:08,789 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:08,791 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:08,792 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:08,792 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:08,799 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:08,809 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:08,810 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:08,810 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:08,814 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:08,833 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:08,840 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:08,862 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:09,012 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:09,014 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:09,015 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:09,018 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:09,018 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:09,019 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:09,020 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:09,022 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:09,022 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:09,035 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:09,035 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:09,036 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:09,038 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:09,038 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:09,039 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:09,039 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:09,040 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:09,040 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:09,041 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:09,041 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:09,041 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:09,041 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:09,042 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:09,042 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:09,042 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:09,043 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:09.043247+07:00
2025-10-04 03:47:09,043 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:09.043247+07:00
2025-10-04 03:47:09,044 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:09.043247+07:00 trong DST: True
2025-10-04 03:47:09,044 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:09,044 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:09,045 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:09,045 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:09,045 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:09,046 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:09,046 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:09,046 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:09,047 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:09,047 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:09,047 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:09,048 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:09,048 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:09,048 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:09,049 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:09,049 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:09,050 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:09,050 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:09,050 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:09,050 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:09,051 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:09,051 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:09,881 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M15.png', remote_name: files/0ywcs78qttq6.
2025-10-04 03:47:09,882 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M1.png', remote_name: files/fty1t2bdjl3i.
2025-10-04 03:47:09,933 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_H1.png', remote_name: files/ztobwtoop2y9.
2025-10-04 03:47:09,984 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M15.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:47:09,986 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M1.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:47:09,987 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_H1.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:47:09,989 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M15.png' đã ACTIVE.
2025-10-04 03:47:09,991 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M1.png' đã ACTIVE.
2025-10-04 03:47:09,991 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_H1.png' đã ACTIVE.
2025-10-04 03:47:10,010 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:47:10,030 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 16.7%
2025-10-04 03:47:10,051 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:10,052 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:10,055 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:10,056 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Đã upload.
2025-10-04 03:47:10,056 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:10,057 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:10,057 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (9.27s < 300s), bỏ qua làm mới.
2025-10-04 03:47:10,058 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:10,058 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 1/4.
2025-10-04 03:47:10,082 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:10,084 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:47:10,112 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:10,112 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 33.3%
2025-10-04 03:47:10,117 - src.core.worker_modules.image_processor - DEBUG - Đã gửi yêu cầu upload file 'XAUUSD_M5.png', remote_name: files/s2y1z6flcpw1.
2025-10-04 03:47:10,128 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:10,147 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:10,157 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:10,157 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Đã upload.
2025-10-04 03:47:10,158 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:10,159 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:10,159 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:10,159 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 2/4.
2025-10-04 03:47:10,160 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:10,160 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:47:10,161 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:10,162 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 50.0%
2025-10-04 03:47:10,162 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:10,163 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:10,168 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:10,176 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Đã upload.
2025-10-04 03:47:10,190 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:10,193 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:10,194 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 3/4.
2025-10-04 03:47:10,203 - src.core.worker_modules.image_processor - DEBUG - Kiểm tra trạng thái file 'XAUUSD_M5.png': ACTIVE. Còn 10 lần thử.
2025-10-04 03:47:10,205 - src.core.worker_modules.image_processor - DEBUG - File 'XAUUSD_M5.png' đã ACTIVE.
2025-10-04 03:47:10,293 - src.core.worker_modules.image_processor - DEBUG - Đã upload thành công file: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:47:10,331 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 66.7%
2025-10-04 03:47:10,366 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:10,372 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Đã upload.
2025-10-04 03:47:10,392 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:10,395 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:10,396 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:10,397 - src.core.worker_modules.image_processor - DEBUG - Tiến độ upload: 4/4.
2025-10-04 03:47:10,398 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:10,400 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:10,401 - src.core.worker_modules.image_processor - DEBUG - Đã dọn dẹp app.active_executor.
2025-10-04 03:47:10,401 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:10,401 - src.core.worker_modules.image_processor - DEBUG - Kết thúc upload_images_parallel. Tổng số file đã upload: 4.
2025-10-04 03:47:10,402 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:10,402 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:47:10,404 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:10,404 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 136033.6199712
2025-10-04 03:47:10,405 - src.ui.app_ui - DEBUG - Cập nhật UI status: Upload xong 4 ảnh trong 4.46s
2025-10-04 03:47:10,406 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Upload xong 4 ảnh trong 4.46s
2025-10-04 03:47:10,406 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:10,406 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:10,407 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:10,407 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Upload xong 4 ảnh trong 4.46s
2025-10-04 03:47:10,408 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:10,408 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:10,409 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:10,410 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:10,410 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:10,413 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:10,414 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:10,427 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:10,428 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:10,428 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:10,428 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:10,429 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:10,429 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:10,430 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:10,430 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:10,430 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:10,431 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:10.431131+07:00
2025-10-04 03:47:10,431 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:10.431131+07:00
2025-10-04 03:47:10,431 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:10.431131+07:00 trong DST: True
2025-10-04 03:47:10,432 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:10,432 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:10,432 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:10,433 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:10,433 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:10,434 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:10,434 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:10,434 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:10,435 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:10,435 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:10,436 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:10,436 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:10,437 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:10,437 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:10,437 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:10,438 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:10,438 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:10,439 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:10,439 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:10,440 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:10,440 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:10,441 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:10,441 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:10,442 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:10,445 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:10,450 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:10,454 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:10,455 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:10,455 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:47:10,456 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:10,456 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:10,456 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 136033.6721398
2025-10-04 03:47:10,457 - src.core.worker_modules.main_worker - DEBUG - Upload xong 4 ảnh trong 4.51s.
2025-10-04 03:47:10,458 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:10,458 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png, remote_name: files/ztobwtoop2y9
2025-10-04 03:47:10,459 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:10,459 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_H1.png
2025-10-04 03:47:10,459 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:10,461 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 12721:1759549583:7d15486f85fdfaef
2025-10-04 03:47:10,461 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:10,461 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:47:10,462 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:10,462 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:47:10,463 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:10,463 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:47:10,464 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png, remote_name: files/fty1t2bdjl3i
2025-10-04 03:47:10,490 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M1.png
2025-10-04 03:47:10,526 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 18431:1759549576:640702dd0fe8f90d
2025-10-04 03:47:10,526 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:47:10,528 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:47:10,529 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:10,530 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:47:10,533 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:10,555 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png, remote_name: files/0ywcs78qttq6
2025-10-04 03:47:10,557 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:10,560 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M15.png
2025-10-04 03:47:10,562 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:10,568 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 13248:1759549581:106fc6ab3976cd41
2025-10-04 03:47:10,587 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:47:10,610 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:47:10,612 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:47:10,612 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm put của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png, remote_name: files/s2y1z6flcpw1
2025-10-04 03:47:10,614 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm file_sig của UploadCache cho path: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD_M5.png
2025-10-04 03:47:10,617 - src.core.worker_modules.image_processor - DEBUG - Đã tạo file signature: 14075:1759549579:402252ab9019008d
2025-10-04 03:47:10,618 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm file_sig của UploadCache.
2025-10-04 03:47:10,619 - src.core.worker_modules.image_processor - DEBUG - Đã thêm/cập nhật mục vào cache.
2025-10-04 03:47:10,619 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm put của UploadCache.
2025-10-04 03:47:10,623 - src.core.worker_modules.image_processor - DEBUG - Bắt đầu hàm save của UploadCache. Số mục: 4
2025-10-04 03:47:10,645 - src.core.worker_modules.image_processor - DEBUG - Đã lưu upload cache thành công.
2025-10-04 03:47:10,646 - src.core.worker_modules.image_processor - DEBUG - Kết thúc hàm save của UploadCache.
2025-10-04 03:47:10,647 - src.core.worker_modules.main_worker - DEBUG - Cache upload đã được cập nhật và lưu.
2025-10-04 03:47:10,648 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 4: Xây dựng ngữ cảnh và kiểm tra NO-TRADE.
2025-10-04 03:47:10,651 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:47:10,652 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 136033.8674396
2025-10-04 03:47:10,656 - src.core.worker_modules.context_coordinator - DEBUG - Bắt đầu hàm prepare_and_build_context.
2025-10-04 03:47:10,658 - src.ui.app_ui - DEBUG - Gọi app_logic.compose_context từ UI với budget_chars: 2000.
2025-10-04 03:47:10,659 - src.core.app_logic - DEBUG - Bắt đầu hàm compose_context.
2025-10-04 03:47:10,660 - src.core.app_logic - DEBUG - Bắt đầu compose_context với budget_chars: 2000.
2025-10-04 03:47:10,677 - src.core.app_logic - DEBUG - Bắt đầu hàm _do_compose.
2025-10-04 03:47:10,679 - src.core.context_builder - DEBUG - Bắt đầu hàm compose_context với budget_chars: 2000.
2025-10-04 03:47:10,679 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:47:10,681 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:47:10,684 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:47:10,685 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:47:10,687 - src.core.context_builder - DEBUG - Bắt đầu hàm parse_ctx_json_files từ thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, max_n: 20
2025-10-04 03:47:10,710 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251004_034425.json
2025-10-04 03:47:10,712 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251004_033828.json
2025-10-04 03:47:10,713 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251004_033700.json
2025-10-04 03:47:10,713 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131831.json
2025-10-04 03:47:10,715 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131722.json
2025-10-04 03:47:10,716 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_131628.json
2025-10-04 03:47:10,717 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084623.json
2025-10-04 03:47:10,717 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084622.json
2025-10-04 03:47:10,718 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084620.json
2025-10-04 03:47:10,719 - src.core.context_builder - DEBUG - Đã parse file context: ctx_20251003_084619.json
2025-10-04 03:47:10,719 - src.core.context_builder - DEBUG - Đã parse 10 file context.
2025-10-04 03:47:10,720 - src.core.context_builder - DEBUG - Kết thúc hàm parse_ctx_json_files.
2025-10-04 03:47:10,720 - src.core.context_builder - DEBUG - Đã tải 10 historical contexts.
2025-10-04 03:47:10,720 - src.core.context_builder - DEBUG - Bắt đầu hàm summarize_checklist_trend với 10 items.
2025-10-04 03:47:10,721 - src.core.context_builder - DEBUG - Chỉ có 1 hoặc 0 item trong sequence, trend là flat.
2025-10-04 03:47:10,721 - src.core.context_builder - DEBUG - Kết thúc hàm summarize_checklist_trend (sequence quá ngắn).
2025-10-04 03:47:10,721 - src.core.context_builder - DEBUG - Trend checklist summary: {'trend': 'flat', 'enough_ratio': None}
2025-10-04 03:47:10,722 - src.core.context_builder - DEBUG - Có 3 detailed context items.
2025-10-04 03:47:10,722 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:47:10,740 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:47:10,741 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:47:10,741 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: ''
2025-10-04 03:47:10,742 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:47:10,742 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:47:10,742 - src.core.context_builder - DEBUG - Latest plan extracted: {'direction': None}
2025-10-04 03:47:10,743 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:47:10,744 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:47:10,744 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:47:10,744 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:47:10,745 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:47:10,745 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:47:10,745 - src.core.context_builder - DEBUG - Đã tạo 0 recent history summaries.
2025-10-04 03:47:10,745 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:47:10,746 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:47:10,746 - src.core.context_builder - DEBUG - MT5 enabled, bắt đầu xây dựng MT5 context.
2025-10-04 03:47:10,747 - src.ui.app_ui - DEBUG - Gọi mt5_utils.build_context_from_app từ UI.
2025-10-04 03:47:10,747 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context_from_app.
2025-10-04 03:47:10,747 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-04 03:47:10,748 - src.utils.mt5_utils - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-04 03:47:10,748 - src.utils.mt5_utils - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-04 03:47:10,749 - src.utils.mt5_utils - DEBUG - Current price (cp): 3887.107
2025-10-04 03:47:10,749 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-04 03:47:10,750 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-04 03:47:10,750 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-04 03:47:10,752 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-04 03:47:10,753 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:47:10,753 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-04 03:47:10,758 - src.utils.mt5_utils - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-04 03:47:10,769 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:47:10,769 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-04 03:47:10,771 - src.utils.mt5_utils - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-04 03:47:10,772 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:47:10,772 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-04 03:47:10,774 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-04 03:47:10,775 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:47:10,775 - src.utils.mt5_utils - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-04 03:47:10,776 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-04 03:47:10,911 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:47:10,912 - src.utils.mt5_utils - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:47:10,912 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-04 03:47:11,047 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-04 03:47:11,047 - src.utils.mt5_utils - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-04 03:47:11,048 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-04 03:47:11,171 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:47:11,172 - src.utils.mt5_utils - DEBUG - Đã lấy higher timeframe levels.
2025-10-04 03:47:11,173 - src.utils.mt5_utils - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-04 03:47:11,173 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-04 03:47:11,173 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:11,174 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:11.174008+07:00
2025-10-04 03:47:11,174 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:11.174008+07:00
2025-10-04 03:47:11,174 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:11.174008+07:00 trong DST: True
2025-10-04 03:47:11,175 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:11,175 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:11,175 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:11,176 - src.core.ict_analysis - DEBUG - Bắt đầu hàm get_session_liquidity với 96 rates, sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, now_hhmm: 10:47
2025-10-04 03:47:11,176 - src.core.ict_analysis - DEBUG - Kết thúc hàm get_session_liquidity. Kết quả: {}
2025-10-04 03:47:11,177 - src.utils.mt5_utils - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-04 03:47:11,177 - src.utils.mt5_utils - DEBUG - Rates trống, không thể tính VWAP.
2025-10-04 03:47:11,181 - src.utils.mt5_utils - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-04 03:47:11,181 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:47:11,182 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-04 03:47:11,182 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:47:11,182 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-04 03:47:11,183 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-04 03:47:11,183 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-04 03:47:11,183 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-04 03:47:11,184 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-04 03:47:11,184 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-04 03:47:11,184 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-04 03:47:11,185 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-04 03:47:11,185 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-04 03:47:11,185 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:47:11,186 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-04 03:47:11,186 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:47:11,186 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-04 03:47:11,187 - src.utils.mt5_utils - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-04 03:47:11,187 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-04 03:47:11,187 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-04 03:47:11,188 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:47:11,189 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-04 03:47:11,189 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-04 03:47:11,189 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-04 03:47:11,190 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:47:11,190 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-04 03:47:11,190 - src.utils.mt5_utils - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-04 03:47:11,191 - src.utils.mt5_utils - DEBUG - Volatility regime: trending
2025-10-04 03:47:11,191 - src.utils.mt5_utils - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:47:11,192 - src.utils.mt5_utils - DEBUG - Thêm PDH: 3897.216
2025-10-04 03:47:11,192 - src.utils.mt5_utils - DEBUG - Thêm PDL: 3819.397
2025-10-04 03:47:11,193 - src.utils.mt5_utils - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-04 03:47:11,193 - src.utils.mt5_utils - DEBUG - Thêm DO: 3863.536
2025-10-04 03:47:11,194 - src.utils.mt5_utils - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-04 03:47:11,194 - src.utils.mt5_utils - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-04 03:47:11,194 - src.utils.mt5_utils - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-04 03:47:11,195 - src.utils.mt5_utils - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-04 03:47:11,195 - src.utils.mt5_utils - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-04 03:47:11,208 - src.utils.mt5_utils - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:47:11,209 - src.utils.mt5_utils - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-04 03:47:11,209 - src.utils.mt5_utils - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-04 03:47:11,210 - src.utils.mt5_utils - DEBUG - Prev day close: 3862.472
2025-10-04 03:47:11,210 - src.utils.mt5_utils - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-04 03:47:11,211 - src.utils.mt5_utils - DEBUG - Position in day range: 0.8700959919813936
2025-10-04 03:47:11,211 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:11,212 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:11.211984+07:00
2025-10-04 03:47:11,212 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:11.211984+07:00
2025-10-04 03:47:11,212 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:11.211984+07:00 trong DST: True
2025-10-04 03:47:11,213 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:11,213 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:11,213 - src.core.ict_analysis - DEBUG - Bắt đầu hàm is_silver_bullet_window với now_hhmm: 10:47, kills: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:11,214 - src.core.ict_analysis - DEBUG - Không nằm trong cửa sổ Silver Bullet.
2025-10-04 03:47:11,214 - src.core.ict_analysis - DEBUG - Kết thúc hàm is_silver_bullet_window.
2025-10-04 03:47:11,215 - src.utils.mt5_utils - DEBUG - Killzone active: None, Mins to next killzone: 193
2025-10-04 03:47:11,215 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:11,215 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:47:11,216 - src.utils.mt5_utils - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-04 03:47:11,216 - src.utils.mt5_utils - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-04 03:47:11,217 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:47:11,217 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:47:11,217 - src.utils.mt5_utils - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-04 03:47:11,218 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:47:11,218 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3783.265
2025-10-04 03:47:11,218 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3760.112
2025-10-04 03:47:11,219 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3763.997
2025-10-04 03:47:11,219 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.936
2025-10-04 03:47:11,219 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3805.069
2025-10-04 03:47:11,220 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.812
2025-10-04 03:47:11,220 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3806.56
2025-10-04 03:47:11,220 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3831.428
2025-10-04 03:47:11,220 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3809.251
2025-10-04 03:47:11,221 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3833.647
2025-10-04 03:47:11,221 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3822.667
2025-10-04 03:47:11,221 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3834.062
2025-10-04 03:47:11,221 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3825.688
2025-10-04 03:47:11,222 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.242
2025-10-04 03:47:11,222 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.761
2025-10-04 03:47:11,223 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3793.174
2025-10-04 03:47:11,223 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3854.604
2025-10-04 03:47:11,223 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3849.372
2025-10-04 03:47:11,224 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3839.717
2025-10-04 03:47:11,224 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.87
2025-10-04 03:47:11,224 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.622
2025-10-04 03:47:11,225 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.624
2025-10-04 03:47:11,225 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.576
2025-10-04 03:47:11,225 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.937
2025-10-04 03:47:11,226 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3853.395
2025-10-04 03:47:11,226 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3895.417
2025-10-04 03:47:11,237 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.184
2025-10-04 03:47:11,239 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3878.867
2025-10-04 03:47:11,240 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.227
2025-10-04 03:47:11,240 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.948
2025-10-04 03:47:11,240 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.93
2025-10-04 03:47:11,241 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.062
2025-10-04 03:47:11,241 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.894
2025-10-04 03:47:11,241 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3870.082
2025-10-04 03:47:11,242 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.861
2025-10-04 03:47:11,242 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.758
2025-10-04 03:47:11,242 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3897.216
2025-10-04 03:47:11,243 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3819.397
2025-10-04 03:47:11,243 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.415
2025-10-04 03:47:11,243 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:47:11,244 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:47:11,244 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:47:11,244 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:47:11,245 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:47:11,245 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:47:11,245 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:47:11,246 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:47:11,246 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:47:11,247 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:47:11,247 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:47:11,247 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:47:11,247 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:47:11,248 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:47:11,248 - src.utils.mt5_utils - DEBUG - Liquidity levels cho H1: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:47:11,249 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:47:11,249 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4}
2025-10-04 03:47:11,249 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:47:11,250 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12}
2025-10-04 03:47:11,250 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13}
2025-10-04 03:47:11,250 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31}
2025-10-04 03:47:11,251 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32}
2025-10-04 03:47:11,251 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34}
2025-10-04 03:47:11,252 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37}
2025-10-04 03:47:11,252 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38}
2025-10-04 03:47:11,252 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39}
2025-10-04 03:47:11,253 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45}
2025-10-04 03:47:11,253 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50}
2025-10-04 03:47:11,253 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61}
2025-10-04 03:47:11,254 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62}
2025-10-04 03:47:11,254 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66}
2025-10-04 03:47:11,255 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90}
2025-10-04 03:47:11,255 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91}
2025-10-04 03:47:11,256 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95}
2025-10-04 03:47:11,256 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96}
2025-10-04 03:47:11,257 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:47:11,257 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112}
2025-10-04 03:47:11,258 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4} đã được fill.
2025-10-04 03:47:11,267 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:47:11,268 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12} đã được fill.
2025-10-04 03:47:11,269 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13} đã được fill.
2025-10-04 03:47:11,269 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31} đã được fill.
2025-10-04 03:47:11,269 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32} đã được fill.
2025-10-04 03:47:11,270 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34} đã được fill.
2025-10-04 03:47:11,270 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37} đã được fill.
2025-10-04 03:47:11,270 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38} đã được fill.
2025-10-04 03:47:11,271 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39} đã được fill.
2025-10-04 03:47:11,271 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45} đã được fill.
2025-10-04 03:47:11,272 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50} đã được fill.
2025-10-04 03:47:11,272 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61} đã được fill.
2025-10-04 03:47:11,272 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62} đã được fill.
2025-10-04 03:47:11,273 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66} đã được fill.
2025-10-04 03:47:11,273 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90} đã được fill.
2025-10-04 03:47:11,274 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91} đã được fill.
2025-10-04 03:47:11,274 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95} đã được fill.
2025-10-04 03:47:11,274 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96} đã được fill.
2025-10-04 03:47:11,275 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:47:11,275 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112} đã được fill.
2025-10-04 03:47:11,276 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}
2025-10-04 03:47:11,276 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}]
2025-10-04 03:47:11,277 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:47:11,277 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}
2025-10-04 03:47:11,277 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3867.201, 'bottom': 3854.751, 'bar_index': 110}
2025-10-04 03:47:11,278 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3844.879, 'bottom': 3819.397, 'bar_index': 91}
2025-10-04 03:47:11,278 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}
2025-10-04 03:47:11,278 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}]
2025-10-04 03:47:11,279 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:47:11,279 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3897.216, 'range_low': 3760.112, 'equilibrium': 3828.6639999999998, 'status': 'Premium'}
2025-10-04 03:47:11,279 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:47:11,280 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3778.612, 'bottom': 3764.679, 'bar_index': -27}
2025-10-04 03:47:11,280 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3787.543, 'bottom': 3763.997, 'bar_index': -23}
2025-10-04 03:47:11,281 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3819.611, 'bottom': 3806.443, 'bar_index': -15}
2025-10-04 03:47:11,281 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3818.552, 'bottom': 3806.56, 'bar_index': -13}
2025-10-04 03:47:11,282 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.722, 'bottom': 3838.031, 'bar_index': 1}
2025-10-04 03:47:11,282 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3867.242, 'bottom': 3845.851, 'bar_index': 3}
2025-10-04 03:47:11,282 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3871.761, 'bottom': 3854.92, 'bar_index': 6}
2025-10-04 03:47:11,283 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3814.639, 'bottom': 3798.264, 'bar_index': 10}
2025-10-04 03:47:11,283 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3854.604, 'bottom': 3820.442, 'bar_index': 14}
2025-10-04 03:47:11,283 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3860.87, 'bottom': 3847.177, 'bar_index': 19}
2025-10-04 03:47:11,284 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.941, 'bottom': 3858.997, 'bar_index': 30}
2025-10-04 03:47:11,284 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3865.226, 'bottom': 3852.894, 'bar_index': 47}
2025-10-04 03:47:11,284 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.858, 'bottom': 3873.413, 'bar_index': 55}
2025-10-04 03:47:11,285 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3845.401, 'bottom': 3827.234, 'bar_index': 62}
2025-10-04 03:47:11,287 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}
2025-10-04 03:47:11,287 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}
2025-10-04 03:47:11,287 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}
2025-10-04 03:47:11,288 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}]
2025-10-04 03:47:11,298 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho H1 đã được tính.
2025-10-04 03:47:11,300 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:47:11,300 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:47:11,301 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:47:11,301 - src.utils.mt5_utils - DEBUG - MSS cho H1 đã được tính.
2025-10-04 03:47:11,301 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 96 rates, lookback: 200
2025-10-04 03:47:11,302 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3858.531
2025-10-04 03:47:11,302 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:47:11,303 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.878
2025-10-04 03:47:11,303 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:47:11,303 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.326
2025-10-04 03:47:11,304 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3862.684
2025-10-04 03:47:11,304 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:47:11,304 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.953
2025-10-04 03:47:11,305 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:47:11,305 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3848.355
2025-10-04 03:47:11,305 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3843.125
2025-10-04 03:47:11,306 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3850.904
2025-10-04 03:47:11,306 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:47:11,306 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:47:11,307 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:47:11,307 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:47:11,307 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:47:11,308 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:47:11,308 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:47:11,308 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:47:11,309 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:47:11,309 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:47:11,309 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:47:11,310 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:47:11,310 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:47:11,310 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:47:11,311 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:47:11,311 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:47:11,312 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:47:11,312 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:47:11,312 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:47:11,313 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:47:11,313 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:47:11,313 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:47:11,314 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:47:11,314 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:47:11,314 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:47:11,315 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:47:11,316 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:47:11,317 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:47:11,318 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M15: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:47:11,318 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 96 rates, current_price: 3887.107
2025-10-04 03:47:11,319 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3}
2025-10-04 03:47:11,319 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7}
2025-10-04 03:47:11,331 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11}
2025-10-04 03:47:11,332 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23}
2025-10-04 03:47:11,332 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26}
2025-10-04 03:47:11,333 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:47:11,333 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:47:11,334 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42}
2025-10-04 03:47:11,334 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52}
2025-10-04 03:47:11,334 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57}
2025-10-04 03:47:11,335 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58}
2025-10-04 03:47:11,335 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:47:11,336 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65}
2025-10-04 03:47:11,336 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69}
2025-10-04 03:47:11,336 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74}
2025-10-04 03:47:11,337 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3} đã được fill.
2025-10-04 03:47:11,337 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7} đã được fill.
2025-10-04 03:47:11,337 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11} đã được fill.
2025-10-04 03:47:11,338 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23} đã được fill.
2025-10-04 03:47:11,338 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26} đã được fill.
2025-10-04 03:47:11,338 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:47:11,339 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:47:11,339 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42} đã được fill.
2025-10-04 03:47:11,339 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52} đã được fill.
2025-10-04 03:47:11,340 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57} đã được fill.
2025-10-04 03:47:11,340 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58} đã được fill.
2025-10-04 03:47:11,341 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:47:11,341 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65} đã được fill.
2025-10-04 03:47:11,341 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69} đã được fill.
2025-10-04 03:47:11,342 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74} đã được fill.
2025-10-04 03:47:11,342 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}
2025-10-04 03:47:11,343 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}]
2025-10-04 03:47:11,343 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 96 rates, lookback: 100
2025-10-04 03:47:11,344 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}
2025-10-04 03:47:11,344 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}
2025-10-04 03:47:11,344 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3845.326, 'bottom': 3843.359, 'bar_index': 27}
2025-10-04 03:47:11,345 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}
2025-10-04 03:47:11,345 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}
2025-10-04 03:47:11,346 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}, {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}]
2025-10-04 03:47:11,346 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 96 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:47:11,347 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3838.081, 'equilibrium': 3864.906, 'status': 'Premium'}
2025-10-04 03:47:11,347 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 96 rates, lookback: 150
2025-10-04 03:47:11,347 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3858.046, 'bottom': 3854.205, 'bar_index': -48}
2025-10-04 03:47:11,348 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3855.466, 'bottom': 3849.361, 'bar_index': -32}
2025-10-04 03:47:11,348 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3848.913, 'bottom': 3839.835, 'bar_index': -29}
2025-10-04 03:47:11,349 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.766, 'bottom': 3843.897, 'bar_index': -22}
2025-10-04 03:47:11,349 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3863.085, 'bottom': 3857.792, 'bar_index': -13}
2025-10-04 03:47:11,350 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3862.923, 'bar_index': 8}
2025-10-04 03:47:11,351 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}
2025-10-04 03:47:11,351 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}
2025-10-04 03:47:11,351 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}
2025-10-04 03:47:11,353 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}]
2025-10-04 03:47:11,357 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M15 đã được tính.
2025-10-04 03:47:11,359 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 96 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:47:11,360 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:47:11,361 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:47:11,362 - src.utils.mt5_utils - DEBUG - MSS cho M15 đã được tính.
2025-10-04 03:47:11,362 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 180 rates, lookback: 200
2025-10-04 03:47:11,362 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:47:11,363 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.693
2025-10-04 03:47:11,363 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.917
2025-10-04 03:47:11,363 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:47:11,364 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.034
2025-10-04 03:47:11,364 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.033
2025-10-04 03:47:11,364 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.397
2025-10-04 03:47:11,364 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:47:11,365 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.323
2025-10-04 03:47:11,365 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.323
2025-10-04 03:47:11,365 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:47:11,366 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:47:11,366 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.587
2025-10-04 03:47:11,366 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.799
2025-10-04 03:47:11,366 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.325
2025-10-04 03:47:11,367 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.674
2025-10-04 03:47:11,367 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:47:11,367 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.889
2025-10-04 03:47:11,368 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:47:11,368 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.764
2025-10-04 03:47:11,368 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.914
2025-10-04 03:47:11,369 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.651
2025-10-04 03:47:11,369 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.875
2025-10-04 03:47:11,369 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3866.346
2025-10-04 03:47:11,369 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.433
2025-10-04 03:47:11,370 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:47:11,370 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.632
2025-10-04 03:47:11,370 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.646
2025-10-04 03:47:11,370 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:47:11,371 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.432
2025-10-04 03:47:11,371 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.573
2025-10-04 03:47:11,371 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.856
2025-10-04 03:47:11,371 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:47:11,372 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.152
2025-10-04 03:47:11,372 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:47:11,372 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.067
2025-10-04 03:47:11,373 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.802
2025-10-04 03:47:11,373 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.218
2025-10-04 03:47:11,373 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:47:11,374 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.209
2025-10-04 03:47:11,374 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.578
2025-10-04 03:47:11,374 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.963
2025-10-04 03:47:11,375 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3870.06
2025-10-04 03:47:11,375 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.583
2025-10-04 03:47:11,375 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:47:11,376 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:47:11,376 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.355
2025-10-04 03:47:11,377 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.03
2025-10-04 03:47:11,377 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:47:11,377 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3880.206
2025-10-04 03:47:11,378 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.522
2025-10-04 03:47:11,378 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3881.461
2025-10-04 03:47:11,378 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3882.092
2025-10-04 03:47:11,379 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:47:11,380 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:47:11,381 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.454
2025-10-04 03:47:11,381 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.959
2025-10-04 03:47:11,381 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.056
2025-10-04 03:47:11,382 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:47:11,393 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.593
2025-10-04 03:47:11,393 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:47:11,394 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.221
2025-10-04 03:47:11,394 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.978
2025-10-04 03:47:11,394 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.364
2025-10-04 03:47:11,395 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:47:11,395 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.771
2025-10-04 03:47:11,395 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.794
2025-10-04 03:47:11,395 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:47:11,396 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3881.367
2025-10-04 03:47:11,396 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.794
2025-10-04 03:47:11,396 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.241
2025-10-04 03:47:11,397 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:47:11,397 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3883.496
2025-10-04 03:47:11,397 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3879.981
2025-10-04 03:47:11,398 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.183
2025-10-04 03:47:11,398 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:47:11,398 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.019
2025-10-04 03:47:11,398 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:47:11,399 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:47:11,399 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:47:11,399 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:47:11,400 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:47:11,400 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:47:11,400 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:47:11,400 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:47:11,401 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:47:11,401 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:47:11,402 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M5: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:47:11,402 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 180 rates, current_price: 3887.107
2025-10-04 03:47:11,402 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2}
2025-10-04 03:47:11,403 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17}
2025-10-04 03:47:11,403 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27}
2025-10-04 03:47:11,403 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37}
2025-10-04 03:47:11,404 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40}
2025-10-04 03:47:11,404 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47}
2025-10-04 03:47:11,404 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48}
2025-10-04 03:47:11,405 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56}
2025-10-04 03:47:11,405 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63}
2025-10-04 03:47:11,405 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64}
2025-10-04 03:47:11,406 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68}
2025-10-04 03:47:11,406 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70}
2025-10-04 03:47:11,406 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:47:11,407 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81}
2025-10-04 03:47:11,407 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87}
2025-10-04 03:47:11,408 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88}
2025-10-04 03:47:11,408 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89}
2025-10-04 03:47:11,408 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106}
2025-10-04 03:47:11,409 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113}
2025-10-04 03:47:11,409 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119}
2025-10-04 03:47:11,410 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123}
2025-10-04 03:47:11,410 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124}
2025-10-04 03:47:11,410 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135}
2025-10-04 03:47:11,411 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142}
2025-10-04 03:47:11,411 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149}
2025-10-04 03:47:11,412 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151}
2025-10-04 03:47:11,412 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155}
2025-10-04 03:47:11,412 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163}
2025-10-04 03:47:11,413 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171}
2025-10-04 03:47:11,423 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:47:11,424 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:47:11,425 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2} đã được fill.
2025-10-04 03:47:11,425 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17} đã được fill.
2025-10-04 03:47:11,426 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27} đã được fill.
2025-10-04 03:47:11,426 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37} đã được fill.
2025-10-04 03:47:11,426 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40} đã được fill.
2025-10-04 03:47:11,427 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47} đã được fill.
2025-10-04 03:47:11,427 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48} đã được fill.
2025-10-04 03:47:11,427 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56} đã được fill.
2025-10-04 03:47:11,428 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63} đã được fill.
2025-10-04 03:47:11,428 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64} đã được fill.
2025-10-04 03:47:11,428 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68} đã được fill.
2025-10-04 03:47:11,429 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70} đã được fill.
2025-10-04 03:47:11,429 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:47:11,430 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81} đã được fill.
2025-10-04 03:47:11,430 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87} đã được fill.
2025-10-04 03:47:11,430 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88} đã được fill.
2025-10-04 03:47:11,431 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89} đã được fill.
2025-10-04 03:47:11,431 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106} đã được fill.
2025-10-04 03:47:11,431 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113} đã được fill.
2025-10-04 03:47:11,432 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119} đã được fill.
2025-10-04 03:47:11,432 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123} đã được fill.
2025-10-04 03:47:11,432 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124} đã được fill.
2025-10-04 03:47:11,433 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135} đã được fill.
2025-10-04 03:47:11,433 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142} đã được fill.
2025-10-04 03:47:11,434 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149} đã được fill.
2025-10-04 03:47:11,434 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151} đã được fill.
2025-10-04 03:47:11,434 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155} đã được fill.
2025-10-04 03:47:11,434 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163} đã được fill.
2025-10-04 03:47:11,435 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171} đã được fill.
2025-10-04 03:47:11,435 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:47:11,436 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:47:11,436 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}
2025-10-04 03:47:11,436 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}]
2025-10-04 03:47:11,437 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 180 rates, lookback: 100
2025-10-04 03:47:11,437 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}
2025-10-04 03:47:11,437 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}
2025-10-04 03:47:11,438 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}]
2025-10-04 03:47:11,438 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 180 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:47:11,438 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3850.904, 'equilibrium': 3871.3175, 'status': 'Premium'}
2025-10-04 03:47:11,439 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 180 rates, lookback: 150
2025-10-04 03:47:11,439 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3865.008, 'bottom': 3860.927, 'bar_index': 36}
2025-10-04 03:47:11,439 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3862.887, 'bottom': 3859.58, 'bar_index': 46}
2025-10-04 03:47:11,440 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3867.239, 'bar_index': 80}
2025-10-04 03:47:11,440 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3876.096, 'bottom': 3866.937, 'bar_index': 99}
2025-10-04 03:47:11,440 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:11,441 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.702, 'bottom': 3874.123, 'bar_index': 105}
2025-10-04 03:47:11,441 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:11,442 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.733, 'bottom': 3879.22, 'bar_index': 112}
2025-10-04 03:47:11,443 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:11,443 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.625, 'bottom': 3880.942, 'bar_index': 123}
2025-10-04 03:47:11,443 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (10.65s < 300s), bỏ qua làm mới.
2025-10-04 03:47:11,444 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.202, 'bottom': 3880.541, 'bar_index': 124}
2025-10-04 03:47:11,448 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:11,449 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3885.241, 'bottom': 3881.17, 'bar_index': 141}
2025-10-04 03:47:11,453 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:11,454 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3882.461, 'bottom': 3877.896, 'bar_index': 143}
2025-10-04 03:47:11,454 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:11,455 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}
2025-10-04 03:47:11,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:11,455 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}
2025-10-04 03:47:11,456 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:11,456 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}
2025-10-04 03:47:11,456 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:11,457 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}]
2025-10-04 03:47:11,457 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:11,457 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M5 đã được tính.
2025-10-04 03:47:11,458 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:11,458 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 180 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:47:11,459 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:11,459 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:47:11,460 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:11,460 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:47:11,463 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:11,464 - src.utils.mt5_utils - DEBUG - MSS cho M5 đã được tính.
2025-10-04 03:47:11,475 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:47:11,482 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:11,484 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.619
2025-10-04 03:47:11,487 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.222
2025-10-04 03:47:11,489 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:47:11,491 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.765
2025-10-04 03:47:11,506 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.268
2025-10-04 03:47:11,512 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.256
2025-10-04 03:47:11,530 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.93
2025-10-04 03:47:11,548 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:47:11,549 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.607
2025-10-04 03:47:11,549 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.443
2025-10-04 03:47:11,550 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.378
2025-10-04 03:47:11,597 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.098
2025-10-04 03:47:11,651 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:11,652 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.201
2025-10-04 03:47:11,652 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:11,653 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:47:11,653 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:11,653 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.204
2025-10-04 03:47:11,655 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.989
2025-10-04 03:47:11,656 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:11,656 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.087
2025-10-04 03:47:11,656 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:11,657 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.291
2025-10-04 03:47:11,658 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:11,658 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:47:11,659 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:11,659 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3887.541
2025-10-04 03:47:11,669 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:11,671 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.413
2025-10-04 03:47:11,672 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:11,673 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.942
2025-10-04 03:47:11,674 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:11,674 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.384
2025-10-04 03:47:11,674 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:11,675 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.35
2025-10-04 03:47:11,675 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:11,675 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:47:11,676 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.014
2025-10-04 03:47:11,676 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.179
2025-10-04 03:47:11,677 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.902
2025-10-04 03:47:11,677 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:11,677 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:47:11,677 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:11,678 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:11,678 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.942
2025-10-04 03:47:11,679 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:11,679 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:47:11,679 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:11,680 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.103
2025-10-04 03:47:11,680 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:11,680 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.859
2025-10-04 03:47:11,681 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:11,681 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.29
2025-10-04 03:47:11,681 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:11,681 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.755
2025-10-04 03:47:11,682 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:11,682 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.023
2025-10-04 03:47:11,683 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:11,683 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.154
2025-10-04 03:47:11,683 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:11,684 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.079
2025-10-04 03:47:11,684 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:11,685 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.142
2025-10-04 03:47:11,685 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:11,685 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.8
2025-10-04 03:47:11,686 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:11.686029+07:00
2025-10-04 03:47:11,686 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.876
2025-10-04 03:47:11,686 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:11.686029+07:00
2025-10-04 03:47:11,686 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.634
2025-10-04 03:47:11,687 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:11.686029+07:00 trong DST: True
2025-10-04 03:47:11,687 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.689
2025-10-04 03:47:11,687 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:11,688 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.259
2025-10-04 03:47:11,688 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:11,688 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.227
2025-10-04 03:47:11,689 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:11,689 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.176
2025-10-04 03:47:11,689 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:11,690 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.077
2025-10-04 03:47:11,690 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:11,690 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.111
2025-10-04 03:47:11,691 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:11,691 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:47:11,692 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:11,692 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.739
2025-10-04 03:47:11,692 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:11,693 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.335
2025-10-04 03:47:11,694 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:11,706 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.539
2025-10-04 03:47:11,707 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:11,707 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:47:11,708 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:11,708 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.647
2025-10-04 03:47:11,709 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.692
2025-10-04 03:47:11,709 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:11,709 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.989
2025-10-04 03:47:11,709 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:11,710 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.106
2025-10-04 03:47:11,710 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:11,711 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.259
2025-10-04 03:47:11,711 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:11,712 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.124
2025-10-04 03:47:11,712 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:11,712 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.332
2025-10-04 03:47:11,713 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:11,713 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.136
2025-10-04 03:47:11,713 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:11,714 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.321
2025-10-04 03:47:11,714 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:11,714 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.003
2025-10-04 03:47:11,715 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:11,715 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.225
2025-10-04 03:47:11,715 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:11,716 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:47:11,716 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:11,717 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M1: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:47:11,718 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:47:11,727 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7}
2025-10-04 03:47:11,742 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12}
2025-10-04 03:47:11,748 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13}
2025-10-04 03:47:11,754 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37}
2025-10-04 03:47:11,769 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49}
2025-10-04 03:47:11,770 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51}
2025-10-04 03:47:11,771 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58}
2025-10-04 03:47:11,772 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64}
2025-10-04 03:47:11,773 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76}
2025-10-04 03:47:11,774 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87}
2025-10-04 03:47:11,775 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94}
2025-10-04 03:47:11,776 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95}
2025-10-04 03:47:11,777 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:47:11,778 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:47:11,779 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7} đã được fill.
2025-10-04 03:47:11,781 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12} đã được fill.
2025-10-04 03:47:11,782 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13} đã được fill.
2025-10-04 03:47:11,783 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37} đã được fill.
2025-10-04 03:47:11,784 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49} đã được fill.
2025-10-04 03:47:11,798 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51} đã được fill.
2025-10-04 03:47:11,802 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58} đã được fill.
2025-10-04 03:47:11,804 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64} đã được fill.
2025-10-04 03:47:11,805 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76} đã được fill.
2025-10-04 03:47:11,806 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87} đã được fill.
2025-10-04 03:47:11,807 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94} đã được fill.
2025-10-04 03:47:11,808 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95} đã được fill.
2025-10-04 03:47:11,809 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:47:11,810 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:47:11,811 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}
2025-10-04 03:47:11,812 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}]
2025-10-04 03:47:11,813 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:47:11,814 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}
2025-10-04 03:47:11,815 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3884.99, 'bottom': 3884.601, 'bar_index': 108}
2025-10-04 03:47:11,816 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3883.629, 'bottom': 3882.907, 'bar_index': 95}
2025-10-04 03:47:11,839 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}
2025-10-04 03:47:11,846 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}]
2025-10-04 03:47:11,861 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:47:11,861 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3889.197, 'range_low': 3882.907, 'equilibrium': 3886.052, 'status': 'Premium'}
2025-10-04 03:47:11,862 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:47:11,863 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.089, 'bottom': 3884.19, 'bar_index': -24}
2025-10-04 03:47:11,864 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.116, 'bottom': 3886.654, 'bar_index': -18}
2025-10-04 03:47:11,866 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.074, 'bottom': 3886.291, 'bar_index': 5}
2025-10-04 03:47:11,866 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.175, 'bottom': 3886.941, 'bar_index': 6}
2025-10-04 03:47:11,867 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.915, 'bottom': 3886.012, 'bar_index': 20}
2025-10-04 03:47:11,868 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.29, 'bottom': 3885.292, 'bar_index': 33}
2025-10-04 03:47:11,869 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3887.079, 'bottom': 3886.283, 'bar_index': 40}
2025-10-04 03:47:11,869 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.074, 'bottom': 3884.806, 'bar_index': 45}
2025-10-04 03:47:11,870 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.334, 'bottom': 3883.739, 'bar_index': 58}
2025-10-04 03:47:11,871 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}
2025-10-04 03:47:11,871 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}
2025-10-04 03:47:11,883 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}
2025-10-04 03:47:11,894 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}]
2025-10-04 03:47:11,957 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M1 đã được tính.
2025-10-04 03:47:11,958 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:47:11,960 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:47:11,960 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:47:11,961 - src.utils.mt5_utils - DEBUG - MSS cho M1 đã được tính.
2025-10-04 03:47:11,964 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:11,965 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:47:11,965 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:47:11,966 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:47:11,967 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:47:11,967 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:47:11,991 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:11,991 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:47:11,992 - src.utils.mt5_utils - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-04 03:47:11,992 - src.utils.safe_data - DEBUG - Khởi tạo SafeMT5Data với data có: True
2025-10-04 03:47:11,993 - src.utils.mt5_utils - DEBUG - Đã tạo SafeMT5Data object.
2025-10-04 03:47:11,993 - src.utils.mt5_utils - DEBUG - Kết thúc build_context.
2025-10-04 03:47:11,993 - src.utils.mt5_utils - DEBUG - Kết thúc build_context_from_app.
2025-10-04 03:47:11,994 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:47:11,994 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:47:11,994 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:11,995 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:11,996 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:47:11,996 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:47:11,996 - src.core.context_builder - DEBUG - Đã xây dựng MT5 context lite.
2025-10-04 03:47:11,997 - src.core.context_builder - DEBUG - Đã xây dựng MT5 flags.
2025-10-04 03:47:11,997 - src.core.context_builder - DEBUG - Bắt đầu hàm images_tf_map với 4 tên ảnh.
2025-10-04 03:47:11,997 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_H1.png.
2025-10-04 03:47:11,998 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_H1.png
2025-10-04 03:47:11,999 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern '(?<![a-z0-9])(?:h1|1h)(?![a-z0-9])'.
2025-10-04 03:47:11,999 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:47:12,000 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_H1.png': H1
2025-10-04 03:47:12,001 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M1.png.
2025-10-04 03:47:12,001 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M1.png
2025-10-04 03:47:12,002 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern '(?<![a-z0-9])(?:m1|1m)(?![a-z0-9])'.
2025-10-04 03:47:12,003 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:47:12,003 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M1.png': M1
2025-10-04 03:47:12,096 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M15.png.
2025-10-04 03:47:12,145 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M15.png
2025-10-04 03:47:12,190 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern '(?<![a-z0-9])(?:m15|15m)(?![a-z0-9])'.
2025-10-04 03:47:12,224 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:47:12,234 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M15.png': M15
2025-10-04 03:47:12,237 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M5.png.
2025-10-04 03:47:12,238 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M5.png
2025-10-04 03:47:12,240 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern '(?<![a-z0-9])(?:m5|5m)(?![a-z0-9])'.
2025-10-04 03:47:12,241 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:47:12,241 - src.core.context_builder - DEBUG - Đã phát hiện timeframe cho ảnh 'XAUUSD_M5.png': M5
2025-10-04 03:47:12,241 - src.core.context_builder - DEBUG - Kết thúc hàm images_tf_map.
2025-10-04 03:47:12,242 - src.core.context_builder - DEBUG - Bắt đầu hàm folder_signature với 4 tên ảnh.
2025-10-04 03:47:12,243 - src.core.context_builder - DEBUG - Đã tạo folder signature: sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1
2025-10-04 03:47:12,243 - src.core.context_builder - DEBUG - Kết thúc hàm folder_signature.
2025-10-04 03:47:12,244 - src.core.context_builder - DEBUG - Đã tạo run_meta: {'analysis_id': '2025-10-04T03:47:12Z', 'folder_signature': 'sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1', 'images_tf_map': {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}}
2025-10-04 03:47:12,244 - src.core.context_builder - DEBUG - Checklist pass ratio: None
2025-10-04 03:47:12,245 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:47:12,245 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:47:12,246 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:47:12,246 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:47:12,248 - src.core.context_builder - DEBUG - Bắt đầu hàm parse_proposed_trades_file từ thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:47:12,248 - src.core.context_builder - DEBUG - File log C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\proposed_trades.jsonl không tồn tại.
2025-10-04 03:47:12,249 - src.core.backtester - DEBUG - Bắt đầu hàm evaluate_trade_outcomes cho symbol: XAUUSD, số trades: 0
2025-10-04 03:47:12,249 - src.core.backtester - WARNING - Không có trades được đề xuất hoặc MT5 không kết nối.
2025-10-04 03:47:12,249 - src.core.backtester - DEBUG - Kết thúc hàm evaluate_trade_outcomes (không có trades hoặc MT5 không kết nối).
2025-10-04 03:47:12,250 - src.core.context_builder - DEBUG - Backtest results: {'summary': {'total_proposed': 0, 'wins': 0, 'losses': 0, 'untriggered': 0, 'win_rate': None}}
2025-10-04 03:47:12,250 - src.core.context_builder - DEBUG - Running stats: {'checklist_pass_ratio': None, 'backtest_results': {'summary': {'total_proposed': 0, 'wins': 0, 'losses': 0, 'untriggered': 0, 'win_rate': None}}, 'median_spread': None, 'median_ticks_per_min': None}
2025-10-04 03:47:12,251 - src.core.context_builder - DEBUG - Risk rules: {'max_risk_per_trade_pct': 1.0, 'daily_loss_limit_pct': 3.0, 'max_trades_per_day': 3, 'allowed_killzones': ['london', 'newyork_pre', 'newyork_post'], 'news_blackout_min_before_after': 15}
2025-10-04 03:47:12,283 - src.core.context_builder - DEBUG - Đã tạo composed context.
2025-10-04 03:47:12,302 - src.core.context_builder - DEBUG - MT5 full data có sẵn, bắt đầu vectorization và similarity search.
2025-10-04 03:47:12,303 - src.core.vectorizer - DEBUG - Bắt đầu hàm vectorize_market_state.
2025-10-04 03:47:12,303 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['pip'], default: {}
2025-10-04 03:47:12,303 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}
2025-10-04 03:47:12,304 - src.core.vectorizer - DEBUG - Pip size: 0.1
2025-10-04 03:47:12,304 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['volatility', 'ATR', 'M5'], default: 0.0
2025-10-04 03:47:12,304 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 1.798255272271771
2025-10-04 03:47:12,305 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['volatility', 'ATR', 'H1'], default: 0.0
2025-10-04 03:47:12,305 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 11.031559707039294
2025-10-04 03:47:12,306 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['info', 'spread_current'], default: 0.0
2025-10-04 03:47:12,306 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 37
2025-10-04 03:47:12,306 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['tick_stats_5m', 'ticks_per_min'], default: 0
2025-10-04 03:47:12,307 - src.core.vectorizer - DEBUG - Key 'ticks_per_min' không tìm thấy hoặc d không phải dict. Trả về default.
2025-10-04 03:47:12,307 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested (key không tìm thấy).
2025-10-04 03:47:12,307 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['position_in_day_range'], default: 0.5
2025-10-04 03:47:12,308 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: 0.8700959919813936
2025-10-04 03:47:12,308 - src.core.vectorizer - DEBUG - Raw features (part 1): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936]
2025-10-04 03:47:12,308 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['key_levels_nearby'], default: []
2025-10-04 03:47:12,309 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:47:12,309 - src.core.vectorizer - DEBUG - Raw features (part 2 - key levels): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936, 10108.999999999924, 67710.00000000003, 28800.500000000284]
2025-10-04 03:47:12,309 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['trend_refs', 'EMA', 'M5'], default: {}
2025-10-04 03:47:12,310 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}
2025-10-04 03:47:12,310 - src.core.vectorizer - DEBUG - Bắt đầu hàm _get_nested cho path: ['trend_refs', 'EMA', 'H1'], default: {}
2025-10-04 03:47:12,311 - src.core.vectorizer - DEBUG - Kết thúc hàm _get_nested. Giá trị: {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}
2025-10-04 03:47:12,312 - src.core.vectorizer - DEBUG - Raw features (part 3 - EMAs): [17.98255272271771, 110.31559707039294, 37, 0, 0.8700959919813936, 10108.999999999924, 67710.00000000003, 28800.500000000284, 106.20206908890395, 352.668318201745]
2025-10-04 03:47:12,313 - src.core.vectorizer - DEBUG - Vector trước khi xử lý NaN/inf: [[1.7982553e+01 1.1031560e+02 3.7000000e+01 0.0000000e+00 8.7009597e-01
  1.0109000e+04 6.7710000e+04 2.8800500e+04 1.0620207e+02 3.5266830e+02]]
2025-10-04 03:47:12,314 - src.core.vectorizer - DEBUG - Vector sau khi xử lý NaN/inf: [[1.7982553e+01 1.1031560e+02 3.7000000e+01 0.0000000e+00 8.7009597e-01
  1.0109000e+04 6.7710000e+04 2.8800500e+04 1.0620207e+02 3.5266830e+02]]
2025-10-04 03:47:12,318 - src.core.vectorizer - DEBUG - Normalized vector: [[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]]
2025-10-04 03:47:12,319 - src.core.vectorizer - DEBUG - Kết thúc vectorize_market_state. Vector: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
2025-10-04 03:47:12,334 - src.core.context_builder - DEBUG - Đã vectorize market state.
2025-10-04 03:47:12,335 - src.core.context_builder - DEBUG - Đã thêm similar_past_scenarios vào composed context.
2025-10-04 03:47:12,336 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'cycle', 'session', 'trend_checklist', 'latest_plan', 'latest_summary_lines', 'recent_history_summary', 'run_meta', 'running_stats', 'risk_rules', 'environment_flags', 'mt5', 'mt5_lite', 'similar_past_scenarios']).
2025-10-04 03:47:12,337 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'cycle', 'session', 'trend_checklist', 'latest_plan', 'latest_summary_lines', 'recent_history_summary', 'run_meta', 'running_stats', 'risk_rules', 'environment_flags', 'mt5', 'mt5_lite', 'similar_past_scenarios']), folder_override: XAUUSD.
2025-10-04 03:47:12,337 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: run-start, Folder override: XAUUSD
2025-10-04 03:47:12,368 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:12,369 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:12,370 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:12,370 - src.core.context_builder - DEBUG - Đã log decision start.
2025-10-04 03:47:12,371 - src.core.context_builder - DEBUG - Kích thước context ban đầu: 9134 ký tự.
2025-10-04 03:47:12,372 - src.core.context_builder - DEBUG - Bắt đầu slimming context.
2025-10-04 03:47:12,372 - src.core.context_builder - DEBUG - Đã xóa full MT5 object. Kích thước mới: 1401 ký tự.
2025-10-04 03:47:12,372 - src.core.app_logic - DEBUG - Kết thúc hàm _do_compose.
2025-10-04 03:47:12,373 - src.core.app_logic - DEBUG - Kết thúc compose_context.
2025-10-04 03:47:12,373 - src.core.worker_modules.context_coordinator - DEBUG - Đã trích xuất plan từ composed context: {'direction': None}
2025-10-04 03:47:12,374 - src.core.worker_modules.context_coordinator - DEBUG - Đã xây dựng context_block.
2025-10-04 03:47:12,375 - src.ui.app_ui - DEBUG - Gọi mt5_utils.build_context_from_app từ UI.
2025-10-04 03:47:12,375 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context_from_app.
2025-10-04 03:47:12,375 - src.utils.mt5_utils - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-04 03:47:12,376 - src.utils.mt5_utils - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-04 03:47:12,376 - src.utils.mt5_utils - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-04 03:47:12,377 - src.utils.mt5_utils - DEBUG - Current price (cp): 3887.107
2025-10-04 03:47:12,377 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-04 03:47:12,377 - src.utils.mt5_utils - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-04 03:47:12,378 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-04 03:47:12,381 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-04 03:47:12,382 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:47:12,382 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-04 03:47:12,388 - src.utils.mt5_utils - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-04 03:47:12,395 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:47:12,395 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-04 03:47:12,398 - src.utils.mt5_utils - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-04 03:47:12,398 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:47:12,399 - src.utils.mt5_utils - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-04 03:47:12,401 - src.utils.mt5_utils - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-04 03:47:12,402 - src.utils.mt5_utils - DEBUG - Kết thúc _series_from_mt5.
2025-10-04 03:47:12,402 - src.utils.mt5_utils - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-04 03:47:12,402 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-04 03:47:12,403 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:47:12,403 - src.utils.mt5_utils - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:47:12,404 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-04 03:47:12,404 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-04 03:47:12,405 - src.utils.mt5_utils - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-04 03:47:12,405 - src.utils.mt5_utils - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-04 03:47:12,405 - src.utils.mt5_utils - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-04 03:47:12,406 - src.utils.mt5_utils - DEBUG - Đã lấy higher timeframe levels.
2025-10-04 03:47:12,406 - src.utils.mt5_utils - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-04 03:47:12,406 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-04 03:47:12,407 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:12,407 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:12.407697+07:00
2025-10-04 03:47:12,408 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:12.407697+07:00
2025-10-04 03:47:12,408 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:12.407697+07:00 trong DST: True
2025-10-04 03:47:12,408 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:12,409 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:12,409 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:12,409 - src.core.ict_analysis - DEBUG - Bắt đầu hàm get_session_liquidity với 96 rates, sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, now_hhmm: 10:47
2025-10-04 03:47:12,409 - src.core.ict_analysis - DEBUG - Kết thúc hàm get_session_liquidity. Kết quả: {}
2025-10-04 03:47:12,411 - src.utils.mt5_utils - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-04 03:47:12,413 - src.utils.mt5_utils - DEBUG - Rates trống, không thể tính VWAP.
2025-10-04 03:47:12,418 - src.utils.mt5_utils - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-04 03:47:12,430 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:47:12,431 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-04 03:47:12,431 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:47:12,432 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-04 03:47:12,432 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-04 03:47:12,433 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-04 03:47:12,433 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-04 03:47:12,433 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-04 03:47:12,434 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-04 03:47:12,434 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-04 03:47:12,434 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-04 03:47:12,435 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-04 03:47:12,435 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-04 03:47:12,436 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-04 03:47:12,436 - src.utils.mt5_utils - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-04 03:47:12,436 - src.utils.mt5_utils - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-04 03:47:12,437 - src.utils.mt5_utils - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-04 03:47:12,437 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-04 03:47:12,438 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-04 03:47:12,438 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:47:12,438 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-04 03:47:12,439 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-04 03:47:12,439 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-04 03:47:12,439 - src.utils.mt5_utils - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-04 03:47:12,440 - src.utils.mt5_utils - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-04 03:47:12,440 - src.utils.mt5_utils - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-04 03:47:12,441 - src.utils.mt5_utils - DEBUG - Volatility regime: trending
2025-10-04 03:47:12,441 - src.utils.mt5_utils - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-04 03:47:12,441 - src.utils.mt5_utils - DEBUG - Thêm PDH: 3897.216
2025-10-04 03:47:12,442 - src.utils.mt5_utils - DEBUG - Thêm PDL: 3819.397
2025-10-04 03:47:12,442 - src.utils.mt5_utils - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-04 03:47:12,443 - src.utils.mt5_utils - DEBUG - Thêm DO: 3863.536
2025-10-04 03:47:12,444 - src.utils.mt5_utils - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-04 03:47:12,444 - src.utils.mt5_utils - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-04 03:47:12,444 - src.utils.mt5_utils - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-04 03:47:12,445 - src.utils.mt5_utils - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-04 03:47:12,445 - src.utils.mt5_utils - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-04 03:47:12,456 - src.utils.mt5_utils - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-04 03:47:12,457 - src.utils.mt5_utils - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-04 03:47:12,458 - src.utils.mt5_utils - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-04 03:47:12,458 - src.utils.mt5_utils - DEBUG - Prev day close: 3862.472
2025-10-04 03:47:12,459 - src.utils.mt5_utils - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-04 03:47:12,459 - src.utils.mt5_utils - DEBUG - Position in day range: 0.8700959919813936
2025-10-04 03:47:12,459 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:12,460 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:12.460237+07:00
2025-10-04 03:47:12,460 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:12.460237+07:00
2025-10-04 03:47:12,460 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:12.460237+07:00 trong DST: True
2025-10-04 03:47:12,461 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:12,461 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:12,462 - src.core.ict_analysis - DEBUG - Bắt đầu hàm is_silver_bullet_window với now_hhmm: 10:47, kills: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:12,462 - src.core.ict_analysis - DEBUG - Không nằm trong cửa sổ Silver Bullet.
2025-10-04 03:47:12,463 - src.core.ict_analysis - DEBUG - Kết thúc hàm is_silver_bullet_window.
2025-10-04 03:47:12,463 - src.utils.mt5_utils - DEBUG - Killzone active: None, Mins to next killzone: 193
2025-10-04 03:47:12,463 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:12,463 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:47:12,464 - src.utils.mt5_utils - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-04 03:47:12,464 - src.utils.mt5_utils - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-04 03:47:12,464 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:47:12,465 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:47:12,465 - src.utils.mt5_utils - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-04 03:47:12,465 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:47:12,466 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3783.265
2025-10-04 03:47:12,466 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3760.112
2025-10-04 03:47:12,466 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3763.997
2025-10-04 03:47:12,467 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.936
2025-10-04 03:47:12,467 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3805.069
2025-10-04 03:47:12,467 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3819.812
2025-10-04 03:47:12,468 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3806.56
2025-10-04 03:47:12,468 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3831.428
2025-10-04 03:47:12,468 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3809.251
2025-10-04 03:47:12,469 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3833.647
2025-10-04 03:47:12,469 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3822.667
2025-10-04 03:47:12,469 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3834.062
2025-10-04 03:47:12,469 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3825.688
2025-10-04 03:47:12,470 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.242
2025-10-04 03:47:12,470 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.761
2025-10-04 03:47:12,471 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3793.174
2025-10-04 03:47:12,471 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3854.604
2025-10-04 03:47:12,472 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3849.372
2025-10-04 03:47:12,473 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3839.717
2025-10-04 03:47:12,474 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.87
2025-10-04 03:47:12,474 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.622
2025-10-04 03:47:12,475 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.624
2025-10-04 03:47:12,475 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.576
2025-10-04 03:47:12,488 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.937
2025-10-04 03:47:12,488 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3853.395
2025-10-04 03:47:12,489 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3895.417
2025-10-04 03:47:12,490 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.184
2025-10-04 03:47:12,490 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3878.867
2025-10-04 03:47:12,490 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.227
2025-10-04 03:47:12,491 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.948
2025-10-04 03:47:12,491 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.93
2025-10-04 03:47:12,491 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.062
2025-10-04 03:47:12,492 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.894
2025-10-04 03:47:12,492 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3870.082
2025-10-04 03:47:12,493 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.861
2025-10-04 03:47:12,493 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.758
2025-10-04 03:47:12,493 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3897.216
2025-10-04 03:47:12,494 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3819.397
2025-10-04 03:47:12,494 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.415
2025-10-04 03:47:12,494 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:47:12,494 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:47:12,495 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:47:12,495 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:47:12,495 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:47:12,496 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:47:12,496 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:47:12,496 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:47:12,498 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:47:12,498 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:47:12,498 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:47:12,498 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:47:12,499 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:47:12,499 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:47:12,500 - src.utils.mt5_utils - DEBUG - Liquidity levels cho H1: {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3890.722, 'bar_index': 32}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3763.997, 'bar_index': -73}, {'price': 3793.174, 'bar_index': -41}, {'price': 3805.069, 'bar_index': -66}, {'price': 3806.56, 'bar_index': -63}]}
2025-10-04 03:47:12,500 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:47:12,501 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4}
2025-10-04 03:47:12,502 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:47:12,502 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12}
2025-10-04 03:47:12,503 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13}
2025-10-04 03:47:12,503 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31}
2025-10-04 03:47:12,506 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32}
2025-10-04 03:47:12,506 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34}
2025-10-04 03:47:12,507 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37}
2025-10-04 03:47:12,507 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38}
2025-10-04 03:47:12,521 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39}
2025-10-04 03:47:12,525 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45}
2025-10-04 03:47:12,525 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50}
2025-10-04 03:47:12,527 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61}
2025-10-04 03:47:12,527 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62}
2025-10-04 03:47:12,528 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66}
2025-10-04 03:47:12,528 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90}
2025-10-04 03:47:12,529 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91}
2025-10-04 03:47:12,529 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95}
2025-10-04 03:47:12,530 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96}
2025-10-04 03:47:12,530 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:47:12,531 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112}
2025-10-04 03:47:12,531 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3774.672, 'bottom': 3769.592, 'created_at_bar': 4} đã được fill.
2025-10-04 03:47:12,532 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3792.206, 'bottom': 3788.842, 'created_at_bar': 10}
2025-10-04 03:47:12,532 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3801.368, 'bottom': 3799.497, 'created_at_bar': 12} đã được fill.
2025-10-04 03:47:12,532 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3811.014, 'bottom': 3808.899, 'created_at_bar': 13} đã được fill.
2025-10-04 03:47:12,533 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3838.031, 'bottom': 3833.437, 'created_at_bar': 31} đã được fill.
2025-10-04 03:47:12,533 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3842.651, 'bottom': 3840.666, 'created_at_bar': 32} đã được fill.
2025-10-04 03:47:12,533 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.04, 'bottom': 3852.113, 'created_at_bar': 34} đã được fill.
2025-10-04 03:47:12,534 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.623, 'bottom': 3859.405, 'created_at_bar': 37} đã được fill.
2025-10-04 03:47:12,534 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.92, 'bottom': 3847.233, 'created_at_bar': 38} đã được fill.
2025-10-04 03:47:12,534 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3839.552, 'bottom': 3821.605, 'created_at_bar': 39} đã được fill.
2025-10-04 03:47:12,535 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3831.238, 'bottom': 3830.029, 'created_at_bar': 45} đã được fill.
2025-10-04 03:47:12,537 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.775, 'bottom': 3849.044, 'created_at_bar': 50} đã được fill.
2025-10-04 03:47:12,537 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.064, 'bottom': 3864.963, 'created_at_bar': 61} đã được fill.
2025-10-04 03:47:12,538 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.663, 'bottom': 3879.941, 'created_at_bar': 62} đã được fill.
2025-10-04 03:47:12,548 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3878.12, 'bottom': 3877.261, 'created_at_bar': 66} đã được fill.
2025-10-04 03:47:12,549 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.112, 'bottom': 3876.913, 'created_at_bar': 90} đã được fill.
2025-10-04 03:47:12,549 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3873.514, 'bottom': 3844.879, 'created_at_bar': 91} đã được fill.
2025-10-04 03:47:12,550 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3850.545, 'bottom': 3847.994, 'created_at_bar': 95} đã được fill.
2025-10-04 03:47:12,551 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3853.579, 'bottom': 3851.622, 'created_at_bar': 96} đã được fill.
2025-10-04 03:47:12,551 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105}
2025-10-04 03:47:12,551 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3870.06, 'bottom': 3867.201, 'created_at_bar': 112} đã được fill.
2025-10-04 03:47:12,552 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}
2025-10-04 03:47:12,552 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355, 'created_at_bar': 105, 'lo': 3848.355, 'hi': 3850.904}]
2025-10-04 03:47:12,552 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:47:12,553 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}
2025-10-04 03:47:12,553 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3867.201, 'bottom': 3854.751, 'bar_index': 110}
2025-10-04 03:47:12,554 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3844.879, 'bottom': 3819.397, 'bar_index': 91}
2025-10-04 03:47:12,554 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}
2025-10-04 03:47:12,554 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113, 'lo': 3866.297, 'hi': 3886.03, 'type': 'bull'}]
2025-10-04 03:47:12,555 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:47:12,555 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3897.216, 'range_low': 3760.112, 'equilibrium': 3828.6639999999998, 'status': 'Premium'}
2025-10-04 03:47:12,555 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:47:12,556 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3778.612, 'bottom': 3764.679, 'bar_index': -27}
2025-10-04 03:47:12,556 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3787.543, 'bottom': 3763.997, 'bar_index': -23}
2025-10-04 03:47:12,557 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3819.611, 'bottom': 3806.443, 'bar_index': -15}
2025-10-04 03:47:12,557 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3818.552, 'bottom': 3806.56, 'bar_index': -13}
2025-10-04 03:47:12,557 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.722, 'bottom': 3838.031, 'bar_index': 1}
2025-10-04 03:47:12,558 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3867.242, 'bottom': 3845.851, 'bar_index': 3}
2025-10-04 03:47:12,558 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3871.761, 'bottom': 3854.92, 'bar_index': 6}
2025-10-04 03:47:12,559 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3814.639, 'bottom': 3798.264, 'bar_index': 10}
2025-10-04 03:47:12,559 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3854.604, 'bottom': 3820.442, 'bar_index': 14}
2025-10-04 03:47:12,559 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3860.87, 'bottom': 3847.177, 'bar_index': 19}
2025-10-04 03:47:12,560 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.941, 'bottom': 3858.997, 'bar_index': 30}
2025-10-04 03:47:12,560 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3865.226, 'bottom': 3852.894, 'bar_index': 47}
2025-10-04 03:47:12,560 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3879.858, 'bottom': 3873.413, 'bar_index': 55}
2025-10-04 03:47:12,561 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3845.401, 'bottom': 3827.234, 'bar_index': 62}
2025-10-04 03:47:12,561 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}
2025-10-04 03:47:12,562 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}
2025-10-04 03:47:12,562 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}
2025-10-04 03:47:12,562 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}]
2025-10-04 03:47:12,563 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho H1 đã được tính.
2025-10-04 03:47:12,563 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:47:12,563 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:47:12,564 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:47:12,564 - src.utils.mt5_utils - DEBUG - MSS cho H1 đã được tính.
2025-10-04 03:47:12,565 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 96 rates, lookback: 200
2025-10-04 03:47:12,565 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3858.531
2025-10-04 03:47:12,565 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3852.207
2025-10-04 03:47:12,565 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.878
2025-10-04 03:47:12,566 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.865
2025-10-04 03:47:12,568 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.326
2025-10-04 03:47:12,568 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3862.684
2025-10-04 03:47:12,569 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3847.368
2025-10-04 03:47:12,569 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3859.953
2025-10-04 03:47:12,579 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3838.081
2025-10-04 03:47:12,580 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3848.355
2025-10-04 03:47:12,581 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3843.125
2025-10-04 03:47:12,581 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3850.904
2025-10-04 03:47:12,581 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:47:12,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:47:12,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:47:12,582 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:47:12,583 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:47:12,583 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:47:12,584 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:47:12,584 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:47:12,584 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:47:12,585 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:47:12,585 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:47:12,585 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:47:12,586 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:47:12,586 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:47:12,586 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:47:12,587 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:47:12,587 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:47:12,587 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:47:12,587 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:47:12,588 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:47:12,588 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:47:12,589 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:47:12,589 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:47:12,590 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:47:12,590 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:47:12,590 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:47:12,591 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:47:12,591 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:47:12,591 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M15: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3889.11, 'bar_index': -31}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3843.125, 'bar_index': -74}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}]}
2025-10-04 03:47:12,592 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 96 rates, current_price: 3887.107
2025-10-04 03:47:12,592 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3}
2025-10-04 03:47:12,592 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7}
2025-10-04 03:47:12,593 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11}
2025-10-04 03:47:12,593 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23}
2025-10-04 03:47:12,593 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26}
2025-10-04 03:47:12,594 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:47:12,594 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:47:12,595 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42}
2025-10-04 03:47:12,595 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52}
2025-10-04 03:47:12,595 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57}
2025-10-04 03:47:12,595 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58}
2025-10-04 03:47:12,596 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:47:12,596 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65}
2025-10-04 03:47:12,597 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69}
2025-10-04 03:47:12,597 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74}
2025-10-04 03:47:12,597 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3855.996, 'bottom': 3855.946, 'created_at_bar': 3} đã được fill.
2025-10-04 03:47:12,598 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3856.446, 'bottom': 3855.722, 'created_at_bar': 7} đã được fill.
2025-10-04 03:47:12,599 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.501, 'bottom': 3858.926, 'created_at_bar': 11} đã được fill.
2025-10-04 03:47:12,600 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3854.225, 'bottom': 3852.449, 'created_at_bar': 23} đã được fill.
2025-10-04 03:47:12,614 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3845.027, 'bottom': 3842.373, 'created_at_bar': 26} đã được fill.
2025-10-04 03:47:12,616 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3850.431, 'bottom': 3845.326, 'created_at_bar': 33}
2025-10-04 03:47:12,618 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3854.093, 'bottom': 3850.766, 'created_at_bar': 34}
2025-10-04 03:47:12,618 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.397, 'bottom': 3861.034, 'created_at_bar': 42} đã được fill.
2025-10-04 03:47:12,618 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3863.543, 'bottom': 3860.914, 'created_at_bar': 52} đã được fill.
2025-10-04 03:47:12,619 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.646, 'bottom': 3862.454, 'created_at_bar': 57} đã được fill.
2025-10-04 03:47:12,619 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.227, 'created_at_bar': 58} đã được fill.
2025-10-04 03:47:12,620 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63}
2025-10-04 03:47:12,620 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.022, 'created_at_bar': 65} đã được fill.
2025-10-04 03:47:12,621 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3880.355, 'bottom': 3880.035, 'created_at_bar': 69} đã được fill.
2025-10-04 03:47:12,621 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.056, 'bottom': 3882.092, 'created_at_bar': 74} đã được fill.
2025-10-04 03:47:12,621 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}
2025-10-04 03:47:12,622 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218, 'created_at_bar': 63, 'lo': 3865.218, 'hi': 3869.428}]
2025-10-04 03:47:12,622 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 96 rates, lookback: 100
2025-10-04 03:47:12,622 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}
2025-10-04 03:47:12,623 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}
2025-10-04 03:47:12,623 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3845.326, 'bottom': 3843.359, 'bar_index': 27}
2025-10-04 03:47:12,624 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}
2025-10-04 03:47:12,624 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}
2025-10-04 03:47:12,625 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57, 'lo': 3860.51, 'hi': 3865.218, 'type': 'bull'}, {'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86, 'lo': 3885.989, 'hi': 3888.969, 'type': 'bear'}]
2025-10-04 03:47:12,625 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 96 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:47:12,626 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3838.081, 'equilibrium': 3864.906, 'status': 'Premium'}
2025-10-04 03:47:12,626 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 96 rates, lookback: 150
2025-10-04 03:47:12,626 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3858.046, 'bottom': 3854.205, 'bar_index': -48}
2025-10-04 03:47:12,627 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3855.466, 'bottom': 3849.361, 'bar_index': -32}
2025-10-04 03:47:12,627 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3848.913, 'bottom': 3839.835, 'bar_index': -29}
2025-10-04 03:47:12,628 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3850.766, 'bottom': 3843.897, 'bar_index': -22}
2025-10-04 03:47:12,628 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3863.085, 'bottom': 3857.792, 'bar_index': -13}
2025-10-04 03:47:12,631 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3862.923, 'bar_index': 8}
2025-10-04 03:47:12,645 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}
2025-10-04 03:47:12,646 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}
2025-10-04 03:47:12,647 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}
2025-10-04 03:47:12,647 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}]
2025-10-04 03:47:12,648 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M15 đã được tính.
2025-10-04 03:47:12,648 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 96 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:47:12,648 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:47:12,649 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:47:12,649 - src.utils.mt5_utils - DEBUG - MSS cho M15 đã được tính.
2025-10-04 03:47:12,650 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 180 rates, lookback: 200
2025-10-04 03:47:12,650 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.075
2025-10-04 03:47:12,651 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.693
2025-10-04 03:47:12,651 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.917
2025-10-04 03:47:12,651 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3855.394
2025-10-04 03:47:12,652 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.034
2025-10-04 03:47:12,652 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.033
2025-10-04 03:47:12,652 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.397
2025-10-04 03:47:12,652 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.375
2025-10-04 03:47:12,653 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.323
2025-10-04 03:47:12,653 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.323
2025-10-04 03:47:12,653 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.767
2025-10-04 03:47:12,654 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.23
2025-10-04 03:47:12,654 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.587
2025-10-04 03:47:12,654 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.799
2025-10-04 03:47:12,655 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3863.325
2025-10-04 03:47:12,655 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.674
2025-10-04 03:47:12,655 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.492
2025-10-04 03:47:12,656 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.889
2025-10-04 03:47:12,656 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3856.896
2025-10-04 03:47:12,656 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.764
2025-10-04 03:47:12,657 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3860.914
2025-10-04 03:47:12,657 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3858.651
2025-10-04 03:47:12,657 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.875
2025-10-04 03:47:12,658 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3866.346
2025-10-04 03:47:12,658 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.433
2025-10-04 03:47:12,658 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3862.134
2025-10-04 03:47:12,659 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.632
2025-10-04 03:47:12,659 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.646
2025-10-04 03:47:12,659 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3867.764
2025-10-04 03:47:12,659 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3863.432
2025-10-04 03:47:12,660 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3857.573
2025-10-04 03:47:12,661 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3861.856
2025-10-04 03:47:12,661 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3854.751
2025-10-04 03:47:12,662 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3859.152
2025-10-04 03:47:12,675 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3864.539
2025-10-04 03:47:12,676 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3861.067
2025-10-04 03:47:12,677 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.802
2025-10-04 03:47:12,677 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3865.218
2025-10-04 03:47:12,678 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3860.51
2025-10-04 03:47:12,679 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3869.209
2025-10-04 03:47:12,679 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3871.578
2025-10-04 03:47:12,680 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3875.963
2025-10-04 03:47:12,681 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3870.06
2025-10-04 03:47:12,681 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.583
2025-10-04 03:47:12,682 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.745
2025-10-04 03:47:12,684 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3890.722
2025-10-04 03:47:12,684 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.355
2025-10-04 03:47:12,685 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.03
2025-10-04 03:47:12,685 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3866.297
2025-10-04 03:47:12,685 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3880.206
2025-10-04 03:47:12,687 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3872.522
2025-10-04 03:47:12,687 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3881.461
2025-10-04 03:47:12,688 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3882.092
2025-10-04 03:47:12,688 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3873.943
2025-10-04 03:47:12,689 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.11
2025-10-04 03:47:12,690 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.454
2025-10-04 03:47:12,690 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.959
2025-10-04 03:47:12,691 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.056
2025-10-04 03:47:12,691 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3891.731
2025-10-04 03:47:12,692 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.593
2025-10-04 03:47:12,693 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.541
2025-10-04 03:47:12,694 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.221
2025-10-04 03:47:12,707 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.978
2025-10-04 03:47:12,709 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.364
2025-10-04 03:47:12,710 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.665
2025-10-04 03:47:12,710 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.771
2025-10-04 03:47:12,710 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3880.794
2025-10-04 03:47:12,711 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.077
2025-10-04 03:47:12,711 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3881.367
2025-10-04 03:47:12,711 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.794
2025-10-04 03:47:12,712 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.241
2025-10-04 03:47:12,712 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3876.944
2025-10-04 03:47:12,712 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3883.496
2025-10-04 03:47:12,713 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3879.981
2025-10-04 03:47:12,713 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.183
2025-10-04 03:47:12,714 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.245
2025-10-04 03:47:12,714 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.019
2025-10-04 03:47:12,714 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:47:12,715 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:47:12,715 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:47:12,715 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:47:12,715 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:12,716 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:47:12,716 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:12,716 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:47:12,718 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:12,718 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:47:12,718 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (11.93s < 300s), bỏ qua làm mới.
2025-10-04 03:47:12,719 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:47:12,719 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:12,719 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:47:12,720 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:12,720 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:47:12,721 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:12,721 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M5: {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}
2025-10-04 03:47:12,721 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:12,722 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 180 rates, current_price: 3887.107
2025-10-04 03:47:12,722 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:12,723 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2}
2025-10-04 03:47:12,724 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:12,724 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17}
2025-10-04 03:47:12,725 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:12,726 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27}
2025-10-04 03:47:12,726 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:12,727 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37}
2025-10-04 03:47:12,739 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:12,740 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40}
2025-10-04 03:47:12,740 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:12,741 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47}
2025-10-04 03:47:12,745 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:12,745 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48}
2025-10-04 03:47:12,755 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56}
2025-10-04 03:47:12,770 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:12,770 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63}
2025-10-04 03:47:12,771 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64}
2025-10-04 03:47:12,771 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68}
2025-10-04 03:47:12,771 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70}
2025-10-04 03:47:12,798 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:47:12,806 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81}
2025-10-04 03:47:12,848 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87}
2025-10-04 03:47:12,993 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88}
2025-10-04 03:47:13,027 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89}
2025-10-04 03:47:13,045 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106}
2025-10-04 03:47:13,058 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113}
2025-10-04 03:47:13,094 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119}
2025-10-04 03:47:13,103 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:13,113 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123}
2025-10-04 03:47:13,115 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:13,118 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124}
2025-10-04 03:47:13,147 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:13,151 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135}
2025-10-04 03:47:13,153 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:13,154 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142}
2025-10-04 03:47:13,156 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:13,156 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149}
2025-10-04 03:47:13,157 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:13,157 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151}
2025-10-04 03:47:13,159 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:13,159 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155}
2025-10-04 03:47:13,161 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:13,174 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163}
2025-10-04 03:47:13,174 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:13,175 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171}
2025-10-04 03:47:13,178 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:13,179 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:47:13,180 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:13,184 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:47:13,184 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:13,186 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3857.366, 'bottom': 3855.537, 'created_at_bar': 2} đã được fill.
2025-10-04 03:47:13,187 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3861.538, 'bottom': 3860.766, 'created_at_bar': 17} đã được fill.
2025-10-04 03:47:13,187 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:13,188 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.453, 'bottom': 3862.977, 'created_at_bar': 27} đã được fill.
2025-10-04 03:47:13,188 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:13,190 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.918, 'bottom': 3862.112, 'created_at_bar': 37} đã được fill.
2025-10-04 03:47:13,194 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:13,209 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3860.173, 'bottom': 3859.663, 'created_at_bar': 40} đã được fill.
2025-10-04 03:47:13,212 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:13,213 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.329, 'bottom': 3860.551, 'created_at_bar': 47} đã được fill.
2025-10-04 03:47:13,214 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:13,215 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3864.1, 'bottom': 3862.887, 'created_at_bar': 48} đã được fill.
2025-10-04 03:47:13,216 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:13,217 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3865.187, 'bottom': 3863.792, 'created_at_bar': 56} đã được fill.
2025-10-04 03:47:13,218 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:13,218 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3863.572, 'bottom': 3862.454, 'created_at_bar': 63} đã được fill.
2025-10-04 03:47:13,219 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:13,220 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3862.176, 'bottom': 3861.782, 'created_at_bar': 64} đã được fill.
2025-10-04 03:47:13,222 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:13,222 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3859.75, 'bottom': 3859.738, 'created_at_bar': 68} đã được fill.
2025-10-04 03:47:13,223 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:13,224 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3862.101, 'bottom': 3861.227, 'created_at_bar': 70} đã được fill.
2025-10-04 03:47:13,225 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:13,237 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3866.532, 'bottom': 3864.184, 'created_at_bar': 79}
2025-10-04 03:47:13,237 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:13,238 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3869.428, 'bottom': 3868.669, 'created_at_bar': 81} đã được fill.
2025-10-04 03:47:13,239 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:13,239 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3875.913, 'bottom': 3875.909, 'created_at_bar': 87} đã được fill.
2025-10-04 03:47:13,240 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:13.240038+07:00
2025-10-04 03:47:13,240 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3879.18, 'bottom': 3877.902, 'created_at_bar': 88} đã được fill.
2025-10-04 03:47:13,240 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:13.240038+07:00
2025-10-04 03:47:13,241 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3880.779, 'bottom': 3880.054, 'created_at_bar': 89} đã được fill.
2025-10-04 03:47:13,241 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:13.240038+07:00 trong DST: True
2025-10-04 03:47:13,241 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3876.293, 'bottom': 3876.228, 'created_at_bar': 106} đã được fill.
2025-10-04 03:47:13,242 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:13,242 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.051, 'bottom': 3881.208, 'created_at_bar': 113} đã được fill.
2025-10-04 03:47:13,243 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:13,243 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3889.03, 'bottom': 3887.666, 'created_at_bar': 119} đã được fill.
2025-10-04 03:47:13,243 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:13,244 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.215, 'bottom': 3886.625, 'created_at_bar': 123} đã được fill.
2025-10-04 03:47:13,244 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:13,244 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.286, 'bottom': 3884.202, 'created_at_bar': 124} đã được fill.
2025-10-04 03:47:13,245 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:13,245 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3883.669, 'bottom': 3883.659, 'created_at_bar': 135} đã được fill.
2025-10-04 03:47:13,245 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:13,246 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3882.755, 'bottom': 3882.116, 'created_at_bar': 142} đã được fill.
2025-10-04 03:47:13,246 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:13,247 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3884.125, 'bottom': 3883.533, 'created_at_bar': 149} đã được fill.
2025-10-04 03:47:13,247 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:13,248 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.792, 'bottom': 3885.187, 'created_at_bar': 151} đã được fill.
2025-10-04 03:47:13,249 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:13,249 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3887.991, 'bottom': 3887.317, 'created_at_bar': 155} đã được fill.
2025-10-04 03:47:13,249 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:13,250 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.201, 'created_at_bar': 163} đã được fill.
2025-10-04 03:47:13,250 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.142, 'bottom': 3885.259, 'created_at_bar': 171} đã được fill.
2025-10-04 03:47:13,250 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:13,251 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.452, 'bottom': 3885.106, 'created_at_bar': 178}
2025-10-04 03:47:13,251 - src.core.chart_tab - DEBUG - Lý do No-Trade: (none)
2025-10-04 03:47:13,251 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179}
2025-10-04 03:47:13,252 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:13,252 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}
2025-10-04 03:47:13,253 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:13,253 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041, 'created_at_bar': 179, 'lo': 3886.041, 'hi': 3886.225}]
2025-10-04 03:47:13,253 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:13,254 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 180 rates, lookback: 100
2025-10-04 03:47:13,254 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:13,255 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}
2025-10-04 03:47:13,256 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:13,256 - src.core.ict_analysis - DEBUG - Nearest Bearish OB: {'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}
2025-10-04 03:47:13,257 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:13,268 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119, 'lo': 3889.03, 'hi': 3891.731, 'type': 'bear'}]
2025-10-04 03:47:13,268 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:13,269 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 180 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:47:13,270 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:13,270 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3891.731, 'range_low': 3850.904, 'equilibrium': 3871.3175, 'status': 'Premium'}
2025-10-04 03:47:13,271 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:13,271 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 180 rates, lookback: 150
2025-10-04 03:47:13,271 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:13,271 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3865.008, 'bottom': 3860.927, 'bar_index': 36}
2025-10-04 03:47:13,272 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3862.887, 'bottom': 3859.58, 'bar_index': 46}
2025-10-04 03:47:13,273 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3870.803, 'bottom': 3867.239, 'bar_index': 80}
2025-10-04 03:47:13,281 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3876.096, 'bottom': 3866.937, 'bar_index': 99}
2025-10-04 03:47:13,294 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3880.702, 'bottom': 3874.123, 'bar_index': 105}
2025-10-04 03:47:13,302 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.733, 'bottom': 3879.22, 'bar_index': 112}
2025-10-04 03:47:13,304 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.625, 'bottom': 3880.942, 'bar_index': 123}
2025-10-04 03:47:13,310 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.202, 'bottom': 3880.541, 'bar_index': 124}
2025-10-04 03:47:13,311 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3885.241, 'bottom': 3881.17, 'bar_index': 141}
2025-10-04 03:47:13,312 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3882.461, 'bottom': 3877.896, 'bar_index': 143}
2025-10-04 03:47:13,313 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}
2025-10-04 03:47:13,318 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}
2025-10-04 03:47:13,319 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}
2025-10-04 03:47:13,321 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}]
2025-10-04 03:47:13,324 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M5 đã được tính.
2025-10-04 03:47:13,324 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 180 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:47:13,567 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:47:13,690 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:47:13,736 - src.utils.mt5_utils - DEBUG - MSS cho M5 đã được tính.
2025-10-04 03:47:13,765 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_levels với 120 rates, lookback: 200
2025-10-04 03:47:13,767 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.619
2025-10-04 03:47:13,770 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.222
2025-10-04 03:47:13,771 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.571
2025-10-04 03:47:13,773 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.765
2025-10-04 03:47:13,774 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.268
2025-10-04 03:47:13,775 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.256
2025-10-04 03:47:13,779 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.93
2025-10-04 03:47:13,780 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.688
2025-10-04 03:47:13,781 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.607
2025-10-04 03:47:13,782 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.443
2025-10-04 03:47:13,783 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.378
2025-10-04 03:47:13,783 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.098
2025-10-04 03:47:13,784 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.201
2025-10-04 03:47:13,787 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.802
2025-10-04 03:47:13,788 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.204
2025-10-04 03:47:13,788 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.989
2025-10-04 03:47:13,789 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.087
2025-10-04 03:47:13,790 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.291
2025-10-04 03:47:13,791 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.969
2025-10-04 03:47:13,792 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3887.541
2025-10-04 03:47:13,792 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.413
2025-10-04 03:47:13,793 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.942
2025-10-04 03:47:13,793 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.384
2025-10-04 03:47:13,794 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.35
2025-10-04 03:47:13,795 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.835
2025-10-04 03:47:13,796 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3888.014
2025-10-04 03:47:13,797 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.179
2025-10-04 03:47:13,797 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.902
2025-10-04 03:47:13,798 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3889.197
2025-10-04 03:47:13,799 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.942
2025-10-04 03:47:13,799 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.604
2025-10-04 03:47:13,800 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.103
2025-10-04 03:47:13,801 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.859
2025-10-04 03:47:13,802 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.29
2025-10-04 03:47:13,802 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.755
2025-10-04 03:47:13,803 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.023
2025-10-04 03:47:13,803 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.154
2025-10-04 03:47:13,804 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.079
2025-10-04 03:47:13,805 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.142
2025-10-04 03:47:13,805 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.8
2025-10-04 03:47:13,806 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.876
2025-10-04 03:47:13,807 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.634
2025-10-04 03:47:13,808 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.689
2025-10-04 03:47:13,809 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.259
2025-10-04 03:47:13,810 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.227
2025-10-04 03:47:13,810 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.176
2025-10-04 03:47:13,811 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.077
2025-10-04 03:47:13,811 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.111
2025-10-04 03:47:13,811 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.684
2025-10-04 03:47:13,812 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.739
2025-10-04 03:47:13,812 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.335
2025-10-04 03:47:13,815 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.539
2025-10-04 03:47:13,816 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3882.907
2025-10-04 03:47:13,817 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.647
2025-10-04 03:47:13,818 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3884.692
2025-10-04 03:47:13,818 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3883.989
2025-10-04 03:47:13,819 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.106
2025-10-04 03:47:13,819 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.259
2025-10-04 03:47:13,820 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3885.124
2025-10-04 03:47:13,821 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3884.332
2025-10-04 03:47:13,822 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3885.136
2025-10-04 03:47:13,822 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3886.321
2025-10-04 03:47:13,823 - src.core.ict_analysis - DEBUG - Tìm thấy Swing High: 3887.003
2025-10-04 03:47:13,824 - src.core.ict_analysis - DEBUG - Tìm thấy Swing Low: 3886.225
2025-10-04 03:47:13,825 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_levels. Kết quả: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:47:13,827 - src.utils.mt5_utils - DEBUG - Liquidity levels cho M1: {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3889.179, 'bar_index': -27}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.739, 'bar_index': 8}, {'price': 3883.989, 'bar_index': 22}]}
2025-10-04 03:47:13,828 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_fvgs với 120 rates, current_price: 3887.107
2025-10-04 03:47:13,828 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7}
2025-10-04 03:47:13,829 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12}
2025-10-04 03:47:13,830 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13}
2025-10-04 03:47:13,831 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37}
2025-10-04 03:47:13,831 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49}
2025-10-04 03:47:13,833 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51}
2025-10-04 03:47:13,833 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58}
2025-10-04 03:47:13,835 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64}
2025-10-04 03:47:13,835 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76}
2025-10-04 03:47:13,836 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87}
2025-10-04 03:47:13,837 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94}
2025-10-04 03:47:13,837 - src.core.ict_analysis - DEBUG - Tìm thấy Bearish FVG: {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95}
2025-10-04 03:47:13,839 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:47:13,840 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:47:13,841 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3885.819, 'bottom': 3885.545, 'created_at_bar': 7} đã được fill.
2025-10-04 03:47:13,842 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478, 'created_at_bar': 12} đã được fill.
2025-10-04 03:47:13,842 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.441, 'bottom': 3886.962, 'created_at_bar': 13} đã được fill.
2025-10-04 03:47:13,843 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3887.511, 'bottom': 3887.074, 'created_at_bar': 37} đã được fill.
2025-10-04 03:47:13,844 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.774, 'bottom': 3886.328, 'created_at_bar': 49} đã được fill.
2025-10-04 03:47:13,844 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.789, 'bottom': 3886.328, 'created_at_bar': 51} đã được fill.
2025-10-04 03:47:13,846 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3886.594, 'bottom': 3886.463, 'created_at_bar': 58} đã được fill.
2025-10-04 03:47:13,847 - src.core.ict_analysis - DEBUG - Bullish FVG {'type': 'Bullish', 'top': 3886.277, 'bottom': 3885.776, 'created_at_bar': 64} đã được fill.
2025-10-04 03:47:13,848 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3885.955, 'bottom': 3885.369, 'created_at_bar': 76} đã được fill.
2025-10-04 03:47:13,849 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.351, 'bottom': 3884.075, 'created_at_bar': 87} đã được fill.
2025-10-04 03:47:13,892 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3884.088, 'bottom': 3883.721, 'created_at_bar': 94} đã được fill.
2025-10-04 03:47:13,897 - src.core.ict_analysis - DEBUG - Bearish FVG {'type': 'Bearish', 'top': 3883.638, 'bottom': 3883.629, 'created_at_bar': 95} đã được fill.
2025-10-04 03:47:13,898 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3885.18, 'bottom': 3884.99, 'created_at_bar': 110}
2025-10-04 03:47:13,899 - src.core.ict_analysis - DEBUG - FVG chưa được fill: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115}
2025-10-04 03:47:13,899 - src.core.ict_analysis - DEBUG - Nearest Bullish FVG: {'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}
2025-10-04 03:47:13,900 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_fvgs. Kết quả: [{'type': 'Bullish', 'top': 3886.21, 'bottom': 3886.085, 'created_at_bar': 115, 'lo': 3886.085, 'hi': 3886.21}]
2025-10-04 03:47:13,900 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_order_blocks với 120 rates, lookback: 100
2025-10-04 03:47:13,902 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}
2025-10-04 03:47:13,902 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3884.99, 'bottom': 3884.601, 'bar_index': 108}
2025-10-04 03:47:13,903 - src.core.ict_analysis - DEBUG - Tìm thấy Bullish OB: {'top': 3883.629, 'bottom': 3882.907, 'bar_index': 95}
2025-10-04 03:47:13,904 - src.core.ict_analysis - DEBUG - Nearest Bullish OB: {'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}
2025-10-04 03:47:13,904 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_order_blocks. Kết quả: [{'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117, 'lo': 3886.225, 'hi': 3886.733, 'type': 'bull'}]
2025-10-04 03:47:13,905 - src.core.ict_analysis - DEBUG - Bắt đầu hàm analyze_premium_discount với 120 rates, current_price: 3887.107, lookback: 200
2025-10-04 03:47:13,906 - src.core.ict_analysis - DEBUG - Kết thúc hàm analyze_premium_discount. Kết quả: {'range_high': 3889.197, 'range_low': 3882.907, 'equilibrium': 3886.052, 'status': 'Premium'}
2025-10-04 03:47:13,906 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_liquidity_voids với 120 rates, lookback: 150
2025-10-04 03:47:13,907 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.089, 'bottom': 3884.19, 'bar_index': -24}
2025-10-04 03:47:13,907 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.116, 'bottom': 3886.654, 'bar_index': -18}
2025-10-04 03:47:13,908 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.074, 'bottom': 3886.291, 'bar_index': 5}
2025-10-04 03:47:13,908 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3888.175, 'bottom': 3886.941, 'bar_index': 6}
2025-10-04 03:47:13,909 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.915, 'bottom': 3886.012, 'bar_index': 20}
2025-10-04 03:47:13,909 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3887.29, 'bottom': 3885.292, 'bar_index': 33}
2025-10-04 03:47:13,910 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3887.079, 'bottom': 3886.283, 'bar_index': 40}
2025-10-04 03:47:13,910 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3886.074, 'bottom': 3884.806, 'bar_index': 45}
2025-10-04 03:47:13,928 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.334, 'bottom': 3883.739, 'bar_index': 58}
2025-10-04 03:47:13,928 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}
2025-10-04 03:47:13,929 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}
2025-10-04 03:47:13,929 - src.core.ict_analysis - DEBUG - Tìm thấy Liquidity Void: {'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}
2025-10-04 03:47:13,930 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_liquidity_voids. Kết quả: [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}]
2025-10-04 03:47:13,931 - src.utils.mt5_utils - DEBUG - FVGs, OBs, Premium/Discount, Liquidity Voids cho M1 đã được tính.
2025-10-04 03:47:13,934 - src.core.ict_analysis - DEBUG - Bắt đầu hàm find_market_structure_shift với 120 rates, 5 swing_highs, 5 swing_lows.
2025-10-04 03:47:13,934 - src.core.ict_analysis - DEBUG - Không đủ highs hoặc lows để xác định trend.
2025-10-04 03:47:13,935 - src.core.ict_analysis - DEBUG - Kết thúc hàm find_market_structure_shift (không đủ highs/lows).
2025-10-04 03:47:13,936 - src.utils.mt5_utils - DEBUG - MSS cho M1 đã được tính.
2025-10-04 03:47:13,937 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:13,937 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:47:13,938 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:47:13,940 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:47:13,941 - src.utils.mt5_utils - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-04 03:47:13,943 - src.utils.mt5_utils - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-04 03:47:13,944 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:13,946 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:47:13,957 - src.utils.mt5_utils - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-04 03:47:13,958 - src.utils.safe_data - DEBUG - Khởi tạo SafeMT5Data với data có: True
2025-10-04 03:47:13,958 - src.utils.mt5_utils - DEBUG - Đã tạo SafeMT5Data object.
2025-10-04 03:47:13,959 - src.utils.mt5_utils - DEBUG - Kết thúc build_context.
2025-10-04 03:47:13,959 - src.utils.mt5_utils - DEBUG - Kết thúc build_context_from_app.
2025-10-04 03:47:13,960 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:47:13,960 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:47:13,960 - src.core.worker_modules.context_coordinator - DEBUG - Đã lấy dữ liệu MT5. MT5 enabled: True, dữ liệu có: True
2025-10-04 03:47:13,961 - src.core.worker_modules.context_coordinator - DEBUG - MT5 data có sẵn, bắt đầu phân tích tin tức.
2025-10-04 03:47:13,961 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: False, TTL: 300.
2025-10-04 03:47:13,961 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: False, TTL: 300
2025-10-04 03:47:13,961 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (13.17s < 300s), bỏ qua làm mới.
2025-10-04 03:47:13,962 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:13,962 - src.core.worker_modules.context_coordinator - DEBUG - Đã refresh news cache.
2025-10-04 03:47:13,962 - src.services.news - DEBUG - Bắt đầu hàm is_within_news_window cho symbol: XAUUSD, before: 15, after: 15.
2025-10-04 03:47:13,962 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:13,963 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:13,963 - src.services.news - DEBUG - Không có event nào trong cửa sổ tin tức.
2025-10-04 03:47:13,964 - src.services.news - DEBUG - Kết thúc hàm is_within_news_window (ngoài cửa sổ).
2025-10-04 03:47:13,964 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:13,965 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:13,965 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:13,965 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:13,966 - src.core.worker_modules.context_coordinator - DEBUG - Đã phân tích tin tức. Trong cửa sổ tin tức: False, lý do: None.
2025-10-04 03:47:13,966 - src.core.worker_modules.context_coordinator - DEBUG - Đã tạo mt5_json_full.
2025-10-04 03:47:13,967 - src.core.worker_modules.context_coordinator - DEBUG - Kết thúc hàm prepare_and_build_context.
2025-10-04 03:47:13,967 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:47:13,967 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 136037.1829222
2025-10-04 03:47:13,968 - src.ui.app_ui - DEBUG - Cập nhật UI status: Context+MT5 xong trong 3.32s
2025-10-04 03:47:13,968 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Context+MT5 xong trong 3.32s
2025-10-04 03:47:13,968 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:13,969 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Context+MT5 xong trong 3.32s
2025-10-04 03:47:13,969 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:13,970 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:13,971 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:13,971 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:13,971 - src.core.worker_modules.main_worker - DEBUG - Bắt đầu hàm _tnow.
2025-10-04 03:47:13,972 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:13,972 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm _tnow. Thời gian: 136037.1874561
2025-10-04 03:47:13,973 - src.core.worker_modules.main_worker - DEBUG - Context+MT5 xong trong 3.32s.
2025-10-04 03:47:13,998 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_all_preconditions.
2025-10-04 03:47:14,001 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm check_no_run_conditions.
2025-10-04 03:47:14,003 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm check_no_run_conditions. Kết quả: True, Lý do: Đang chạy trong các điều kiện cho phép.
2025-10-04 03:47:14,006 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:14,007 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Bắt đầu hàm evaluate_no_trade_conditions.
2025-10-04 03:47:14,012 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:14,017 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:14,018 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:14,019 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:47:14,019 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:14,020 - src.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-04 03:47:14,021 - src.services.news - DEBUG - Bắt đầu hàm is_within_news_window cho symbol: XAUUSD, before: 15, after: 15.
2025-10-04 03:47:14,021 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:14,021 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:14,022 - src.services.news - DEBUG - Không có event nào trong cửa sổ tin tức.
2025-10-04 03:47:14,022 - src.services.news - DEBUG - Kết thúc hàm is_within_news_window (ngoài cửa sổ).
2025-10-04 03:47:14,022 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: spread_current, default: 0
2025-10-04 03:47:14,022 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-04 03:47:14,023 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-04 03:47:14,023 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'point' trong dict. Giá trị: 0.001
2025-10-04 03:47:14,024 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:14,024 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:14,025 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:47:14,025 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:47:14,025 - src.utils.mt5_utils - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-04 03:47:14,026 - src.utils.mt5_utils - DEBUG - Tìm thấy key 'point' trong dict. Giá trị: 0.001
2025-10-04 03:47:14,026 - src.utils.mt5_utils - DEBUG - Bắt đầu pip_size_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:14,026 - src.utils.mt5_utils - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-04 03:47:14,027 - src.utils.mt5_utils - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-04 03:47:14,027 - src.utils.mt5_utils - DEBUG - Kết thúc pip_size_from_info. Point: 0.001, PPP: 10, Pip Size: 0.01
2025-10-04 03:47:14,028 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:14,028 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:14,028 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:14.028720+07:00
2025-10-04 03:47:14,029 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:14.028720+07:00
2025-10-04 03:47:14,029 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:14.028720+07:00 trong DST: True
2025-10-04 03:47:14,029 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:14,030 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:14,030 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:14,031 - src.core.worker_modules.no_run_trade_conditions - DEBUG - Kết thúc hàm evaluate_no_trade_conditions. Kết quả: False, Lý do: ['Spread quá cao (3.70 pips > 1.20 pips).']
2025-10-04 03:47:14,035 - src.core.worker_modules.main_worker - ERROR - Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'
Traceback (most recent call last):
  File "C:\tool\app_gemini\src\core\worker_modules\main_worker.py", line 152, in run_analysis_worker
    should_proceed_trade, no_trade_reason = no_run_trade_conditions.check_all_preconditions(
                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        app, cfg, safe_mt5_data, mt5_dict, context_block, mt5_json_full
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\src\core\worker_modules\no_run_trade_conditions.py", line 221, in check_all_preconditions
    "t": app._tnow_str(), # Sử dụng hàm _tnow_str từ app
         ^^^^^^^^^^^^^
AttributeError: 'TradingToolApp' object has no attribute '_tnow_str'
2025-10-04 03:47:14,050 - src.ui.app_ui - DEBUG - Cập nhật UI status: Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'
2025-10-04 03:47:14,051 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'
2025-10-04 03:47:14,051 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:14,051 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'
2025-10-04 03:47:14,052 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:14,053 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:14,053 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:14,054 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:14,054 - src.utils.ui_utils - DEBUG - Cập nhật UI detail text. Độ dài: 851
2025-10-04 03:47:14,054 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:14,055 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:14,056 - src.core.worker_modules.main_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất, lưu trữ và dọn dẹp.
2025-10-04 03:47:14,057 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 0: Hoàn tất.
2025-10-04 03:47:14,058 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:14,059 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 1: Hoàn tất.
2025-10-04 03:47:14,059 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:14,060 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 2: Hoàn tất.
2025-10-04 03:47:14,060 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:14,061 - src.ui.app_ui - DEBUG - Cập nhật trạng thái tree row 3: Hoàn tất.
2025-10-04 03:47:14,062 - src.utils.ui_utils - DEBUG - Enqueueing function: action
2025-10-04 03:47:14,062 - src.core.worker_modules.main_worker - DEBUG - Trạng thái UI đã được cập nhật thành 'Hoàn tất'.
2025-10-04 03:47:14,063 - src.utils.md_saver - DEBUG - Bắt đầu save_md_report.
2025-10-04 03:47:14,063 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:47:14,063 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:47:14,064 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:47:14,064 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:47:14,065 - src.utils.md_saver - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\report_20251004_034714.md
2025-10-04 03:47:14,065 - src.utils.md_saver - DEBUG - Bắt đầu extract_human_readable_report.
2025-10-04 03:47:14,066 - src.utils.md_saver - DEBUG - Không tìm thấy header 'NHIỆM VỤ 2', trả về toàn bộ text.
2025-10-04 03:47:14,069 - src.utils.md_saver - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251004_034714.md
2025-10-04 03:47:14,081 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:14,084 - src.utils.utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, pattern: report_*.md, giữ lại: 10 file.
2025-10-04 03:47:14,084 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:14,085 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:14,086 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:14,089 - src.utils.utils - DEBUG - Đã xóa file cũ: report_20251003_084619.md
2025-10-04 03:47:14,090 - src.utils.utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-04 03:47:14,090 - src.utils.md_saver - DEBUG - Đã dọn dẹp các file Markdown cũ.
2025-10-04 03:47:14,091 - src.utils.md_saver - DEBUG - Kết thúc save_md_report.
2025-10-04 03:47:14,091 - src.core.worker_modules.main_worker - DEBUG - Báo cáo Markdown đã lưu tại: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports\report_20251004_034714.md
2025-10-04 03:47:14,091 - src.utils.json_saver - DEBUG - Bắt đầu hàm save_json_report.
2025-10-04 03:47:14,092 - src.ui.app_ui - DEBUG - Gọi history_manager._get_reports_dir từ UI. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:47:14,092 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-04 03:47:14,093 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:47:14,093 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:47:14,094 - src.utils.json_saver - DEBUG - Thư mục reports: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, timestamp: 20251004_034714.
2025-10-04 03:47:14,094 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Cảnh báo: Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:47:14,095 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:14,095 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Cảnh báo: Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:47:14,096 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:14,097 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:14,098 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:14,099 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:14,100 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:14,100 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:14,115 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:14,119 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:14,121 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:14,137 - src.utils.json_saver - WARNING - Không tìm thấy khối JSON nào để lưu.
2025-10-04 03:47:14,145 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:14,146 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:14,146 - src.utils.report_parser - DEBUG - Bắt đầu extract_summary_lines.
2025-10-04 03:47:14,147 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:14,147 - src.utils.report_parser - DEBUG - Kết thúc extract_summary_lines. High Prob: False
2025-10-04 03:47:14,147 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: action
2025-10-04 03:47:14,148 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:14,148 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:47:14,148 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:14,148 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:14,149 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:47:14,149 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:47:14,150 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: '[LỖI PHÂN TÍCH] Đã xảy ra lỗi.'
2025-10-04 03:47:14,150 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:47:14,151 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:47:14,151 - src.utils.json_saver - DEBUG - Đã parse và lưu plan: {'direction': None}
2025-10-04 03:47:14,151 - src.utils.json_saver - DEBUG - Đã đặt cycle: 2025-10-04 03:47:14
2025-10-04 03:47:14,151 - src.ui.app_ui - DEBUG - Tạo bản đồ khung thời gian cho 4 ảnh.
2025-10-04 03:47:14,152 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm images_tf_map với 4 tên file.
2025-10-04 03:47:14,152 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_H1.png.
2025-10-04 03:47:14,153 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_H1.png
2025-10-04 03:47:14,153 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern '(?<![a-z0-9])(?:h1|1h)(?![a-z0-9])'.
2025-10-04 03:47:14,153 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:47:14,153 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M1.png.
2025-10-04 03:47:14,154 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M1.png
2025-10-04 03:47:14,154 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern '(?<![a-z0-9])(?:m1|1m)(?![a-z0-9])'.
2025-10-04 03:47:14,154 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:47:14,155 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M15.png.
2025-10-04 03:47:14,155 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M15.png
2025-10-04 03:47:14,155 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern '(?<![a-z0-9])(?:m15|15m)(?![a-z0-9])'.
2025-10-04 03:47:14,156 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:47:14,156 - src.ui.app_ui - DEBUG - Gọi timeframe_detector._detect_timeframe_from_name từ UI. Tên file: XAUUSD_M5.png.
2025-10-04 03:47:14,156 - src.ui.timeframe_detector - DEBUG - Bắt đầu hàm _detect_timeframe_from_name cho tên file: XAUUSD_M5.png
2025-10-04 03:47:14,156 - src.ui.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern '(?<![a-z0-9])(?:m5|5m)(?![a-z0-9])'.
2025-10-04 03:47:14,157 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm _detect_timeframe_from_name.
2025-10-04 03:47:14,157 - src.ui.timeframe_detector - DEBUG - Kết thúc hàm images_tf_map. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-04 03:47:14,157 - src.utils.json_saver - DEBUG - Đã tạo và lưu images_tf_map.
2025-10-04 03:47:14,159 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã lưu thành công file: ctx_20251004_034714.json
2025-10-04 03:47:14,159 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:14,159 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã lưu thành công file: ctx_20251004_034714.json
2025-10-04 03:47:14,168 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:14,177 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:14,177 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:14,177 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:14,178 - src.utils.json_saver - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251004_034714.json
2025-10-04 03:47:14,178 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:14,179 - src.utils.utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports, pattern: ctx_*.json, giữ lại: 10 file.
2025-10-04 03:47:14,181 - src.utils.utils - DEBUG - Đã xóa file cũ: ctx_20251003_084619.json
2025-10-04 03:47:14,181 - src.utils.utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-04 03:47:14,181 - src.utils.json_saver - DEBUG - Đã dọn dẹp các file JSON cũ.
2025-10-04 03:47:14,182 - src.utils.report_parser - DEBUG - Bắt đầu parse_setup_from_report.
2025-10-04 03:47:14,182 - src.utils.report_parser - DEBUG - Bắt đầu extract_json_block_prefer.
2025-10-04 03:47:14,182 - src.utils.report_parser - DEBUG - Không tìm thấy JSON block hợp lệ nào.
2025-10-04 03:47:14,183 - src.utils.report_parser - DEBUG - Bắt đầu parse_direction_from_line1 cho dòng: '[LỖI PHÂN TÍCH] Đã xảy ra lỗi.'
2025-10-04 03:47:14,183 - src.utils.report_parser - DEBUG - Không xác định được hướng lệnh, trả về None.
2025-10-04 03:47:14,183 - src.utils.report_parser - DEBUG - Kết thúc parse_setup_from_report. Setup: {'direction': None}
2025-10-04 03:47:14,184 - src.utils.json_saver - DEBUG - Kết thúc hàm save_json_report.
2025-10-04 03:47:14,184 - src.core.worker_modules.main_worker - DEBUG - Báo cáo JSON đã lưu.
2025-10-04 03:47:14,184 - src.utils.ui_utils - DEBUG - Yêu cầu làm mới history list.
2025-10-04 03:47:14,185 - src.utils.ui_utils - DEBUG - Enqueueing function: _refresh_history_list
2025-10-04 03:47:14,185 - src.utils.ui_utils - DEBUG - Yêu cầu làm mới JSON list.
2025-10-04 03:47:14,185 - src.utils.ui_utils - DEBUG - Enqueueing function: _refresh_json_list
2025-10-04 03:47:14,185 - src.core.worker_modules.main_worker - DEBUG - Danh sách lịch sử và JSON trên UI đã được làm mới.
2025-10-04 03:47:14,186 - src.ui.app_ui - DEBUG - Gọi app_logic._maybe_notify_telegram từ UI.
2025-10-04 03:47:14,186 - src.core.app_logic - DEBUG - Bắt đầu hàm _maybe_notify_telegram.
2025-10-04 03:47:14,186 - src.core.app_logic - DEBUG - Bắt đầu _maybe_notify_telegram. Telegram enabled: False, Report text length: 851.
2025-10-04 03:47:14,187 - src.core.app_logic - DEBUG - Telegram không được bật hoặc không có báo cáo, bỏ qua gửi Telegram.
2025-10-04 03:47:14,187 - src.core.app_logic - DEBUG - Kết thúc _maybe_notify_telegram (Telegram không bật hoặc không có báo cáo).
2025-10-04 03:47:14,187 - src.core.worker_modules.main_worker - DEBUG - Đã kiểm tra và gửi thông báo Telegram (nếu có).
2025-10-04 03:47:14,188 - src.ui.app_ui - DEBUG - Cập nhật tiến độ UI: 0.0%
2025-10-04 03:47:14,188 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:14,188 - src.utils.ui_utils - DEBUG - Enqueueing function: _finalize_done
2025-10-04 03:47:14,189 - src.core.worker_modules.main_worker - DEBUG - Kết thúc hàm run_analysis_worker.
2025-10-04 03:47:14,208 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:14,209 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:14,209 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:14,210 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:14,230 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:14,230 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_history_list từ UI.
2025-10-04 03:47:14,231 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_history_list.
2025-10-04 03:47:14,232 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:47:14,233 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:47:14,233 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:47:14,235 - src.ui.history_manager - DEBUG - Đã làm mới history list với 10 file.
2025-10-04 03:47:14,236 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_history_list.
2025-10-04 03:47:14,237 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _refresh_history_list
2025-10-04 03:47:14,237 - src.ui.app_ui - DEBUG - Gọi history_manager._refresh_json_list từ UI.
2025-10-04 03:47:14,238 - src.ui.history_manager - DEBUG - Bắt đầu hàm _refresh_json_list.
2025-10-04 03:47:14,238 - src.ui.history_manager - DEBUG - Bắt đầu hàm _get_reports_dir. Folder override: None
2025-10-04 03:47:14,239 - src.ui.history_manager - DEBUG - Đã lấy reports dir: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-04 03:47:14,239 - src.ui.history_manager - DEBUG - Kết thúc hàm _get_reports_dir.
2025-10-04 03:47:14,241 - src.ui.history_manager - DEBUG - Đã làm mới JSON list với 10 file.
2025-10-04 03:47:14,241 - src.ui.history_manager - DEBUG - Kết thúc hàm _refresh_json_list.
2025-10-04 03:47:14,242 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _refresh_json_list
2025-10-04 03:47:14,242 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:14,243 - src.ui.app_ui - DEBUG - Gọi app_logic._finalize_stopped từ UI (finalize_done).
2025-10-04 03:47:14,243 - src.core.app_logic - DEBUG - Bắt đầu _finalize_stopped.
2025-10-04 03:47:14,244 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Đã dừng.
2025-10-04 03:47:14,245 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:14,245 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Đã dừng.
2025-10-04 03:47:14,245 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:14,246 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:14,247 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:14,247 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:14,248 - src.core.app_logic - DEBUG - Bắt đầu _schedule_next_autorun.
2025-10-04 03:47:14,249 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:14,250 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Tự động chạy sau 60s.
2025-10-04 03:47:14,252 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:14,252 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Tự động chạy sau 60s.
2025-10-04 03:47:14,253 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:14,257 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:14,257 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:14,271 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:14,273 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:14,274 - src.core.app_logic - INFO - Đã lên lịch auto-run tiếp theo sau 60 giây.
2025-10-04 03:47:14,275 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:14,275 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:14,277 - src.core.app_logic - DEBUG - Kết thúc _schedule_next_autorun.
2025-10-04 03:47:14,278 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:14,280 - src.core.app_logic - DEBUG - Kết thúc _finalize_stopped.
2025-10-04 03:47:14,280 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:14,281 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: _finalize_done
2025-10-04 03:47:14,300 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:14,302 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:14,303 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:14,317 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:14,318 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:14,319 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:14,321 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:14,321 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:14,333 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:14,392 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (13.60s < 300s), bỏ qua làm mới.
2025-10-04 03:47:14,533 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:14,593 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:14,611 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:14,663 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:14,674 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:14,675 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:14,675 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:14,676 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:14,676 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:14,676 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:14,680 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:14,700 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:14,866 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:14,867 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:14,868 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:14,870 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:14,870 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:14,870 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:14,871 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:14,873 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:14,873 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:14,874 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:14,874 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:14,875 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:14,889 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:14,890 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:14,890 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:14,890 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:14,891 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:14,891 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:14,892 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:14,892 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:14,892 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:14,893 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:14,893 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:14,894 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:14,894 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:14,895 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:14.895029+07:00
2025-10-04 03:47:14,895 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:14.895029+07:00
2025-10-04 03:47:14,896 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:14.895029+07:00 trong DST: True
2025-10-04 03:47:14,896 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:14,896 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:14,897 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:14,897 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:14,897 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:14,898 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:14,899 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:14,899 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:14,902 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:14,902 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:14,903 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:14,904 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:14,904 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:14,905 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:14,905 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:14,906 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:14,906 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:14,907 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:14,907 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:14,907 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:14,908 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:14,910 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:15,908 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:15,909 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:15,909 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:15,909 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (15.12s < 300s), bỏ qua làm mới.
2025-10-04 03:47:15,910 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:15,910 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:15,910 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:15,911 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:15,911 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:15,911 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:15,912 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:15,912 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:15,912 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:15,912 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:15,915 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:15,956 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:16,119 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:16,214 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:16,343 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:16,374 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:16,376 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:16,379 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:16,382 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:16,446 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:16,455 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:16,457 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:16,459 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:16,460 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:16,461 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:16,462 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:16,463 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:16,466 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:16,466 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:16,467 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:16,468 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:16,468 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:16,469 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:16,469 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:16,469 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:16,470 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:16,472 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:16,489 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:16.489627+07:00
2025-10-04 03:47:16,491 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:16.489627+07:00
2025-10-04 03:47:16,491 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:16.489627+07:00 trong DST: True
2025-10-04 03:47:16,492 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:16,492 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:16,492 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:16,493 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:16,494 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:16,497 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:16,497 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:16,520 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:16,523 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:16,549 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:16,565 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:16,583 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:16,583 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:16,584 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:16,584 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:16,585 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:16,586 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:16,637 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:16,640 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:16,642 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:16,643 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:16,643 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:17,643 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:17,652 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:17,653 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:17,653 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (16.86s < 300s), bỏ qua làm mới.
2025-10-04 03:47:17,654 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:17,654 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:17,655 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:17,655 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:17,656 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:17,657 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:17,657 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:17,658 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:17,681 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:17,684 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:17,688 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:17,707 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:17,904 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:17,906 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:17,907 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:17,909 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:17,911 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:17,912 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:17,914 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:17,916 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:17,927 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:17,928 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:17,929 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:17,929 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:17,930 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:17,933 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:17,934 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:17,934 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:17,935 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:17,935 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:17,936 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:17,937 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:17,937 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:17,938 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:17,939 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:17,940 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:17,940 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:17,941 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:17.941306+07:00
2025-10-04 03:47:17,942 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:17.941306+07:00
2025-10-04 03:47:17,942 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:17.941306+07:00 trong DST: True
2025-10-04 03:47:17,943 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:17,943 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:17,944 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:17,958 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:17,958 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:17,959 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:17,959 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:17,959 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:17,960 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:17,960 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:17,961 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:17,961 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:17,962 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:17,962 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:17,963 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:17,964 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:17,965 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:17,965 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:17,965 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:17,966 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:17,966 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:17,966 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:18,966 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:19,002 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:19,003 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:19,004 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (18.21s < 300s), bỏ qua làm mới.
2025-10-04 03:47:19,004 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:19,005 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:19,006 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:19,007 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:19,008 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:19,008 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:19,009 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:19,009 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:19,010 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:19,010 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:19,016 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:19,118 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:19,400 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:19,423 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:19,478 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:19,529 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:19,645 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:19,715 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:19,765 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:19,798 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:19,805 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:19,814 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:19,818 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:19,836 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:19,842 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:19,845 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:19,846 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:19,850 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:19,863 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:19,865 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:19,866 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:19,867 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:19,868 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:19,868 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:19,869 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:19,871 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:19,871 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:19,874 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:19.874206+07:00
2025-10-04 03:47:19,875 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:19.874206+07:00
2025-10-04 03:47:19,876 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:19.874206+07:00 trong DST: True
2025-10-04 03:47:19,877 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:19,877 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:19,878 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:19,879 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:19,880 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:19,881 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:19,882 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:19,882 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:19,883 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:19,897 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:19,902 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:19,903 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:19,904 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:19,905 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:19,906 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:19,907 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:19,907 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:19,910 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:19,912 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:19,912 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:19,913 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:19,926 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:20,913 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:20,914 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:20,915 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:20,915 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (20.13s < 300s), bỏ qua làm mới.
2025-10-04 03:47:20,916 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:20,917 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:20,917 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:20,917 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:20,918 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:20,918 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:20,918 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:20,919 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:20,920 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:20,940 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:21,013 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:21,029 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:21,191 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:21,191 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:21,192 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:21,196 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:21,197 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:21,198 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:21,199 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:21,200 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:21,201 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:21,212 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:21,214 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:21,214 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:21,216 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:21,216 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:21,216 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:21,218 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:21,218 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:21,218 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:21,219 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:21,219 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:21,220 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:21,220 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:21,220 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:21,221 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:21,222 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:21,222 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:21.222907+07:00
2025-10-04 03:47:21,240 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:21.222907+07:00
2025-10-04 03:47:21,242 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:21.222907+07:00 trong DST: True
2025-10-04 03:47:21,242 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:21,242 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:21,243 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:21,243 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:21,243 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:21,244 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:21,244 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:21,245 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:21,245 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:21,245 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:21,246 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:21,246 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:21,247 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:21,247 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:21,247 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:21,248 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:21,248 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:21,248 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:21,249 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:21,249 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:21,249 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:21,250 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:22,111 - src.ui.app_ui - DEBUG - Gọi history_manager._preview_history_selected từ UI.
2025-10-04 03:47:22,115 - src.ui.history_manager - DEBUG - Bắt đầu hàm _preview_history_selected.
2025-10-04 03:47:22,119 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Xem: report_20251004_034714.md
2025-10-04 03:47:22,121 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:22,122 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Xem: report_20251004_034714.md
2025-10-04 03:47:22,123 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:22,124 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:22,124 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:22,125 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:22,126 - src.ui.history_manager - DEBUG - Đã xem trước báo cáo lịch sử: report_20251004_034714.md
2025-10-04 03:47:22,128 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:22,128 - src.ui.history_manager - DEBUG - Kết thúc _preview_history_selected.
2025-10-04 03:47:22,152 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:22,187 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:22,191 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:22,192 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:22,209 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:22,250 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:22,251 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:22,252 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:22,253 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (21.46s < 300s), bỏ qua làm mới.
2025-10-04 03:47:22,254 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:22,256 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:22,257 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:22,258 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:22,259 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:22,259 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:22,260 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:22,261 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:22,262 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:22,262 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:22,266 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:22,284 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:22,498 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:22,664 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:22,775 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:22,837 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:22,841 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:22,843 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:22,848 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:22,934 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:22,945 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:22,949 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:23,023 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:23,092 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:23,117 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:23,123 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:23,124 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:23,145 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:23,155 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:23,156 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:23,159 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:23,165 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:23,181 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:23,272 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:23,315 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:23,337 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:23,342 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:23,344 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:23.344650+07:00
2025-10-04 03:47:23,364 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:23.344650+07:00
2025-10-04 03:47:23,369 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:23.344650+07:00 trong DST: True
2025-10-04 03:47:23,379 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:23,404 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:23,409 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:23,410 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:23,410 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:23,423 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:23,428 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:23,429 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:23,430 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:23,431 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:23,435 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:23,436 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:23,437 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:23,438 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:23,439 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:23,439 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:23,440 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:23,442 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:23,458 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:23,459 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:23,460 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:23,461 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:23,463 - src.ui.app_ui - DEBUG - Gọi history_manager._preview_json_selected từ UI.
2025-10-04 03:47:23,463 - src.ui.history_manager - DEBUG - Bắt đầu hàm _preview_json_selected.
2025-10-04 03:47:23,500 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Xem JSON: ctx_20251004_034714.json
2025-10-04 03:47:23,517 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:23,522 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Xem JSON: ctx_20251004_034714.json
2025-10-04 03:47:23,524 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:23,531 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:23,531 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:23,532 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:23,533 - src.ui.history_manager - DEBUG - Đã xem trước file JSON: ctx_20251004_034714.json
2025-10-04 03:47:23,533 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:23,534 - src.ui.history_manager - DEBUG - Kết thúc _preview_json_selected.
2025-10-04 03:47:23,604 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:23,628 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:23,641 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:23,704 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:23,818 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:24,461 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:24,461 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:24,462 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:24,462 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (23.67s < 300s), bỏ qua làm mới.
2025-10-04 03:47:24,463 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:24,463 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:24,463 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:24,464 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:24,464 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:24,464 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:24,465 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:24,465 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:24,465 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:24,466 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:24,470 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:24,498 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:24,728 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:24,895 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:24,979 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:25,077 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:25,199 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:25,221 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:25,248 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:25,322 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:25,377 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:25,435 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:25,436 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:25,437 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:25,438 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:25,438 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:25,439 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:25,439 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:25,439 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:25,440 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:25,440 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:25,440 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:25,441 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:25,441 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:25,441 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:25,443 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:25,444 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:25,444 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:25.444890+07:00
2025-10-04 03:47:25,455 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:25.444890+07:00
2025-10-04 03:47:25,456 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:25.444890+07:00 trong DST: True
2025-10-04 03:47:25,457 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:25,457 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:25,457 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:25,458 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:25,458 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:25,459 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:25,459 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:25,459 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:25,460 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:25,460 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:25,462 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:25,462 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:25,463 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:25,463 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:25,466 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:25,468 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:25,469 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:25,470 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:25,470 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:25,471 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:25,472 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:25,473 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:25,474 - src.ui.app_ui - DEBUG - Gọi history_manager._preview_history_selected từ UI.
2025-10-04 03:47:25,487 - src.ui.history_manager - DEBUG - Bắt đầu hàm _preview_history_selected.
2025-10-04 03:47:25,489 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Xem: report_20251004_034714.md
2025-10-04 03:47:25,489 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:25,489 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Xem: report_20251004_034714.md
2025-10-04 03:47:25,490 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:25,491 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:25,491 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:25,492 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:25,493 - src.ui.history_manager - DEBUG - Đã xem trước báo cáo lịch sử: report_20251004_034714.md
2025-10-04 03:47:25,493 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:25,494 - src.ui.history_manager - DEBUG - Kết thúc _preview_history_selected.
2025-10-04 03:47:25,495 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:25,547 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:25,559 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:25,561 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:25,567 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:26,473 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:26,473 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:26,473 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:26,474 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (25.69s < 300s), bỏ qua làm mới.
2025-10-04 03:47:26,475 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:26,476 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:26,476 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:26,476 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:26,477 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:26,477 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:26,477 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:26,478 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:26,478 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:26,479 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:26,484 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:26,510 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:26,651 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:26,652 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:26,653 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:26,654 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:26,655 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:26,655 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:26,656 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:26,657 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:26,657 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:26,658 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:26,658 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:26,659 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:26,660 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:26,660 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:26,660 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:26,661 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:26,662 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:26,662 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:26,663 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:26,676 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:26,677 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:26,678 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:26,679 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:26,680 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:26,680 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:26,681 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:26.681023+07:00
2025-10-04 03:47:26,682 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:26.681023+07:00
2025-10-04 03:47:26,683 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:26.681023+07:00 trong DST: True
2025-10-04 03:47:26,683 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:26,683 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:26,684 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:26,684 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:26,684 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:26,685 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:26,685 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:26,685 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:26,686 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:26,686 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:26,687 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:26,687 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:26,688 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:26,688 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:26,688 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:26,689 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:26,689 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:26,689 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:26,690 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:26,690 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:26,690 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:26,691 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:27,690 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:27,691 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:27,691 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:27,692 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (26.90s < 300s), bỏ qua làm mới.
2025-10-04 03:47:27,692 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:27,692 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:27,693 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:27,693 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:27,693 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:27,694 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:27,695 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:27,695 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:27,699 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:27,714 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:27,717 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:27,737 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:27,884 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:27,885 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:27,885 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:27,887 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:27,888 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:27,888 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:27,889 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:27,890 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:27,891 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:27,892 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:27,892 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:27,892 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:27,893 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:27,909 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:27,909 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:27,910 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:27,910 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:27,911 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:27,911 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:27,930 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:27,932 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:27,932 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:27,933 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:27,933 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:27,934 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:27,934 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:27.934553+07:00
2025-10-04 03:47:27,935 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:27.934553+07:00
2025-10-04 03:47:27,936 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:27.934553+07:00 trong DST: True
2025-10-04 03:47:27,937 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:27,937 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:27,938 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:27,938 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:27,939 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:27,939 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:27,940 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:27,940 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:27,940 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:27,941 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:27,943 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:27,944 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:27,964 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:27,965 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:27,965 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:27,966 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:27,966 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:27,967 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:27,967 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:27,967 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:27,968 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:27,968 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:28,968 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:28,968 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:28,969 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:28,969 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (28.18s < 300s), bỏ qua làm mới.
2025-10-04 03:47:28,970 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:28,970 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:28,971 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:28,971 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:28,971 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:28,972 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:28,972 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:28,972 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:28,973 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:28,973 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:28,987 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:29,008 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:29,157 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:29,158 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:29,159 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:29,160 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:29,161 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:29,161 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:29,162 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:29,165 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:29,166 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:29,168 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:29,171 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:29,181 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:29,183 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:29,183 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:29,184 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:29,184 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:29,184 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:29,185 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:29,185 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:29,185 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:29,186 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:29,186 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:29,187 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:29,187 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:29,187 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:29,187 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:29.187865+07:00
2025-10-04 03:47:29,188 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:29.187865+07:00
2025-10-04 03:47:29,188 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:29.187865+07:00 trong DST: True
2025-10-04 03:47:29,189 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:29,189 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:29,190 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:29,191 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:29,191 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:29,191 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:29,192 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:29,192 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:29,214 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:29,215 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:29,216 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:29,217 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:29,217 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:29,218 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:29,218 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:29,218 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:29,219 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:29,220 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:29,220 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:29,221 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:29,221 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:29,222 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:30,221 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:30,224 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:30,224 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:30,274 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (29.48s < 300s), bỏ qua làm mới.
2025-10-04 03:47:30,275 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:30,307 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:30,307 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:30,308 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:30,308 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:30,309 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:30,309 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:30,309 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:30,310 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:30,310 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:30,314 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:30,332 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:30,486 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:30,487 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:30,488 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:30,489 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:30,490 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:30,490 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:30,491 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:30,492 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:30,492 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:30,493 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:30,494 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:30,494 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:30,511 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:30,515 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:30,516 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:30,517 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:30,517 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:30,518 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:30,520 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:30,522 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:30,522 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:30,523 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:30,524 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:30,524 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:30,524 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:30,525 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:30.525170+07:00
2025-10-04 03:47:30,529 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:30.525170+07:00
2025-10-04 03:47:30,530 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:30.525170+07:00 trong DST: True
2025-10-04 03:47:30,530 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:30,531 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:30,531 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:30,531 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:30,532 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:30,532 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:30,532 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:30,533 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:30,533 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:30,534 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:30,535 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:30,535 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:30,536 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:30,536 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:30,558 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:30,558 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:30,559 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:30,559 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:30,560 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:30,560 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:30,560 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:30,561 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:31,560 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:31,590 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:31,663 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:31,720 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (30.93s < 300s), bỏ qua làm mới.
2025-10-04 03:47:31,752 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:31,774 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:31,830 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:31,840 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:31,891 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:31,905 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:31,939 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:31,940 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:31,940 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:31,941 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:31,961 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:31,992 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:32,189 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:32,189 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:32,190 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:32,192 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:32,192 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:32,192 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:32,194 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:32,196 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:32,197 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:32,199 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:32,199 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:32,200 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:32,214 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:32,215 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:32,215 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:32,216 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:32,216 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:32,216 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:32,217 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:32,217 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:32,218 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:32,218 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:32,219 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:32,219 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:32,220 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:32,221 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:32.221618+07:00
2025-10-04 03:47:32,222 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:32.221618+07:00
2025-10-04 03:47:32,222 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:32.221618+07:00 trong DST: True
2025-10-04 03:47:32,222 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:32,223 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:32,223 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:32,223 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:32,224 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:32,224 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:32,242 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:32,243 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:32,245 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:32,245 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:32,246 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:32,246 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:32,247 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:32,247 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:32,248 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:32,248 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:32,248 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:32,249 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:32,249 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:32,250 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:32,250 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:32,251 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:33,250 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:33,299 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:33,422 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:33,504 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (32.71s < 300s), bỏ qua làm mới.
2025-10-04 03:47:33,594 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:33,617 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:33,655 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:33,659 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:33,692 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:33,721 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:33,755 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:33,803 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:33,835 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:33,838 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:33,871 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:33,930 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:34,094 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:34,095 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:34,095 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:34,097 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:34,097 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:34,097 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:34,098 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:34,100 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:34,102 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:34,103 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:34,104 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:34,115 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:34,117 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:34,117 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:34,117 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:34,118 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:34,118 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:34,118 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:34,119 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:34,119 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:34,120 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:34,120 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:34,120 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:34,121 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:34,121 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:34,121 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:34.121831+07:00
2025-10-04 03:47:34,122 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:34.121831+07:00
2025-10-04 03:47:34,122 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:34.121831+07:00 trong DST: True
2025-10-04 03:47:34,122 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:34,123 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:34,123 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:34,123 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:34,124 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:34,124 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:34,124 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:34,125 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:34,125 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:34,125 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:34,126 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:34,126 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:34,127 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:34,127 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:34,127 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:34,128 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:34,128 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:34,128 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:34,128 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:34,129 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:34,129 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:34,129 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:34,790 - src.core.app_logic - DEBUG - Bắt đầu _check_mt5_connection.
2025-10-04 03:47:34,802 - src.core.app_logic - DEBUG - MT5 Check: Kết nối vẫn hoạt động.
2025-10-04 03:47:34,803 - src.core.app_logic - DEBUG - Bắt đầu _schedule_next_autorun.
2025-10-04 03:47:34,803 - src.core.app_logic - DEBUG - Đã hủy tác vụ auto-run cũ.
2025-10-04 03:47:34,804 - src.utils.ui_utils - DEBUG - Cập nhật UI status: Tự động chạy sau 60s.
2025-10-04 03:47:34,804 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:34,805 - src.utils.ui_utils - DEBUG - Bắt đầu _log_status cho text: Tự động chạy sau 60s.
2025-10-04 03:47:34,805 - src.utils.ui_utils - DEBUG - Folder override cho log status: XAUUSD
2025-10-04 03:47:34,806 - src.ui.app_ui - DEBUG - Gọi app_logic._log_trade_decision từ UI. Data keys: dict_keys(['stage', 't', 'message']).
2025-10-04 03:47:34,806 - src.utils.ui_utils - DEBUG - Kết thúc _log_status.
2025-10-04 03:47:34,807 - src.core.app_logic - DEBUG - Bắt đầu _log_trade_decision với data keys: dict_keys(['stage', 't', 'message']), folder_override: XAUUSD.
2025-10-04 03:47:34,807 - src.core.app_logic - INFO - Đã lên lịch auto-run tiếp theo sau 60 giây.
2025-10-04 03:47:34,807 - src.utils.logging_utils - DEBUG - Bắt đầu hàm log_trade_decision. Stage: status_update, Folder override: XAUUSD
2025-10-04 03:47:34,808 - src.core.app_logic - DEBUG - Kết thúc _schedule_next_autorun.
2025-10-04 03:47:34,810 - src.core.app_logic - DEBUG - Kết thúc _check_connection (thành công).
2025-10-04 03:47:34,835 - src.utils.logging_utils - DEBUG - Đã ghi log giao dịch vào trade_log_20251004.jsonl.
2025-10-04 03:47:34,839 - src.utils.logging_utils - DEBUG - Kết thúc hàm log_trade_decision.
2025-10-04 03:47:34,839 - src.core.app_logic - DEBUG - Kết thúc _log_trade_decision.
2025-10-04 03:47:34,840 - src.utils.ui_utils - DEBUG - Đã log trade decision cho status update.
2025-10-04 03:47:34,849 - src.utils.ui_utils - DEBUG - Đã thực thi hàm từ UI queue: <lambda>
2025-10-04 03:47:35,130 - src.core.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-04 03:47:35,131 - src.ui.app_ui - DEBUG - Gọi app_logic._refresh_news_cache từ UI. Async: True, TTL: 300.
2025-10-04 03:47:35,135 - src.core.app_logic - DEBUG - Bắt đầu _refresh_news_cache. Async: True, TTL: 300
2025-10-04 03:47:35,136 - src.core.app_logic - DEBUG - Cache tin tức vẫn còn hiệu lực (34.35s < 300s), bỏ qua làm mới.
2025-10-04 03:47:35,137 - src.core.app_logic - DEBUG - Kết thúc _refresh_news_cache (cache còn hiệu lực).
2025-10-04 03:47:35,138 - src.core.chart_tab - DEBUG - Đã refresh news cache với TTL: 300.
2025-10-04 03:47:35,139 - src.core.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-04 03:47:35,139 - src.core.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-04 03:47:35,139 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-04 03:47:35,140 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:35,140 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:35,141 - src.core.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-04 03:47:35,141 - src.core.chart_tab - DEBUG - Kết thúc hàm _mt5_tf. Mã khung thời gian: 1
2025-10-04 03:47:35,141 - src.core.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-04 03:47:35,144 - src.core.chart_tab - DEBUG - Đã lấy và xử lý rates cho 'XAUUSD' 1. Số dòng: 100
2025-10-04 03:47:35,158 - src.core.chart_tab - DEBUG - Vẽ biểu đồ nến.
2025-10-04 03:47:35,325 - src.core.chart_tab - DEBUG - Đã vẽ biểu đồ nến.
2025-10-04 03:47:35,326 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh đang mở lên biểu đồ.
2025-10-04 03:47:35,327 - src.core.chart_tab - DEBUG - Đã vẽ 0 lệnh chờ lên biểu đồ.
2025-10-04 03:47:35,329 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fmt cho giá trị: 3887.107, digits: 3
2025-10-04 03:47:35,329 - src.core.chart_tab - DEBUG - Đã format giá trị: 3887.107
2025-10-04 03:47:35,330 - src.core.chart_tab - DEBUG - Kết thúc hàm _fmt.
2025-10-04 03:47:35,331 - src.core.chart_tab - DEBUG - Đã vẽ đường giá hiện tại: 3887.107
2025-10-04 03:47:35,332 - src.core.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-04 03:47:35,334 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-04 03:47:35,334 - src.core.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: True
2025-10-04 03:47:35,334 - src.core.chart_tab - DEBUG - MT5 đã được app báo là initialized.
2025-10-04 03:47:35,335 - src.core.chart_tab - DEBUG - MT5 initialized và account info OK (nếu cần).
2025-10-04 03:47:35,336 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản.
2025-10-04 03:47:35,336 - src.core.chart_tab - DEBUG - Kết thúc _update_account_info.
2025-10-04 03:47:35,337 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-04 03:47:35,337 - src.core.chart_tab - DEBUG - Đã điền 0 lệnh đang mở vào bảng.
2025-10-04 03:47:35,337 - src.core.chart_tab - DEBUG - Kết thúc _fill_positions_table.
2025-10-04 03:47:35,337 - src.core.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-04 03:47:35,338 - src.core.chart_tab - DEBUG - Đã điền 0 lịch sử giao dịch vào bảng.
2025-10-04 03:47:35,338 - src.core.chart_tab - DEBUG - Kết thúc _fill_history_table.
2025-10-04 03:47:35,339 - src.core.chart_tab - DEBUG - Đã cập nhật thông tin tài khoản, lệnh và lịch sử.
2025-10-04 03:47:35,339 - src.core.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-04 03:47:35,339 - src.core.chart_tab - DEBUG - Bắt đầu hàm _compute_sessions_today cho symbol: XAUUSD
2025-10-04 03:47:35,340 - src.utils.mt5_utils - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 0
2025-10-04 03:47:35,340 - src.utils.mt5_utils - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-04 03:47:35,340 - src.utils.mt5_utils - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-04 10:47:35.340665+07:00
2025-10-04 03:47:35,341 - src.utils.mt5_utils - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-04 10:47:35.340665+07:00
2025-10-04 03:47:35,341 - src.utils.mt5_utils - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-04 10:47:35.340665+07:00 trong DST: True
2025-10-04 03:47:35,341 - src.utils.mt5_utils - DEBUG - Is US DST (summer): True
2025-10-04 03:47:35,341 - src.utils.mt5_utils - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-04 03:47:35,342 - src.utils.mt5_utils - DEBUG - Kết thúc session_ranges_today.
2025-10-04 03:47:35,342 - src.core.chart_tab - DEBUG - Đã tính toán sessions today: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:35,342 - src.core.chart_tab - DEBUG - Kết thúc hàm _compute_sessions_today.
2025-10-04 03:47:35,343 - src.core.chart_tab - DEBUG - Bắt đầu hàm _allowed_session_now với sessions: {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}
2025-10-04 03:47:35,343 - src.core.chart_tab - DEBUG - Kiểm tra phiên Asia: False
2025-10-04 03:47:35,343 - src.core.chart_tab - DEBUG - Kiểm tra phiên London: False
2025-10-04 03:47:35,344 - src.core.chart_tab - DEBUG - Kiểm tra phiên New York: False
2025-10-04 03:47:35,344 - src.core.chart_tab - DEBUG - Kết thúc hàm _allowed_session_now. Kết quả: False
2025-10-04 03:47:35,345 - src.core.chart_tab - DEBUG - Trạng thái phiên giao dịch: Blocked
2025-10-04 03:47:35,346 - src.core.chart_tab - DEBUG - Lý do No-Trade: - Spread quá cao (3.70 pips > 1.20 pips).
2025-10-04 03:47:35,346 - src.services.news - DEBUG - Bắt đầu hàm next_events_for_symbol cho symbol: XAUUSD, limit: 3.
2025-10-04 03:47:35,346 - src.services.news - DEBUG - Bắt đầu hàm symbol_currencies cho symbol: XAUUSD
2025-10-04 03:47:35,347 - src.services.news - DEBUG - Kết thúc hàm symbol_currencies. Currencies: {'USD', 'XAU'}
2025-10-04 03:47:35,347 - src.services.news - DEBUG - Kết thúc hàm next_events_for_symbol. Số events: 0
2025-10-04 03:47:35,347 - src.core.chart_tab - DEBUG - Sự kiện sắp tới: (none)
2025-10-04 03:47:35,348 - src.core.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-04 03:47:35,348 - src.core.chart_tab - DEBUG - Đã cập nhật panel No-Trade.
2025-10-04 03:47:35,348 - src.core.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-04 03:47:35,349 - src.core.chart_tab - DEBUG - Lên lịch _tick tiếp theo sau 1 giây.
2025-10-04 03:47:35,349 - src.core.chart_tab - DEBUG - Kết thúc _tick.
2025-10-04 03:47:35,582 - src.ui.app_ui - DEBUG - Đang xử lý sự kiện đóng cửa sổ (_on_closing).
2025-10-04 03:47:35,592 - src.ui.app_ui - DEBUG - Gọi workspace_manager._save_workspace từ UI.
2025-10-04 03:47:35,593 - src.config.workspace_manager - DEBUG - Bắt đầu _save_workspace.
2025-10-04 03:47:35,621 - src.utils.ui_utils - DEBUG - Hiển thị UI message. Kind: info, Title: Workspace, Text: Đã lưu workspace.
2025-10-04 03:47:35,629 - src.utils.ui_utils - DEBUG - Enqueueing function: <lambda>
2025-10-04 03:47:35,649 - src.config.workspace_manager - INFO - Workspace: Đã lưu workspace thành công.
2025-10-04 03:47:35,655 - src.config.workspace_manager - DEBUG - Kết thúc _save_workspace.
