2025-10-05 10:25:20,039 - APP.persistence.log_handler - INFO - Đã cấu hình logging xoay vòng. File log: Log\app_debug.log, Size: 5MB, Backups: 5
2025-10-05 10:25:20,039 - APP.persistence.log_handler - DEBUG - Hoàn tất thiết lập logging cho ứng dụng.
2025-10-05 10:25:20,040 - __main__ - INFO - Ứng dụng đang khởi động...
2025-10-05 10:25:21,134 - APP.ui.app_ui - DEBUG - Bắt đầu khởi tạo AppUI.
2025-10-05 10:25:21,135 - APP.ui.app_ui - DEBUG - Khởi tạo các biến Tkinter.
2025-10-05 10:25:21,156 - APP.utils.general_utils - DEBUG - Bắt đầu deobfuscate text.
2025-10-05 10:25:21,157 - APP.utils.general_utils - DEBUG - Tạo machine key.
2025-10-05 10:25:21,346 - APP.utils.general_utils - DEBUG - Đã tạo machine key. Độ dài: 32 bytes.
2025-10-05 10:25:21,347 - APP.utils.general_utils - DEBUG - Thực hiện XOR bytes.
2025-10-05 10:25:21,348 - APP.utils.general_utils - DEBUG - Đã deobfuscate text thành công.
2025-10-05 10:25:21,348 - APP.ui.app_ui - DEBUG - Các biến Tkinter đã được khởi tạo.
2025-10-05 10:25:21,350 - APP.ui.utils.timeframe_detector - DEBUG - TimeframeDetector đã được khởi tạo và biên dịch 9 mẫu regex.
2025-10-05 10:25:21,351 - APP.ui.utils.ui_builder - DEBUG - Bắt đầu build_ui.
2025-10-05 10:25:21,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm __init__ của ChartTab.
2025-10-05 10:25:21,434 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _init_vars.
2025-10-05 10:25:21,434 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _init_vars.
2025-10-05 10:25:21,436 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _build_controls.
2025-10-05 10:25:21,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _populate_symbol_list.
2025-10-05 10:25:21,439 - APP.services.mt5_service - DEBUG - Bắt đầu get_all_symbols.
2025-10-05 10:25:21,440 - APP.services.mt5_service - DEBUG - Bắt đầu ensure_initialized. Path: None
2025-10-05 10:25:21,440 - APP.services.mt5_service - DEBUG - Bắt đầu connect MT5. Path: None
2025-10-05 10:25:21,611 - APP.services.mt5_service - INFO - Kết nối MT5 thành công.
2025-10-05 10:25:21,611 - APP.services.mt5_service - DEBUG - Kết thúc connect MT5.
2025-10-05 10:25:21,612 - APP.services.mt5_service - DEBUG - Kết thúc ensure_initialized. Kết quả: True
2025-10-05 10:25:21,621 - APP.services.mt5_service - DEBUG - Đã lấy được 357 symbols.
2025-10-05 10:25:21,622 - APP.ui.components.chart_tab - DEBUG - Đã populate 357 symbols.
2025-10-05 10:25:21,623 - APP.ui.components.chart_tab - DEBUG - Kết thúc _populate_symbol_list.
2025-10-05 10:25:21,643 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _build_controls.
2025-10-05 10:25:21,657 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0.
2025-10-05 10:25:21,658 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,659 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:21,676 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,677 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,678 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,680 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,681 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,682 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-05 10:25:21,683 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,684 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,684 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,685 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,685 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-05 10:25:21,686 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,687 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,689 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,717 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,720 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-05 10:25:21,740 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,743 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-05 10:25:21,745 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:21,745 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:21,747 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,750 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,754 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:21,777 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,779 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,781 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:21,783 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,806 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,807 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:21,808 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:21,838 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,842 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,844 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,868 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:21,870 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,872 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,873 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,874 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,874 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,875 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:21,876 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,876 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,877 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:21,878 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-05 10:25:21,900 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-05 10:25:21,902 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:21,904 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,905 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,907 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:21,908 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-05 10:25:21,908 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:21,911 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-05 10:25:21,931 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-05 10:25:21,932 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,935 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:21,937 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,939 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,940 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,964 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:21,967 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:21,972 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,009 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-05 10:25:22,024 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:22,026 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,027 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,031 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,033 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,034 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-05 10:25:22,034 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,060 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,062 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,063 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,089 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,091 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,095 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,121 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,124 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,127 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,181 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,184 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,185 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,186 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:22,187 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,188 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-05 10:25:22,190 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-05 10:25:22,195 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,219 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,226 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,244 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:22,244 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,245 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,246 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-05 10:25:22,246 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,247 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,247 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,248 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,249 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,249 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,250 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,250 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,251 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,252 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,253 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,276 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,278 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,279 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-05 10:25:22,280 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,280 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,281 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,282 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,282 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,283 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,287 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,287 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,288 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,289 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,289 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,306 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,307 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,308 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,309 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,309 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-05 10:25:22,310 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-05 10:25:22,311 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,311 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,312 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,312 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,313 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,313 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,314 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,314 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,314 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,315 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,315 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,317 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-05 10:25:22,318 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,318 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,319 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,320 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,335 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,337 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,338 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-05 10:25:22,339 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-05 10:25:22,340 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,340 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:22,341 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,341 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,342 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,342 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,343 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,343 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,344 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,344 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,345 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,345 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,346 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,346 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,346 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,349 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:22,350 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,351 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,352 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-05 10:25:22,353 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,353 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-05 10:25:22,370 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-05 10:25:22,371 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,372 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,372 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-05 10:25:22,373 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,374 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:22,375 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,375 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,376 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,376 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,377 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,377 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,378 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,380 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:22,381 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:22,382 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-05 10:25:22,397 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,398 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:22,398 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-05 10:25:22,430 - APP.ui.components.chart_tab - DEBUG - Đã khởi tạo Figure và FigureCanvasTkAgg.
2025-10-05 10:25:22,506 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-05 10:25:22,506 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-05 10:25:22,507 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-05 10:25:22,507 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-05 10:25:22,507 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 374
2025-10-05 10:25:22,585 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-05 10:25:22,586 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-05 10:25:22,587 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-05 10:25:22,587 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-05 10:25:22,587 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 286
2025-10-05 10:25:22,590 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-05 10:25:22,590 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-05 10:25:22,591 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-05 10:25:22,591 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-05 10:25:22,592 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 263
2025-10-05 10:25:22,596 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-05 10:25:22,596 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-05 10:25:22,598 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-05 10:25:22,598 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-05 10:25:22,599 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 387
2025-10-05 10:25:22,616 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-05 10:25:22,669 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-05 10:25:22,674 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-05 10:25:22,675 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-05 10:25:22,676 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 436
2025-10-05 10:25:22,681 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-05 10:25:22,681 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-05 10:25:22,681 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-05 10:25:22,682 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-05 10:25:22,682 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 351
2025-10-05 10:25:22,686 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-10-05 10:25:22,686 - PIL.PngImagePlugin - DEBUG - STREAM b'sBIT' 41 4
2025-10-05 10:25:22,687 - PIL.PngImagePlugin - DEBUG - b'sBIT' 41 4 (unknown)
2025-10-05 10:25:22,688 - PIL.PngImagePlugin - DEBUG - STREAM b'pHYs' 57 9
2025-10-05 10:25:22,688 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 78 364
2025-10-05 10:25:22,697 - APP.ui.components.chart_tab - DEBUG - Đã khởi tạo NavigationToolbar2Tk.
2025-10-05 10:25:22,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _build_right_panel.
2025-10-05 10:25:22,721 - APP.ui.components.chart_tab - DEBUG - Đã khởi tạo panel thông tin tài khoản.
2025-10-05 10:25:22,740 - APP.ui.components.chart_tab - DEBUG - Đã khởi tạo panel No-Trade.
2025-10-05 10:25:22,741 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _build_right_panel.
2025-10-05 10:25:22,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _build_bottom_grids.
2025-10-05 10:25:22,747 - APP.ui.components.chart_tab - DEBUG - Đã khởi tạo bảng lệnh đang mở.
2025-10-05 10:25:22,752 - APP.ui.components.chart_tab - DEBUG - Đã khởi tạo bảng lịch sử giao dịch.
2025-10-05 10:25:22,752 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _build_bottom_grids.
2025-10-05 10:25:22,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:22,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:22,756 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:22,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:25,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:25,985 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:25,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:25,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:25,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:25,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:25,988 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:25,989 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:25,989 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:26,072 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:26,732 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:26,774 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:26,949 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:26,950 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:26,951 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:26,951 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm __init__ của ChartTab.
2025-10-05 10:25:27,145 - APP.ui.utils.ui_builder - DEBUG - Kết thúc build_ui.
2025-10-05 10:25:27,147 - APP.ui.app_ui - DEBUG - Bắt đầu worker cập nhật danh sách mô hình AI.
2025-10-05 10:25:27,147 - APP.ui.app_ui - DEBUG - Bắt đầu áp dụng cấu hình lên UI.
2025-10-05 10:25:27,148 - APP.ui.app_ui - DEBUG - Bắt đầu quá trình tải file từ thư mục: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-05 10:25:27,174 - APP.ui.app_ui - DEBUG - Luồng quét thư mục bắt đầu cho: C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots.
2025-10-05 10:25:27,174 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: report_*.md
2025-10-05 10:25:27,176 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: ctx_*.json
2025-10-05 10:25:27,179 - APP.ui.app_ui - INFO - Luồng quét đã hoàn tất, tìm thấy 4 file.
2025-10-05 10:25:27,180 - APP.ui.components.prompt_manager - DEBUG - Bắt đầu tải prompts từ đĩa. Silent: True
2025-10-05 10:25:27,217 - APP.ui.components.prompt_manager - DEBUG - Bắt đầu chuẩn hóa prompt. Độ dài raw: 4500
2025-10-05 10:25:27,217 - APP.ui.components.prompt_manager - DEBUG - Không thể phân tích raw text thành JSON.
2025-10-05 10:25:27,218 - APP.ui.components.prompt_manager - DEBUG - Không thể phân tích raw text thành Python literal.
2025-10-05 10:25:27,219 - APP.ui.components.prompt_manager - DEBUG - Không thể chuẩn hóa, trả về văn bản thô.
2025-10-05 10:25:27,221 - APP.ui.components.prompt_manager - DEBUG - Đã tải prompt từ file: prompt_no_entry_vision.txt
2025-10-05 10:25:27,246 - APP.ui.components.prompt_manager - DEBUG - Bắt đầu chuẩn hóa prompt. Độ dài raw: 3890
2025-10-05 10:25:27,247 - APP.ui.components.prompt_manager - DEBUG - Không thể phân tích raw text thành JSON.
2025-10-05 10:25:27,248 - APP.ui.components.prompt_manager - DEBUG - Không thể phân tích raw text thành Python literal.
2025-10-05 10:25:27,249 - APP.ui.components.prompt_manager - DEBUG - Không thể chuẩn hóa, trả về văn bản thô.
2025-10-05 10:25:27,251 - APP.ui.components.prompt_manager - DEBUG - Đã tải prompt từ file: prompt_entry_run_vision.txt
2025-10-05 10:25:27,252 - APP.ui.components.prompt_manager - DEBUG - Kết thúc tải prompts từ đĩa.
2025-10-05 10:25:27,252 - APP.ui.app_ui - INFO - Đã áp dụng cấu hình lên UI thành công.
2025-10-05 10:25:27,256 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: report_*.md
2025-10-05 10:25:27,257 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: ctx_*.json
2025-10-05 10:25:27,257 - APP.ui.components.prompt_manager - DEBUG - Bắt đầu tải prompts từ đĩa. Silent: False
2025-10-05 10:25:27,277 - APP.ui.components.prompt_manager - DEBUG - Bắt đầu chuẩn hóa prompt. Độ dài raw: 4500
2025-10-05 10:25:27,278 - APP.ui.components.prompt_manager - DEBUG - Không thể phân tích raw text thành JSON.
2025-10-05 10:25:27,279 - APP.ui.components.prompt_manager - DEBUG - Không thể phân tích raw text thành Python literal.
2025-10-05 10:25:27,279 - APP.ui.components.prompt_manager - DEBUG - Không thể chuẩn hóa, trả về văn bản thô.
2025-10-05 10:25:27,280 - APP.ui.components.prompt_manager - DEBUG - Đã tải prompt từ file: prompt_no_entry_vision.txt
2025-10-05 10:25:27,281 - APP.ui.components.prompt_manager - DEBUG - Bắt đầu chuẩn hóa prompt. Độ dài raw: 3890
2025-10-05 10:25:27,281 - APP.ui.components.prompt_manager - DEBUG - Không thể phân tích raw text thành JSON.
2025-10-05 10:25:27,282 - APP.ui.components.prompt_manager - DEBUG - Không thể phân tích raw text thành Python literal.
2025-10-05 10:25:27,282 - APP.ui.components.prompt_manager - DEBUG - Không thể chuẩn hóa, trả về văn bản thô.
2025-10-05 10:25:27,283 - APP.ui.components.prompt_manager - DEBUG - Đã tải prompt từ file: prompt_entry_run_vision.txt
2025-10-05 10:25:27,283 - APP.ui.components.prompt_manager - DEBUG - Kết thúc tải prompts từ đĩa.
2025-10-05 10:25:27,284 - APP.ui.app_ui - DEBUG - AppUI đã khởi tạo xong.
2025-10-05 10:25:27,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm start.
2025-10-05 10:25:27,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _ensure_mt5. Want account: False
2025-10-05 10:25:27,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:27,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:27,289 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:27,291 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:27,295 - APP.services.gemini_service - INFO - Đã tìm thấy 40 model khả dụng.
2025-10-05 10:25:27,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:27,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:27,471 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:27,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:27,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:27,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:27,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:27,474 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:27,474 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:27,474 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:27,505 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:28,104 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:28,148 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:28,321 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:28,322 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:28,322 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:28,323 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm start.
2025-10-05 10:25:28,406 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0.
2025-10-05 10:25:28,407 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,408 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,408 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,409 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,409 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,410 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,411 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,412 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-05 10:25:28,413 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,413 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,414 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,414 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,415 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-05 10:25:28,415 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,416 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,417 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,417 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,418 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-05 10:25:28,418 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,433 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-05 10:25:28,433 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,434 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,435 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,435 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,436 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,436 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,437 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,437 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,438 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,439 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,439 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,440 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,440 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,441 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,442 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,444 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,444 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,459 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,460 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,461 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,461 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,462 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,463 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,463 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,464 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,464 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-05 10:25:28,465 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-05 10:25:28,465 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,466 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,466 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,467 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,467 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-05 10:25:28,468 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,468 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-05 10:25:28,469 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-05 10:25:28,469 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,470 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,470 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,471 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,472 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,494 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,495 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,495 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,496 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-05 10:25:28,497 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,497 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,497 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,498 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,498 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,499 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-05 10:25:28,500 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,500 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,501 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,502 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,502 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,503 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,503 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,504 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,506 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,506 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,507 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,507 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,524 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,525 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,526 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,526 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-05 10:25:28,527 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-05 10:25:28,527 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,528 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,528 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,529 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,529 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,530 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,531 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-05 10:25:28,531 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,532 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,532 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,532 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,533 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,534 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,534 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,534 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,535 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,535 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,536 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,537 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,537 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,539 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-05 10:25:28,539 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,540 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,555 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,557 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,557 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,558 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,559 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,559 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,560 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,560 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,561 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,561 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,562 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,562 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,563 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,563 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-05 10:25:28,564 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-05 10:25:28,564 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,565 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,566 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,566 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,567 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,568 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,569 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,569 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,570 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,587 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,588 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,588 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-05 10:25:28,589 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,590 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,590 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,591 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,592 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,592 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,593 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-05 10:25:28,593 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-05 10:25:28,593 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,594 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,594 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,595 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,596 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,596 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,597 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,598 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,599 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,600 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,600 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,601 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,602 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,619 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,619 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,620 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,620 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,621 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,621 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-05 10:25:28,622 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,622 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-05 10:25:28,623 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-05 10:25:28,623 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,624 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,624 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-05 10:25:28,625 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,626 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,626 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,627 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,627 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,628 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,628 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,628 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,629 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,630 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,631 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,632 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-05 10:25:28,632 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,633 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,634 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-05 10:25:28,765 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=8.0.
2025-10-05 10:25:28,766 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Bold.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,766 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBolIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,767 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniBol.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,767 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmb10.ttf', name='cmb10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,768 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Bold.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,768 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneral.ttf', name='STIXGeneral', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,769 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymBol.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,769 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 0.05
2025-10-05 10:25:28,770 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono.ttf', name='DejaVu Sans Mono', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,770 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFiveSymReg.ttf', name='STIXSizeFiveSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,771 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmsy10.ttf', name='cmsy10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,772 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymReg.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,772 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Oblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 1.05
2025-10-05 10:25:28,773 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizThreeSymBol.ttf', name='STIXSizeThreeSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,773 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmmi10.ttf', name='cmmi10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,774 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymBol.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,774 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmss10.ttf', name='cmss10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,774 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-BoldOblique.ttf', name='DejaVu Sans', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 1.335
2025-10-05 10:25:28,775 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymBol.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,776 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans-Bold.ttf', name='DejaVu Sans', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 0.33499999999999996
2025-10-05 10:25:28,776 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralItalic.ttf', name='STIXGeneral', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,777 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-Italic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,777 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBol.ttf', name='STIXGeneral', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,778 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmtt10.ttf', name='cmtt10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,778 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-BoldOblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,779 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansDisplay.ttf', name='DejaVu Sans Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,780 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmr10.ttf', name='cmr10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,780 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif-BoldItalic.ttf', name='DejaVu Serif', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,781 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerifDisplay.ttf', name='DejaVu Serif Display', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,781 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\cmex10.ttf', name='cmex10', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,782 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXGeneralBolIta.ttf', name='STIXGeneral', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,782 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUniIta.ttf', name='STIXNonUnicode', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,783 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXNonUni.ttf', name='STIXNonUnicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,783 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizFourSymReg.ttf', name='STIXSizeFourSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,784 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizTwoSymReg.ttf', name='STIXSizeTwoSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,784 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSansMono-Oblique.ttf', name='DejaVu Sans Mono', style='oblique', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,784 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\STIXSizOneSymReg.ttf', name='STIXSizeOneSym', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,785 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSerif.ttf', name='DejaVu Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,786 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyi.ttf', name='Microsoft Yi Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,786 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahoma.ttf', name='Tahoma', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,787 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtextb.ttf', name='Myanmar Text', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,787 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothL.ttc', name='Yu Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,788 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mvboli.ttf', name='MV Boli', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,788 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelawUI.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,789 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palai.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,789 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrili.ttf', name='Calibri', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-05 10:25:28,790 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdana.ttf', name='Verdana', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 3.6863636363636365
2025-10-05 10:25:28,790 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\couri.ttf', name='Courier New', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,791 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeui.ttf', name='Segoe UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,791 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisym.ttf', name='Segoe UI Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,792 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhbd.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,793 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanai.ttf', name='Verdana', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 4.6863636363636365
2025-10-05 10:25:28,793 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibriz.ttf', name='Calibri', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,794 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisbi.ttf', name='Segoe UI', style='italic', variant='normal', weight=600, stretch='normal', size='scalable')) = 11.24
2025-10-05 10:25:28,795 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariali.ttf', name='Arial', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 7.413636363636363
2025-10-05 10:25:28,807 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjh.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,809 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiai.ttf', name='Georgia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,810 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaral.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,811 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspa.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,811 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\bahnschrift.ttf', name='Bahnschrift', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,812 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuiz.ttf', name='Segoe UI', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,812 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\impact.ttf', name='Impact', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,813 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarai.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,813 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelli.ttf', name='Corbel', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-05 10:25:28,814 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunsl.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,814 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\l_10646.ttf', name='Lucida Sans Unicode', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,815 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicbd.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,815 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palabi.ttf', name='Palatino Linotype', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,816 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuib.ttf', name='Segoe UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,817 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisli.ttf', name='Segoe UI', style='italic', variant='normal', weight=350, stretch='normal', size='scalable')) = 11.0975
2025-10-05 10:25:28,819 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cour.ttf', name='Courier New', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,834 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugib.ttf', name='Gadugi', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,837 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgun.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,838 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoesc.ttf', name='Segoe Script', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,838 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhbd.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,839 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF-Italic.ttf', name='Sitka', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,839 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Nirmala.ttc', name='Nirmala UI', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,840 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\lucon.ttf', name='Lucida Console', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,840 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeprb.ttf', name='Segoe Print', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,841 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\micross.ttf', name='Microsoft Sans Serif', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,841 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambria.ttc', name='Cambria', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,841 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\webdings.ttf', name='Webdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,842 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrima.ttf', name='Ebrima', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,842 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbell.ttf', name='Corbel', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,843 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\times.ttf', name='Times New Roman', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,843 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbi.ttf', name='Arial', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 7.698636363636363
2025-10-05 10:25:28,844 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguisb.ttf', name='Segoe UI', style='normal', variant='normal', weight=600, stretch='normal', size='scalable')) = 10.24
2025-10-05 10:25:28,845 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taileb.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,846 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\himalaya.ttf', name='Microsoft Himalaya', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,846 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SimsunExtG.ttf', name='SimSun-ExtG', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,846 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibril.ttf', name='Calibri', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,847 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegoeIcons.ttf', name='Segoe Fluent Icons', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,847 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliu.ttc', name='MingLiU', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,850 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanab.ttf', name='Verdana', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 3.9713636363636367
2025-10-05 10:25:28,850 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothB.ttc', name='Yu Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,866 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framdit.ttf', name='Franklin Gothic Medium', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,868 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoescb.ttf', name='Segoe Script', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,869 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gulim.ttc', name='Gulim', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,870 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanb.ttf', name='Constantia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,870 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\gadugi.ttf', name='Gadugi', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,871 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolab.ttf', name='Consolas', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,871 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucit.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,872 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\pala.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,872 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbd.ttf', name='Times New Roman', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,872 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgia.ttf', name='Georgia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,873 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesbi.ttf', name='Times New Roman', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,873 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mmrtext.ttf', name='Myanmar Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,874 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelUIsl.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-05 10:25:28,874 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constan.ttf', name='Constantia', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,875 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constanz.ttf', name='Constantia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,875 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consola.ttf', name='Consolas', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,876 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comici.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,876 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\monbaiti.ttf', name='Mongolian Baiti', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,877 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candara.ttf', name='Candara', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,877 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrii.ttf', name='Calibri', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,878 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\tahomabd.ttf', name='Tahoma', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,878 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsun.ttc', name='SimSun', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,878 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msgothic.ttc', name='MS Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,879 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\constani.ttf', name='Constantia', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,881 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbeli.ttf', name='Corbel', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,896 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarali.ttf', name='Candara', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,898 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng3.ttf', name='Wingdings 3', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,898 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbi.ttf', name='Courier New', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,899 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibli.ttf', name='Segoe UI', style='italic', variant='normal', weight=900, stretch='normal', size='scalable')) = 11.525
2025-10-05 10:25:28,899 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ariblk.ttf', name='Arial', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 6.888636363636364
2025-10-05 10:25:28,900 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\courbd.ttf', name='Courier New', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,900 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candarab.ttf', name='Candara', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,901 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\phagspab.ttf', name='Microsoft PhagsPa', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,902 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Candaraz.ttf', name='Candara', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,902 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segmdl2.ttf', name='Segoe MDL2 Assets', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,903 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolaz.ttf', name='Consolas', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,903 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuii.ttf', name='Segoe UI', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,904 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\javatext.ttf', name='Javanese Text', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,904 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\timesi.ttf', name='Times New Roman', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,904 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriab.ttf', name='Cambria', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,905 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ebrimabd.ttf', name='Ebrima', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,905 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\verdanaz.ttf', name='Verdana', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 4.971363636363637
2025-10-05 10:25:28,906 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailu.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,907 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriai.ttf', name='Cambria', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,907 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguiemj.ttf', name='Segoe UI Emoji', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,908 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothR.ttc', name='Yu Gothic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,908 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibrib.ttf', name='Calibri', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,909 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Gabriola.ttf', name='Gabriola', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,909 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguibl.ttf', name='Segoe UI', style='normal', variant='normal', weight=900, stretch='normal', size='scalable')) = 10.525
2025-10-05 10:25:28,909 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arial.ttf', name='Arial', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 6.413636363636363
2025-10-05 10:25:28,910 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebuc.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,911 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\YuGothM.ttc', name='Yu Gothic', style='normal', variant='normal', weight=500, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,913 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\sylfaen.ttf', name='Sylfaen', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,928 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoepr.ttf', name='Segoe Print', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,929 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyh.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,931 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SegUIVar.ttf', name='Segoe UI Variable', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,931 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\calibri.ttf', name='Calibri', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,932 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbd.ttf', name='Trebuchet MS', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,933 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingding.ttf', name='Wingdings', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,933 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comicz.ttf', name='Comic Sans MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,934 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\cambriaz.ttf', name='Cambria', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,934 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiab.ttf', name='Georgia', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,935 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelz.ttf', name='Corbel', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,936 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\mingliub.ttc', name='MingLiU-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,936 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\framd.ttf', name='Franklin Gothic Medium', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,936 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuil.ttf', name='Segoe UI', style='normal', variant='normal', weight=300, stretch='normal', size='scalable')) = 10.145
2025-10-05 10:25:28,937 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\comic.ttf', name='Comic Sans MS', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,938 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\Inkfree.ttf', name='Ink Free', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,938 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguili.ttf', name='Segoe UI', style='italic', variant='normal', weight=300, stretch='normal', size='scalable')) = 11.145
2025-10-05 10:25:28,939 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\symbol.ttf', name='Symbol', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,939 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msyhl.ttc', name='Microsoft YaHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-05 10:25:28,940 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\msjhl.ttc', name='Microsoft JhengHei', style='normal', variant='normal', weight=290, stretch='normal', size='scalable')) = 10.1545
2025-10-05 10:25:28,940 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\seguihis.ttf', name='Segoe UI Historic', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,941 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\ntailub.ttf', name='Microsoft New Tai Lue', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,941 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\arialbd.ttf', name='Arial', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 6.698636363636363
2025-10-05 10:25:28,942 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SansSerifCollection.ttf', name='Sans Serif Collection', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,943 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\consolai.ttf', name='Consolas', style='italic', variant='normal', weight=400, stretch='normal', size='scalable')) = 11.05
2025-10-05 10:25:28,943 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\wingdng2.ttf', name='Wingdings 2', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,945 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\LeelaUIb.ttf', name='Leelawadee UI', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,960 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\simsunb.ttf', name='SimSun-ExtB', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,962 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\malgunbd.ttf', name='Malgun Gothic', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,962 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbelb.ttf', name='Corbel', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,963 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\taile.ttf', name='Microsoft Tai Le', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,963 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\trebucbi.ttf', name='Trebuchet MS', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,964 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\georgiaz.ttf', name='Georgia', style='italic', variant='normal', weight=700, stretch='normal', size='scalable')) = 11.335
2025-10-05 10:25:28,964 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\palab.ttf', name='Palatino Linotype', style='normal', variant='normal', weight=700, stretch='normal', size='scalable')) = 10.335
2025-10-05 10:25:28,965 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\segoeuisl.ttf', name='Segoe UI', style='normal', variant='normal', weight=350, stretch='normal', size='scalable')) = 10.0975
2025-10-05 10:25:28,965 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\SitkaVF.ttf', name='Sitka', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,966 - matplotlib.font_manager - DEBUG - findfont: score(FontEntry(fname='C:\\Windows\\Fonts\\corbel.ttf', name='Corbel', style='normal', variant='normal', weight=400, stretch='normal', size='scalable')) = 10.05
2025-10-05 10:25:28,967 - matplotlib.font_manager - DEBUG - findfont: Matching sans\-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=8.0 to DejaVu Sans ('C:\\tool\\app_gemini\\.venv\\Lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2025-10-05 10:25:29,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:29,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:29,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:29,368 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:29,369 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:29,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:29,526 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:29,527 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:29,528 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:29,528 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:29,529 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:29,529 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:29,530 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:29,530 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:29,578 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:30,207 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:30,239 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:30,403 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:30,404 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:30,404 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:31,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:31,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:31,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:31,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:31,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:31,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:31,554 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:31,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:31,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:31,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:31,557 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:31,557 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:31,558 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:31,558 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:31,593 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:32,173 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:32,211 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:32,372 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:32,373 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:32,374 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:33,191 - APP.ui.app_ui - INFO - Chuyển đổi Autorun sang: Bật
2025-10-05 10:25:33,192 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:25:33,374 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:33,375 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:33,375 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:33,377 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:33,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:33,530 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:33,532 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:33,532 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:33,533 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:33,534 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:33,534 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:33,535 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:33,535 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:33,536 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:33,580 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:34,162 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:34,200 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:34,365 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:34,366 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:34,366 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:34,641 - APP.ui.app_ui - INFO - Yêu cầu lưu workspace từ UI.
2025-10-05 10:25:34,642 - APP.ui.app_ui - DEBUG - Bắt đầu thu thập dữ liệu cấu hình từ UI.
2025-10-05 10:25:34,643 - APP.configs.workspace_config - DEBUG - Bắt đầu lưu cấu hình vào file.
2025-10-05 10:25:34,644 - APP.configs.workspace_config - INFO - Cấu hình đã được lưu thành công vào C:\Users\leanhchi\.gemini_folder_analyze\workspace.json
2025-10-05 10:25:34,645 - APP.configs.workspace_config - DEBUG - Kết thúc lưu cấu hình vào file.
2025-10-05 10:25:35,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:35,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:35,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:35,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:35,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:35,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:35,526 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:35,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:35,527 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:35,527 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:35,528 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:35,529 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:35,529 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:35,529 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:35,573 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:36,291 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:36,335 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:36,567 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:36,568 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:36,569 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:37,574 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:37,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:37,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:37,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:37,578 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:37,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:37,725 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:37,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:37,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:37,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:37,728 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:37,729 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:37,729 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:37,730 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:37,777 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:38,329 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:38,360 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:38,525 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:38,526 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:38,527 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:38,732 - APP.ui.app_ui - INFO - Đã lưu cấu hình workspace thành công.
2025-10-05 10:25:39,527 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:39,528 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:39,528 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:39,530 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:39,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:39,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:39,856 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:39,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:39,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:39,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:39,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:39,860 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:39,860 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:39,860 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:39,896 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:40,444 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:40,477 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:40,635 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:40,636 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:40,636 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:41,637 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:41,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:41,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:41,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:41,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:41,790 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:41,791 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:41,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:41,793 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:41,793 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:41,794 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:41,794 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:41,795 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:41,795 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:41,842 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:42,459 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:42,490 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:42,673 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:42,674 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:42,674 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:43,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:43,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:43,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:43,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:43,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:43,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:43,829 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:43,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:43,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:43,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:43,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:43,832 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:43,832 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:43,833 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:43,874 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:44,450 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:44,496 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:44,653 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:44,654 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:44,654 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:45,655 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:45,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:45,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:45,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:45,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:45,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:45,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:45,809 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:45,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:45,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:45,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:45,812 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:45,812 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:45,812 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:45,854 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:46,458 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:46,492 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:46,652 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:46,654 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:46,654 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:47,655 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:47,655 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:47,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:47,657 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:47,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:47,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:47,808 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:47,808 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:47,809 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:47,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:47,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:47,811 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:47,811 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:47,812 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:47,848 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:48,407 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:48,439 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:48,597 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:48,598 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:48,598 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:49,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:49,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:49,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:49,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:49,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:49,755 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:49,757 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:49,757 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:49,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:49,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:49,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:49,760 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:49,760 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:49,761 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:49,809 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:50,349 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:50,384 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:50,543 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:50,544 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:50,544 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:51,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:51,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:51,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:51,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:51,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:51,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:51,698 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:51,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:51,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:51,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:51,701 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:51,702 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:51,702 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:51,702 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:51,748 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:52,303 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:52,334 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:52,494 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:52,495 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:52,496 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:53,497 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:53,497 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:53,498 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:53,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:53,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:53,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:53,653 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:53,654 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:53,655 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:53,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:53,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:53,657 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:53,657 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:53,658 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:53,703 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:54,259 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:54,291 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:54,453 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:54,455 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:54,455 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:55,456 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:55,457 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:55,457 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:55,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:55,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:55,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:55,783 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:55,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:55,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:55,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:55,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:55,786 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:55,786 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:55,787 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:55,830 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:56,440 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:56,473 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:56,637 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:56,638 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:56,639 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:57,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:57,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:57,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:57,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:57,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:57,798 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:57,800 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:57,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:57,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:57,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:57,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:57,803 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:57,803 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:57,804 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:57,843 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:25:58,406 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:25:58,437 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:25:58,600 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:25:58,601 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:25:58,602 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:25:59,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:25:59,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:25:59,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:25:59,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:25:59,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:25:59,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:25:59,760 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:25:59,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:25:59,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:25:59,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:25:59,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:25:59,764 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:25:59,764 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:25:59,765 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:25:59,812 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:00,377 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:00,420 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:00,574 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:00,575 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:00,575 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:01,581 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:01,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:01,611 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:01,669 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:01,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:01,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:02,008 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:02,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:02,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:02,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:02,091 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:02,107 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:02,135 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:02,136 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:02,185 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:03,113 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:03,146 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:03,437 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:03,449 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:03,475 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:04,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:04,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:04,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:04,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:04,480 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:04,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:04,634 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:04,635 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:04,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:04,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:04,637 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:04,637 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:04,638 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:04,638 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:04,688 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:05,342 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:05,385 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:05,544 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:05,545 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:05,546 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:06,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:06,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:06,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:06,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:06,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:07,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:07,071 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:07,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:07,074 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:07,075 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:07,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:07,078 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:07,079 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:07,079 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:07,240 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:08,491 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:08,539 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:08,719 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:08,721 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:08,721 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:09,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:09,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:09,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:09,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:09,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:09,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:09,875 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:09,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:09,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:09,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:09,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:09,878 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:09,879 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:09,879 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:09,928 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:10,477 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:10,508 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:10,671 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:10,672 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:10,673 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:11,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:11,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:11,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:11,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:11,677 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:11,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:11,836 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:11,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:11,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:11,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:11,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:11,840 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:11,841 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:11,841 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:11,891 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:12,545 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:12,586 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:12,748 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:12,749 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:12,749 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:13,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:13,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:13,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:13,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:13,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:13,904 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:13,906 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:13,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:13,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:13,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:13,909 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:13,909 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:13,910 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:13,910 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:13,965 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:14,588 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:14,621 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:14,784 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:14,786 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:14,786 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:15,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:15,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:15,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:15,790 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:15,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:15,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:15,938 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:15,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:15,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:15,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:15,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:15,941 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:15,942 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:15,942 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:15,980 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:16,609 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:16,650 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:16,804 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:16,805 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:16,805 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:17,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:17,808 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:17,808 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:17,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:17,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:17,959 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:17,961 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:17,961 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:17,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:17,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:17,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:17,964 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:17,964 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:17,964 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:18,015 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:18,580 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:18,624 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:18,780 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:18,781 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:18,782 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:19,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:19,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:19,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:19,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:19,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:19,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:19,935 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:19,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:19,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:19,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:19,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:19,938 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:19,939 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:19,939 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:19,976 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:20,551 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:20,581 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:20,738 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:20,739 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:20,740 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:21,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:21,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:21,742 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:21,744 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:21,744 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:21,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:21,904 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:21,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:21,906 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:21,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:21,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:21,908 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:21,908 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:21,909 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:21,945 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:22,509 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:22,551 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:22,706 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:22,707 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:22,708 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:23,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:23,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:23,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:23,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:23,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:23,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:23,862 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:23,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:23,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:23,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:23,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:23,865 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:23,865 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:23,866 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:23,916 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:24,475 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:24,524 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:24,681 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:24,683 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:24,683 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:25,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:25,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:25,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:25,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:25,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:25,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:25,845 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:25,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:25,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:25,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:25,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:25,848 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:25,849 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:25,849 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:25,903 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:26,475 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:26,517 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:26,670 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:26,671 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:26,672 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:27,672 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:27,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:27,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:27,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:27,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:27,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:27,830 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:27,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:27,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:27,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:27,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:27,833 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:27,833 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:27,834 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:27,870 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:28,424 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:28,455 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:28,794 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:28,795 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:28,795 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:29,796 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:29,796 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:29,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:29,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:29,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:29,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:29,950 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:29,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:29,952 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:29,952 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:29,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:29,954 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:29,954 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:29,954 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:30,006 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:30,568 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:30,615 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:30,769 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:30,770 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:30,771 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:31,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:31,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:31,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:31,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:31,775 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:31,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:31,932 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:31,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:31,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:31,935 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:31,935 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:31,936 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:31,936 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:31,936 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:31,991 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:32,559 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:32,597 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:32,754 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:32,755 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:32,755 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:33,193 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:26:33,195 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:26:33,195 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:26:33,201 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:26:33,202 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:26:33,202 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:26:33,203 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:26:33,215 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:26:33,216 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:26:33,216 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:26:33,249 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:26:33,250 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:26:33,250 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:26:33,716 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:26:33,716 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:26:33,717 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:26:33,717 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:26:33,756 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:33,757 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:33,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:33,775 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:33,782 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:33,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:33,932 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:33,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:33,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:33,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:33,935 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:33,936 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:33,936 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:33,937 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:33,989 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:34,181 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:26:34,181 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:26:34,182 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:26:34,182 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:26:34,183 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:26:34,183 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:26:34,183 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:26:34,184 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:26:34,184 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:26:34,185 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:26:34,185 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:26:34,185 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:26:34,186 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:26:34,187 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:26:34,189 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:26:34,190 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:26:34,191 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:26:34,191 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:26:34,207 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:26:34,223 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:26:34,223 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:26:34,224 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:26:34,225 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:26:34,226 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:26:34,238 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:26:34,239 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:26:34,239 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:26:34,239 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:26:34,240 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:26:34,240 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:26:34,241 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:26:34,242 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:26:34,246 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:26:34,258 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:26:34,260 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:26:34,418 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:26:34,419 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:26:34,419 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:26:34,421 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:26:34,422 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:26:34,422 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:26:34,425 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:26:34,425 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:26:34,426 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:26:34,428 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:26:34,428 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:26:34,428 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:26:34,432 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:26:34,444 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:26:34,445 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:26:34,446 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:26:34,447 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:26:34,447 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:26:34,448 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:26:34,448 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:26:34,449 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:26:34,449 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:26:34,450 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:26:34,450 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:26:34,451 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:26:34,451 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:26:34,451 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:26:34,475 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:26:34.475387+07:00
2025-10-05 10:26:34,480 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:26:34.475387+07:00
2025-10-05 10:26:34,480 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:26:34.475387+07:00 trong DST: True
2025-10-05 10:26:34,481 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:26:34,481 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:26:34,482 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:26:34,483 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:26:34,483 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:26:34,487 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:26:34,488 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:26:34,488 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:26:34,489 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:26:34,489 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:26:34,489 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:26:34,490 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:26:34,491 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:26:34,491 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:26:34,492 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:26:34,494 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:26:34,495 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:26:34,508 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:26:34,509 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:26:34,510 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:26:34,511 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:26:34,524 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:26:34,525 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:26:34,527 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:26:34,527 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:26:34,528 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:26:34,529 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:26:34,529 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:26:34,530 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:26:34,530 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:26:34,531 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:26:34,531 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:26:34,532 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:26:34,532 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:26:34,533 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:26:34,533 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:26:34,534 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:26:34,534 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:26:34,535 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:26:34,535 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:26:34,535 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:26:34,536 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:26:34,536 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:26:34,536 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:26:34,537 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:26:34,537 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:26:34,538 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:26:34,538 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:26:34,539 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:26:34,539 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:26:34,539 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:26:34.539926+07:00
2025-10-05 10:26:34,540 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:26:34.539926+07:00
2025-10-05 10:26:34,540 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:26:34.539926+07:00 trong DST: True
2025-10-05 10:26:34,541 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:26:34,541 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:26:34,542 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 214
2025-10-05 10:26:34,542 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:26:34,543 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:26:34,543 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:26:34,544 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:26:34,556 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:26:34,557 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:26:34,557 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:26:34,557 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:26:34,558 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:26:34,558 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:26:34,560 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:26:34,560 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:26:34,560 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:26:34,572 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:26:34,574 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:26:34,575 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:26:34,576 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:26:34,577 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:26:34,577 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:26:34,578 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:26:34,579 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:26:34,591 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:26:34,592 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:26:34,593 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:26:34,593 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:26:34,594 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:26:34,594 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:26:34,595 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:26:34,595 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:26:34,609 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:26:34,610 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:26:34,612 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:26:34,613 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:26:34,613 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:26:34,614 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:26:34,614 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:26:34,615 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:26:34,615 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:26:34,615 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:26:34,616 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:26:34,616 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:26:34,617 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:26:34,617 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:26:34,617 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:26:34,618 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:26:34,618 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:26:34,619 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:26:34,619 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:34,620 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:34,679 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:34,957 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:34,999 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:35,214 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:35,216 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:35,216 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:35,427 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:35,471 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:35,654 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:35,655 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:26:35,655 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:26:35,656 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:26:35,656 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:26:35,657 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:26:35,657 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:26:35,658 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:26:35,659 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:26:35,659 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:26:35,660 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:26:35,660 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:26:35,661 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:26:35,662 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:26:35,662 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:26:35,663 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:26:35,663 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:26:35,664 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:26:35,664 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:26:35,677 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:26:35,679 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:26:35,679 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:26:35,680 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:26:35,680 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:26:35,681 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:26:35,682 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:26:35,682 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:26:35,682 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:26:35,683 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:26:35,683 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:26:35,690 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:26:35,691 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:26:35,691 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:26:35,692 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:26:35,693 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:26:35,790 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:26:36,217 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:36,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:36,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:36,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:36,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:36,376 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:36,378 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:36,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:36,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:36,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:36,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:36,382 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:36,382 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:36,383 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:36,430 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:37,071 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:37,117 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:37,273 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:37,274 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:37,274 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:38,275 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:38,276 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:38,276 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:38,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:38,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:38,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:38,431 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:38,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:38,432 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:38,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:38,434 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:38,434 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:38,435 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:38,435 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:38,489 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:39,053 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:39,096 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:39,249 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:39,250 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:39,250 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:40,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:40,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:40,252 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:40,254 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:40,254 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:40,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:40,408 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:40,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:40,410 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:40,410 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:40,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:40,411 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:40,412 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:40,412 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:40,449 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:41,001 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:41,042 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:41,199 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:41,200 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:41,200 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:42,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:42,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:42,202 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:42,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:42,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:42,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:42,352 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:42,353 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:42,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:42,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:42,355 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:42,356 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:42,356 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:42,356 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:42,409 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:42,973 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:43,015 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:43,372 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:43,373 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:43,374 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:44,374 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:44,375 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:44,375 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:44,377 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:44,377 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:44,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:44,537 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:44,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:44,539 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:44,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:44,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:44,541 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:44,542 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:44,542 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:44,595 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:45,168 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:45,210 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:45,369 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:45,370 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:45,370 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:46,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:46,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:46,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:46,374 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:46,374 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:46,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:46,528 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:46,528 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:46,530 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:46,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:46,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:46,532 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:46,532 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:46,533 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:46,588 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:47,222 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:47,261 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:47,417 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:47,418 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:47,418 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:48,419 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:48,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:48,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:48,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:48,423 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:48,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:48,584 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:48,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:48,585 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:48,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:48,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:48,587 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:48,588 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:48,588 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:48,642 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:49,195 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:49,240 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:49,388 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:49,390 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:49,390 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:50,391 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:50,391 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:50,392 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:50,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:50,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:50,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:50,547 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:50,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:50,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:50,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:50,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:50,550 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:50,551 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:50,551 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:50,591 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:51,154 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:51,199 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:51,357 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:51,358 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:51,359 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:52,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:52,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:52,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:52,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:52,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:52,516 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:52,518 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:52,518 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:52,519 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:52,520 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:52,521 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:52,521 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:52,521 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:52,522 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:52,572 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:53,151 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:53,194 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:53,348 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:53,349 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:53,349 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:54,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:54,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:54,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:54,353 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:54,353 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:54,509 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:54,511 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:54,511 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:54,512 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:54,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:54,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:54,514 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:54,515 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:54,515 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:54,564 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:55,120 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:55,159 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:55,310 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:55,311 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:55,312 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:56,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:56,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:56,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:56,315 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:56,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:56,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:56,469 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:56,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:56,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:56,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:56,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:56,472 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:56,472 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:56,473 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:56,529 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:57,087 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:57,128 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:57,282 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:57,284 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:57,284 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:26:58,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:26:58,286 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:26:58,286 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:26:58,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:26:58,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:26:58,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:26:58,643 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:26:58,644 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:26:58,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:26:58,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:26:58,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:26:58,647 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:26:58,647 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:26:58,647 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:26:58,701 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:26:59,267 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:26:59,307 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:26:59,461 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:26:59,462 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:26:59,462 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:00,463 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:00,464 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:00,464 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:00,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:00,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:00,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:00,624 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:00,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:00,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:00,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:00,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:00,627 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:00,628 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:00,628 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:00,675 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:01,303 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:01,345 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:01,541 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:01,542 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:01,543 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:02,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:02,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:02,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:02,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:02,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:02,717 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:02,719 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:02,720 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:02,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:02,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:02,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:02,723 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:02,723 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:02,724 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:02,761 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:03,459 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:03,500 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:03,696 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:03,697 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:03,698 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:04,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:04,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:04,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:04,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:04,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:04,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:04,855 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:04,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:04,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:04,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:04,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:04,858 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:04,859 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:04,859 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:04,912 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:05,545 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:05,586 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:05,743 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:05,744 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:05,744 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:06,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:06,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:06,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:06,748 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:06,748 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:06,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:06,900 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:06,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:06,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:06,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:06,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:06,903 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:06,904 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:06,904 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:06,955 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:07,519 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:07,555 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:07,713 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:07,714 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:07,714 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:08,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:08,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:08,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:08,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:08,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:08,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:08,871 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:08,872 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:08,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:08,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:08,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:08,874 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:08,874 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:08,875 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:08,926 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:09,490 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:09,530 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:09,683 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:09,684 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:09,685 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:10,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:10,686 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:10,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:10,689 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:10,689 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:10,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:10,839 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:10,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:10,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:10,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:10,842 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:10,842 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:10,843 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:10,843 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:10,895 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:11,441 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:11,484 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:11,646 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:11,647 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:11,648 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:12,648 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:12,649 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:12,649 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:12,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:12,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:12,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:12,800 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:12,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:12,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:12,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:12,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:12,803 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:12,804 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:12,804 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:12,856 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:13,493 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:13,526 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:13,687 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:13,688 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:13,688 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:14,689 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:14,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:14,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:14,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:14,693 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:15,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:15,031 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:15,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:15,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:15,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:15,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:15,035 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:15,035 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:15,035 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:15,085 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:15,641 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:15,682 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:15,837 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:15,838 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:15,838 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:16,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:16,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:16,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:16,842 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:16,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:16,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:16,993 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:16,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:16,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:16,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:16,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:16,996 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:16,996 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:16,996 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:17,050 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:17,612 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:17,650 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:17,807 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:17,808 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:17,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:18,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:18,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:18,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:18,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:18,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:18,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:18,967 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:18,968 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:18,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:18,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:18,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:18,971 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:18,971 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:18,972 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:19,024 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:19,648 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:19,687 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:19,839 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:19,840 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:19,840 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:20,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:20,842 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:20,842 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:20,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:20,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:20,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:20,995 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:20,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:20,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:20,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:20,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:20,998 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:20,999 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:20,999 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:21,052 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:21,671 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:21,708 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:21,865 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:21,867 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:21,867 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:22,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:22,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:22,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:22,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:22,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:23,022 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:23,024 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:23,024 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:23,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:23,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:23,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:23,027 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:23,027 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:23,028 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:23,079 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:23,727 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:23,766 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:23,925 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:23,926 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:23,926 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:24,927 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:24,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:24,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:24,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:24,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:25,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:25,080 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:25,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:25,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:25,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:25,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:25,084 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:25,084 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:25,084 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:25,134 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:25,733 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:25,763 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:25,920 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:25,921 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:25,921 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:26,922 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:26,923 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:26,923 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:26,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:26,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:27,074 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:27,076 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:27,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:27,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:27,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:27,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:27,080 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:27,080 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:27,080 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:27,133 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:27,691 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:27,733 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:27,886 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:27,887 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:27,888 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:28,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:28,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:28,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:28,891 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:28,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:29,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:29,048 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:29,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:29,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:29,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:29,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:29,052 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:29,052 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:29,052 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:29,100 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:29,657 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:29,689 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:29,842 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:29,844 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:29,844 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:30,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:30,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:30,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:30,849 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:30,849 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:30,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:30,992 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:30,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:30,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:30,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:30,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:30,995 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:30,996 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:30,996 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:31,035 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:31,613 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:31,650 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:31,807 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:31,808 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:31,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:32,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:32,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:32,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:32,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:32,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:32,959 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:32,961 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:32,961 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:32,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:32,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:32,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:32,964 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:32,964 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:32,964 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:33,015 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:33,649 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:33,682 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:33,843 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:33,844 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:33,844 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:34,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:34,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:34,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:34,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:34,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:34,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:34,998 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:34,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:34,999 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:35,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:35,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:35,001 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:35,001 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:35,002 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:35,054 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:35,614 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:35,653 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:35,812 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:35,814 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:35,814 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:35,816 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:27:35,818 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:27:35,819 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:27:35,824 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:27:35,836 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:27:35,837 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:27:35,838 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:27:35,839 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:27:35,839 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:27:35,839 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:27:35,999 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:27:36,000 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:27:36,000 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:27:36,003 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:27:36,004 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:27:36,005 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:27:36,005 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:27:36,025 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:27:36,026 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:27:36,027 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:27:36,027 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:27:36,027 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:27:36,028 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:27:36,028 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:27:36,028 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:27:36,029 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:27:36,029 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:27:36,030 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:27:36,030 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:27:36,030 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:27:36,031 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:27:36,031 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:27:36,032 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:27:36,032 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:27:36,033 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:27:36,033 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:27:36,034 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:27:36,034 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:27:36,034 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:27:36,035 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:27:36,035 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:27:36,036 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:27:36,036 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:27:36,036 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:27:36,037 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:27:36,037 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:27:36,038 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:27:36,038 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:27:36,039 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:27:36,041 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:27:36,042 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:27:36,042 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:27:36,044 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:27:36,054 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:27:36,055 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:27:36,057 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:27:36,057 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:27:36,058 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:27:36,064 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:27:36,070 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:27:36,071 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:27:36,074 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:27:36,074 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:27:36,074 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:27:36,078 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:27:36,090 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:27:36,090 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:27:36,091 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:27:36,091 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:27:36,092 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:27:36,093 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:27:36,094 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:27:36,094 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:27:36,094 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:27:36,095 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:27:36,095 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:27:36,096 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:27:36,096 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:27:36,097 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:27:36,097 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:27:36.097420+07:00
2025-10-05 10:27:36,097 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:27:36.097420+07:00
2025-10-05 10:27:36,098 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:27:36.097420+07:00 trong DST: True
2025-10-05 10:27:36,098 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:27:36,099 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:27:36,099 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:27:36,101 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:27:36,101 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:27:36,104 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:27:36,104 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:27:36,104 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:27:36,105 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:27:36,105 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:27:36,106 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:27:36,106 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:27:36,107 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:27:36,107 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:27:36,108 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:27:36,108 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:27:36,109 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:27:36,109 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:27:36,109 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:27:36,121 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:27:36,122 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:27:36,122 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:27:36,124 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:27:36,125 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:27:36,135 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:27:36,138 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:27:36,139 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:27:36,140 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:27:36,140 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:27:36,140 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:27:36,141 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:27:36,142 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:27:36,142 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:27:36,154 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:27:36,155 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:27:36,155 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:27:36,156 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:27:36,156 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:27:36,157 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:27:36,157 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:27:36,172 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:27:36,173 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:27:36,173 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:27:36,174 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:27:36,174 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:27:36,175 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:27:36,176 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:27:36,177 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:27:36,184 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:27:36,185 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:27:36,187 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:27:36.187029+07:00
2025-10-05 10:27:36,187 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:27:36.187029+07:00
2025-10-05 10:27:36,188 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:27:36.187029+07:00 trong DST: True
2025-10-05 10:27:36,188 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:27:36,188 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:27:36,189 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 213
2025-10-05 10:27:36,189 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:27:36,189 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:27:36,190 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:27:36,192 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:27:36,204 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:27:36,204 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:27:36,205 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:27:36,205 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:27:36,206 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:27:36,206 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:27:36,208 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:27:36,210 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:27:36,222 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:27:36,223 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:27:36,225 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:27:36,238 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:27:36,239 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:27:36,239 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:27:36,240 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:27:36,240 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:27:36,241 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:27:36,242 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:27:36,258 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:27:36,259 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:27:36,260 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:27:36,261 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:27:36,261 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:27:36,262 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:27:36,263 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:27:36,263 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:27:36,264 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:27:36,264 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:27:36,265 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:27:36,265 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:27:36,266 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:27:36,266 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:27:36,266 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:27:36,267 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:27:36,267 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:27:36,268 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:27:36,268 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:27:36,268 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:27:36,269 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:27:36,269 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:27:36,270 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:27:36,270 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:27:36,271 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:27:36,271 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:36,271 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:36,330 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:36,815 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:36,816 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:36,816 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:36,818 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:36,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:36,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:36,973 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:36,974 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:36,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:36,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:36,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:36,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:36,980 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:36,981 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:37,007 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:37,030 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:37,172 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:37,233 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:37,234 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:27:37,234 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:27:37,234 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:27:37,235 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:27:37,235 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:27:37,235 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:27:37,236 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:27:37,237 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:27:37,238 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:27:37,238 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:27:37,239 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:27:37,240 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:27:37,241 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:27:37,242 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:27:37,242 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:27:37,243 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:27:37,266 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:27:37,278 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:27:37,278 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:27:37,279 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:27:37,293 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:27:37,294 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:27:37,295 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:27:37,295 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:27:37,295 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:27:37,296 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:27:37,296 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:27:37,297 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:27:37,298 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:27:37,367 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:27:37,381 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:27:37,408 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:27:37,497 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:27:37,548 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:27:38,098 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:38,136 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:38,291 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:38,292 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:38,293 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:38,302 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:27:39,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:39,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:39,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:39,296 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:39,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:39,448 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:39,450 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:39,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:39,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:39,452 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:39,453 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:39,453 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:39,454 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:39,454 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:39,505 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:40,146 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:40,183 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:40,333 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:40,334 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:40,334 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:41,336 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:41,336 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:41,337 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:41,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:41,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:41,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:41,480 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:41,481 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:41,482 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:41,482 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:41,483 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:41,484 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:41,484 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:41,484 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:41,521 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:42,089 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:42,133 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:42,288 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:42,289 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:42,289 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:43,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:43,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:43,291 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:43,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:43,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:43,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:43,441 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:43,442 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:43,444 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:43,444 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:43,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:43,445 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:43,446 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:43,446 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:43,481 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:44,131 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:44,177 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:44,333 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:44,334 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:44,335 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:45,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:45,336 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:45,336 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:45,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:45,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:45,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:45,701 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:45,701 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:45,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:45,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:45,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:45,704 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:45,704 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:45,705 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:45,742 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:46,371 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:46,409 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:46,569 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:46,570 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:46,570 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:47,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:47,572 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:47,572 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:47,574 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:47,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:47,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:47,725 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:47,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:47,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:47,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:47,728 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:47,728 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:47,729 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:47,729 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:47,770 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:48,347 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:48,385 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:48,544 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:48,546 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:48,546 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:49,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:49,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:49,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:49,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:49,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:49,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:49,707 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:49,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:49,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:49,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:49,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:49,710 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:49,710 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:49,710 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:49,763 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:50,382 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:50,421 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:50,579 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:50,580 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:50,581 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:51,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:51,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:51,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:51,585 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:51,585 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:51,736 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:51,738 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:51,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:51,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:51,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:51,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:51,741 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:51,741 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:51,742 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:51,794 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:52,357 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:52,397 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:52,555 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:52,556 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:52,557 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:53,557 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:53,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:53,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:53,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:53,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:53,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:53,714 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:53,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:53,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:53,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:53,717 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:53,717 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:53,718 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:53,718 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:53,770 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:54,403 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:54,443 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:54,605 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:54,606 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:54,607 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:55,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:55,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:55,609 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:55,611 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:55,611 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:55,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:55,763 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:55,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:55,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:55,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:55,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:55,766 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:55,767 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:55,767 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:55,819 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:56,384 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:56,424 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:56,586 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:56,587 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:56,588 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:57,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:57,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:57,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:57,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:57,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:57,743 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:57,745 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:57,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:57,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:57,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:57,748 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:57,748 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:57,749 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:57,749 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:57,800 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:27:58,443 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:27:58,482 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:27:58,645 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:27:58,646 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:27:58,647 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:27:59,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:27:59,648 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:27:59,648 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:27:59,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:27:59,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:27:59,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:27:59,806 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:27:59,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:27:59,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:27:59,808 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:27:59,809 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:27:59,809 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:27:59,810 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:27:59,810 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:27:59,863 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:00,507 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:00,548 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:00,706 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:00,707 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:00,708 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:01,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:01,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:01,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:01,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:01,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:01,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:01,894 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:01,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:01,896 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:01,896 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:01,897 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:01,897 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:01,898 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:01,898 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:01,961 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:02,644 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:02,685 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:02,871 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:02,872 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:02,872 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:03,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:03,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:03,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:03,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:03,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:04,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:04,027 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:04,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:04,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:04,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:04,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:04,030 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:04,030 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:04,031 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:04,084 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:04,654 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:04,693 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:04,847 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:04,848 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:04,849 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:05,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:05,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:05,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:05,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:05,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:06,001 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:06,002 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:06,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:06,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:06,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:06,005 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:06,005 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:06,005 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:06,006 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:06,055 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:06,626 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:06,665 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:06,827 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:06,828 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:06,828 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:07,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:07,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:07,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:07,833 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:07,833 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:07,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:07,981 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:07,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:07,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:07,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:07,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:07,984 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:07,985 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:07,985 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:08,034 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:08,671 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:08,710 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:08,868 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:08,869 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:08,870 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:09,870 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:09,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:09,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:09,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:09,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:10,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:10,031 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:10,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:10,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:10,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:10,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:10,034 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:10,035 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:10,035 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:10,071 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:10,645 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:10,685 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:10,833 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:10,834 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:10,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:11,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:11,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:11,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:11,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:11,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:11,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:11,992 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:11,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:11,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:11,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:11,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:11,996 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:11,996 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:11,996 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:12,044 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:12,649 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:12,679 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:12,838 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:12,839 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:12,840 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:13,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:13,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:13,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:13,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:13,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:13,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:13,995 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:13,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:13,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:13,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:13,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:13,998 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:13,998 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:13,999 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:14,051 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:14,678 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:14,714 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:14,868 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:14,870 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:14,870 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:15,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:15,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:15,872 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:15,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:15,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:16,023 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:16,024 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:16,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:16,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:16,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:16,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:16,027 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:16,028 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:16,028 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:16,080 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:16,636 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:16,676 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:17,040 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:17,041 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:17,041 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:18,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:18,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:18,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:18,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:18,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:18,194 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:18,195 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:18,196 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:18,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:18,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:18,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:18,199 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:18,199 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:18,199 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:18,252 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:18,815 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:18,855 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:19,013 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:19,014 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:19,015 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:20,015 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:20,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:20,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:20,018 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:20,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:20,171 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:20,173 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:20,173 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:20,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:20,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:20,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:20,176 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:20,176 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:20,177 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:20,228 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:20,842 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:20,873 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:21,024 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:21,025 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:21,025 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:22,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:22,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:22,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:22,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:22,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:22,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:22,179 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:22,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:22,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:22,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:22,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:22,182 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:22,182 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:22,182 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:22,234 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:22,811 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:22,851 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:23,011 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:23,012 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:23,012 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:24,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:24,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:24,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:24,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:24,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:24,167 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:24,169 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:24,170 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:24,171 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:24,171 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:24,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:24,172 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:24,173 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:24,173 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:24,225 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:24,788 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:24,827 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:24,982 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:24,983 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:24,984 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:25,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:25,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:25,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:25,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:25,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:26,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:26,144 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:26,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:26,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:26,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:26,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:26,147 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:26,147 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:26,148 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:26,200 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:26,808 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:26,841 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:26,998 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:26,999 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:27,000 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:28,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:28,001 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:28,002 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:28,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:28,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:28,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:28,153 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:28,153 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:28,154 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:28,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:28,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:28,156 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:28,157 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:28,157 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:28,207 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:28,759 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:28,791 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:28,947 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:28,948 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:28,949 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:29,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:29,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:29,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:29,952 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:29,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:30,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:30,113 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:30,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:30,114 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:30,115 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:30,115 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:30,116 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:30,116 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:30,117 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:30,163 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:30,719 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:30,752 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:30,905 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:30,906 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:30,906 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:31,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:31,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:31,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:31,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:31,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:32,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:32,060 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:32,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:32,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:32,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:32,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:32,063 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:32,063 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:32,064 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:32,117 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:32,669 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:32,702 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:33,074 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:33,075 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:33,076 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:34,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:34,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:34,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:34,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:34,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:34,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:34,232 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:34,232 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:34,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:34,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:34,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:34,235 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:34,235 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:34,235 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:34,287 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:34,847 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:34,889 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:35,052 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:35,053 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:35,054 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:36,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:36,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:36,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:36,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:36,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:36,226 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:36,228 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:36,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:36,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:36,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:36,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:36,231 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:36,232 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:36,232 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:36,282 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:36,856 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:36,895 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:37,055 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:37,056 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:37,057 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:38,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:38,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:38,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:38,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:38,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:38,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:38,214 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:38,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:38,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:38,217 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:38,217 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:38,218 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:38,218 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:38,219 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:38,273 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:39,054 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:39,081 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:39,245 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:39,247 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:39,247 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:39,248 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:28:39,250 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:28:39,251 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:28:39,256 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:28:39,267 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:28:39,268 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:28:39,269 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:28:39,270 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:28:39,271 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:28:39,271 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:28:39,431 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:28:39,432 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:28:39,433 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:28:39,436 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:28:39,437 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:28:39,437 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:28:39,438 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:28:39,457 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:28:39,458 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:28:39,459 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:28:39,459 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:28:39,460 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:28:39,460 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:28:39,460 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:28:39,461 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:28:39,461 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:28:39,462 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:28:39,462 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:28:39,462 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:28:39,463 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:28:39,463 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:28:39,464 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:28:39,464 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:28:39,465 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:28:39,465 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:28:39,466 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:28:39,466 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:28:39,467 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:28:39,469 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:28:39,475 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:28:39,480 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:28:39,481 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:28:39,482 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:28:39,482 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:28:39,483 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:28:39,483 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:28:39,484 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:28:39,484 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:28:39,485 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:28:39,489 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:28:39,501 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:28:39,501 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:28:39,503 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:28:39,503 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:28:39,504 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:28:39,506 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:28:39,507 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:28:39,507 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:28:39,510 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:28:39,511 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:28:39,511 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:28:39,513 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:28:39,514 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:28:39,514 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:28:39,516 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:28:39,516 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:28:39,517 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:28:39,518 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:28:39,518 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:28:39,531 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:28:39,532 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:28:39,533 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:28:39,533 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:28:39,534 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:28:39,534 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:28:39,538 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:28:39,545 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:28:39,546 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:28:39,547 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:28:39,547 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:28:39.547446+07:00
2025-10-05 10:28:39,547 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:28:39.547446+07:00
2025-10-05 10:28:39,548 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:28:39.547446+07:00 trong DST: True
2025-10-05 10:28:39,548 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:28:39,549 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:28:39,549 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:28:39,551 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:28:39,563 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:28:39,566 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:28:39,566 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:28:39,567 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:28:39,567 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:28:39,568 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:28:39,569 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:28:39,570 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:28:39,585 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:28:39,586 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:28:39,587 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:28:39,587 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:28:39,587 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:28:39,588 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:28:39,588 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:28:39,589 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:28:39,589 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:28:39,589 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:28:39,590 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:28:39,590 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:28:39,591 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:28:39,591 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:28:39,592 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:28:39,592 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:28:39,593 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:28:39,593 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:28:39,594 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:28:39,594 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:28:39,595 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:28:39,595 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:28:39,596 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:28:39,596 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:28:39,596 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:28:39,597 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:28:39,597 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:28:39,597 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:28:39,598 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:28:39,598 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:28:39,599 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:28:39,600 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:28:39,600 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:28:39,601 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:28:39,605 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:28:39,617 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:28:39,618 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:28:39,619 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:28:39,620 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:28:39.620110+07:00
2025-10-05 10:28:39,620 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:28:39.620110+07:00
2025-10-05 10:28:39,621 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:28:39.620110+07:00 trong DST: True
2025-10-05 10:28:39,621 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:28:39,622 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:28:39,622 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 212
2025-10-05 10:28:39,623 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:28:39,623 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:28:39,624 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:28:39,624 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:28:39,625 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:28:39,625 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:28:39,625 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:28:39,626 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:28:39,626 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:28:39,627 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:28:39,628 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:28:39,628 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:28:39,629 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:28:39,630 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:28:39,630 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:28:39,631 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:28:39,631 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:28:39,632 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:28:39,632 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:28:39,633 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:28:39,634 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:28:39,635 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:28:39,635 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:28:39,651 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:28:39,652 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:28:39,652 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:28:39,653 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:28:39,653 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:28:39,654 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:28:39,654 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:28:39,655 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:28:39,656 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:28:39,656 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:28:39,657 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:28:39,657 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:28:39,657 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:28:39,658 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:28:39,658 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:28:39,659 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:28:39,659 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:28:39,659 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:28:39,660 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:28:39,660 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:28:39,661 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:28:39,661 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:28:39,662 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:28:39,662 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:28:39,663 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:39,663 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:39,726 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:40,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:40,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:40,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:40,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:40,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:40,291 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:40,328 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:40,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:40,485 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:40,504 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:40,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:40,567 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:40,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:40,613 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:40,625 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:40,642 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:40,742 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:40,745 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:28:40,746 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:28:40,747 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:28:40,748 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:40,748 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:28:40,749 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:28:40,749 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:28:40,750 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:28:40,751 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:28:40,751 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:28:40,752 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:28:40,752 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:28:40,752 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:28:40,753 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:28:40,767 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:28:40,768 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:28:40,769 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:28:40,770 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:28:40,770 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:28:40,771 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:28:40,771 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:28:40,772 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:28:40,772 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:28:40,781 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:28:40,782 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:28:40,783 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:28:40,783 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:28:40,783 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:28:40,784 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:28:40,784 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:28:40,827 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:28:40,828 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:28:40,829 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:28:40,829 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:28:40,829 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:28:41,429 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:41,466 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:41,616 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:41,618 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:41,618 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:41,625 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:28:42,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:42,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:42,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:42,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:42,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:42,775 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:42,777 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:42,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:42,778 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:42,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:42,780 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:42,780 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:42,780 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:42,781 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:42,834 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:43,390 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:43,423 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:43,584 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:43,585 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:43,586 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:44,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:44,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:44,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:44,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:44,590 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:44,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:44,743 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:44,743 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:44,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:44,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:44,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:44,746 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:44,747 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:44,747 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:44,799 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:45,428 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:45,465 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:45,626 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:45,627 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:45,627 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:46,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:46,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:46,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:46,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:46,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:46,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:46,787 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:46,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:46,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:46,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:46,790 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:46,790 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:46,791 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:46,791 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:46,841 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:47,410 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:47,442 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:47,827 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:47,828 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:47,828 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:48,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:48,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:48,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:48,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:48,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:48,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:48,986 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:48,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:48,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:48,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:48,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:48,990 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:48,990 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:48,990 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:49,042 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:49,603 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:49,640 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:49,801 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:49,802 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:49,803 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:50,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:50,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:50,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:50,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:50,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:50,958 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:50,960 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:50,960 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:50,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:50,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:50,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:50,963 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:50,964 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:50,964 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:51,008 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:51,623 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:51,656 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:51,810 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:51,811 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:51,811 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:52,812 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:52,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:52,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:52,815 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:52,816 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:52,967 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:52,969 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:52,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:52,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:52,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:52,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:52,973 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:52,973 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:52,974 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:53,024 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:53,585 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:53,622 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:53,783 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:53,784 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:53,784 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:54,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:54,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:54,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:54,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:54,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:54,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:54,934 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:54,935 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:54,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:54,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:54,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:54,938 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:54,938 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:54,938 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:54,975 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:55,537 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:55,568 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:55,733 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:55,734 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:55,734 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:56,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:56,736 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:56,736 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:56,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:56,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:56,891 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:56,892 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:56,893 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:56,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:56,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:56,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:56,896 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:56,897 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:56,898 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:56,947 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:57,500 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:57,533 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:57,694 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:57,695 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:57,695 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:28:58,695 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:28:58,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:28:58,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:28:58,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:28:58,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:28:58,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:28:58,846 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:28:58,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:28:58,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:28:58,849 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:28:58,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:28:58,850 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:28:58,851 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:28:58,851 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:28:58,901 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:28:59,465 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:28:59,498 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:28:59,658 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:28:59,659 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:28:59,659 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:00,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:00,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:00,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:00,664 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:00,664 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:00,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:00,812 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:00,812 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:00,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:00,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:00,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:00,815 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:00,815 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:00,816 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:00,865 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:01,454 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:01,487 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:01,693 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:01,694 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:01,694 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:02,695 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:02,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:02,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:02,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:02,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:02,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:02,880 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:02,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:02,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:02,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:02,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:02,883 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:02,884 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:02,884 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:02,942 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:03,571 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:03,603 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:04,018 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:04,019 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:04,019 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:05,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:05,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:05,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:05,023 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:05,024 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:05,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:05,179 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:05,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:05,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:05,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:05,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:05,182 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:05,183 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:05,183 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:05,234 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:05,867 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:05,910 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:06,065 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:06,067 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:06,067 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:07,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:07,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:07,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:07,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:07,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:07,221 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:07,222 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:07,223 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:07,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:07,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:07,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:07,226 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:07,226 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:07,227 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:07,277 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:07,862 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:07,901 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:08,055 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:08,056 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:08,057 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:09,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:09,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:09,059 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:09,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:09,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:09,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:09,214 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:09,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:09,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:09,217 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:09,217 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:09,218 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:09,218 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:09,219 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:09,270 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:09,844 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:09,887 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:10,043 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:10,044 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:10,045 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:11,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:11,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:11,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:11,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:11,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:11,202 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:11,204 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:11,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:11,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:11,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:11,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:11,208 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:11,208 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:11,209 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:11,260 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:11,807 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:11,840 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:11,992 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:11,993 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:11,994 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:12,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:12,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:12,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:12,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:12,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:13,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:13,148 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:13,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:13,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:13,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:13,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:13,151 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:13,151 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:13,151 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:13,189 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:13,830 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:13,869 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:14,025 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:14,026 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:14,026 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:15,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:15,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:15,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:15,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:15,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:15,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:15,185 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:15,185 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:15,186 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:15,186 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:15,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:15,188 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:15,188 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:15,188 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:15,225 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:15,781 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:15,813 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:15,974 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:15,975 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:15,975 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:16,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:16,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:16,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:16,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:16,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:17,139 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:17,140 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:17,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:17,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:17,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:17,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:17,144 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:17,144 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:17,144 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:17,192 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:17,745 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:17,779 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:17,934 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:17,935 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:17,936 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:18,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:18,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:18,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:18,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:18,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:19,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:19,088 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:19,089 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:19,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:19,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:19,091 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:19,091 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:19,092 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:19,092 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:19,144 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:19,762 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:19,794 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:20,182 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:20,183 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:20,184 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:21,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:21,185 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:21,185 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:21,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:21,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:21,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:21,347 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:21,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:21,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:21,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:21,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:21,350 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:21,350 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:21,351 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:21,393 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:21,961 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:22,000 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:22,149 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:22,150 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:22,150 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:23,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:23,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:23,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:23,154 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:23,154 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:23,304 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:23,306 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:23,307 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:23,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:23,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:23,309 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:23,309 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:23,310 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:23,310 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:23,358 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:23,935 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:23,978 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:24,131 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:24,132 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:24,133 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:25,133 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:25,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:25,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:25,136 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:25,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:25,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:25,286 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:25,287 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:25,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:25,289 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:25,289 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:25,290 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:25,291 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:25,291 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:25,329 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:25,891 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:25,923 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:26,082 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:26,084 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:26,084 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:27,085 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:27,085 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:27,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:27,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:27,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:27,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:27,243 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:27,244 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:27,245 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:27,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:27,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:27,247 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:27,247 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:27,247 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:27,285 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:27,841 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:27,874 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:28,030 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:28,031 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:28,032 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:29,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:29,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:29,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:29,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:29,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:29,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:29,190 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:29,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:29,191 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:29,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:29,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:29,193 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:29,193 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:29,194 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:29,246 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:29,881 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:29,920 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:30,078 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:30,079 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:30,080 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:31,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:31,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:31,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:31,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:31,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:31,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:31,236 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:31,236 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:31,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:31,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:31,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:31,239 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:31,239 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:31,239 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:31,289 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:31,848 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:31,881 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:32,175 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:32,179 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:32,179 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:33,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:33,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:33,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:33,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:33,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:33,329 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:33,331 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:33,331 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:33,332 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:33,333 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:33,333 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:33,334 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:33,334 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:33,334 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:33,372 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:33,991 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:34,023 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:34,185 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:34,186 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:34,187 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:35,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:35,189 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:35,189 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:35,191 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:35,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:35,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:35,343 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:35,344 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:35,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:35,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:35,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:35,346 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:35,347 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:35,347 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:35,388 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:35,966 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:35,999 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:36,377 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:36,378 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:36,378 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:37,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:37,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:37,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:37,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:37,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:37,537 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:37,539 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:37,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:37,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:37,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:37,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:37,543 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:37,543 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:37,543 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:37,580 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:38,229 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:38,269 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:38,428 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:38,429 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:38,430 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:39,430 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:39,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:39,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:39,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:39,434 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:39,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:39,585 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:39,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:39,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:39,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:39,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:39,589 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:39,589 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:39,590 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:39,644 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:40,202 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:40,235 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:40,391 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:40,392 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:40,392 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:41,392 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:41,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:41,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:41,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:41,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:41,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:41,548 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:41,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:41,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:41,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:41,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:41,552 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:41,553 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:41,553 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:41,604 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:42,163 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:42,194 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:42,353 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:42,354 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:42,355 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:42,357 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:29:42,358 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:29:42,359 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:29:42,367 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:29:42,376 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:29:42,378 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:29:42,379 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:29:42,380 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:29:42,380 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:29:42,380 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:29:42,529 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:29:42,529 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:29:42,530 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:29:42,533 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:29:42,533 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:29:42,534 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:29:42,534 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:29:42,553 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:29:42,555 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:29:42,556 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:29:42,556 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:29:42,557 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:29:42,557 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:29:42,558 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:29:42,558 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:29:42,558 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:29:42,558 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:29:42,559 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:29:42,560 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:29:42,561 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:29:42,561 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:29:42,563 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:29:42,573 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:29:42,574 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:29:42,575 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:29:42,576 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:29:42,576 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:29:42,577 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:29:42,577 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:29:42,578 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:29:42,578 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:29:42,579 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:29:42,579 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:29:42,580 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:29:42,580 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:29:42,581 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:29:42,581 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:29:42,581 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:29:42,582 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:29:42,584 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:29:42,585 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:29:42,585 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:29:42,586 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:29:42,587 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:29:42,587 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:29:42,589 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:29:42,589 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:29:42,590 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:29:42,596 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:29:42,604 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:29:42,604 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:29:42,622 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:29:42,624 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:29:42,626 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:29:42,628 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:29:42,629 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:29:42,630 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:29:42,630 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:29:42,631 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:29:42,631 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:29:42,632 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:29:42,633 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:29:42,633 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:29:42,633 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:29:42,634 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:29:42,634 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:29:42,635 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:29:42,635 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:29:42,636 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:29:42,636 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:29:42.636451+07:00
2025-10-05 10:29:42,636 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:29:42.636451+07:00
2025-10-05 10:29:42,637 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:29:42.636451+07:00 trong DST: True
2025-10-05 10:29:42,637 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:29:42,637 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:29:42,638 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:29:42,639 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:29:42,640 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:29:42,646 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:29:42,658 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:29:42,659 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:29:42,659 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:29:42,660 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:29:42,660 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:29:42,660 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:29:42,661 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:29:42,661 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:29:42,661 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:29:42,662 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:29:42,662 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:29:42,663 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:29:42,663 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:29:42,663 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:29:42,664 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:29:42,664 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:29:42,665 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:29:42,665 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:29:42,665 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:29:42,666 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:29:42,666 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:29:42,667 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:29:42,667 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:29:42,668 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:29:42,668 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:29:42,669 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:29:42,669 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:29:42,670 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:29:42,670 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:29:42,670 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:29:42,671 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:29:42,671 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:29:42,671 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:29:42,672 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:29:42,673 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:29:42,673 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:29:42,674 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:29:42,674 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:29:42,675 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:29:42,687 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:29:42,688 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:29:42,688 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:29:42,688 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:29:42,689 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:29:42,689 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:29:42.689801+07:00
2025-10-05 10:29:42,690 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:29:42.689801+07:00
2025-10-05 10:29:42,690 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:29:42.689801+07:00 trong DST: True
2025-10-05 10:29:42,691 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:29:42,691 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:29:42,693 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 211
2025-10-05 10:29:42,706 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:29:42,707 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:29:42,707 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:29:42,708 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:29:42,709 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:29:42,709 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:29:42,710 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:29:42,710 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:29:42,710 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:29:42,711 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:29:42,712 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:29:42,712 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:29:42,712 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:29:42,713 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:29:42,713 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:29:42,714 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:29:42,714 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:29:42,715 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:29:42,715 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:29:42,716 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:29:42,717 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:29:42,717 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:29:42,718 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:29:42,718 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:29:42,718 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:29:42,719 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:29:42,720 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:29:42,720 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:29:42,720 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:29:42,721 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:29:42,721 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:29:42,722 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:29:42,723 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:29:42,723 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:29:42,724 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:29:42,725 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:29:42,725 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:29:42,725 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:29:42,740 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:29:42,741 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:29:42,741 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:29:42,742 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:29:42,742 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:29:42,743 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:29:42,743 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:29:42,744 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:29:42,744 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:29:42,744 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:42,745 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:42,785 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:43,335 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:43,355 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:43,357 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:43,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:43,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:43,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:43,503 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:43,505 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:43,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:43,507 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:43,518 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:43,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:43,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:43,580 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:43,597 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:43,618 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:43,755 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:43,797 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:43,798 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:29:43,798 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:29:43,799 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:29:43,799 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:29:43,799 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:29:43,800 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:29:43,800 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:29:43,801 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:29:43,801 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:29:43,802 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:29:43,802 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:29:43,802 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:29:43,803 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:29:43,804 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:29:43,805 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:29:43,805 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:29:43,806 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:29:43,806 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:29:43,806 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:29:43,807 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:29:43,807 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:29:43,807 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:29:43,808 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:29:43,808 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:29:43,809 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:29:43,810 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:29:43,810 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:29:43,811 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:29:43,812 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:29:43,868 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:29:43,868 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:29:43,869 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:29:43,869 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:29:43,869 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:29:44,420 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:44,451 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:44,606 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:44,607 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:44,608 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:44,616 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:29:45,609 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:45,610 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:45,610 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:45,612 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:45,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:45,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:45,763 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:45,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:45,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:45,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:45,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:45,766 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:45,766 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:45,767 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:45,814 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:46,465 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:46,510 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:46,672 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:46,673 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:46,674 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:47,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:47,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:47,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:47,677 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:47,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:47,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:47,834 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:47,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:47,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:47,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:47,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:47,837 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:47,838 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:47,838 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:47,891 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:48,435 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:48,469 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:48,628 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:48,629 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:48,629 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:49,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:49,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:49,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:49,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:49,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:49,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:49,786 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:49,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:49,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:49,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:49,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:49,789 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:49,790 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:49,790 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:49,834 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:50,469 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:50,508 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:50,903 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:50,904 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:50,904 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:51,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:51,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:51,906 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:51,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:51,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:52,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:52,056 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:52,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:52,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:52,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:52,059 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:52,059 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:52,060 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:52,060 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:52,113 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:52,740 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:52,779 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:52,941 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:52,942 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:52,943 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:53,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:53,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:53,946 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:53,948 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:53,948 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:54,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:54,102 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:54,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:54,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:54,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:54,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:54,105 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:54,106 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:54,106 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:54,157 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:54,721 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:54,761 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:54,921 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:54,922 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:54,922 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:55,923 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:55,923 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:55,924 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:55,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:55,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:56,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:56,074 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:56,075 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:56,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:56,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:56,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:56,078 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:56,078 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:56,078 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:56,130 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:56,682 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:56,720 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:56,875 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:56,876 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:56,876 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:57,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:57,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:57,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:57,880 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:57,880 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:29:58,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:29:58,034 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:29:58,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:29:58,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:29:58,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:29:58,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:29:58,037 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:29:58,038 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:29:58,038 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:29:58,089 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:29:58,654 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:29:58,692 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:29:58,848 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:29:58,849 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:29:58,850 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:29:59,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:29:59,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:29:59,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:29:59,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:29:59,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:00,002 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:00,004 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:00,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:00,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:00,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:00,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:00,008 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:00,008 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:00,009 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:00,063 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:00,679 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:00,716 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:00,876 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:00,877 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:00,878 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:01,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:01,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:01,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:01,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:01,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:02,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:02,083 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:02,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:02,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:02,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:02,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:02,092 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:02,109 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:02,110 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:02,154 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:02,816 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:02,849 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:03,038 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:03,040 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:03,040 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:04,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:04,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:04,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:04,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:04,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:04,193 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:04,194 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:04,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:04,196 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:04,196 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:04,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:04,197 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:04,198 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:04,198 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:04,246 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:04,900 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:04,935 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:05,096 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:05,097 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:05,097 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:06,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:06,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:06,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:06,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:06,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:06,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:06,251 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:06,252 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:06,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:06,254 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:06,254 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:06,255 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:06,255 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:06,256 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:06,308 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:06,959 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:07,001 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:07,387 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:07,388 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:07,389 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:08,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:08,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:08,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:08,392 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:08,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:08,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:08,547 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:08,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:08,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:08,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:08,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:08,550 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:08,550 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:08,551 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:08,603 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:09,163 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:09,202 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:09,358 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:09,359 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:09,360 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:10,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:10,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:10,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:10,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:10,364 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:10,515 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:10,517 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:10,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:10,518 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:10,519 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:10,519 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:10,520 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:10,520 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:10,521 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:10,584 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:11,163 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:11,203 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:11,363 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:11,364 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:11,364 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:12,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:12,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:12,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:12,368 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:12,368 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:12,527 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:12,529 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:12,530 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:12,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:12,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:12,532 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:12,533 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:12,533 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:12,534 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:12,580 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:13,146 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:13,181 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:13,335 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:13,336 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:13,337 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:14,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:14,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:14,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:14,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:14,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:14,493 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:14,495 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:14,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:14,496 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:14,497 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:14,497 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:14,498 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:14,499 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:14,499 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:14,554 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:15,143 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:15,182 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:15,343 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:15,344 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:15,344 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:16,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:16,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:16,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:16,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:16,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:16,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:16,497 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:16,497 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:16,499 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:16,499 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:16,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:16,501 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:16,501 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:16,502 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:16,545 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:17,126 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:17,168 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:17,329 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:17,330 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:17,330 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:18,331 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:18,331 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:18,332 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:18,334 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:18,334 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:18,494 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:18,496 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:18,496 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:18,497 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:18,498 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:18,498 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:18,499 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:18,499 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:18,500 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:18,547 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:19,120 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:19,160 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:19,314 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:19,316 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:19,316 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:20,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:20,318 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:20,318 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:20,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:20,321 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:20,463 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:20,465 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:20,465 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:20,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:20,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:20,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:20,468 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:20,468 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:20,469 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:20,519 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:21,080 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:21,119 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:21,277 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:21,278 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:21,278 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:22,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:22,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:22,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:22,282 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:22,283 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:22,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:22,658 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:22,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:22,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:22,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:22,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:22,661 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:22,662 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:22,662 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:22,717 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:23,271 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:23,309 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:23,466 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:23,467 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:23,468 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:24,468 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:24,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:24,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:24,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:24,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:24,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:24,624 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:24,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:24,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:24,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:24,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:24,628 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:24,628 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:24,628 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:24,681 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:25,244 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:25,282 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:25,443 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:25,444 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:25,445 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:26,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:26,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:26,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:26,448 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:26,448 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:26,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:26,602 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:26,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:26,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:26,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:26,605 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:26,605 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:26,606 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:26,606 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:26,660 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:27,404 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:27,443 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:27,600 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:27,601 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:27,602 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:28,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:28,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:28,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:28,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:28,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:28,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:28,768 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:28,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:28,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:28,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:28,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:28,771 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:28,772 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:28,772 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:28,809 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:29,396 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:29,432 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:29,612 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:29,613 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:29,614 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:30,614 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:30,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:30,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:30,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:30,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:30,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:30,779 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:30,780 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:30,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:30,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:30,782 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:30,782 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:30,782 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:30,783 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:30,830 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:31,397 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:31,434 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:31,595 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:31,596 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:31,596 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:32,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:32,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:32,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:32,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:32,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:32,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:32,762 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:32,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:32,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:32,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:32,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:32,766 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:32,766 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:32,766 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:32,821 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:33,451 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:33,490 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:33,643 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:33,644 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:33,645 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:34,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:34,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:34,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:34,649 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:34,649 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:34,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:34,802 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:34,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:34,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:34,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:34,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:34,806 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:34,806 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:34,806 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:34,858 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:35,412 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:35,454 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:35,615 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:35,617 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:35,617 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:36,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:36,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:36,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:36,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:36,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:36,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:36,775 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:36,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:36,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:36,778 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:36,778 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:36,779 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:36,779 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:36,779 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:36,832 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:37,422 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:37,462 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:37,617 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:37,618 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:37,618 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:38,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:38,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:38,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:38,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:38,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:38,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:38,985 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:38,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:38,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:38,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:38,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:38,989 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:38,989 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:38,989 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:39,026 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:39,587 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:39,625 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:39,787 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:39,788 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:39,789 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:40,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:40,790 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:40,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:40,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:40,793 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:40,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:40,941 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:40,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:40,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:40,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:40,944 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:40,944 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:40,945 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:40,945 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:40,995 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:41,633 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:41,673 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:41,833 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:41,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:41,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:42,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:42,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:42,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:42,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:42,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:42,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:42,989 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:42,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:42,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:42,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:42,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:42,993 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:42,993 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:42,993 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:43,042 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:43,625 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:43,664 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:43,815 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:43,816 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:43,816 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:44,618 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:30:44,621 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:30:44,621 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:30:44,626 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:30:44,627 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:30:44,628 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:30:44,642 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:30:44,644 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:30:44,645 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:30:44,645 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:30:44,684 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:30:44,685 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:30:44,686 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:30:44,689 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:30:44,690 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:30:44,703 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:30:44,703 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:30:44,724 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:30:44,724 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:30:44,725 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:30:44,725 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:30:44,726 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:30:44,726 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:30:44,726 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:30:44,727 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:30:44,727 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:30:44,728 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:30:44,728 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:30:44,728 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:30:44,729 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:30:44,729 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:30:44,730 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:30:44,730 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:30:44,730 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:30:44,731 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:30:44,731 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:30:44,732 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:30:44,732 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:30:44,733 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:30:44,733 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:30:44,734 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:30:44,734 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:30:44,734 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:30:44,735 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:30:44,735 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:30:44,736 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:30:44,736 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:30:44,737 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:30:44,737 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:30:44,740 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:30:44,740 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:30:44,741 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:30:44,741 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:30:44,754 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:30:44,755 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:30:44,758 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:30:44,769 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:30:44,769 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:30:44,773 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:30:44,773 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:30:44,787 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:30:44,790 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:30:44,802 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:30:44,803 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:30:44,805 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:30:44,805 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:30:44,806 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:30:44,806 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:30:44,808 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:30:44,817 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:44,821 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:30:44,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:44,823 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:30:44,824 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:44,824 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:30:44,826 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:44,827 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:30:44,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:44,828 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:30:44,836 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:30:44,843 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:30:44,879 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:30:44,908 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:30:44,946 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:30:44,987 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:30:44.987322+07:00
2025-10-05 10:30:45,014 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:30:44.987322+07:00
2025-10-05 10:30:45,030 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:30:44.987322+07:00 trong DST: True
2025-10-05 10:30:45,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:45,040 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:30:45,042 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:45,042 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:30:45,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:45,043 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:30:45,044 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:30:45,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:45,046 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:30:45,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:45,052 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:30:45,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:45,060 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:30:45,061 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:45,061 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:30:45,062 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:45,062 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:30:45,076 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:45,077 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:30:45,079 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:30:45,105 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:30:45,120 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:30:45,126 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:30:45,127 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:30:45,128 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:45,128 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:30:45,129 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:30:45,140 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:30:45,141 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:30:45,142 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:30:45,142 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:30:45,143 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:30:45,143 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:30:45,143 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:30:45,144 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:30:45,145 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:30:45,147 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:30:45,165 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:30:45,166 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:30:45,167 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:30:45,168 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:30:45,169 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:30:45,169 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:30:45,170 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:30:45,170 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:30:45,171 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:30:45,171 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:30:45,172 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:30:45,172 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:30:45,172 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:30:45,173 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:30:45,173 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:30:45,173 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:30:45,174 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:30:45,175 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:30:45,175 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:30:45,176 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:30:45,176 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:30:45,177 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:30:45,177 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:30:45,178 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:30:45.178199+07:00
2025-10-05 10:30:45,178 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:30:45.178199+07:00
2025-10-05 10:30:45,179 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:30:45.178199+07:00 trong DST: True
2025-10-05 10:30:45,182 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:30:45,192 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:30:45,193 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 210
2025-10-05 10:30:45,193 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:30:45,194 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:30:45,194 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:30:45,195 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:30:45,195 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:30:45,196 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:30:45,209 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:30:45,209 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:30:45,210 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:30:45,211 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:30:45,211 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:30:45,212 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:30:45,212 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:30:45,213 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:30:45,214 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:30:45,226 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:30:45,227 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:30:45,228 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:30:45,228 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:30:45,229 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:30:45,230 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:30:45,231 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:30:45,246 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:30:45,248 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:30:45,248 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:30:45,249 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:30:45,250 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:30:45,250 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:30:45,251 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:30:45,251 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:30:45,252 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:30:45,252 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:30:45,253 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:30:45,253 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:30:45,254 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:30:45,254 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:30:45,254 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:30:45,255 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:30:45,255 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:30:45,255 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:30:45,256 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:30:45,256 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:30:45,256 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:30:45,257 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:30:45,257 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:30:45,258 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:30:45,258 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:30:45,258 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:45,259 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:45,314 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:46,009 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:46,052 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:46,164 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:46,228 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:46,230 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:46,231 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:46,231 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:46,449 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:46,450 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:30:46,452 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:30:46,454 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:30:46,455 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:30:46,456 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:30:46,458 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:30:46,474 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:30:46,477 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:30:46,478 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:30:46,480 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:30:46,481 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:30:46,482 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:30:46,484 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:30:46,496 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:30:46,497 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:30:46,498 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:30:46,513 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:30:46,514 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:30:46,515 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:30:46,519 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:30:46,534 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:30:46,565 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:30:46,585 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:30:46,595 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:30:46,596 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:30:46,596 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:30:46,598 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:30:46,599 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:30:46,600 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:30:46,671 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:30:46,673 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:30:46,676 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:30:46,677 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:30:46,682 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:30:46,741 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:30:47,232 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:47,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:47,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:47,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:47,236 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:47,391 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:47,393 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:47,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:47,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:47,395 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:47,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:47,396 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:47,397 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:47,397 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:47,434 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:48,005 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:48,044 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:48,202 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:48,203 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:48,203 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:49,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:49,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:49,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:49,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:49,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:49,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:49,365 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:49,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:49,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:49,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:49,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:49,368 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:49,368 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:49,369 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:49,416 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:50,032 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:50,073 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:50,225 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:50,226 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:50,226 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:51,227 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:51,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:51,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:51,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:51,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:51,377 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:51,379 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:51,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:51,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:51,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:51,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:51,382 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:51,382 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:51,383 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:51,430 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:51,994 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:52,031 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:52,202 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:52,203 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:52,204 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:53,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:53,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:53,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:53,208 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:53,208 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:53,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:53,360 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:53,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:53,362 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:53,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:53,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:53,364 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:53,364 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:53,365 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:53,415 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:54,038 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:54,075 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:54,444 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:54,445 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:54,446 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:55,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:55,447 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:55,447 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:55,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:55,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:55,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:55,607 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:55,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:55,609 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:55,610 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:55,610 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:55,611 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:55,611 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:55,612 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:55,648 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:56,206 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:56,243 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:56,403 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:56,404 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:56,404 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:57,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:57,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:57,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:57,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:57,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:57,557 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:57,558 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:57,559 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:57,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:57,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:57,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:57,562 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:57,562 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:57,562 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:57,615 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:30:58,193 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:30:58,231 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:30:58,391 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:30:58,392 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:30:58,392 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:30:59,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:30:59,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:30:59,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:30:59,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:30:59,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:30:59,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:30:59,554 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:30:59,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:30:59,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:30:59,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:30:59,557 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:30:59,557 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:30:59,558 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:30:59,558 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:30:59,606 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:00,172 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:00,217 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:00,369 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:00,370 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:00,371 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:01,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:01,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:01,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:01,374 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:01,375 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:01,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:01,542 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:01,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:01,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:01,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:01,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:01,546 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:01,546 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:01,546 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:01,597 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:02,279 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:02,316 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:02,520 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:02,521 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:02,521 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:03,523 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:03,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:03,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:03,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:03,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:03,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:03,694 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:03,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:03,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:03,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:03,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:03,697 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:03,698 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:03,699 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:03,752 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:04,439 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:04,479 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:04,640 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:04,641 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:04,641 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:05,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:05,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:05,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:05,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:05,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:05,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:05,803 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:05,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:05,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:05,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:05,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:05,807 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:05,807 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:05,807 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:05,861 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:06,424 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:06,466 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:06,622 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:06,623 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:06,623 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:07,624 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:07,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:07,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:07,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:07,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:07,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:07,789 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:07,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:07,790 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:07,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:07,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:07,792 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:07,792 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:07,793 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:07,829 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:08,392 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:08,434 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:08,585 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:08,586 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:08,587 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:09,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:09,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:09,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:09,590 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:09,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:09,967 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:09,969 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:09,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:09,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:09,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:09,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:09,972 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:09,972 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:09,973 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:10,024 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:10,643 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:10,681 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:10,834 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:10,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:10,836 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:11,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:11,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:11,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:11,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:11,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:11,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:11,991 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:11,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:11,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:11,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:11,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:11,994 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:11,995 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:11,995 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:12,047 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:12,617 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:12,650 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:12,815 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:12,817 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:12,817 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:13,817 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:13,818 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:13,818 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:13,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:13,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:13,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:13,972 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:13,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:13,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:13,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:13,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:13,975 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:13,975 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:13,976 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:14,029 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:14,595 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:14,635 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:14,800 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:14,801 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:14,802 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:15,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:15,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:15,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:15,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:15,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:15,958 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:15,960 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:15,960 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:15,961 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:15,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:15,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:15,963 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:15,963 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:15,964 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:16,011 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:16,575 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:16,611 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:16,774 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:16,775 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:16,776 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:17,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:17,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:17,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:17,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:17,780 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:17,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:17,931 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:17,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:17,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:17,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:17,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:17,934 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:17,935 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:17,935 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:17,988 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:18,539 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:18,580 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:18,883 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:18,884 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:18,884 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:19,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:19,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:19,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:19,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:19,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:20,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:20,047 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:20,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:20,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:20,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:20,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:20,051 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:20,051 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:20,051 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:20,098 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:20,678 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:20,717 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:20,888 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:20,889 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:20,890 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:21,891 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:21,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:21,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:21,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:21,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:22,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:22,099 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:22,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:22,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:22,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:22,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:22,102 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:22,102 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:22,103 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:22,167 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:23,656 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:23,691 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:24,074 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:24,080 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:24,089 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:25,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:25,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:25,109 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:25,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:25,114 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:25,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:25,350 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:25,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:25,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:25,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:25,353 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:25,354 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:25,355 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:25,355 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:25,403 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:26,119 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:26,162 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:26,324 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:26,325 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:26,326 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:27,326 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:27,327 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:27,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:27,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:27,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:27,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:27,712 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:27,713 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:27,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:27,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:27,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:27,715 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:27,716 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:27,716 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:27,763 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:28,334 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:28,373 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:28,547 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:28,548 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:28,548 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:29,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:29,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:29,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:29,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:29,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:29,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:29,708 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:29,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:29,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:29,710 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:29,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:29,711 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:29,712 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:29,712 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:29,749 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:30,335 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:30,377 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:30,541 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:30,543 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:30,543 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:31,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:31,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:31,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:31,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:31,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:31,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:31,713 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:31,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:31,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:31,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:31,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:31,716 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:31,717 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:31,718 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:31,759 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:32,353 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:32,392 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:32,560 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:32,561 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:32,562 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:33,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:33,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:33,564 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:33,567 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:33,567 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:33,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:33,724 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:33,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:33,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:33,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:33,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:33,727 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:33,727 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:33,727 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:33,769 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:34,409 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:34,446 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:34,611 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:34,612 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:34,613 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:35,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:35,614 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:35,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:35,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:35,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:35,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:35,786 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:35,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:35,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:35,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:35,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:35,789 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:35,790 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:35,790 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:35,830 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:36,488 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:36,528 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:36,703 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:36,704 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:36,704 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:37,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:37,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:37,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:37,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:37,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:37,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:37,860 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:37,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:37,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:37,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:37,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:37,864 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:37,865 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:37,865 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:37,906 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:38,462 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:38,502 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:38,671 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:38,672 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:38,672 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:39,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:39,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:39,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:39,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:39,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:39,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:39,825 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:39,826 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:39,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:39,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:39,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:39,828 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:39,829 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:39,829 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:39,870 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:40,425 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:40,466 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:40,635 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:40,636 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:40,637 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:41,637 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:41,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:41,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:41,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:41,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:41,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:41,802 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:41,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:41,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:41,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:41,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:41,806 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:41,806 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:41,806 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:41,842 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:42,402 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:42,441 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:42,817 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:42,818 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:42,819 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:43,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:43,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:43,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:43,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:43,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:43,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:43,975 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:43,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:43,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:43,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:43,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:43,978 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:43,979 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:43,979 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:44,027 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:44,597 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:44,635 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:44,801 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:44,802 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:44,802 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:45,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:45,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:45,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:45,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:45,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:45,967 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:45,969 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:45,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:45,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:45,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:45,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:45,972 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:45,973 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:45,973 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:46,003 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:46,567 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:46,612 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:46,767 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:46,768 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:46,768 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:46,769 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:31:46,771 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:31:46,772 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:31:46,777 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:31:46,789 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:31:46,791 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:31:46,792 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:31:46,793 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:31:46,793 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:31:46,794 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:31:46,965 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:31:46,965 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:31:46,966 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:31:46,969 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:31:46,969 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:31:46,970 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:31:46,971 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:31:46,978 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:31:46,979 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:31:46,980 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:31:46,980 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:31:46,981 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:31:46,981 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:31:46,981 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:31:46,982 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:31:46,982 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:31:46,982 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:31:46,983 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:31:46,983 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:31:46,983 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:31:46,985 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:31:46,985 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:31:46,986 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:31:46,986 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:31:46,987 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:31:46,987 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:31:46,988 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:31:46,988 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:31:46,988 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:31:46,989 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:31:46,989 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:31:46,990 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:31:46,990 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:31:46,991 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:31:46,991 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:31:46,992 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:31:46,993 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:31:46,993 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:31:46,994 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:31:46,996 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:31:46,996 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:31:46,996 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:31:46,997 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:31:46,997 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:31:46,998 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:31:47,000 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:31:47,000 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:31:47,001 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:31:47,005 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:31:47,017 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:31:47,019 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:31:47,021 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:31:47,021 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:31:47,021 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:31:47,024 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:31:47,024 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:31:47,025 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:31:47,025 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:31:47,026 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:31:47,027 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:31:47,027 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:31:47,027 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:31:47,028 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:31:47,028 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:31:47,029 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:31:47,029 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:31:47,030 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:31:47,030 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:31:47,031 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:31:47,031 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:31:47.031570+07:00
2025-10-05 10:31:47,032 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:31:47.031570+07:00
2025-10-05 10:31:47,032 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:31:47.031570+07:00 trong DST: True
2025-10-05 10:31:47,032 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:31:47,033 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:31:47,034 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:31:47,035 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:31:47,035 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:31:47,052 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:31:47,052 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:31:47,053 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:31:47,053 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:31:47,054 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:31:47,054 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:31:47,054 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:31:47,055 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:31:47,055 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:31:47,056 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:31:47,056 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:31:47,056 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:31:47,057 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:31:47,057 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:31:47,058 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:31:47,058 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:31:47,059 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:31:47,059 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:31:47,059 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:31:47,060 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:31:47,060 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:31:47,061 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:31:47,061 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:31:47,061 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:31:47,062 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:31:47,062 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:31:47,063 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:31:47,065 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:31:47,066 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:31:47,066 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:31:47,079 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:31:47,081 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:31:47,081 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:31:47,081 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:31:47,082 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:31:47,082 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:31:47,083 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:31:47,083 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:31:47,083 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:31:47,084 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:31:47,084 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:31:47,085 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:31:47,085 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:31:47,086 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:31:47,086 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:31:47,086 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:31:47.086723+07:00
2025-10-05 10:31:47,087 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:31:47.086723+07:00
2025-10-05 10:31:47,087 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:31:47.086723+07:00 trong DST: True
2025-10-05 10:31:47,087 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:31:47,088 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:31:47,088 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 209
2025-10-05 10:31:47,089 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:31:47,089 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:31:47,090 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:31:47,090 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:31:47,090 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:31:47,091 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:31:47,091 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:31:47,091 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:31:47,092 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:31:47,092 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:31:47,093 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:31:47,093 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:31:47,094 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:31:47,096 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:31:47,096 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:31:47,097 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:31:47,098 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:31:47,098 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:31:47,098 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:31:47,107 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:31:47,112 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:31:47,113 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:31:47,114 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:31:47,115 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:31:47,115 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:31:47,116 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:31:47,116 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:31:47,117 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:31:47,118 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:31:47,118 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:31:47,119 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:31:47,119 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:31:47,120 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:31:47,121 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:31:47,121 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:31:47,121 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:31:47,122 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:31:47,122 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:31:47,123 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:31:47,123 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:31:47,123 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:31:47,124 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:31:47,124 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:31:47,124 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:31:47,125 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:31:47,126 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:31:47,126 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:31:47,127 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:47,128 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:47,176 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:47,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:47,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:47,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:47,773 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:47,773 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:47,926 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:47,927 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:47,930 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:47,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:47,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:47,933 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:47,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:47,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:47,973 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:47,995 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:48,007 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:48,159 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:48,191 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:48,191 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:31:48,192 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:31:48,192 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:31:48,192 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:31:48,193 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:31:48,193 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:31:48,194 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:31:48,194 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:31:48,195 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:31:48,195 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:31:48,195 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:31:48,196 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:31:48,197 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:31:48,197 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:31:48,198 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:31:48,198 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:31:48,199 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:31:48,199 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:31:48,200 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:31:48,200 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:31:48,200 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:31:48,201 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:31:48,201 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:31:48,201 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:31:48,202 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:31:48,202 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:31:48,203 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:31:48,203 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:31:48,204 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:31:48,236 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:31:48,236 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:31:48,237 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:31:48,237 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:31:48,238 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:31:48,773 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:48,811 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:48,971 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:48,972 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:48,973 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:48,979 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:31:49,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:49,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:49,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:49,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:49,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:50,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:50,130 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:50,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:50,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:50,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:50,133 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:50,133 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:50,134 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:50,134 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:50,182 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:50,739 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:50,748 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:50,948 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:50,949 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:50,949 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:51,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:51,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:51,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:51,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:51,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:52,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:52,113 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:52,114 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:52,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:52,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:52,117 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:52,118 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:52,118 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:52,119 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:52,155 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:52,718 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:52,759 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:52,924 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:52,925 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:52,925 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:53,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:53,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:53,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:53,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:53,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:54,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:54,085 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:54,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:54,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:54,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:54,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:54,089 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:54,089 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:54,089 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:54,125 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:54,680 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:54,723 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:54,884 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:54,885 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:54,886 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:55,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:55,887 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:55,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:55,890 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:55,890 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:56,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:56,047 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:56,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:56,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:56,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:56,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:56,050 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:56,051 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:56,051 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:56,090 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:56,676 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:56,717 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:56,876 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:56,877 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:56,877 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:31:57,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:31:57,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:31:57,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:31:57,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:31:57,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:31:58,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:31:58,262 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:31:58,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:31:58,263 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:31:58,264 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:31:58,264 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:31:58,265 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:31:58,265 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:31:58,266 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:31:58,304 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:31:58,935 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:31:58,974 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:31:59,140 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:31:59,141 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:31:59,142 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:00,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:00,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:00,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:00,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:00,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:00,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:00,317 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:00,326 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:00,332 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:00,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:00,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:00,364 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:00,372 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:00,393 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:00,438 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:01,536 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:01,577 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:01,795 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:01,796 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:01,796 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:02,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:02,798 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:02,798 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:02,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:02,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:02,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:02,976 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:02,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:02,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:02,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:02,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:02,980 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:02,981 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:02,981 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:03,032 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:03,790 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:03,827 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:04,002 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:04,003 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:04,003 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:05,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:05,005 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:05,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:05,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:05,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:05,154 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:05,156 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:05,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:05,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:05,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:05,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:05,160 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:05,160 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:05,160 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:05,210 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:05,774 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:05,812 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:05,968 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:05,970 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:05,970 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:06,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:06,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:06,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:06,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:06,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:07,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:07,126 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:07,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:07,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:07,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:07,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:07,129 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:07,130 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:07,130 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:07,183 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:07,839 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:07,876 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:08,034 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:08,035 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:08,035 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:09,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:09,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:09,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:09,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:09,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:09,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:09,438 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:09,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:09,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:09,447 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:09,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:09,451 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:09,453 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:09,474 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:09,577 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:10,403 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:10,440 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:10,602 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:10,603 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:10,604 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:11,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:11,605 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:11,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:11,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:11,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:11,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:11,764 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:11,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:11,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:11,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:11,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:11,767 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:11,767 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:11,768 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:11,819 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:12,370 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:12,412 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:12,576 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:12,577 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:12,578 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:13,578 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:13,579 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:13,579 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:13,581 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:13,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:13,737 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:13,739 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:13,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:13,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:13,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:13,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:13,742 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:13,742 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:13,743 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:13,795 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:14,350 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:14,392 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:14,746 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:14,750 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:14,751 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:15,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:15,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:15,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:15,755 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:15,755 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:15,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:15,904 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:15,904 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:15,906 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:15,906 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:15,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:15,907 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:15,908 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:15,908 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:15,960 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:16,523 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:16,563 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:16,724 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:16,725 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:16,725 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:17,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:17,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:17,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:17,729 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:17,729 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:17,880 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:17,882 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:17,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:17,884 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:17,884 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:17,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:17,885 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:17,886 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:17,886 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:17,938 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:18,506 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:18,544 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:18,703 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:18,704 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:18,704 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:19,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:19,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:19,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:19,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:19,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:19,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:19,863 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:19,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:19,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:19,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:19,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:19,866 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:19,866 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:19,867 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:19,920 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:20,467 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:20,504 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:20,683 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:20,684 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:20,684 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:21,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:21,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:21,686 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:21,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:21,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:21,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:21,839 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:21,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:21,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:21,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:21,842 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:21,842 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:21,843 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:21,843 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:21,897 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:22,536 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:22,579 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:22,741 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:22,743 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:22,743 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:23,744 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:23,744 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:23,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:23,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:23,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:23,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:23,906 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:23,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:23,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:23,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:23,909 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:23,910 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:23,910 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:23,910 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:23,963 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:24,535 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:24,574 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:24,735 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:24,736 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:24,736 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:25,737 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:25,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:25,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:25,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:25,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:25,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:25,889 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:25,890 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:25,891 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:25,891 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:25,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:25,892 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:25,893 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:25,893 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:25,946 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:26,501 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:26,540 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:26,703 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:26,704 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:26,704 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:27,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:27,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:27,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:27,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:27,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:27,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:27,867 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:27,867 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:27,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:27,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:27,870 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:27,870 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:27,871 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:27,871 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:27,923 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:28,482 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:28,514 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:28,670 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:28,671 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:28,671 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:29,672 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:29,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:29,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:29,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:29,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:29,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:29,829 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:29,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:29,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:29,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:29,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:29,833 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:29,833 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:29,833 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:29,881 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:30,497 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:30,536 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:30,911 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:30,912 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:30,913 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:31,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:31,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:31,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:31,916 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:31,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:32,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:32,069 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:32,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:32,070 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:32,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:32,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:32,072 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:32,073 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:32,073 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:32,125 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:32,769 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:32,808 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:32,966 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:32,968 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:32,968 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:33,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:33,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:33,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:33,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:33,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:34,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:34,128 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:34,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:34,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:34,130 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:34,130 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:34,131 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:34,131 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:34,132 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:34,184 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:34,757 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:34,799 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:34,957 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:34,958 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:34,958 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:35,959 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:35,960 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:35,960 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:35,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:35,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:36,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:36,109 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:36,109 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:36,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:36,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:36,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:36,112 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:36,113 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:36,113 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:36,162 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:36,739 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:36,777 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:36,934 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:36,935 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:36,936 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:37,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:37,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:37,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:37,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:37,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:38,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:38,100 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:38,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:38,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:38,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:38,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:38,104 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:38,104 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:38,105 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:38,153 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:38,792 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:38,831 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:38,984 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:38,985 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:38,986 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:39,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:39,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:39,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:39,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:39,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:40,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:40,134 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:40,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:40,136 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:40,136 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:40,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:40,137 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:40,138 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:40,138 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:40,186 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:40,748 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:40,781 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:40,943 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:40,944 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:40,944 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:41,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:41,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:41,946 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:41,948 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:41,948 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:42,095 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:42,096 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:42,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:42,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:42,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:42,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:42,100 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:42,100 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:42,101 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:42,138 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:42,709 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:42,752 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:42,910 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:42,912 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:42,912 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:43,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:43,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:43,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:43,916 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:43,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:44,075 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:44,076 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:44,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:44,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:44,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:44,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:44,079 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:44,080 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:44,080 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:44,117 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:44,674 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:44,706 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:44,861 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:44,862 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:44,862 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:45,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:45,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:45,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:45,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:45,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:46,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:46,015 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:46,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:46,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:46,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:46,018 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:46,019 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:46,019 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:46,019 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:46,069 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:46,713 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:46,756 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:47,153 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:47,154 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:47,154 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:48,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:48,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:48,156 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:48,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:48,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:48,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:48,314 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:48,315 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:48,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:48,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:48,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:48,318 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:48,318 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:48,319 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:48,373 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:48,933 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:48,974 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:49,139 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:49,141 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:49,141 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:49,142 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:32:49,144 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:32:49,145 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:32:49,150 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:32:49,151 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:32:49,152 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:32:49,162 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:32:49,164 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:32:49,164 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:32:49,165 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:32:49,342 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:32:49,343 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:32:49,343 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:32:49,346 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:32:49,346 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:32:49,346 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:32:49,347 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:32:49,356 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:32:49,367 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:32:49,368 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:32:49,369 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:32:49,370 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:32:49,371 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:32:49,371 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:32:49,371 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:32:49,372 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:32:49,372 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:32:49,373 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:32:49,373 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:32:49,374 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:32:49,374 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:32:49,374 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:32:49,374 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:32:49,375 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:32:49,375 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:32:49,376 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:32:49,377 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:32:49,378 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:32:49,392 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:32:49,393 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:32:49,394 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:32:49,394 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:32:49,395 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:32:49,396 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:32:49,396 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:32:49,396 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:32:49,397 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:32:49,397 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:32:49,398 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:32:49,400 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:32:49,400 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:32:49,401 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:32:49,401 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:32:49,402 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:32:49,402 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:32:49,405 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:32:49,405 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:32:49,405 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:32:49,408 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:32:49,409 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:32:49,410 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:32:49,413 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:32:49,425 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:32:49,425 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:32:49,429 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:32:49,429 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:32:49,430 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:32:49,430 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:32:49,431 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:32:49,431 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:32:49,432 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:32:49,432 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:32:49,433 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:32:49,433 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:32:49,434 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:32:49,434 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:32:49,435 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:32:49,435 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:32:49,435 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:32:49,436 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:32:49.436055+07:00
2025-10-05 10:32:49,436 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:32:49.436055+07:00
2025-10-05 10:32:49,436 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:32:49.436055+07:00 trong DST: True
2025-10-05 10:32:49,437 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:32:49,437 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:32:49,437 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:32:49,438 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:32:49,439 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:32:49,443 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:32:49,444 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:32:49,444 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:32:49,454 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:32:49,455 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:32:49,455 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:32:49,456 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:32:49,456 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:32:49,457 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:32:49,457 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:32:49,457 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:32:49,458 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:32:49,458 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:32:49,459 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:32:49,460 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:32:49,460 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:32:49,461 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:32:49,472 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:32:49,473 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:32:49,474 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:32:49,474 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:32:49,475 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:32:49,475 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:32:49,476 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:32:49,476 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:32:49,477 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:32:49,477 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:32:49,478 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:32:49,490 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:32:49,491 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:32:49,491 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:32:49,491 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:32:49,492 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:32:49,492 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:32:49,493 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:32:49,493 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:32:49,493 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:32:49,494 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:32:49,495 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:32:49,495 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:32:49,497 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:32:49,508 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:32:49,510 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:32:49,511 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:32:49,512 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:32:49,513 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:32:49.513240+07:00
2025-10-05 10:32:49,513 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:32:49.513240+07:00
2025-10-05 10:32:49,514 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:32:49.513240+07:00 trong DST: True
2025-10-05 10:32:49,514 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:32:49,514 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:32:49,515 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 208
2025-10-05 10:32:49,515 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:32:49,516 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:32:49,516 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:32:49,517 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:32:49,517 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:32:49,518 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:32:49,518 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:32:49,518 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:32:49,519 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:32:49,519 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:32:49,520 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:32:49,520 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:32:49,520 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:32:49,521 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:32:49,522 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:32:49,522 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:32:49,523 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:32:49,523 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:32:49,524 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:32:49,524 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:32:49,525 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:32:49,525 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:32:49,526 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:32:49,527 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:32:49,528 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:32:49,530 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:32:49,543 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:32:49,544 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:32:49,546 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:32:49,546 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:32:49,547 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:32:49,547 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:32:49,548 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:32:49,548 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:32:49,549 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:32:49,549 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:32:49,549 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:32:49,550 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:32:49,550 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:32:49,551 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:32:49,551 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:32:49,551 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:32:49,552 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:32:49,552 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:32:49,552 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:32:49,553 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:32:49,554 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:32:49,554 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:49,554 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:49,613 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:50,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:50,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:50,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:50,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:50,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:50,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:50,301 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:50,302 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:50,304 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:50,305 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:50,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:50,307 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:50,308 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:50,308 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:50,335 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:50,346 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:50,465 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:50,550 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:50,550 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:32:50,551 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:32:50,551 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:32:50,552 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:32:50,552 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:32:50,553 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:32:50,553 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:32:50,554 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:32:50,555 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:32:50,555 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:32:50,555 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:32:50,556 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:32:50,557 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:32:50,559 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:32:50,559 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:32:50,574 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:32:50,577 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:32:50,577 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:32:50,578 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:32:50,578 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:32:50,579 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:32:50,580 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:32:50,580 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:32:50,581 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:32:50,582 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:32:50,583 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:32:50,584 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:32:50,585 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:32:50,585 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:32:50,647 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:32:50,648 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:32:50,648 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:32:50,648 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:32:50,649 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:32:51,132 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:51,175 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:51,328 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:51,329 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:51,330 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:51,335 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:32:52,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:52,331 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:52,331 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:52,333 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:52,334 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:52,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:52,480 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:52,481 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:52,482 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:52,482 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:52,483 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:52,483 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:52,484 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:52,484 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:52,522 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:53,089 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:53,127 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:53,289 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:53,290 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:53,291 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:54,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:54,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:54,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:54,296 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:54,296 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:54,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:54,448 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:54,448 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:54,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:54,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:54,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:54,451 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:54,451 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:54,452 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:54,503 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:55,107 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:55,141 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:55,295 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:55,296 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:55,297 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:56,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:56,299 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:56,299 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:56,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:56,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:56,447 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:56,449 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:56,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:56,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:56,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:56,452 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:56,453 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:56,453 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:56,453 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:56,506 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:57,134 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:57,172 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:57,333 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:57,334 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:57,334 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:32:58,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:32:58,336 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:32:58,336 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:32:58,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:32:58,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:32:58,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:32:58,490 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:32:58,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:32:58,491 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:32:58,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:32:58,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:32:58,493 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:32:58,494 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:32:58,494 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:32:58,545 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:32:59,125 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:32:59,162 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:32:59,324 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:32:59,325 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:32:59,326 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:00,326 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:00,327 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:00,327 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:00,329 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:00,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:00,483 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:00,485 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:00,486 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:00,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:00,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:00,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:00,488 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:00,489 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:00,489 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:00,543 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:01,187 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:01,223 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:01,677 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:01,678 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:01,678 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:02,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:02,680 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:02,680 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:02,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:02,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:02,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:02,862 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:02,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:02,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:02,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:02,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:02,865 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:02,865 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:02,866 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:02,916 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:03,576 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:03,615 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:03,825 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:03,827 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:03,827 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:04,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:04,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:04,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:04,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:04,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:04,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:04,985 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:04,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:04,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:04,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:04,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:04,988 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:04,988 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:04,989 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:05,040 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:05,681 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:05,722 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:05,873 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:05,874 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:05,874 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:06,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:06,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:06,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:06,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:06,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:07,024 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:07,026 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:07,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:07,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:07,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:07,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:07,029 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:07,030 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:07,030 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:07,081 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:07,653 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:07,697 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:07,858 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:07,859 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:07,859 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:08,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:08,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:08,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:08,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:08,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:09,010 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:09,012 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:09,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:09,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:09,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:09,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:09,015 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:09,015 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:09,016 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:09,066 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:09,703 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:09,743 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:09,901 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:09,902 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:09,902 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:10,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:10,904 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:10,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:10,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:10,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:11,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:11,064 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:11,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:11,066 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:11,066 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:11,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:11,068 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:11,068 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:11,068 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:11,105 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:11,671 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:11,712 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:11,870 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:11,871 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:11,871 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:12,872 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:12,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:12,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:12,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:12,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:13,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:13,027 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:13,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:13,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:13,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:13,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:13,031 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:13,031 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:13,031 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:13,081 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:13,636 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:13,677 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:13,832 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:13,833 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:13,834 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:14,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:14,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:14,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:14,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:14,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:14,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:14,992 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:14,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:14,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:14,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:14,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:14,995 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:14,995 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:14,996 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:15,048 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:15,616 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:15,654 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:15,807 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:15,808 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:15,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:16,809 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:16,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:16,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:16,812 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:16,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:16,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:16,971 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:16,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:16,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:16,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:16,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:16,974 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:16,974 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:16,975 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:17,011 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:17,638 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:17,670 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:18,059 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:18,060 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:18,061 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:19,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:19,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:19,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:19,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:19,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:19,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:19,213 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:19,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:19,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:19,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:19,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:19,216 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:19,217 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:19,217 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:19,268 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:19,846 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:19,888 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:20,043 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:20,044 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:20,044 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:21,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:21,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:21,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:21,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:21,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:21,202 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:21,204 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:21,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:21,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:21,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:21,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:21,207 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:21,208 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:21,208 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:21,260 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:21,836 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:21,875 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:22,032 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:22,033 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:22,033 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:23,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:23,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:23,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:23,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:23,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:23,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:23,182 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:23,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:23,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:23,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:23,185 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:23,185 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:23,185 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:23,186 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:23,234 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:23,791 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:23,832 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:23,992 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:23,993 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:23,993 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:24,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:24,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:24,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:24,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:24,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:25,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:25,154 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:25,154 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:25,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:25,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:25,156 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:25,157 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:25,157 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:25,157 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:25,211 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:25,776 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:25,817 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:25,973 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:25,974 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:25,975 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:26,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:26,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:26,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:26,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:26,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:27,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:27,129 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:27,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:27,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:27,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:27,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:27,133 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:27,133 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:27,133 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:27,185 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:27,789 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:27,820 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:27,981 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:27,982 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:27,983 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:28,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:28,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:28,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:28,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:28,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:29,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:29,144 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:29,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:29,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:29,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:29,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:29,148 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:29,148 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:29,148 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:29,201 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:29,784 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:29,799 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:29,977 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:29,978 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:29,979 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:30,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:30,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:30,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:30,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:30,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:31,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:31,129 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:31,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:31,130 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:31,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:31,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:31,132 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:31,132 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:31,133 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:31,169 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:31,817 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:31,858 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:32,038 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:32,040 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:32,040 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:33,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:33,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:33,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:33,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:33,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:33,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:33,194 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:33,194 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:33,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:33,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:33,196 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:33,197 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:33,197 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:33,197 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:33,251 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:33,817 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:33,859 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:34,246 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:34,247 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:34,247 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:35,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:35,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:35,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:35,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:35,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:35,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:35,405 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:35,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:35,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:35,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:35,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:35,408 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:35,409 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:35,409 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:35,460 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:36,115 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:36,158 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:36,332 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:36,333 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:36,334 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:37,334 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:37,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:37,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:37,337 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:37,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:37,484 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:37,486 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:37,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:37,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:37,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:37,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:37,489 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:37,490 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:37,490 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:37,543 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:38,176 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:38,216 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:38,376 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:38,377 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:38,378 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:39,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:39,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:39,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:39,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:39,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:39,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:39,543 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:39,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:39,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:39,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:39,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:39,547 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:39,547 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:39,548 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:39,584 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:40,158 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:40,199 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:40,348 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:40,349 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:40,349 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:41,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:41,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:41,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:41,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:41,353 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:41,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:41,501 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:41,502 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:41,503 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:41,504 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:41,504 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:41,505 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:41,505 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:41,506 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:41,557 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:42,127 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:42,162 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:42,320 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:42,321 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:42,322 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:43,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:43,323 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:43,323 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:43,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:43,326 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:43,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:43,478 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:43,478 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:43,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:43,480 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:43,480 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:43,481 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:43,481 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:43,482 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:43,534 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:44,087 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:44,119 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:44,279 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:44,280 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:44,281 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:45,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:45,282 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:45,282 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:45,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:45,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:45,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:45,441 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:45,442 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:45,443 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:45,444 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:45,444 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:45,445 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:45,445 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:45,445 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:45,499 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:46,067 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:46,112 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:46,265 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:46,266 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:46,266 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:47,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:47,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:47,268 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:47,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:47,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:47,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:47,422 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:47,423 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:47,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:47,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:47,425 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:47,426 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:47,426 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:47,426 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:47,479 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:48,044 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:48,085 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:48,243 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:48,244 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:48,244 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:49,245 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:49,245 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:49,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:49,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:49,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:49,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:49,638 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:49,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:49,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:49,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:49,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:49,641 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:49,641 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:49,642 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:49,679 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:50,255 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:50,296 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:50,447 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:50,448 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:50,449 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:51,336 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:33:51,338 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:33:51,338 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:33:51,344 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:33:51,346 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:33:51,356 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:33:51,357 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:33:51,358 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:33:51,359 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:33:51,359 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:33:51,394 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:33:51,394 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:33:51,395 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:33:51,398 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:33:51,398 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:33:51,399 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:33:51,400 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:33:51,415 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:33:51,416 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:33:51,416 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:33:51,417 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:33:51,420 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:33:51,430 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:33:51,430 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:33:51,431 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:33:51,431 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:33:51,432 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:33:51,432 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:33:51,433 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:33:51,434 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:33:51,434 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:33:51,446 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:33:51,446 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:33:51,447 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:33:51,447 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:33:51,447 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:33:51,448 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:33:51,448 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:33:51,449 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:33:51,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:51,450 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:33:51,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:51,464 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:33:51,465 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:51,465 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:33:51,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:51,468 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:33:51,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:51,495 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:33:51,545 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:33:51,591 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:33:51,627 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:33:51,669 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:33:51,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:51,679 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:33:51,685 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:51,687 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:33:51,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:51,688 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:33:51,688 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:33:51,689 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:33:51,689 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:33:51,689 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:51,690 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:33:51,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:51,693 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:33:51,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:51,694 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:33:51,695 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:51,695 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:33:51,696 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:51,710 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:33:51,711 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:51,712 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:33:51,738 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:33:51,761 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:33:51,773 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:51,774 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:33:51,775 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:33:51,777 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:33:51,778 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:33:51,779 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:33:51,780 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:33:51,780 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:33:51,781 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:33:51,781 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:33:51,782 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:33:51,782 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:33:51,783 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:33:51,783 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:33:51,784 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:33:51,784 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:33:51,785 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:33:51,785 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:33:51,785 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:33:51.785902+07:00
2025-10-05 10:33:51,786 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:33:51.785902+07:00
2025-10-05 10:33:51,786 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:33:51.785902+07:00 trong DST: True
2025-10-05 10:33:51,787 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:33:51,787 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:33:51,788 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:33:51,789 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:33:51,789 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:33:51,793 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:33:51,793 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:33:51,794 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:33:51,795 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:33:51,796 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:33:51,798 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:33:51,808 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:33:51,809 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:33:51,809 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:33:51,810 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:33:51,811 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:33:51,823 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:33:51,824 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:33:51,825 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:33:51,825 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:33:51,825 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:33:51,826 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:33:51,827 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:33:51,827 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:33:51,842 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:33:51,842 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:33:51,844 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:33:51,844 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:33:51,845 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:33:51,862 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:33:51,864 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:33:51,879 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:33:51,881 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:33:51,881 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:33:51,882 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:33:51,883 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:33:51,884 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:33:51,884 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:33:51,884 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:33:51,885 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:33:51,885 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:33:51,886 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:33:51,886 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:33:51,887 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:33:51,887 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:33:51,888 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:33:51,888 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:33:51,889 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:33:51,889 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:33:51,889 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:33:51,890 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:33:51.890252+07:00
2025-10-05 10:33:51,890 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:33:51.890252+07:00
2025-10-05 10:33:51,891 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:33:51.890252+07:00 trong DST: True
2025-10-05 10:33:51,891 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:33:51,891 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:33:51,892 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 207
2025-10-05 10:33:51,892 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:33:51,892 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:33:51,893 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:33:51,893 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:33:51,894 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:33:51,894 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:33:51,895 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:33:51,895 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:33:51,896 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:33:51,896 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:33:51,898 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:33:51,904 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:33:51,908 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:33:51,909 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:33:51,910 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:33:51,910 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:33:51,911 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:33:51,912 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:33:51,912 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:33:51,913 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:33:51,915 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:33:51,919 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:33:51,921 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:33:51,925 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:33:51,926 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:33:51,927 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:33:51,927 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:33:51,928 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:33:51,928 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:33:51,929 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:33:51,930 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:33:51,931 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:33:51,934 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:33:51,941 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:33:51,943 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:33:51,944 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:33:51,944 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:33:51,945 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:33:51,945 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:33:51,946 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:33:51,946 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:33:51,947 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:33:51,947 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:33:51,948 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:33:51,948 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:33:51,949 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:33:51,949 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:33:51,949 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:51,950 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:52,009 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:52,709 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:52,753 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:52,859 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:52,892 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:52,988 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:53,014 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:53,029 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:53,154 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:53,156 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:33:53,156 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:33:53,157 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:33:53,159 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:33:53,160 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:33:53,163 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:33:53,179 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:33:53,183 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:33:53,184 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:33:53,185 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:33:53,187 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:33:53,200 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:33:53,202 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:33:53,203 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:33:53,204 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:33:53,214 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:33:53,215 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:33:53,216 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:33:53,220 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:33:53,235 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:33:53,238 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:33:53,249 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:33:53,250 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:33:53,251 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:33:53,253 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:33:53,259 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:33:53,281 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:33:53,307 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:33:53,317 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:33:53,374 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:33:53,375 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:33:53,376 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:33:53,378 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:33:53,383 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:33:53,447 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:33:54,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:54,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:54,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:54,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:54,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:54,191 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:54,192 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:54,193 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:54,194 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:54,194 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:54,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:54,195 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:54,196 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:54,196 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:54,248 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:54,861 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:54,893 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:55,049 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:55,050 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:55,050 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:56,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:56,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:56,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:56,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:56,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:56,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:56,207 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:56,208 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:56,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:56,210 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:56,210 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:56,211 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:56,211 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:56,212 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:56,263 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:56,900 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:56,941 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:57,093 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:57,094 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:57,094 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:33:58,095 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:33:58,095 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:33:58,096 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:33:58,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:33:58,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:33:58,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:33:58,248 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:33:58,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:33:58,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:33:58,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:33:58,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:33:58,251 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:33:58,251 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:33:58,252 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:33:58,303 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:33:58,875 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:33:58,922 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:33:59,083 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:33:59,085 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:33:59,085 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:00,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:00,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:00,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:00,089 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:00,089 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:00,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:00,238 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:00,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:00,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:00,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:00,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:00,242 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:00,242 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:00,242 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:00,295 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:00,858 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:00,900 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:01,073 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:01,074 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:01,075 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:02,075 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:02,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:02,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:02,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:02,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:02,419 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:02,421 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:02,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:02,423 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:02,423 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:02,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:02,425 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:02,425 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:02,425 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:02,493 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:03,231 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:03,269 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:03,446 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:03,447 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:03,448 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:04,448 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:04,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:04,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:04,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:04,452 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:04,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:04,601 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:04,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:04,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:04,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:04,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:04,605 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:04,605 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:04,606 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:04,662 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:05,234 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:05,278 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:05,665 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:05,666 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:05,666 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:06,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:06,668 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:06,668 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:06,670 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:06,671 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:06,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:06,827 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:06,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:06,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:06,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:06,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:06,830 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:06,831 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:06,831 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:06,885 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:07,446 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:07,490 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:07,644 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:07,645 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:07,646 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:08,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:08,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:08,648 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:08,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:08,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:08,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:08,801 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:08,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:08,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:08,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:08,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:08,805 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:08,805 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:08,805 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:08,860 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:09,430 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:09,460 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:09,619 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:09,621 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:09,621 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:10,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:10,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:10,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:10,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:10,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:10,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:10,777 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:10,778 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:10,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:10,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:10,780 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:10,781 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:10,781 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:10,781 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:10,833 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:11,400 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:11,439 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:11,598 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:11,600 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:11,600 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:12,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:12,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:12,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:12,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:12,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:12,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:12,766 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:12,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:12,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:12,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:12,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:12,769 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:12,769 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:12,770 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:12,823 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:13,384 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:13,427 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:13,586 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:13,587 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:13,587 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:14,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:14,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:14,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:14,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:14,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:14,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:14,749 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:14,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:14,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:14,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:14,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:14,753 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:14,753 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:14,754 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:14,799 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:15,362 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:15,403 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:15,559 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:15,560 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:15,561 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:16,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:16,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:16,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:16,564 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:16,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:16,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:16,733 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:16,734 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:16,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:16,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:16,736 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:16,736 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:16,737 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:16,737 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:16,779 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:17,354 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:17,398 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:17,559 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:17,560 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:17,560 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:18,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:18,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:18,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:18,564 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:18,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:18,719 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:18,721 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:18,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:18,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:18,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:18,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:18,725 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:18,725 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:18,725 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:18,772 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:19,340 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:19,381 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:19,540 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:19,541 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:19,541 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:20,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:20,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:20,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:20,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:20,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:20,710 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:20,712 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:20,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:20,713 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:20,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:20,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:20,715 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:20,716 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:20,716 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:20,752 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:21,304 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:21,338 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:21,723 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:21,724 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:21,725 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:22,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:22,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:22,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:22,729 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:22,730 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:22,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:22,880 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:22,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:22,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:22,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:22,884 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:22,884 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:22,885 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:22,885 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:22,934 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:23,506 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:23,544 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:23,707 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:23,708 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:23,708 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:24,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:24,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:24,710 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:24,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:24,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:24,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:24,863 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:24,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:24,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:24,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:24,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:24,866 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:24,867 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:24,867 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:24,915 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:25,551 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:25,589 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:25,752 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:25,754 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:25,754 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:26,755 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:26,755 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:26,756 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:26,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:26,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:26,909 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:26,911 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:26,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:26,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:26,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:26,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:26,914 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:26,914 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:26,915 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:26,966 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:27,517 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:27,561 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:27,722 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:27,724 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:27,724 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:28,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:28,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:28,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:28,729 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:28,729 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:28,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:28,875 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:28,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:28,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:28,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:28,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:28,878 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:28,879 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:28,879 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:28,928 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:29,478 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:29,507 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:29,686 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:29,687 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:29,687 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:30,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:30,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:30,689 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:30,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:30,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:30,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:30,844 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:30,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:30,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:30,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:30,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:30,848 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:30,848 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:30,849 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:30,898 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:31,478 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:31,519 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:31,676 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:31,677 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:31,677 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:32,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:32,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:32,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:32,681 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:32,681 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:32,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:32,830 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:32,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:32,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:32,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:32,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:32,833 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:32,833 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:32,834 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:32,886 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:33,451 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:33,487 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:33,648 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:33,649 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:33,650 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:34,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:34,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:34,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:34,653 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:34,653 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:34,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:34,803 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:34,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:34,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:34,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:34,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:34,807 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:34,807 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:34,807 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:34,845 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:35,480 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:35,524 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:35,687 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:35,688 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:35,689 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:36,689 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:36,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:36,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:36,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:36,693 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:37,074 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:37,075 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:37,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:37,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:37,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:37,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:37,078 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:37,079 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:37,079 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:37,127 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:37,719 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:37,749 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:37,911 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:37,912 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:37,913 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:38,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:38,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:38,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:38,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:38,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:39,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:39,066 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:39,066 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:39,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:39,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:39,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:39,069 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:39,069 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:39,070 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:39,121 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:39,668 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:39,700 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:39,858 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:39,860 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:39,860 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:40,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:40,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:40,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:40,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:40,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:41,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:41,019 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:41,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:41,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:41,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:41,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:41,022 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:41,022 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:41,023 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:41,073 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:41,623 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:41,666 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:41,816 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:41,817 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:41,818 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:42,818 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:42,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:42,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:42,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:42,822 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:42,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:42,973 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:42,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:42,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:42,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:42,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:42,976 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:42,976 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:42,977 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:43,028 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:43,602 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:43,643 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:43,807 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:43,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:43,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:44,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:44,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:44,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:44,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:44,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:44,967 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:44,968 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:44,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:44,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:44,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:44,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:44,972 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:44,972 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:44,972 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:45,021 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:45,569 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:45,610 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:45,774 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:45,775 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:45,775 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:46,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:46,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:46,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:46,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:46,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:46,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:46,938 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:46,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:46,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:46,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:46,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:46,942 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:46,942 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:46,942 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:46,991 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:47,563 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:47,604 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:47,766 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:47,767 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:47,767 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:48,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:48,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:48,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:48,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:48,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:48,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:48,919 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:48,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:48,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:48,921 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:48,921 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:48,922 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:48,923 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:48,923 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:48,971 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:49,539 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:49,580 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:49,743 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:49,744 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:49,744 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:50,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:50,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:50,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:50,748 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:50,748 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:50,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:50,902 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:50,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:50,904 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:50,904 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:50,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:50,905 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:50,906 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:50,906 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:50,959 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:51,496 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:51,536 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:51,691 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:51,692 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:51,692 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:52,693 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:52,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:52,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:52,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:52,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:52,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:52,854 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:52,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:52,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:52,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:52,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:52,857 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:52,858 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:52,858 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:52,910 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:53,522 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:53,555 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:53,723 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:53,724 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:53,724 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:53,725 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:34:53,727 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:34:53,728 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:34:53,733 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:34:53,734 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:34:53,734 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:34:53,735 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:34:53,736 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:34:53,736 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:34:53,736 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:34:53,904 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:34:53,905 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:34:53,906 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:34:53,908 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:34:53,909 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:34:53,909 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:34:53,910 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:34:53,929 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:34:53,930 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:34:53,930 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:34:53,931 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:34:53,931 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:34:53,932 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:34:53,932 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:34:53,932 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:34:53,933 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:34:53,933 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:34:53,934 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:34:53,934 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:34:53,934 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:34:53,937 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:34:53,937 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:34:53,950 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:34:53,950 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:34:53,951 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:34:53,951 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:34:53,952 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:34:53,952 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:34:53,952 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:34:53,953 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:34:53,953 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:34:53,954 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:34:53,955 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:34:53,968 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:34:53,969 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:34:53,969 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:34:53,970 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:34:53,970 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:34:53,971 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:34:53,975 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:34:53,984 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:34:53,984 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:34:53,985 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:34:53,986 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:34:53,986 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:34:53,988 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:34:54,001 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:34:54,002 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:34:54,006 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:34:54,019 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:34:54,020 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:34:54,023 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:34:54,023 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:34:54,024 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:34:54,026 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:34:54,026 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:34:54,027 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:34:54,027 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:34:54,028 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:34:54,028 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:34:54,029 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:34:54,029 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:34:54,030 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:34:54,030 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:34:54,030 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:34:54,031 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:34:54,031 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:34:54,032 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:34:54,032 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:34:54,032 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:34:54.032814+07:00
2025-10-05 10:34:54,033 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:34:54.032814+07:00
2025-10-05 10:34:54,033 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:34:54.032814+07:00 trong DST: True
2025-10-05 10:34:54,034 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:34:54,034 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:34:54,034 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:34:54,036 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:34:54,036 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:34:54,041 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:34:54,051 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:34:54,052 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:34:54,052 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:34:54,053 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:34:54,053 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:34:54,053 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:34:54,054 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:34:54,054 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:34:54,054 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:34:54,055 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:34:54,055 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:34:54,056 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:34:54,058 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:34:54,067 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:34:54,067 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:34:54,068 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:34:54,069 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:34:54,069 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:34:54,070 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:34:54,070 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:34:54,071 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:34:54,072 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:34:54,072 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:34:54,073 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:34:54,085 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:34:54,086 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:34:54,086 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:34:54,087 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:34:54,087 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:34:54,088 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:34:54,089 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:34:54,089 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:34:54,097 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:34:54,101 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:34:54,103 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:34:54,103 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:34:54,104 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:34:54,105 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:34:54,106 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:34:54,107 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:34:54,107 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:34:54,108 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:34:54,108 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:34:54,108 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:34:54,109 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:34:54.109188+07:00
2025-10-05 10:34:54,109 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:34:54.109188+07:00
2025-10-05 10:34:54,110 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:34:54.109188+07:00 trong DST: True
2025-10-05 10:34:54,110 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:34:54,111 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:34:54,111 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 206
2025-10-05 10:34:54,112 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:34:54,112 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:34:54,113 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:34:54,113 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:34:54,113 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:34:54,114 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:34:54,114 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:34:54,115 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:34:54,115 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:34:54,116 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:34:54,116 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:34:54,117 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:34:54,117 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:34:54,118 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:34:54,118 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:34:54,118 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:34:54,119 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:34:54,120 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:34:54,120 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:34:54,121 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:34:54,122 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:34:54,122 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:34:54,124 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:34:54,138 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:34:54,139 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:34:54,140 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:34:54,141 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:34:54,141 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:34:54,142 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:34:54,142 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:34:54,143 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:34:54,143 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:34:54,144 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:34:54,144 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:34:54,144 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:34:54,145 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:34:54,145 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:34:54,146 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:34:54,146 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:34:54,147 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:34:54,147 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:34:54,148 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:34:54,148 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:34:54,148 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:34:54,149 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:34:54,149 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:34:54,149 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:34:54,150 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:54,150 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:54,202 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:54,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:54,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:54,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:54,728 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:54,728 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:54,878 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:54,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:54,882 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:54,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:54,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:54,886 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:54,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:54,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:54,962 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:54,974 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:54,981 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:55,082 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:55,136 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:55,136 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:34:55,137 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:34:55,137 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:34:55,138 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:34:55,138 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:34:55,138 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:34:55,139 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:34:55,140 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:34:55,140 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:34:55,141 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:34:55,141 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:34:55,142 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:34:55,143 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:34:55,144 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:34:55,145 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:34:55,160 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:34:55,161 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:34:55,161 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:34:55,161 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:34:55,162 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:34:55,162 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:34:55,163 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:34:55,163 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:34:55,164 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:34:55,164 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:34:55,164 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:34:55,165 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:34:55,166 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:34:55,166 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:34:55,199 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:34:55,199 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:34:55,200 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:34:55,200 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:34:55,201 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:34:55,686 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:55,717 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:55,873 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:55,874 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:55,875 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:55,882 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:34:56,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:56,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:56,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:56,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:56,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:57,136 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:57,147 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:57,189 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:57,193 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:57,194 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:57,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:57,206 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:57,207 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:57,207 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:57,278 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:57,835 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:57,866 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:58,035 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:58,036 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:58,037 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:34:59,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:34:59,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:34:59,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:34:59,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:34:59,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:34:59,189 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:34:59,191 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:34:59,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:34:59,193 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:34:59,193 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:34:59,194 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:34:59,194 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:34:59,195 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:34:59,195 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:34:59,244 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:34:59,799 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:34:59,833 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:34:59,993 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:34:59,994 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:34:59,994 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:00,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:00,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:00,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:00,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:00,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:01,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:01,151 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:01,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:01,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:01,153 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:01,153 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:01,154 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:01,154 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:01,155 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:01,210 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:01,890 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:01,923 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:02,120 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:02,121 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:02,122 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:03,123 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:03,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:03,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:03,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:03,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:03,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:03,292 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:03,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:03,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:03,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:03,295 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:03,295 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:03,296 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:03,297 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:03,350 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:03,996 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:04,027 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:04,198 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:04,199 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:04,200 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:05,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:05,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:05,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:05,203 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:05,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:05,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:05,352 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:05,353 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:05,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:05,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:05,355 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:05,356 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:05,356 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:05,356 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:05,408 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:05,965 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:05,996 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:06,157 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:06,158 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:06,159 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:07,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:07,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:07,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:07,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:07,163 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:07,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:07,541 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:07,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:07,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:07,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:07,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:07,545 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:07,545 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:07,545 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:07,597 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:08,156 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:08,198 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:08,352 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:08,353 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:08,354 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:09,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:09,355 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:09,355 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:09,357 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:09,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:09,509 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:09,511 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:09,512 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:09,512 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:09,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:09,514 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:09,514 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:09,515 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:09,515 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:09,562 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:10,126 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:10,158 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:10,315 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:10,316 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:10,316 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:11,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:11,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:11,318 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:11,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:11,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:11,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:11,468 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:11,468 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:11,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:11,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:11,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:11,471 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:11,471 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:11,472 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:11,521 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:12,093 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:12,127 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:12,282 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:12,283 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:12,284 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:13,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:13,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:13,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:13,287 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:13,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:13,438 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:13,440 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:13,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:13,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:13,442 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:13,443 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:13,443 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:13,443 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:13,444 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:13,495 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:14,057 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:14,089 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:14,249 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:14,250 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:14,250 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:15,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:15,252 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:15,252 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:15,254 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:15,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:15,401 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:15,403 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:15,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:15,404 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:15,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:15,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:15,406 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:15,407 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:15,407 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:15,456 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:16,003 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:16,035 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:16,195 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:16,197 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:16,197 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:17,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:17,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:17,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:17,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:17,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:17,356 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:17,357 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:17,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:17,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:17,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:17,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:17,361 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:17,361 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:17,361 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:17,415 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:18,041 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:18,082 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:18,244 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:18,245 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:18,246 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:19,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:19,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:19,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:19,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:19,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:19,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:19,398 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:19,398 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:19,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:19,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:19,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:19,401 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:19,401 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:19,402 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:19,451 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:20,017 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:20,048 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:20,209 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:20,210 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:20,210 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:21,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:21,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:21,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:21,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:21,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:21,368 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:21,370 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:21,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:21,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:21,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:21,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:21,373 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:21,373 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:21,374 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:21,425 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:22,059 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:22,098 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:22,254 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:22,255 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:22,256 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:23,257 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:23,257 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:23,258 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:23,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:23,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:23,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:23,624 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:23,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:23,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:23,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:23,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:23,627 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:23,627 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:23,628 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:23,681 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:24,305 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:24,347 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:24,503 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:24,504 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:24,505 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:25,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:25,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:25,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:25,508 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:25,509 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:25,654 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:25,656 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:25,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:25,657 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:25,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:25,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:25,659 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:25,660 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:25,660 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:25,713 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:26,360 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:26,401 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:26,562 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:26,563 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:26,563 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:27,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:27,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:27,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:27,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:27,569 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:27,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:27,724 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:27,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:27,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:27,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:27,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:27,727 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:27,728 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:27,728 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:27,780 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:28,362 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:28,402 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:28,555 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:28,556 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:28,556 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:29,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:29,559 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:29,559 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:29,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:29,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:29,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:29,709 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:29,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:29,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:29,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:29,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:29,712 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:29,712 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:29,713 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:29,751 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:30,300 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:30,333 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:30,495 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:30,496 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:30,497 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:31,497 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:31,498 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:31,499 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:31,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:31,501 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:31,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:31,652 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:31,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:31,654 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:31,654 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:31,655 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:31,655 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:31,656 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:31,656 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:31,708 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:32,286 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:32,328 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:32,482 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:32,483 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:32,484 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:33,484 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:33,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:33,486 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:33,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:33,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:33,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:33,635 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:33,635 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:33,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:33,637 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:33,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:33,638 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:33,638 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:33,639 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:33,689 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:34,323 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:34,365 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:34,523 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:34,524 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:34,525 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:35,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:35,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:35,527 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:35,529 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:35,529 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:35,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:35,680 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:35,681 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:35,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:35,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:35,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:35,685 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:35,685 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:35,685 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:35,741 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:36,296 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:36,337 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:36,496 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:36,498 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:36,498 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:37,499 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:37,499 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:37,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:37,501 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:37,502 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:37,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:37,659 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:37,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:37,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:37,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:37,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:37,663 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:37,663 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:37,664 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:37,715 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:38,279 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:38,318 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:38,703 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:38,705 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:38,705 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:39,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:39,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:39,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:39,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:39,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:39,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:39,861 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:39,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:39,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:39,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:39,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:39,864 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:39,864 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:39,865 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:39,917 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:40,481 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:40,515 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:40,674 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:40,675 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:40,676 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:41,677 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:41,677 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:41,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:41,680 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:41,680 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:41,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:41,833 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:41,833 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:41,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:41,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:41,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:41,836 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:41,837 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:41,837 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:41,890 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:42,441 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:42,482 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:42,631 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:42,632 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:42,633 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:43,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:43,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:43,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:43,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:43,637 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:43,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:43,786 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:43,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:43,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:43,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:43,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:43,790 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:43,790 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:43,790 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:43,841 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:44,444 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:44,477 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:44,641 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:44,641 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:44,642 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:45,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:45,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:45,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:45,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:45,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:45,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:45,799 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:45,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:45,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:45,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:45,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:45,802 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:45,802 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:45,803 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:45,852 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:46,468 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:46,505 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:46,670 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:46,671 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:46,671 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:47,672 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:47,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:47,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:47,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:47,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:47,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:47,836 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:47,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:47,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:47,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:47,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:47,839 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:47,840 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:47,840 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:47,892 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:48,450 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:48,482 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:48,643 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:48,644 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:48,645 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:49,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:49,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:49,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:49,648 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:49,649 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:49,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:49,805 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:49,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:49,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:49,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:49,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:49,808 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:49,808 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:49,809 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:49,860 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:50,411 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:50,454 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:50,613 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:50,614 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:50,614 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:51,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:51,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:51,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:51,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:51,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:51,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:51,781 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:51,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:51,782 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:51,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:51,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:51,784 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:51,784 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:51,785 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:51,833 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:52,453 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:52,489 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:52,640 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:52,641 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:52,642 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:53,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:53,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:53,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:53,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:53,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:53,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:53,806 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:53,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:53,808 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:53,809 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:53,809 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:53,810 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:53,810 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:53,810 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:53,860 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:54,432 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:54,465 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:54,856 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:54,857 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:54,857 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:55,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:55,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:55,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:55,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:55,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:56,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:56,009 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:56,009 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:56,010 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:56,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:56,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:56,012 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:56,013 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:56,013 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:56,063 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:56,624 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:56,655 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:56,816 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:56,817 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:56,817 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:56,818 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:35:56,820 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:35:56,821 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:35:56,826 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:35:56,836 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:35:56,837 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:35:56,839 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:35:56,840 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:35:56,840 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:35:56,840 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:35:56,841 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:35:56,843 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:35:56,868 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:35:56,920 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:35:56,929 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:35:57,053 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:35:57,054 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:35:57,059 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:35:57,059 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:35:57,060 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:35:57,060 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:35:57,061 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:35:57,061 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:35:57,061 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:35:57,062 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:35:57,062 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:35:57,063 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:35:57,063 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:35:57,063 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:35:57,078 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:35:57,079 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:35:57,079 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:35:57,080 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:35:57,081 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:35:57,081 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:35:57,082 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:35:57,083 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:35:57,089 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:35:57,096 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:35:57,098 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:35:57,098 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:35:57,099 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:35:57,099 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:35:57,112 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:35:57,113 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:35:57,113 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:35:57,114 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:35:57,115 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:35:57,115 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:35:57,117 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:35:57,119 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:35:57,165 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:35:57,226 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:35:57,270 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:35:57,313 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:35:57,361 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:35:57,363 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:35:57,364 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:35:57,370 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:35:57,380 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:35:57,384 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:35:57,387 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:35:57,387 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:35:57,388 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:35:57,433 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:35:57,445 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:35:57,474 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:35:57,475 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:35:57,475 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:35:57,476 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:35:57,477 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:35:57,477 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:35:57,478 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:35:57,478 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:35:57,479 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:35:57,479 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:35:57,480 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:35:57,481 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:35:57,481 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:35:57,481 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:35:57.481819+07:00
2025-10-05 10:35:57,482 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:35:57.481819+07:00
2025-10-05 10:35:57,482 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:35:57.481819+07:00 trong DST: True
2025-10-05 10:35:57,482 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:35:57,483 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:35:57,483 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:35:57,484 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:35:57,485 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:35:57,489 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:35:57,489 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:35:57,490 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:35:57,490 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:35:57,491 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:35:57,491 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:35:57,492 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:35:57,492 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:35:57,493 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:35:57,495 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:35:57,496 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:35:57,497 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:35:57,523 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:35:57,525 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:35:57,526 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:35:57,530 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:35:57,531 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:35:57,532 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:35:57,533 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:35:57,582 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:35:57,583 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:35:57,583 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:35:57,586 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:35:57,589 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:35:57,590 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:35:57,591 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:35:57,592 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:35:57,593 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:35:57,593 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:35:57,594 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:35:57,596 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:35:57,597 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:35:57,598 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:35:57,598 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:35:57,599 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:35:57,630 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:35:57,630 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:35:57,631 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:35:57,631 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:35:57,632 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:35:57,632 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:35:57,633 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:35:57,633 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:35:57,634 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:35:57,634 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:35:57,635 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:35:57.635080+07:00
2025-10-05 10:35:57,644 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:35:57.635080+07:00
2025-10-05 10:35:57,645 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:35:57.635080+07:00 trong DST: True
2025-10-05 10:35:57,645 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:35:57,646 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:35:57,646 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 205
2025-10-05 10:35:57,647 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:35:57,647 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:35:57,648 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:35:57,648 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:35:57,648 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:35:57,649 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:35:57,649 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:35:57,650 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:35:57,651 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:35:57,651 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:35:57,652 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:35:57,667 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:35:57,667 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:35:57,669 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:35:57,669 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:35:57,670 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:35:57,670 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:35:57,671 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:35:57,671 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:35:57,672 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:35:57,672 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:35:57,672 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:35:57,673 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:35:57,674 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:35:57,674 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:35:57,675 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:35:57,675 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:35:57,676 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:35:57,676 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:35:57,677 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:35:57,677 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:35:57,678 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:35:57,678 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:35:57,679 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:35:57,679 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:35:57,679 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:35:57,680 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:35:57,680 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:35:57,680 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:35:57,681 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:35:57,681 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:35:57,682 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:35:57,682 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:35:57,682 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:35:57,683 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:35:57,683 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:35:57,683 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:35:57,684 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:57,684 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:57,737 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:57,818 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:35:57,818 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:35:57,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:35:57,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:35:57,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:35:57,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:35:57,992 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:35:57,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:35:57,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:35:57,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:35:57,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:35:57,996 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:35:57,996 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:35:57,997 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:35:58,036 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:35:58,616 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:58,661 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:58,783 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:35:58,833 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:35:58,852 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:58,877 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:35:58,887 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:35:58,916 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:35:58,933 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:35:58,948 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:35:58,969 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:35:58,988 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:35:59,010 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:35:59,031 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:35:59,052 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:35:59,059 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:35:59,077 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:35:59,092 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:35:59,109 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:35:59,135 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:35:59,142 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:35:59,170 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:35:59,177 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:35:59,189 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:35:59,204 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:35:59,211 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:35:59,239 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:35:59,272 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:35:59,284 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:35:59,289 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:35:59,290 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:35:59,290 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:35:59,291 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:35:59,291 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:35:59,292 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:35:59,293 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:35:59,293 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:35:59,368 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:35:59,369 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:35:59,370 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:35:59,371 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:35:59,374 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:35:59,459 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:36:00,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:00,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:00,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:00,296 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:00,296 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:00,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:00,443 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:00,443 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:00,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:00,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:00,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:00,447 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:00,447 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:00,447 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:00,499 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:01,071 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:01,112 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:01,276 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:01,276 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:01,277 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:02,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:02,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:02,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:02,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:02,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:02,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:02,451 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:02,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:02,452 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:02,453 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:02,453 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:02,454 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:02,455 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:02,455 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:02,506 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:03,161 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:03,202 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:03,391 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:03,392 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:03,393 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:04,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:04,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:04,395 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:04,397 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:04,397 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:04,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:04,550 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:04,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:04,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:04,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:04,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:04,553 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:04,553 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:04,553 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:04,603 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:05,163 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:05,197 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:05,355 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:05,356 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:05,356 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:06,357 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:06,357 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:06,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:06,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:06,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:06,511 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:06,512 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:06,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:06,514 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:06,514 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:06,515 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:06,516 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:06,516 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:06,516 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:06,573 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:07,144 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:07,184 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:07,338 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:07,339 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:07,339 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:08,340 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:08,340 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:08,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:08,343 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:08,343 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:08,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:08,497 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:08,498 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:08,499 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:08,499 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:08,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:08,500 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:08,501 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:08,501 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:08,554 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:09,107 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:09,150 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:09,305 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:09,306 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:09,306 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:10,307 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:10,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:10,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:10,310 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:10,310 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:10,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:10,617 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:10,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:10,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:10,624 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:10,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:10,626 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:10,627 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:10,655 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:10,732 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:11,714 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:11,748 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:11,909 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:11,910 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:11,910 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:12,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:12,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:12,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:12,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:12,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:13,059 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:13,061 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:13,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:13,063 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:13,063 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:13,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:13,064 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:13,065 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:13,065 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:13,114 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:13,681 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:13,720 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:13,879 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:13,880 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:13,880 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:14,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:14,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:14,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:14,884 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:14,884 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:15,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:15,035 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:15,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:15,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:15,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:15,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:15,038 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:15,038 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:15,038 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:15,090 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:15,657 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:15,690 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:15,850 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:15,851 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:15,851 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:16,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:16,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:16,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:16,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:16,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:17,005 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:17,006 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:17,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:17,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:17,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:17,009 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:17,009 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:17,010 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:17,010 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:17,059 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:17,663 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:17,698 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:17,858 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:17,859 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:17,860 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:18,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:18,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:18,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:18,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:18,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:19,015 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:19,017 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:19,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:19,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:19,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:19,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:19,021 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:19,021 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:19,021 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:19,073 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:19,717 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:19,753 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:19,914 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:19,915 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:19,915 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:20,916 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:20,916 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:20,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:20,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:20,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:21,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:21,064 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:21,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:21,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:21,066 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:21,066 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:21,067 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:21,067 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:21,068 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:21,110 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:21,679 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:21,710 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:21,874 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:21,875 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:21,876 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:22,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:22,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:22,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:22,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:22,880 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:23,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:23,036 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:23,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:23,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:23,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:23,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:23,039 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:23,039 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:23,040 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:23,092 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:23,647 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:23,680 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:23,834 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:23,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:23,836 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:24,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:24,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:24,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:24,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:24,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:24,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:24,990 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:24,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:24,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:24,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:24,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:24,994 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:24,994 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:24,994 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:25,049 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:25,683 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:25,724 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:26,116 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:26,117 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:26,117 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:27,119 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:27,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:27,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:27,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:27,123 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:27,268 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:27,270 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:27,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:27,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:27,272 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:27,272 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:27,273 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:27,274 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:27,274 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:27,311 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:27,880 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:27,913 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:28,074 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:28,075 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:28,076 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:29,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:29,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:29,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:29,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:29,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:29,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:29,237 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:29,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:29,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:29,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:29,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:29,241 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:29,241 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:29,241 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:29,293 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:29,860 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:29,894 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:30,050 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:30,051 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:30,051 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:31,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:31,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:31,053 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:31,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:31,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:31,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:31,202 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:31,202 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:31,203 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:31,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:31,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:31,205 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:31,205 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:31,206 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:31,255 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:31,897 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:31,939 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:32,098 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:32,099 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:32,100 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:33,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:33,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:33,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:33,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:33,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:33,263 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:33,265 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:33,265 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:33,266 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:33,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:33,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:33,268 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:33,269 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:33,269 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:33,321 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:33,891 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:33,934 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:34,082 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:34,083 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:34,084 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:35,085 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:35,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:35,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:35,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:35,089 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:35,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:35,233 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:35,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:35,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:35,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:35,236 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:35,236 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:35,237 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:35,237 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:35,285 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:35,915 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:35,954 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:36,111 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:36,112 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:36,113 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:37,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:37,114 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:37,114 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:37,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:37,117 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:37,265 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:37,266 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:37,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:37,268 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:37,269 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:37,269 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:37,270 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:37,270 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:37,271 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:37,321 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:37,882 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:37,925 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:38,083 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:38,084 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:38,084 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:39,085 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:39,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:39,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:39,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:39,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:39,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:39,239 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:39,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:39,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:39,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:39,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:39,242 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:39,243 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:39,243 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:39,294 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:39,939 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:39,977 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:40,134 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:40,135 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:40,136 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:41,136 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:41,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:41,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:41,139 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:41,140 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:41,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:41,292 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:41,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:41,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:41,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:41,295 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:41,295 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:41,296 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:41,296 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:41,343 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:41,920 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:41,963 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:42,359 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:42,360 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:42,360 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:43,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:43,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:43,362 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:43,364 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:43,364 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:43,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:43,519 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:43,519 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:43,520 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:43,521 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:43,521 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:43,522 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:43,522 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:43,523 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:43,573 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:44,222 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:44,261 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:44,412 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:44,413 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:44,414 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:45,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:45,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:45,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:45,417 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:45,418 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:45,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:45,569 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:45,570 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:45,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:45,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:45,572 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:45,573 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:45,573 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:45,573 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:45,624 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:46,371 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:46,382 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:46,558 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:46,559 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:46,560 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:47,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:47,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:47,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:47,564 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:47,564 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:47,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:47,720 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:47,720 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:47,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:47,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:47,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:47,723 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:47,723 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:47,724 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:47,779 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:48,339 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:48,382 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:48,541 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:48,542 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:48,542 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:49,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:49,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:49,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:49,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:49,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:49,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:49,840 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:49,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:49,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:49,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:49,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:49,880 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:49,880 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:49,881 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:49,954 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:50,524 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:50,564 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:50,722 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:50,723 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:50,724 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:51,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:51,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:51,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:51,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:51,728 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:51,880 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:51,882 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:51,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:51,884 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:51,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:51,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:51,886 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:51,886 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:51,887 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:51,936 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:52,528 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:52,559 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:52,719 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:52,721 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:52,721 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:53,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:53,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:53,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:53,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:53,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:53,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:53,897 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:53,897 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:53,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:53,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:53,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:53,900 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:53,900 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:53,900 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:53,939 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:54,507 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:54,547 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:54,699 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:54,701 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:54,701 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:55,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:55,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:55,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:55,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:55,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:55,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:55,858 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:55,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:55,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:55,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:55,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:55,862 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:55,863 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:55,863 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:55,913 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:56,504 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:56,531 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:56,688 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:56,689 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:56,690 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:57,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:57,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:57,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:57,693 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:57,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:36:57,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:36:57,845 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:36:57,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:36:57,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:36:57,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:36:57,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:36:57,848 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:36:57,849 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:57,849 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:57,899 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:58,465 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:36:58,507 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:36:58,891 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:36:58,892 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:36:58,892 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:36:59,459 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:36:59,462 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:36:59,462 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:36:59,468 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:36:59,469 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:36:59,469 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:36:59,481 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:36:59,483 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:36:59,483 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:36:59,484 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:36:59,524 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:36:59,524 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:36:59,525 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:36:59,539 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:36:59,539 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:36:59,540 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:36:59,540 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:36:59,557 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:36:59,558 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:36:59,559 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:36:59,559 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:36:59,560 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:36:59,560 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:36:59,561 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:36:59,561 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:36:59,576 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:36:59,577 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:36:59,578 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:36:59,578 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:36:59,579 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:36:59,579 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:36:59,580 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:36:59,580 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:36:59,580 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:36:59,581 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:36:59,581 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:36:59,582 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:36:59,582 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:36:59,582 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:36:59,583 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:36:59,583 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:36:59,584 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:36:59,584 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:36:59,586 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:36:59,587 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:36:59,587 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:36:59,588 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:36:59,588 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:36:59,589 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:36:59,591 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:36:59,593 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:36:59,593 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:36:59,607 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:36:59,607 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:36:59,608 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:36:59,611 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:36:59,611 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:36:59,621 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:36:59,625 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:36:59,625 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:36:59,626 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:36:59,642 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:36:59,643 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:36:59,643 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:36:59,658 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:36:59,659 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:36:59,660 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:36:59,660 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:36:59,662 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:36:59,672 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:36:59,673 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:36:59,674 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:36:59,674 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:36:59,674 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:36:59,675 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:36:59,675 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:36:59,676 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:36:59,677 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:36:59,690 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:36:59,692 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:36:59.692666+07:00
2025-10-05 10:36:59,693 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:36:59.692666+07:00
2025-10-05 10:36:59,693 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:36:59.692666+07:00 trong DST: True
2025-10-05 10:36:59,694 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:36:59,694 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:36:59,695 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:36:59,696 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:36:59,696 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:36:59,699 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:36:59,700 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:36:59,700 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:36:59,701 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:36:59,701 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:36:59,702 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:36:59,702 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:36:59,702 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:36:59,703 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:36:59,703 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:36:59,703 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:36:59,704 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:36:59,704 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:36:59,704 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:36:59,705 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:36:59,705 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:36:59,706 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:36:59,706 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:36:59,706 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:36:59,707 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:36:59,707 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:36:59,708 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:36:59,709 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:36:59,710 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:36:59,723 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:36:59,724 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:36:59,725 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:36:59,725 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:36:59,726 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:36:59,740 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:36:59,740 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:36:59,741 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:36:59,741 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:36:59,743 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:36:59,744 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:36:59,745 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:36:59,745 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:36:59,746 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:36:59,746 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:36:59,746 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:36:59,747 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:36:59,748 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:36:59,748 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:36:59,748 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:36:59,749 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:36:59,749 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:36:59.749464+07:00
2025-10-05 10:36:59,750 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:36:59.749464+07:00
2025-10-05 10:36:59,750 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:36:59.749464+07:00 trong DST: True
2025-10-05 10:36:59,751 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:36:59,751 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:36:59,752 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 204
2025-10-05 10:36:59,752 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:36:59,753 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:36:59,753 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:36:59,753 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:36:59,754 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:36:59,754 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:36:59,755 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:36:59,755 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:36:59,755 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:36:59,756 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:36:59,756 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:36:59,757 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:36:59,757 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:36:59,758 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:36:59,758 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:36:59,759 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:36:59,761 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:36:59,775 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:36:59,776 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:36:59,777 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:36:59,778 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:36:59,778 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:36:59,779 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:36:59,780 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:36:59,780 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:36:59,781 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:36:59,782 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:36:59,782 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:36:59,783 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:36:59,783 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:36:59,784 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:36:59,784 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:36:59,785 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:36:59,786 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:36:59,786 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:36:59,786 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:36:59,787 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:36:59,787 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:36:59,787 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:36:59,788 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:36:59,788 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:36:59,789 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:36:59,789 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:36:59,789 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:36:59,790 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:36:59,790 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:36:59,791 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:36:59,791 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:36:59,792 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:36:59,845 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:36:59,893 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:36:59,893 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:36:59,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:36:59,896 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:36:59,896 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:00,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:00,071 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:00,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:00,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:00,073 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:00,073 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:00,074 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:00,074 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:00,075 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:00,130 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:00,639 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:00,687 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:00,855 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:00,856 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:37:00,856 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:37:00,856 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:37:00,857 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:37:00,857 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:37:00,858 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:37:00,858 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:37:00,859 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:37:00,859 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:37:00,860 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:37:00,860 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:37:00,860 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:37:00,861 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:37:00,862 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:37:00,863 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:37:00,863 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:37:00,864 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:37:00,864 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:37:00,865 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:37:00,876 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:37:00,878 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:37:00,878 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:37:00,879 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:37:00,880 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:37:00,880 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:37:00,891 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:37:00,893 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:37:00,894 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:37:00,895 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:37:00,899 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:00,941 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:01,036 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:37:01,047 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:37:01,067 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:37:01,078 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:37:01,102 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:37:01,163 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:01,164 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:01,165 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:01,171 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:37:02,165 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:02,166 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:02,166 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:02,168 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:02,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:02,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:02,349 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:02,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:02,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:02,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:02,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:02,352 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:02,352 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:02,353 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:02,406 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:03,091 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:03,132 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:03,315 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:03,316 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:03,316 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:04,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:04,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:04,318 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:04,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:04,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:04,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:04,467 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:04,468 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:04,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:04,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:04,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:04,470 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:04,471 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:04,471 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:04,509 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:05,070 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:05,101 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:05,259 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:05,260 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:05,260 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:06,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:06,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:06,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:06,264 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:06,264 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:06,419 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:06,420 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:06,421 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:06,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:06,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:06,423 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:06,423 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:06,424 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:06,424 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:06,477 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:07,074 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:07,116 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:07,273 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:07,274 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:07,275 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:08,275 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:08,276 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:08,276 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:08,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:08,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:08,426 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:08,428 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:08,428 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:08,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:08,430 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:08,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:08,431 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:08,432 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:08,432 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:08,483 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:09,051 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:09,095 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:09,250 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:09,251 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:09,251 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:10,252 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:10,252 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:10,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:10,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:10,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:10,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:10,410 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:10,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:10,412 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:10,413 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:10,413 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:10,414 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:10,414 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:10,415 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:10,467 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:11,035 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:11,067 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:11,226 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:11,226 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:11,227 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:12,227 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:12,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:12,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:12,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:12,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:12,376 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:12,378 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:12,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:12,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:12,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:12,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:12,382 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:12,382 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:12,382 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:12,431 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:12,971 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:13,002 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:13,406 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:13,407 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:13,407 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:14,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:14,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:14,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:14,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:14,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:14,557 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:14,559 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:14,559 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:14,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:14,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:14,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:14,563 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:14,563 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:14,564 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:14,616 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:15,189 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:15,233 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:15,389 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:15,390 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:15,391 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:16,391 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:16,392 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:16,392 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:16,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:16,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:16,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:16,548 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:16,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:16,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:16,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:16,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:16,552 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:16,552 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:16,552 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:16,604 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:17,158 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:17,208 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:17,367 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:17,368 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:17,369 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:18,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:18,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:18,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:18,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:18,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:18,521 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:18,522 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:18,523 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:18,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:18,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:18,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:18,525 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:18,526 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:18,526 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:18,580 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:19,209 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:19,250 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:19,409 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:19,410 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:19,411 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:20,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:20,412 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:20,412 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:20,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:20,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:20,569 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:20,571 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:20,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:20,572 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:20,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:20,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:20,574 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:20,574 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:20,575 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:20,629 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:21,191 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:21,233 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:21,390 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:21,391 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:21,391 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:22,392 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:22,392 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:22,392 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:22,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:22,395 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:22,539 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:22,540 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:22,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:22,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:22,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:22,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:22,544 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:22,544 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:22,544 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:22,594 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:23,147 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:23,179 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:23,337 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:23,338 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:23,338 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:24,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:24,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:24,340 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:24,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:24,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:24,501 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:24,503 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:24,504 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:24,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:24,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:24,507 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:24,507 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:24,508 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:24,508 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:24,550 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:25,171 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:25,202 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:25,356 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:25,357 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:25,357 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:26,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:26,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:26,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:26,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:26,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:26,511 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:26,512 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:26,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:26,514 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:26,514 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:26,515 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:26,516 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:26,516 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:26,516 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:26,569 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:27,210 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:27,248 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:27,411 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:27,412 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:27,412 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:28,413 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:28,413 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:28,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:28,416 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:28,416 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:28,569 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:28,571 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:28,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:28,572 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:28,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:28,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:28,574 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:28,574 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:28,575 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:28,631 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:29,188 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:29,220 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:29,630 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:29,631 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:29,632 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:30,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:30,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:30,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:30,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:30,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:30,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:30,799 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:30,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:30,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:30,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:30,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:30,803 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:30,803 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:30,804 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:30,840 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:31,447 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:31,479 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:31,634 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:31,635 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:31,636 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:32,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:32,637 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:32,637 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:32,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:32,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:32,793 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:32,794 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:32,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:32,796 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:32,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:32,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:32,798 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:32,798 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:32,799 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:32,853 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:33,422 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:33,454 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:33,613 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:33,614 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:33,614 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:34,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:34,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:34,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:34,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:34,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:34,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:34,774 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:34,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:34,775 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:34,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:34,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:34,777 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:34,777 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:34,778 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:34,832 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:35,391 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:35,426 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:35,577 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:35,578 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:35,579 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:36,579 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:36,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:36,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:36,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:36,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:36,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:36,737 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:36,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:36,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:36,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:36,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:36,740 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:36,741 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:36,741 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:36,791 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:37,431 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:37,472 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:37,637 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:37,638 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:37,638 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:38,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:38,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:38,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:38,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:38,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:38,794 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:38,796 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:38,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:38,798 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:38,798 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:38,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:38,800 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:38,800 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:38,800 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:38,854 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:39,429 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:39,470 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:39,628 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:39,630 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:39,630 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:40,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:40,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:40,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:40,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:40,635 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:40,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:40,793 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:40,793 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:40,794 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:40,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:40,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:40,796 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:40,796 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:40,797 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:40,851 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:41,420 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:41,461 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:41,619 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:41,620 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:41,620 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:42,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:42,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:42,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:42,624 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:42,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:42,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:42,774 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:42,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:42,775 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:42,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:42,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:42,778 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:42,778 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:42,779 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:42,825 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:43,544 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:43,576 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:43,737 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:43,738 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:43,739 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:44,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:44,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:44,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:44,742 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:44,743 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:45,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:45,148 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:45,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:45,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:45,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:45,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:45,151 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:45,152 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:45,152 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:45,202 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:45,846 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:45,890 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:46,040 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:46,042 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:46,042 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:47,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:47,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:47,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:47,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:47,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:47,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:47,202 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:47,202 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:47,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:47,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:47,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:47,206 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:47,206 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:47,207 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:47,254 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:47,813 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:47,857 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:48,018 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:48,019 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:48,019 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:49,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:49,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:49,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:49,023 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:49,024 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:49,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:49,178 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:49,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:49,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:49,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:49,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:49,181 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:49,182 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:49,182 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:49,236 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:49,788 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:49,830 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:49,988 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:49,989 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:49,989 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:50,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:50,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:50,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:50,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:50,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:51,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:51,147 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:51,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:51,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:51,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:51,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:51,150 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:51,151 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:51,151 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:51,200 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:51,762 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:51,802 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:51,967 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:51,968 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:51,969 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:52,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:52,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:52,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:52,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:52,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:53,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:53,120 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:53,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:53,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:53,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:53,123 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:53,123 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:53,124 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:53,124 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:53,174 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:53,755 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:53,798 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:53,960 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:53,961 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:53,961 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:54,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:54,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:54,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:54,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:54,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:55,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:55,120 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:55,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:55,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:55,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:55,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:55,123 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:55,124 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:55,124 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:55,175 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:55,736 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:55,780 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:55,935 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:55,936 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:55,936 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:56,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:56,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:56,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:56,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:56,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:57,095 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:57,096 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:57,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:57,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:57,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:57,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:57,100 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:57,100 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:57,100 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:57,149 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:57,692 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:57,731 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:57,896 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:57,898 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:57,898 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:37:58,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:37:58,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:37:58,900 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:37:58,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:37:58,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:37:59,053 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:37:59,055 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:37:59,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:37:59,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:37:59,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:37:59,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:37:59,058 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:37:59,058 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:37:59,059 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:37:59,113 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:37:59,763 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:37:59,807 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:37:59,971 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:37:59,972 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:37:59,973 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:00,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:00,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:00,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:00,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:00,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:01,376 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:01,378 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:01,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:01,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:01,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:01,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:01,381 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:01,382 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:01,382 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:01,439 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:02,137 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:02,170 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:02,350 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:02,351 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:02,352 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:02,353 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:38:02,355 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:38:02,356 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:38:02,362 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:38:02,373 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:38:02,375 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:38:02,375 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:38:02,377 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:38:02,377 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:38:02,377 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:38:02,577 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:38:02,578 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:38:02,578 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:38:02,581 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:38:02,582 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:38:02,582 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:38:02,583 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:38:02,601 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:38:02,603 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:38:02,604 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:38:02,605 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:38:02,605 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:38:02,606 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:38:02,606 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:38:02,607 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:38:02,607 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:38:02,608 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:38:02,608 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:38:02,608 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:38:02,609 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:38:02,609 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:38:02,610 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:38:02,610 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:38:02,611 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:38:02,611 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:38:02,611 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:38:02,612 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:38:02,612 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:38:02,613 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:38:02,613 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:38:02,614 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:38:02,615 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:38:02,616 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:38:02,616 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:38:02,620 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:38:02,627 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:38:02,631 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:38:02,632 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:38:02,633 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:38:02,635 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:38:02,636 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:38:02,636 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:38:02,637 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:38:02,637 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:38:02,638 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:38:02,641 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:38:02,641 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:38:02,641 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:38:02,645 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:38:02,645 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:38:02,646 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:38:02,716 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:38:02,716 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:38:02,717 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:38:02,719 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:38:02,720 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:38:02,720 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:38:02,721 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:38:02,721 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:38:02,722 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:38:02,722 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:38:02,723 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:38:02,723 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:38:02,724 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:38:02,724 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:38:02,725 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:38:02,725 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:38:02,726 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:38:02,726 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:38:02,726 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:38:02.726590+07:00
2025-10-05 10:38:02,727 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:38:02.726590+07:00
2025-10-05 10:38:02,727 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:38:02.726590+07:00 trong DST: True
2025-10-05 10:38:02,727 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:38:02,728 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:38:02,729 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:38:02,730 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:38:02,730 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:38:02,736 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:38:02,745 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:38:02,746 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:38:02,747 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:38:02,748 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:38:02,749 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:38:02,749 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:38:02,750 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:38:02,750 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:38:02,750 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:38:02,751 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:38:02,751 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:38:02,751 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:38:02,753 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:38:02,767 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:38:02,768 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:38:02,768 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:38:02,769 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:38:02,769 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:38:02,770 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:38:02,770 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:38:02,771 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:38:02,771 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:38:02,772 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:38:02,772 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:38:02,773 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:38:02,773 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:38:02,774 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:38:02,774 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:38:02,774 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:38:02,775 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:38:02,775 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:38:02,775 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:38:02,776 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:38:02,776 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:38:02,777 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:38:02,777 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:38:02,778 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:38:02,778 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:38:02,778 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:38:02,779 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:38:02,779 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:38:02,780 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:38:02,780 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:38:02,782 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:38:02,782 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:38:02.782737+07:00
2025-10-05 10:38:02,783 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:38:02.782737+07:00
2025-10-05 10:38:02,784 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:38:02.782737+07:00 trong DST: True
2025-10-05 10:38:02,796 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:38:02,797 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:38:02,797 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 202
2025-10-05 10:38:02,798 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:38:02,798 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:38:02,799 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:38:02,799 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:38:02,800 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:38:02,815 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:38:02,815 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:38:02,818 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:38:02,819 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:38:02,819 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:38:02,820 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:38:02,821 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:38:02,821 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:38:02,822 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:38:02,822 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:38:02,823 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:38:02,823 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:38:02,824 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:38:02,824 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:38:02,825 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:38:02,825 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:38:02,826 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:38:02,827 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:38:02,828 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:38:02,828 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:38:02,829 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:38:02,830 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:38:02,830 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:38:02,832 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:38:02,847 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:38:02,848 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:38:02,851 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:38:02,851 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:38:02,852 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:38:02,852 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:38:02,853 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:38:02,854 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:38:02,855 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:38:02,856 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:38:02,856 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:38:02,856 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:38:02,857 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:38:02,857 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:38:02,857 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:38:02,858 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:38:02,859 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:38:02,860 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:38:02,860 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:02,860 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:02,925 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:03,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:03,353 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:03,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:03,356 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:03,356 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:03,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:03,551 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:03,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:03,553 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:03,553 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:03,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:03,555 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:03,555 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:03,555 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:03,594 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:03,745 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:03,776 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:04,001 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:04,002 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:38:04,003 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:38:04,003 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:38:04,004 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:38:04,004 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:38:04,004 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:38:04,005 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:38:04,006 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:38:04,007 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:38:04,007 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:38:04,009 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:38:04,010 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:38:04,011 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:38:04,028 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:38:04,029 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:38:04,030 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:38:04,030 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:38:04,031 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:38:04,031 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:38:04,031 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:38:04,034 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:38:04,046 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:38:04,048 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:38:04,049 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:38:04,049 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:38:04,081 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:38:04,082 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:38:04,096 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:38:04,097 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:38:04,147 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:38:04,147 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:38:04,148 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:38:04,148 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:38:04,149 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:38:04,457 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:04,499 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:04,687 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:04,688 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:04,689 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:04,695 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:38:05,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:05,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:05,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:05,693 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:05,693 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:05,849 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:05,851 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:05,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:05,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:05,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:05,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:05,854 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:05,855 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:05,855 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:05,911 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:06,463 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:06,495 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:06,655 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:06,656 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:06,657 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:07,657 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:07,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:07,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:07,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:07,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:07,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:07,812 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:07,812 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:07,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:07,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:07,815 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:07,815 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:07,816 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:07,816 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:07,867 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:08,408 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:08,441 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:08,602 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:08,603 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:08,604 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:09,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:09,605 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:09,605 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:09,607 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:09,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:09,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:09,760 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:09,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:09,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:09,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:09,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:09,764 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:09,764 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:09,765 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:09,821 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:10,377 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:10,410 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:10,568 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:10,570 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:10,570 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:11,572 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:11,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:11,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:11,576 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:11,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:11,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:11,906 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:11,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:11,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:11,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:11,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:11,913 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:11,913 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:11,922 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:12,004 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:12,554 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:12,585 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:12,748 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:12,749 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:12,750 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:13,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:13,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:13,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:13,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:13,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:13,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:13,913 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:13,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:13,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:13,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:13,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:13,916 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:13,916 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:13,917 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:13,964 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:14,514 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:14,544 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:14,702 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:14,703 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:14,704 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:15,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:15,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:15,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:15,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:15,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:16,106 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:16,108 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:16,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:16,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:16,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:16,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:16,111 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:16,112 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:16,112 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:16,162 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:16,718 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:16,762 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:16,917 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:16,918 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:16,919 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:17,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:17,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:17,921 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:17,923 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:17,923 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:18,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:18,068 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:18,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:18,070 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:18,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:18,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:18,072 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:18,072 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:18,073 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:18,110 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:18,664 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:18,707 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:18,875 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:18,876 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:18,876 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:19,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:19,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:19,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:19,880 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:19,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:20,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:20,032 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:20,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:20,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:20,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:20,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:20,035 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:20,035 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:20,036 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:20,088 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:20,725 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:20,768 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:20,936 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:20,937 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:20,937 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:21,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:21,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:21,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:21,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:21,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:22,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:22,100 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:22,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:22,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:22,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:22,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:22,103 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:22,104 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:22,104 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:22,151 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:22,732 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:22,775 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:22,936 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:22,937 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:22,937 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:23,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:23,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:23,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:23,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:23,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:24,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:24,090 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:24,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:24,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:24,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:24,093 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:24,093 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:24,094 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:24,094 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:24,146 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:24,701 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:24,742 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:24,901 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:24,902 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:24,903 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:25,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:25,904 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:25,904 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:25,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:25,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:26,059 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:26,061 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:26,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:26,063 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:26,063 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:26,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:26,064 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:26,065 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:26,065 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:26,116 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:26,742 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:26,780 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:26,937 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:26,938 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:26,938 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:27,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:27,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:27,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:27,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:27,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:28,089 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:28,091 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:28,091 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:28,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:28,093 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:28,094 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:28,094 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:28,095 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:28,095 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:28,147 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:28,789 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:28,829 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:28,992 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:28,993 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:28,994 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:29,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:29,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:29,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:29,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:29,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:30,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:30,146 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:30,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:30,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:30,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:30,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:30,149 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:30,150 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:30,150 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:30,202 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:30,811 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:30,846 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:31,008 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:31,009 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:31,010 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:32,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:32,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:32,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:32,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:32,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:32,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:32,391 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:32,392 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:32,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:32,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:32,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:32,395 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:32,395 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:32,395 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:32,448 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:33,004 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:33,038 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:33,196 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:33,197 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:33,198 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:34,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:34,199 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:34,199 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:34,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:34,202 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:34,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:34,352 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:34,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:34,353 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:34,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:34,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:34,355 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:34,355 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:34,355 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:34,408 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:35,065 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:35,106 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:35,266 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:35,267 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:35,268 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:36,268 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:36,269 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:36,269 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:36,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:36,272 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:36,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:36,431 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:36,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:36,432 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:36,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:36,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:36,434 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:36,434 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:36,435 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:36,471 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:37,042 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:37,080 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:37,232 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:37,234 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:37,234 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:38,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:38,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:38,236 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:38,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:38,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:38,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:38,497 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:38,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:38,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:38,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:38,567 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:38,568 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:38,568 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:38,569 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:38,640 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:39,263 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:39,305 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:39,466 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:39,467 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:39,467 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:40,468 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:40,468 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:40,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:40,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:40,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:40,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:40,619 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:40,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:40,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:40,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:40,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:40,622 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:40,623 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:40,623 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:40,675 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:41,298 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:41,331 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:41,495 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:41,496 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:41,496 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:42,497 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:42,498 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:42,498 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:42,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:42,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:42,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:42,652 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:42,653 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:42,654 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:42,654 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:42,655 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:42,655 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:42,656 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:42,656 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:42,706 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:43,271 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:43,316 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:43,473 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:43,474 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:43,475 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:44,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:44,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:44,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:44,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:44,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:44,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:44,626 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:44,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:44,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:44,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:44,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:44,629 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:44,630 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:44,630 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:44,683 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:45,278 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:45,323 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:45,479 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:45,480 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:45,481 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:46,481 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:46,482 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:46,482 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:46,484 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:46,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:46,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:46,643 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:46,644 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:46,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:46,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:46,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:46,647 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:46,648 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:46,648 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:46,701 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:47,274 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:47,306 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:47,468 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:47,469 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:47,469 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:48,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:48,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:48,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:48,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:48,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:48,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:48,623 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:48,624 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:48,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:48,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:48,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:48,626 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:48,626 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:48,627 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:48,675 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:49,247 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:49,289 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:49,449 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:49,450 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:49,450 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:50,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:50,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:50,452 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:50,454 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:50,454 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:50,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:50,601 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:50,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:50,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:50,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:50,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:50,604 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:50,604 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:50,605 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:50,656 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:51,286 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:51,327 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:51,487 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:51,488 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:51,488 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:52,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:52,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:52,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:52,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:52,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:52,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:52,645 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:52,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:52,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:52,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:52,648 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:52,649 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:52,649 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:52,649 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:52,702 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:53,278 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:53,311 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:53,471 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:53,472 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:53,473 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:54,474 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:54,474 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:54,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:54,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:54,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:54,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:54,630 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:54,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:54,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:54,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:54,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:54,634 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:54,634 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:54,635 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:54,685 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:55,319 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:55,359 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:55,543 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:55,544 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:55,545 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:56,545 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:56,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:56,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:56,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:56,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:56,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:56,704 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:56,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:56,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:56,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:56,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:56,707 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:56,707 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:56,708 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:56,760 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:57,327 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:57,366 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:57,523 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:57,524 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:57,524 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:38:58,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:38:58,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:38:58,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:38:58,528 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:38:58,529 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:38:58,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:38:58,680 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:38:58,680 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:38:58,681 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:38:58,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:38:58,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:38:58,683 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:38:58,684 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:38:58,684 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:38:58,735 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:38:59,289 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:38:59,330 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:38:59,490 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:38:59,491 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:38:59,491 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:00,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:00,493 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:00,494 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:00,496 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:00,496 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:00,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:00,647 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:00,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:00,648 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:00,649 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:00,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:00,650 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:00,651 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:00,651 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:00,700 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:01,305 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:01,338 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:01,507 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:01,509 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:01,509 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:02,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:02,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:02,511 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:02,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:02,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:02,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:02,689 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:02,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:02,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:02,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:02,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:02,693 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:02,693 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:02,694 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:02,734 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:03,477 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:03,519 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:03,970 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:03,971 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:03,972 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:04,696 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:39:04,698 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:39:04,699 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:39:04,703 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:39:04,704 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:39:04,705 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:39:04,706 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:39:04,707 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:39:04,707 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:39:04,712 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:39:04,756 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:39:04,757 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:39:04,757 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:39:04,770 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:39:04,771 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:39:04,771 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:39:04,772 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:39:04,789 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:39:04,792 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:39:04,793 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:39:04,794 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:39:04,794 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:39:04,795 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:39:04,795 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:39:04,796 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:39:04,796 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:39:04,796 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:39:04,797 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:39:04,797 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:39:04,798 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:39:04,799 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:39:04,799 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:39:04,799 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:39:04,800 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:39:04,800 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:39:04,800 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:39:04,801 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:39:04,801 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:39:04,802 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:39:04,802 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:39:04,802 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:39:04,803 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:39:04,803 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:39:04,804 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:39:04,804 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:39:04,805 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:39:04,805 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:39:04,806 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:39:04,806 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:39:04,808 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:39:04,809 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:39:04,809 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:39:04,810 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:39:04,814 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:39:04,816 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:39:04,820 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:39:04,823 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:39:04,824 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:39:04,828 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:39:04,828 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:39:04,829 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:39:04,831 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:39:04,831 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:39:04,832 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:39:04,834 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:39:04,834 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:39:04,834 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:39:04,835 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:39:04,835 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:39:04,836 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:39:04,837 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:39:04,837 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:39:04,838 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:39:04,838 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:39:04,839 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:39:04,839 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:39:04,839 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:39:04,840 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:39:04,841 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:39:04,842 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:39:04.842150+07:00
2025-10-05 10:39:04,842 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:39:04.842150+07:00
2025-10-05 10:39:04,849 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:39:04.842150+07:00 trong DST: True
2025-10-05 10:39:04,850 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:39:04,852 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:39:04,854 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:39:04,856 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:39:04,857 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:39:04,861 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:39:04,862 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:39:04,862 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:39:04,862 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:39:04,863 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:39:04,863 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:39:04,863 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:39:04,864 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:39:04,864 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:39:04,865 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:39:04,865 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:39:04,866 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:39:04,866 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:39:04,867 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:39:04,867 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:39:04,867 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:39:04,868 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:39:04,868 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:39:04,869 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:39:04,869 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:39:04,870 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:39:04,870 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:39:04,870 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:39:04,871 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:39:04,871 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:39:04,872 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:39:04,872 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:39:04,873 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:39:04,873 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:39:04,873 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:39:04,874 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:39:04,874 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:39:04,874 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:39:04,875 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:39:04,880 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:39:04,884 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:39:04,886 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:39:04,887 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:39:04,888 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:39:04,889 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:39:04,890 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:39:04,890 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:39:04,891 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:39:04,891 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:39:04,892 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:39:04,892 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:39:04.892350+07:00
2025-10-05 10:39:04,892 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:39:04.892350+07:00
2025-10-05 10:39:04,893 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:39:04.892350+07:00 trong DST: True
2025-10-05 10:39:04,893 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:39:04,893 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:39:04,894 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 201
2025-10-05 10:39:04,894 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:39:04,895 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:39:04,895 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:39:04,895 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:39:04,896 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:39:04,896 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:39:04,896 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:39:04,897 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:39:04,897 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:39:04,898 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:39:04,899 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:39:04,899 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:39:04,899 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:39:04,900 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:39:04,900 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:39:04,901 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:39:04,901 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:39:04,902 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:39:04,902 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:39:04,903 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:39:04,903 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:39:04,904 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:39:04,904 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:39:04,905 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:39:04,905 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:39:04,906 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:39:04,906 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:39:04,907 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:39:04,908 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:39:04,909 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:39:04,909 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:39:04,912 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:39:04,923 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:39:04,924 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:39:04,925 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:39:04,925 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:39:04,926 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:39:04,926 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:39:04,926 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:39:04,927 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:39:04,927 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:39:04,928 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:39:04,928 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:39:04,929 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:39:04,929 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:39:04,930 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:39:04,930 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:39:04,931 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:04,931 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:04,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:04,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:04,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:04,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:04,988 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:04,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:05,130 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:05,132 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:05,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:05,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:05,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:05,135 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:05,136 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:05,136 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:05,137 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:05,187 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:05,933 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:05,934 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:05,965 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:06,078 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:06,196 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:06,221 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:06,238 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:06,356 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:06,358 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:39:06,359 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:39:06,360 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:39:06,361 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:39:06,362 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:39:06,364 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:39:06,366 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:39:06,382 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:39:06,383 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:39:06,384 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:39:06,385 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:39:06,386 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:39:06,388 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:39:06,390 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:39:06,391 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:39:06,393 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:39:06,397 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:39:06,406 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:39:06,408 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:39:06,411 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:39:06,425 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:39:06,441 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:39:06,444 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:39:06,457 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:39:06,459 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:39:06,477 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:39:06,480 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:39:06,490 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:39:06,509 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:39:06,550 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:39:06,556 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:39:06,557 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:39:06,558 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:39:06,559 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:39:06,607 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:39:07,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:07,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:07,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:07,264 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:07,264 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:07,421 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:07,423 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:07,423 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:07,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:07,425 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:07,425 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:07,426 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:07,426 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:07,427 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:07,462 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:08,026 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:08,058 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:08,214 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:08,215 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:08,215 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:09,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:09,217 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:09,217 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:09,219 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:09,219 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:09,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:09,368 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:09,369 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:09,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:09,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:09,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:09,372 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:09,372 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:09,373 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:09,421 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:10,001 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:10,038 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:10,198 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:10,199 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:10,199 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:11,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:11,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:11,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:11,203 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:11,203 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:11,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:11,349 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:11,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:11,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:11,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:11,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:11,352 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:11,353 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:11,353 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:11,402 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:11,969 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:12,011 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:12,169 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:12,170 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:12,171 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:13,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:13,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:13,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:13,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:13,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:13,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:13,331 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:13,332 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:13,333 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:13,333 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:13,334 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:13,335 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:13,335 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:13,335 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:13,382 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:13,949 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:13,991 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:14,148 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:14,149 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:14,149 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:15,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:15,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:15,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:15,154 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:15,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:15,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:15,299 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:15,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:15,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:15,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:15,302 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:15,302 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:15,303 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:15,303 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:15,351 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:15,909 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:15,940 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:16,107 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:16,108 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:16,109 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:17,109 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:17,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:17,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:17,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:17,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:17,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:17,273 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:17,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:17,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:17,275 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:17,276 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:17,276 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:17,277 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:17,277 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:17,323 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:17,965 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:18,009 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:18,164 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:18,166 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:18,166 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:19,167 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:19,167 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:19,168 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:19,170 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:19,170 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:19,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:19,319 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:19,319 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:19,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:19,321 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:19,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:19,322 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:19,322 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:19,323 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:19,363 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:19,925 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:19,956 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:20,121 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:20,122 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:20,122 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:21,123 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:21,123 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:21,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:21,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:21,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:21,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:21,272 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:21,272 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:21,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:21,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:21,275 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:21,275 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:21,276 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:21,276 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:21,325 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:21,889 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:21,920 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:22,081 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:22,082 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:22,083 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:23,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:23,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:23,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:23,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:23,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:23,244 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:23,246 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:23,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:23,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:23,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:23,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:23,249 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:23,249 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:23,250 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:23,299 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:23,929 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:23,974 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:24,135 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:24,136 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:24,137 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:25,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:25,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:25,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:25,140 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:25,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:25,286 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:25,288 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:25,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:25,289 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:25,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:25,291 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:25,291 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:25,292 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:25,292 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:25,343 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:25,984 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:26,025 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:26,185 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:26,186 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:26,187 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:27,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:27,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:27,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:27,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:27,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:27,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:27,348 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:27,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:27,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:27,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:27,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:27,352 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:27,352 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:27,352 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:27,398 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:27,962 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:28,004 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:28,155 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:28,156 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:28,156 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:29,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:29,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:29,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:29,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:29,161 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:29,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:29,308 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:29,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:29,309 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:29,309 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:29,310 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:29,311 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:29,311 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:29,311 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:29,362 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:29,951 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:29,982 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:30,143 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:30,144 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:30,144 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:31,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:31,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:31,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:31,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:31,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:31,299 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:31,301 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:31,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:31,302 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:31,303 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:31,303 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:31,304 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:31,304 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:31,305 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:31,357 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:31,904 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:31,946 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:32,108 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:32,109 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:32,109 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:33,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:33,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:33,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:33,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:33,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:33,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:33,395 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:33,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:33,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:33,412 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:33,413 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:33,413 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:33,414 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:33,414 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:33,470 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:34,055 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:34,098 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:34,483 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:34,484 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:34,485 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:35,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:35,486 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:35,486 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:35,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:35,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:35,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:35,640 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:35,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:35,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:35,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:35,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:35,644 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:35,644 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:35,645 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:35,682 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:36,255 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:36,296 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:36,456 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:36,457 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:36,457 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:37,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:37,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:37,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:37,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:37,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:37,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:37,619 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:37,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:37,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:37,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:37,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:37,622 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:37,622 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:37,623 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:37,669 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:38,309 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:38,352 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:38,508 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:38,509 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:38,510 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:39,512 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:39,512 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:39,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:39,514 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:39,515 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:39,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:39,661 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:39,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:39,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:39,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:39,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:39,664 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:39,664 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:39,665 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:39,712 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:40,323 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:40,353 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:40,513 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:40,514 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:40,515 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:41,515 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:41,516 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:41,516 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:41,518 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:41,519 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:41,668 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:41,670 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:41,670 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:41,671 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:41,672 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:41,672 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:41,673 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:41,673 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:41,674 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:41,725 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:42,373 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:42,417 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:42,578 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:42,579 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:42,579 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:43,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:43,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:43,581 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:43,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:43,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:43,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:43,736 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:43,737 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:43,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:43,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:43,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:43,740 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:43,740 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:43,740 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:43,793 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:44,409 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:44,438 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:44,597 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:44,598 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:44,598 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:45,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:45,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:45,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:45,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:45,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:45,749 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:45,751 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:45,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:45,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:45,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:45,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:45,754 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:45,754 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:45,755 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:45,807 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:46,434 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:46,476 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:46,638 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:46,639 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:46,639 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:47,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:47,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:47,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:47,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:47,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:47,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:47,799 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:47,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:47,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:47,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:47,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:47,802 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:47,803 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:47,803 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:47,855 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:48,411 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:48,448 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:48,606 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:48,607 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:48,607 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:49,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:49,609 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:49,609 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:49,611 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:49,612 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:49,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:49,766 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:49,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:49,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:49,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:49,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:49,769 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:49,770 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:49,770 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:49,822 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:50,464 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:50,502 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:50,916 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:50,917 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:50,917 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:51,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:51,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:51,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:51,921 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:51,922 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:52,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:52,078 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:52,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:52,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:52,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:52,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:52,082 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:52,082 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:52,082 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:52,135 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:52,679 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:52,709 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:52,874 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:52,875 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:52,875 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:53,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:53,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:53,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:53,880 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:53,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:54,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:54,040 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:54,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:54,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:54,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:54,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:54,044 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:54,044 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:54,045 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:54,080 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:54,629 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:54,663 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:54,825 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:54,826 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:54,826 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:55,826 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:55,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:55,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:55,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:55,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:55,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:55,981 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:55,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:55,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:55,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:55,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:55,984 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:55,985 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:55,985 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:56,038 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:56,609 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:56,651 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:56,807 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:56,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:56,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:57,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:57,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:57,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:57,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:57,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:57,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:57,972 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:57,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:57,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:57,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:57,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:57,975 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:57,975 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:57,976 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:39:58,027 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:39:58,588 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:39:58,631 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:39:58,786 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:39:58,787 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:39:58,788 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:39:59,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:39:59,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:39:59,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:39:59,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:39:59,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:39:59,947 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:39:59,949 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:39:59,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:39:59,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:39:59,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:39:59,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:39:59,952 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:39:59,952 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:39:59,953 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:00,010 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:00,558 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:00,599 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:00,759 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:00,760 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:00,760 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:01,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:01,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:01,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:01,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:01,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:01,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:01,955 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:01,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:01,957 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:01,958 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:01,958 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:01,959 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:01,960 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:01,960 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:02,030 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:02,768 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:02,810 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:02,986 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:02,987 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:02,988 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:03,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:03,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:03,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:03,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:03,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:04,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:04,146 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:04,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:04,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:04,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:04,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:04,150 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:04,150 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:04,151 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:04,188 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:04,758 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:04,800 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:04,961 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:04,962 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:04,963 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:05,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:05,964 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:05,964 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:05,967 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:05,967 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:06,117 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:06,118 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:06,119 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:06,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:06,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:06,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:06,122 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:06,122 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:06,122 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:06,175 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:06,733 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:06,764 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:07,177 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:07,178 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:07,178 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:07,179 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:40:07,181 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:40:07,182 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:40:07,187 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:40:07,189 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:40:07,199 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:40:07,200 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:40:07,202 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:40:07,202 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:40:07,203 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:40:07,356 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:40:07,356 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:40:07,357 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:40:07,360 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:40:07,360 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:40:07,360 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:40:07,361 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:40:07,367 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:40:07,367 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:40:07,381 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:40:07,382 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:40:07,382 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:40:07,383 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:40:07,384 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:40:07,384 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:40:07,385 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:40:07,385 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:40:07,385 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:40:07,386 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:40:07,387 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:40:07,387 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:40:07,388 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:40:07,388 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:40:07,389 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:40:07,391 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:40:07,402 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:40:07,403 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:40:07,404 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:40:07,404 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:40:07,405 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:40:07,408 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:40:07,416 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:40:07,416 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:40:07,417 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:40:07,417 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:40:07,418 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:40:07,418 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:40:07,418 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:40:07,419 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:40:07,421 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:40:07,422 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:40:07,423 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:40:07,435 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:40:07,435 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:40:07,436 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:40:07,438 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:40:07,439 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:40:07,439 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:40:07,445 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:40:07,452 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:40:07,452 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:40:07,454 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:40:07,455 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:40:07,455 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:40:07,471 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:40:07,473 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:40:07,473 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:40:07,474 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:40:07,474 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:40:07,475 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:40:07,475 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:40:07,476 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:40:07,477 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:40:07,477 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:40:07,478 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:40:07,478 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:40:07,479 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:40:07,479 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:40:07,479 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:40:07,480 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:40:07.480137+07:00
2025-10-05 10:40:07,480 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:40:07.480137+07:00
2025-10-05 10:40:07,480 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:40:07.480137+07:00 trong DST: True
2025-10-05 10:40:07,481 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:40:07,481 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:40:07,481 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:40:07,482 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:40:07,483 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:40:07,486 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:40:07,486 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:40:07,486 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:40:07,487 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:40:07,487 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:40:07,488 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:40:07,488 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:40:07,489 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:40:07,489 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:40:07,489 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:40:07,490 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:40:07,490 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:40:07,491 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:40:07,491 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:40:07,494 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:40:07,495 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:40:07,501 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:40:07,502 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:40:07,503 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:40:07,504 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:40:07,504 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:40:07,505 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:40:07,505 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:40:07,506 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:40:07,506 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:40:07,506 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:40:07,507 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:40:07,510 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:40:07,515 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:40:07,518 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:40:07,519 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:40:07,520 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:40:07,520 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:40:07,521 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:40:07,521 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:40:07,522 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:40:07,522 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:40:07,522 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:40:07,523 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:40:07,527 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:40:07,530 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:40:07,532 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:40:07,534 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:40:07,536 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:40:07,537 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:40:07,537 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:40:07.537458+07:00
2025-10-05 10:40:07,537 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:40:07.537458+07:00
2025-10-05 10:40:07,538 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:40:07.537458+07:00 trong DST: True
2025-10-05 10:40:07,538 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:40:07,539 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:40:07,539 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 200
2025-10-05 10:40:07,540 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:40:07,540 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:40:07,542 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:40:07,543 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:40:07,545 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:40:07,551 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:40:07,553 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:40:07,553 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:40:07,554 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:40:07,554 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:40:07,555 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:40:07,555 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:40:07,556 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:40:07,557 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:40:07,567 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:40:07,571 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:40:07,572 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:40:07,573 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:40:07,573 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:40:07,574 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:40:07,574 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:40:07,575 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:40:07,576 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:40:07,576 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:40:07,577 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:40:07,577 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:40:07,578 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:40:07,578 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:40:07,579 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:40:07,579 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:40:07,580 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:40:07,581 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:40:07,581 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:40:07,582 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:40:07,582 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:40:07,582 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:40:07,583 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:40:07,583 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:40:07,583 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:40:07,584 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:40:07,584 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:40:07,585 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:40:07,585 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:40:07,585 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:40:07,586 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:40:07,586 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:40:07,586 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:40:07,587 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:07,587 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:07,652 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:08,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:08,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:08,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:08,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:08,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:08,229 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:08,265 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:08,395 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:08,414 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:08,427 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:08,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:08,465 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:08,478 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:08,505 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:08,522 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:08,543 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:08,671 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:08,671 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:08,672 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:40:08,673 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:40:08,673 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:40:08,674 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:40:08,674 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:40:08,674 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:40:08,675 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:40:08,676 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:40:08,677 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:40:08,677 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:40:08,677 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:40:08,678 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:40:08,679 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:40:08,679 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:40:08,679 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:40:08,680 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:40:08,681 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:40:08,681 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:40:08,683 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:40:08,696 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:40:08,698 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:40:08,699 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:40:08,699 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:40:08,700 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:40:08,700 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:40:08,701 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:40:08,701 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:40:08,702 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:40:08,702 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:40:08,738 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:40:08,738 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:40:08,739 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:40:08,739 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:40:08,740 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:40:09,281 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:09,324 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:09,476 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:09,477 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:09,478 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:09,484 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:40:10,478 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:10,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:10,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:10,482 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:10,482 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:10,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:10,629 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:10,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:10,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:10,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:10,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:10,632 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:10,633 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:10,633 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:10,683 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:11,249 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:11,290 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:11,448 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:11,449 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:11,449 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:12,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:12,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:12,451 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:12,454 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:12,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:12,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:12,804 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:12,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:12,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:12,808 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:12,809 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:12,811 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:12,812 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:12,812 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:12,912 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:13,913 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:13,952 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:14,115 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:14,116 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:14,116 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:15,117 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:15,117 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:15,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:15,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:15,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:15,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:15,281 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:15,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:15,282 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:15,283 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:15,283 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:15,284 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:15,284 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:15,285 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:15,322 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:15,899 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:15,941 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:16,102 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:16,103 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:16,103 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:17,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:17,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:17,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:17,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:17,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:17,256 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:17,258 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:17,259 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:17,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:17,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:17,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:17,262 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:17,263 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:17,263 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:17,313 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:17,945 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:17,984 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:18,144 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:18,145 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:18,146 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:19,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:19,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:19,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:19,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:19,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:19,307 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:19,309 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:19,310 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:19,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:19,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:19,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:19,312 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:19,313 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:19,313 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:19,366 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:19,919 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:19,959 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:20,112 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:20,113 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:20,114 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:21,114 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:21,115 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:21,115 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:21,117 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:21,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:21,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:21,273 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:21,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:21,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:21,275 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:21,275 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:21,276 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:21,276 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:21,277 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:21,316 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:21,956 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:21,999 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:22,398 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:22,399 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:22,399 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:23,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:23,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:23,401 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:23,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:23,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:23,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:23,548 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:23,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:23,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:23,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:23,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:23,551 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:23,552 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:23,552 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:23,603 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:24,242 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:24,281 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:24,439 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:24,440 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:24,441 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:25,442 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:25,443 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:25,443 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:25,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:25,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:25,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:25,595 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:25,595 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:25,596 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:25,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:25,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:25,598 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:25,598 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:25,599 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:25,648 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:26,208 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:26,249 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:26,404 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:26,405 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:26,406 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:27,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:27,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:27,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:27,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:27,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:27,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:27,559 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:27,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:27,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:27,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:27,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:27,563 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:27,563 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:27,564 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:27,616 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:28,298 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:28,340 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:28,655 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:28,656 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:28,657 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:29,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:29,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:29,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:29,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:29,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:29,824 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:29,826 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:29,826 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:29,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:29,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:29,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:29,829 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:29,829 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:29,830 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:29,878 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:30,431 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:30,468 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:30,632 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:30,633 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:30,633 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:31,635 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:31,635 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:31,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:31,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:31,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:31,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:31,783 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:31,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:31,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:31,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:31,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:31,786 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:31,787 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:31,787 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:31,835 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:32,488 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:32,532 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:32,693 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:32,694 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:32,695 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:33,695 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:33,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:33,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:33,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:33,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:33,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:33,849 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:33,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:33,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:33,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:33,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:33,853 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:33,853 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:33,853 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:33,906 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:34,472 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:34,512 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:34,672 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:34,674 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:34,674 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:35,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:35,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:35,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:35,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:35,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:35,827 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:35,829 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:35,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:35,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:35,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:35,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:35,832 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:35,833 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:35,833 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:35,884 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:36,461 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:36,510 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:36,669 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:36,670 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:36,671 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:37,671 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:37,672 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:37,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:37,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:37,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:37,818 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:37,820 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:37,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:37,822 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:37,822 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:37,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:37,823 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:37,824 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:37,824 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:37,869 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:38,439 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:38,478 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:38,883 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:38,884 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:38,885 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:39,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:39,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:39,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:39,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:39,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:40,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:40,050 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:40,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:40,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:40,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:40,053 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:40,053 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:40,054 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:40,054 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:40,091 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:40,683 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:40,728 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:40,876 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:40,877 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:40,877 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:41,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:41,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:41,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:41,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:41,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:42,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:42,045 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:42,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:42,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:42,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:42,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:42,048 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:42,048 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:42,049 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:42,084 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:42,645 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:42,683 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:42,842 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:42,843 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:42,844 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:43,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:43,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:43,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:43,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:43,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:44,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:44,006 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:44,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:44,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:44,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:44,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:44,009 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:44,009 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:44,010 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:44,065 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:44,635 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:44,680 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:44,837 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:44,838 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:44,838 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:45,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:45,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:45,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:45,842 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:45,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:45,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:45,997 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:45,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:45,999 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:46,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:46,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:46,001 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:46,001 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:46,001 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:46,055 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:46,627 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:46,672 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:46,830 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:46,831 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:46,832 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:47,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:47,833 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:47,833 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:47,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:47,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:47,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:47,987 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:47,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:47,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:47,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:47,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:47,991 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:47,991 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:47,991 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:48,043 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:48,667 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:48,708 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:48,868 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:48,869 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:48,870 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:49,870 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:49,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:49,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:49,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:49,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:50,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:50,037 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:50,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:50,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:50,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:50,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:50,040 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:50,040 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:50,040 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:50,077 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:50,681 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:50,711 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:50,867 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:50,868 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:50,868 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:51,870 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:51,870 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:51,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:51,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:51,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:52,022 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:52,024 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:52,024 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:52,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:52,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:52,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:52,027 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:52,027 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:52,028 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:52,067 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:52,733 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:52,785 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:52,955 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:52,956 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:52,957 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:53,957 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:53,958 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:53,958 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:53,960 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:53,961 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:54,119 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:54,121 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:54,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:54,123 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:54,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:54,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:54,125 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:54,125 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:54,126 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:54,163 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:54,739 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:54,781 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:55,178 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:55,180 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:55,180 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:56,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:56,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:56,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:56,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:56,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:56,337 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:56,339 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:56,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:56,340 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:56,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:56,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:56,342 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:56,342 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:56,343 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:56,395 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:56,972 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:57,012 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:57,171 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:57,173 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:57,173 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:40:58,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:40:58,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:40:58,176 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:40:58,178 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:40:58,178 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:40:58,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:40:58,324 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:40:58,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:40:58,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:40:58,326 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:40:58,326 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:40:58,327 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:40:58,328 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:40:58,328 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:40:58,364 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:40:58,928 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:40:58,970 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:40:59,126 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:40:59,127 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:40:59,128 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:00,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:00,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:00,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:00,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:00,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:00,286 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:00,288 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:00,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:00,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:00,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:00,291 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:00,292 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:00,292 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:00,292 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:00,344 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:00,893 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:00,924 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:01,085 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:01,086 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:01,086 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:02,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:02,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:02,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:02,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:02,091 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:02,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:02,313 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:02,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:02,314 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:02,315 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:02,315 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:02,316 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:02,316 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:02,317 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:02,384 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:03,108 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:03,150 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:03,331 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:03,332 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:03,333 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:04,333 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:04,334 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:04,334 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:04,336 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:04,337 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:04,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:04,490 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:04,491 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:04,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:04,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:04,493 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:04,493 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:04,494 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:04,494 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:04,548 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:05,115 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:05,162 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:05,313 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:05,314 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:05,315 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:06,315 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:06,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:06,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:06,318 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:06,319 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:06,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:06,462 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:06,463 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:06,464 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:06,464 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:06,465 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:06,465 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:06,466 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:06,466 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:06,514 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:07,081 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:07,121 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:07,280 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:07,281 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:07,282 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:08,282 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:08,283 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:08,283 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:08,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:08,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:08,430 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:08,432 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:08,432 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:08,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:08,434 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:08,434 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:08,435 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:08,435 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:08,436 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:08,486 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:09,048 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:09,087 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:09,244 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:09,245 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:09,246 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:09,486 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:41:09,488 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:41:09,488 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:41:09,493 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:41:09,494 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:41:09,495 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:41:09,495 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:41:09,497 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:41:09,497 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:41:09,509 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:41:09,556 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:41:09,556 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:41:09,557 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:41:09,561 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:41:09,561 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:41:09,562 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:41:09,563 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:41:09,568 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:41:09,568 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:41:09,569 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:41:09,569 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:41:09,569 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:41:09,570 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:41:09,570 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:41:09,570 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:41:09,571 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:41:09,571 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:41:09,571 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:41:09,572 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:41:09,572 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:41:09,573 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:41:09,573 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:41:09,574 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:41:09,574 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:41:09,575 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:41:09,575 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:41:09,576 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:41:09,576 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:41:09,577 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:41:09,591 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:41:09,591 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:41:09,592 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:41:09,593 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:41:09,594 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:41:09,594 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:41:09,595 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:41:09,595 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:41:09,596 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:41:09,596 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:41:09,598 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:41:09,598 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:41:09,599 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:41:09,599 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:41:09,600 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:41:09,600 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:41:09,602 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:41:09,602 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:41:09,603 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:41:09,606 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:41:09,606 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:41:09,607 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:41:09,608 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:41:09,609 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:41:09,609 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:41:09,619 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:41:09,622 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:41:09,622 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:41:09,623 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:41:09,623 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:41:09,624 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:41:09,624 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:41:09,625 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:41:09,625 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:41:09,626 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:41:09,626 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:41:09,627 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:41:09,640 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:41:09,641 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:41:09,641 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:41:09,642 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:41:09.642884+07:00
2025-10-05 10:41:09,643 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:41:09.642884+07:00
2025-10-05 10:41:09,643 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:41:09.642884+07:00 trong DST: True
2025-10-05 10:41:09,644 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:41:09,644 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:41:09,645 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:41:09,648 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:41:09,659 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:41:09,665 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:41:09,673 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:41:09,674 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:41:09,674 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:41:09,674 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:41:09,675 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:41:09,675 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:41:09,676 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:41:09,676 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:41:09,677 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:41:09,677 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:41:09,687 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:41:09,688 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:41:09,688 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:41:09,689 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:41:09,689 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:41:09,690 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:41:09,690 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:41:09,691 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:41:09,691 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:41:09,692 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:41:09,692 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:41:09,693 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:41:09,696 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:41:09,707 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:41:09,707 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:41:09,708 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:41:09,709 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:41:09,710 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:41:09,710 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:41:09,723 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:41:09,724 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:41:09,725 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:41:09,725 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:41:09,726 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:41:09,726 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:41:09,727 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:41:09,737 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:41:09,738 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:41:09,739 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:41:09,740 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:41:09,740 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:41:09,741 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:41:09,741 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:41:09,742 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:41:09,743 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:41:09.743393+07:00
2025-10-05 10:41:09,743 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:41:09.743393+07:00
2025-10-05 10:41:09,746 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:41:09.743393+07:00 trong DST: True
2025-10-05 10:41:09,753 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:41:09,753 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:41:09,754 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 199
2025-10-05 10:41:09,754 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:41:09,755 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:41:09,755 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:41:09,756 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:41:09,756 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:41:09,757 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:41:09,757 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:41:09,757 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:41:09,758 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:41:09,759 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:41:09,760 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:41:09,773 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:41:09,774 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:41:09,775 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:41:09,775 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:41:09,776 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:41:09,777 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:41:09,777 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:41:09,784 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:41:09,789 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:41:09,789 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:41:09,790 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:41:09,790 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:41:09,791 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:41:09,791 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:41:09,792 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:41:09,793 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:41:09,793 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:41:09,808 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:41:09,809 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:41:09,810 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:41:09,822 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:41:09,825 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:41:09,826 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:41:09,827 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:41:09,828 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:41:09,828 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:41:09,828 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:41:09,829 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:41:09,829 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:41:09,829 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:41:09,830 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:41:09,830 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:41:09,830 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:41:09,831 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:41:09,831 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:41:09,832 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:41:09,832 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:09,832 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:09,886 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:10,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:10,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:10,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:10,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:10,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:10,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:10,658 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:10,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:10,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:10,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:10,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:10,662 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:10,662 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:10,662 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:10,716 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:10,784 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:10,829 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:11,028 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:11,029 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:41:11,029 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:41:11,030 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:41:11,030 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:41:11,031 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:41:11,031 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:41:11,032 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:41:11,033 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:41:11,033 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:41:11,033 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:41:11,034 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:41:11,035 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:41:11,036 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:41:11,037 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:41:11,037 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:41:11,038 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:41:11,038 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:41:11,050 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:41:11,051 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:41:11,052 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:41:11,053 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:41:11,054 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:41:11,054 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:41:11,055 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:41:11,055 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:41:11,056 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:41:11,056 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:41:11,057 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:41:11,057 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:41:11,110 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:41:11,111 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:41:11,111 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:41:11,112 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:41:11,112 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:41:11,415 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:11,465 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:11,613 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:11,615 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:11,615 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:11,621 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:41:12,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:12,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:12,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:12,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:12,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:12,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:12,771 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:12,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:12,773 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:12,773 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:12,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:12,775 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:12,775 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:12,775 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:12,828 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:13,395 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:13,437 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:13,596 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:13,597 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:13,597 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:14,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:14,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:14,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:14,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:14,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:14,742 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:14,744 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:14,744 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:14,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:14,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:14,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:14,748 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:14,748 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:14,748 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:14,797 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:15,416 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:15,454 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:15,610 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:15,611 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:15,612 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:16,612 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:16,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:16,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:16,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:16,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:16,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:16,772 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:16,773 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:16,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:16,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:16,775 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:16,776 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:16,776 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:16,776 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:16,823 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:17,398 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:17,437 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:17,596 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:17,597 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:17,598 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:18,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:18,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:18,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:18,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:18,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:18,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:18,752 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:18,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:18,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:18,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:18,755 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:18,756 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:18,756 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:18,756 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:18,808 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:19,394 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:19,433 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:19,593 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:19,594 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:19,594 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:20,595 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:20,595 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:20,596 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:20,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:20,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:20,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:20,759 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:20,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:20,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:20,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:20,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:20,763 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:20,763 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:20,763 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:20,811 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:21,384 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:21,423 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:21,580 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:21,581 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:21,582 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:22,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:22,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:22,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:22,585 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:22,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:22,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:22,863 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:22,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:22,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:22,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:22,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:22,913 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:22,915 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:22,916 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:22,977 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:23,555 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:23,600 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:23,759 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:23,760 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:23,761 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:24,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:24,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:24,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:24,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:24,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:24,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:24,910 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:24,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:24,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:24,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:24,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:24,913 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:24,913 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:24,914 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:24,959 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:25,607 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:25,648 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:26,036 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:26,037 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:26,038 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:27,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:27,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:27,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:27,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:27,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:27,199 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:27,201 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:27,202 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:27,203 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:27,203 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:27,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:27,205 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:27,205 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:27,205 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:27,252 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:27,823 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:27,865 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:28,027 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:28,028 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:28,029 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:29,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:29,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:29,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:29,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:29,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:29,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:29,185 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:29,185 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:29,186 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:29,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:29,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:29,188 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:29,188 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:29,189 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:29,240 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:29,794 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:29,834 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:29,993 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:29,995 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:29,995 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:30,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:30,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:30,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:30,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:30,999 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:31,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:31,160 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:31,161 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:31,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:31,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:31,163 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:31,163 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:31,164 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:31,164 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:31,200 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:31,835 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:31,876 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:32,036 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:32,037 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:32,037 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:33,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:33,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:33,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:33,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:33,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:33,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:33,194 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:33,194 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:33,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:33,196 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:33,196 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:33,197 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:33,197 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:33,198 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:33,249 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:33,868 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:33,908 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:34,076 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:34,077 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:34,077 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:35,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:35,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:35,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:35,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:35,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:35,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:35,226 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:35,227 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:35,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:35,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:35,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:35,230 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:35,230 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:35,230 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:35,279 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:35,909 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:35,963 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:36,123 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:36,124 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:36,124 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:37,125 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:37,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:37,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:37,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:37,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:37,282 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:37,284 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:37,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:37,286 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:37,286 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:37,287 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:37,287 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:37,287 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:37,288 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:37,338 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:37,957 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:37,995 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:38,157 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:38,158 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:38,158 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:39,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:39,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:39,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:39,161 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:39,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:39,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:39,309 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:39,310 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:39,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:39,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:39,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:39,313 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:39,313 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:39,313 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:39,364 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:40,006 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:40,050 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:40,208 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:40,209 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:40,210 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:41,210 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:41,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:41,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:41,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:41,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:41,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:41,619 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:41,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:41,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:41,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:41,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:41,623 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:41,623 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:41,623 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:41,675 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:42,249 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:42,293 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:42,444 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:42,445 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:42,445 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:43,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:43,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:43,447 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:43,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:43,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:43,596 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:43,598 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:43,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:43,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:43,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:43,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:43,601 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:43,601 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:43,602 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:43,653 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:44,211 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:44,253 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:44,409 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:44,410 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:44,410 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:45,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:45,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:45,412 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:45,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:45,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:45,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:45,562 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:45,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:45,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:45,564 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:45,564 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:45,565 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:45,566 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:45,566 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:45,617 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:46,250 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:46,293 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:46,453 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:46,454 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:46,454 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:47,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:47,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:47,456 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:47,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:47,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:47,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:47,617 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:47,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:47,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:47,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:47,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:47,621 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:47,621 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:47,621 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:47,658 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:48,227 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:48,267 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:48,426 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:48,427 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:48,427 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:49,428 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:49,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:49,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:49,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:49,432 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:49,581 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:49,583 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:49,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:49,585 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:49,585 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:49,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:49,587 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:49,587 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:49,587 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:49,639 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:50,204 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:50,248 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:50,403 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:50,404 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:50,405 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:51,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:51,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:51,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:51,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:51,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:51,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:51,568 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:51,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:51,570 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:51,570 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:51,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:51,572 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:51,572 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:51,572 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:51,618 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:52,198 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:52,242 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:52,395 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:52,397 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:52,397 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:53,398 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:53,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:53,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:53,401 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:53,401 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:53,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:53,552 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:53,553 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:53,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:53,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:53,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:53,556 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:53,556 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:53,557 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:53,609 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:54,181 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:54,220 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:54,378 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:54,379 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:54,379 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:55,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:55,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:55,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:55,383 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:55,383 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:55,537 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:55,538 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:55,539 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:55,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:55,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:55,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:55,542 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:55,542 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:55,542 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:55,593 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:56,164 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:56,203 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:56,353 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:56,354 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:56,355 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:57,355 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:57,356 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:57,356 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:57,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:57,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:57,736 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:57,738 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:57,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:57,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:57,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:57,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:57,741 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:57,741 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:57,742 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:57,778 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:41:58,342 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:41:58,382 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:41:58,545 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:41:58,547 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:41:58,547 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:41:59,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:41:59,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:41:59,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:41:59,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:41:59,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:41:59,701 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:41:59,703 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:41:59,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:41:59,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:41:59,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:41:59,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:41:59,706 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:41:59,707 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:41:59,707 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:41:59,761 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:00,334 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:00,372 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:00,533 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:00,534 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:00,534 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:01,535 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:01,535 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:01,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:01,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:01,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:01,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:01,723 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:01,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:01,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:01,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:01,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:01,727 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:01,727 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:01,728 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:01,782 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:02,475 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:02,514 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:02,711 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:02,712 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:02,713 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:03,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:03,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:03,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:03,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:03,719 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:03,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:03,896 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:03,896 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:03,897 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:03,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:03,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:03,899 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:03,900 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:03,900 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:03,950 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:04,636 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:04,674 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:04,831 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:04,832 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:04,833 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:05,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:05,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:05,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:05,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:05,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:05,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:05,994 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:05,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:05,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:05,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:05,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:05,998 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:05,998 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:05,998 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:06,051 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:06,696 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:06,736 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:06,891 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:06,892 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:06,893 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:07,893 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:07,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:07,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:07,896 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:07,897 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:08,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:08,051 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:08,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:08,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:08,053 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:08,053 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:08,054 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:08,054 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:08,055 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:08,106 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:08,735 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:08,776 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:08,943 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:08,944 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:08,945 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:09,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:09,946 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:09,946 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:09,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:09,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:10,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:10,104 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:10,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:10,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:10,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:10,106 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:10,107 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:10,107 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:10,108 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:10,160 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:10,739 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:10,780 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:10,935 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:10,936 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:10,937 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:11,622 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:42:11,624 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:42:11,624 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:42:11,630 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:42:11,631 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:42:11,632 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:42:11,632 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:42:11,645 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:42:11,645 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:42:11,647 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:42:11,696 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:42:11,697 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:42:11,697 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:42:11,701 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:42:11,702 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:42:11,702 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:42:11,703 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:42:11,707 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:42:11,707 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:42:11,708 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:42:11,709 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:42:11,709 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:42:11,709 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:42:11,710 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:42:11,710 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:42:11,710 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:42:11,711 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:42:11,711 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:42:11,712 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:42:11,712 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:42:11,712 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:42:11,713 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:42:11,713 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:42:11,714 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:42:11,714 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:42:11,715 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:42:11,716 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:42:11,717 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:42:11,717 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:42:11,717 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:42:11,731 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:42:11,731 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:42:11,731 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:42:11,732 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:42:11,732 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:42:11,733 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:42:11,734 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:42:11,747 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:42:11,748 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:42:11,751 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:42:11,752 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:42:11,764 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:42:11,765 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:42:11,766 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:42:11,767 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:42:11,771 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:42:11,785 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:42:11,786 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:42:11,789 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:42:11,789 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:42:11,790 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:42:11,792 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:42:11,792 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:42:11,793 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:42:11,795 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:42:11,795 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:42:11,796 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:42:11,796 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:42:11,797 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:42:11,797 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:42:11,798 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:42:11,798 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:42:11,799 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:42:11,799 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:42:11,800 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:42:11,800 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:42:11,801 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:42:11,802 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:42:11,803 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:42:11,806 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:42:11.806307+07:00
2025-10-05 10:42:11,816 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:42:11.806307+07:00
2025-10-05 10:42:11,817 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:42:11.806307+07:00 trong DST: True
2025-10-05 10:42:11,818 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:42:11,818 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:42:11,819 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:42:11,822 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:42:11,832 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:42:11,838 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:42:11,850 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:42:11,851 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:42:11,852 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:42:11,853 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:42:11,863 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:42:11,864 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:42:11,864 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:42:11,865 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:42:11,865 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:42:11,866 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:42:11,866 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:42:11,867 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:42:11,867 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:42:11,867 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:42:11,868 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:42:11,868 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:42:11,879 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:42:11,880 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:42:11,881 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:42:11,881 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:42:11,882 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:42:11,882 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:42:11,883 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:42:11,884 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:42:11,884 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:42:11,885 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:42:11,892 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:42:11,898 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:42:11,899 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:42:11,900 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:42:11,900 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:42:11,901 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:42:11,901 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:42:11,914 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:42:11,914 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:42:11,915 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:42:11,915 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:42:11,916 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:42:11,916 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:42:11,917 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:42:11,919 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:42:11,930 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:42:11,931 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:42:11,932 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:42:11,933 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:42:11.932766+07:00
2025-10-05 10:42:11,934 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:42:11.932766+07:00
2025-10-05 10:42:11,934 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:42:11.932766+07:00 trong DST: True
2025-10-05 10:42:11,935 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:42:11,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:11,944 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:42:11,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:11,946 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 198
2025-10-05 10:42:11,946 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:11,946 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:42:11,948 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:11,949 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:42:11,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:11,977 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:42:11,997 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:42:12,011 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:42:12,063 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:42:12,074 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:42:12,113 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:42:12,158 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:42:12,169 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:42:12,196 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:42:12,206 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:42:12,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:12,207 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:42:12,209 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:12,209 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:42:12,210 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:12,210 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:42:12,211 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:42:12,211 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:42:12,212 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:42:12,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:12,213 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:42:12,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:12,214 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:42:12,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:12,215 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:42:12,215 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:42:12,215 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:12,216 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:42:12,217 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:12,217 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:42:12,218 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:12,218 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:42:12,219 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:42:12,264 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:42:12,267 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:42:12,270 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:42:12,280 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:12,281 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:42:12,282 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:42:12,283 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:42:12,285 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:42:12,285 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:42:12,302 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:42:12,303 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:42:12,304 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:42:12,316 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:42:12,317 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:42:12,317 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:42:12,318 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:42:12,318 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:42:12,319 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:42:12,319 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:42:12,337 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:42:12,338 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:42:12,339 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:42:12,339 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:12,339 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:12,386 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:13,109 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:13,146 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:13,150 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:13,200 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:13,715 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:13,740 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:13,748 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:13,749 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:13,749 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:42:13,750 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:42:13,750 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:42:13,751 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:42:13,751 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:42:13,752 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:42:13,765 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:42:13,791 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:42:13,792 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:42:13,794 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:42:13,798 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:42:13,799 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:42:13,801 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:42:13,804 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:42:13,817 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:42:13,818 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:42:13,819 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:42:13,821 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:42:13,936 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:42:14,011 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:42:14,064 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:42:14,100 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:42:14,146 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:42:14,151 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:42:14,177 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:42:14,178 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:42:14,178 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:42:14,179 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:42:14,179 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:42:14,234 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:42:14,235 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:42:14,235 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:42:14,240 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:42:14,241 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:42:14,293 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:42:14,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:14,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:14,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:14,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:14,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:14,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:14,907 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:14,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:14,909 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:14,909 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:14,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:14,910 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:14,911 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:14,911 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:14,963 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:15,536 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:15,575 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:15,751 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:15,752 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:15,753 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:16,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:16,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:16,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:16,757 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:16,757 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:16,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:16,909 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:16,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:16,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:16,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:16,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:16,913 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:16,913 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:16,914 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:16,969 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:17,542 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:17,585 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:17,745 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:17,747 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:17,747 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:18,748 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:18,748 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:18,749 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:18,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:18,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:18,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:18,910 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:18,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:18,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:18,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:18,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:18,913 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:18,913 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:18,914 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:18,969 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:19,630 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:19,672 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:19,834 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:19,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:19,836 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:20,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:20,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:20,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:20,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:20,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:20,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:20,993 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:20,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:20,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:20,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:20,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:20,996 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:20,996 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:20,996 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:21,051 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:21,598 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:21,640 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:21,797 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:21,798 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:21,799 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:22,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:22,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:22,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:22,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:22,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:22,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:22,964 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:22,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:22,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:22,967 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:22,967 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:22,968 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:22,969 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:22,969 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:23,005 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:23,572 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:23,612 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:23,769 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:23,770 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:23,770 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:24,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:24,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:24,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:24,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:24,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:24,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:24,927 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:24,927 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:24,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:24,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:24,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:24,930 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:24,930 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:24,931 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:24,978 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:25,539 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:25,580 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:25,741 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:25,742 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:25,742 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:26,743 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:26,744 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:26,744 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:26,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:26,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:26,891 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:26,893 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:26,893 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:26,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:26,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:26,896 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:26,896 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:26,897 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:26,897 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:26,946 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:27,512 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:27,553 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:27,711 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:27,712 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:27,713 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:28,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:28,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:28,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:28,717 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:28,717 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:29,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:29,138 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:29,139 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:29,140 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:29,140 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:29,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:29,142 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:29,142 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:29,142 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:29,190 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:29,756 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:29,795 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:29,954 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:29,955 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:29,955 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:30,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:30,957 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:30,957 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:30,959 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:30,959 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:31,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:31,112 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:31,112 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:31,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:31,114 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:31,114 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:31,115 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:31,115 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:31,116 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:31,165 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:31,728 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:31,769 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:31,927 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:31,928 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:31,929 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:32,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:32,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:32,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:32,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:32,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:33,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:33,100 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:33,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:33,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:33,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:33,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:33,103 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:33,104 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:33,104 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:33,141 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:33,778 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:33,816 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:33,969 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:33,971 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:33,971 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:34,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:34,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:34,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:34,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:34,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:35,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:35,124 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:35,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:35,125 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:35,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:35,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:35,127 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:35,128 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:35,128 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:35,177 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:35,759 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:35,780 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:35,943 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:35,944 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:35,945 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:36,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:36,946 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:36,946 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:36,948 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:36,948 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:37,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:37,104 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:37,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:37,106 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:37,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:37,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:37,108 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:37,108 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:37,109 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:37,161 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:37,722 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:37,763 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:37,923 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:37,924 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:37,924 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:38,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:38,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:38,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:38,927 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:38,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:39,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:39,086 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:39,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:39,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:39,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:39,089 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:39,089 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:39,090 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:39,090 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:39,145 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:39,785 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:39,826 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:39,989 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:39,990 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:39,990 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:40,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:40,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:40,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:40,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:40,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:41,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:41,145 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:41,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:41,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:41,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:41,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:41,148 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:41,149 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:41,149 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:41,200 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:41,775 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:41,807 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:41,969 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:41,970 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:41,970 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:42,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:42,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:42,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:42,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:42,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:43,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:43,139 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:43,140 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:43,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:43,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:43,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:43,143 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:43,144 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:43,144 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:43,193 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:43,825 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:43,860 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:44,016 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:44,017 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:44,017 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:45,018 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:45,018 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:45,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:45,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:45,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:45,176 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:45,178 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:45,178 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:45,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:45,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:45,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:45,181 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:45,182 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:45,182 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:45,218 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:45,862 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:45,904 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:46,074 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:46,075 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:46,075 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:47,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:47,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:47,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:47,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:47,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:47,227 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:47,229 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:47,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:47,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:47,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:47,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:47,232 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:47,232 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:47,233 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:47,283 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:47,857 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:47,895 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:48,058 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:48,059 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:48,059 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:49,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:49,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:49,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:49,063 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:49,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:49,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:49,218 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:49,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:49,219 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:49,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:49,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:49,221 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:49,221 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:49,222 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:49,273 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:49,827 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:49,869 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:50,028 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:50,030 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:50,030 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:51,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:51,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:51,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:51,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:51,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:51,186 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:51,188 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:51,189 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:51,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:51,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:51,191 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:51,191 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:51,192 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:51,192 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:51,244 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:51,807 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:51,848 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:52,010 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:52,011 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:52,012 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:53,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:53,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:53,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:53,015 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:53,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:53,171 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:53,172 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:53,173 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:53,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:53,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:53,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:53,176 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:53,176 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:53,177 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:53,222 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:53,789 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:53,829 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:53,982 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:53,983 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:53,984 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:54,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:54,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:54,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:54,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:54,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:55,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:55,139 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:55,140 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:55,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:55,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:55,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:55,143 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:55,143 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:55,143 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:55,181 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:55,801 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:55,840 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:56,001 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:56,002 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:56,002 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:57,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:57,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:57,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:57,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:57,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:57,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:57,161 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:57,161 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:57,163 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:57,163 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:57,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:57,164 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:57,165 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:57,165 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:57,217 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:57,781 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:57,819 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:42:58,005 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:42:58,006 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:42:58,007 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:42:59,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:42:59,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:42:59,009 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:42:59,010 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:42:59,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:42:59,170 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:42:59,172 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:42:59,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:42:59,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:42:59,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:42:59,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:42:59,176 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:42:59,176 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:42:59,176 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:42:59,224 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:42:59,782 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:42:59,822 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:00,235 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:00,236 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:00,236 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:01,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:01,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:01,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:01,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:01,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:01,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:01,403 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:01,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:01,404 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:01,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:01,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:01,406 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:01,407 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:01,407 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:01,464 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:02,190 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:02,232 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:02,434 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:02,435 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:02,436 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:03,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:03,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:03,438 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:03,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:03,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:03,610 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:03,612 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:03,612 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:03,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:03,614 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:03,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:03,615 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:03,616 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:03,616 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:03,664 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:04,312 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:04,350 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:04,504 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:04,505 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:04,506 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:05,507 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:05,507 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:05,508 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:05,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:05,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:05,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:05,664 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:05,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:05,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:05,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:05,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:05,668 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:05,668 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:05,669 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:05,721 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:06,343 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:06,383 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:06,541 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:06,542 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:06,542 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:07,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:07,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:07,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:07,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:07,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:07,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:07,696 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:07,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:07,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:07,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:07,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:07,700 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:07,700 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:07,700 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:07,753 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:08,311 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:08,350 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:08,509 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:08,511 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:08,511 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:09,512 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:09,512 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:09,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:09,515 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:09,515 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:09,670 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:09,672 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:09,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:09,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:09,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:09,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:09,676 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:09,676 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:09,676 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:09,725 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:10,278 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:10,318 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:10,474 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:10,475 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:10,476 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:11,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:11,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:11,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:11,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:11,480 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:11,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:11,634 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:11,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:11,635 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:11,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:11,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:11,637 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:11,637 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:11,638 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:11,691 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:12,283 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:12,302 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:12,464 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:12,465 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:12,465 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:13,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:13,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:13,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:13,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:13,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:13,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:13,625 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:13,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:13,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:13,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:13,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:13,629 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:13,629 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:13,629 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:13,680 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:14,240 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:14,280 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:14,436 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:14,437 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:14,438 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:14,439 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:43:14,441 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:43:14,441 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:43:14,447 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:43:14,458 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:43:14,460 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:43:14,461 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:43:14,462 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:43:14,462 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:43:14,462 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:43:14,626 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:43:14,626 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:43:14,627 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:43:14,630 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:43:14,630 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:43:14,631 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:43:14,631 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:43:14,650 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:43:14,651 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:43:14,652 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:43:14,653 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:43:14,654 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:43:14,654 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:43:14,654 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:43:14,655 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:43:14,655 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:43:14,655 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:43:14,656 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:43:14,657 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:43:14,657 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:43:14,657 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:43:14,658 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:43:14,658 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:43:14,659 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:43:14,659 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:43:14,660 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:43:14,660 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:43:14,660 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:43:14,661 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:43:14,662 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:43:14,663 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:43:14,663 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:43:14,664 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:43:14,664 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:43:14,677 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:43:14,678 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:43:14,680 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:43:14,680 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:43:14,682 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:43:14,683 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:43:14,684 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:43:14,684 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:43:14,685 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:43:14,685 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:43:14,686 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:43:14,688 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:43:14,689 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:43:14,689 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:43:14,692 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:43:14,692 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:43:14,692 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:43:14,695 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:43:14,695 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:43:14,696 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:43:14,701 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:43:14,711 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:43:14,712 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:43:14,713 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:43:14,714 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:43:14,714 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:43:14,715 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:43:14,715 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:43:14,716 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:43:14,716 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:43:14,716 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:43:14,717 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:43:14,717 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:43:14,718 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:43:14,718 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:43:14,718 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:43:14.718688+07:00
2025-10-05 10:43:14,719 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:43:14.718688+07:00
2025-10-05 10:43:14,719 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:43:14.718688+07:00 trong DST: True
2025-10-05 10:43:14,719 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:43:14,720 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:43:14,720 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:43:14,722 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:43:14,722 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:43:14,725 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:43:14,725 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:43:14,725 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:43:14,726 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:43:14,726 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:43:14,727 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:43:14,729 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:43:14,729 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:43:14,730 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:43:14,730 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:43:14,730 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:43:14,743 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:43:14,744 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:43:14,744 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:43:14,745 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:43:14,745 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:43:14,746 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:43:14,746 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:43:14,759 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:43:14,760 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:43:14,760 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:43:14,761 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:43:14,762 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:43:14,762 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:43:14,763 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:43:14,763 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:43:14,764 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:43:14,765 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:43:14,811 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:43:14,871 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:43:14,920 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:43:14,938 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:43:14,973 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:43:15,021 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:43:15,077 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:43:15,096 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:43:15,106 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:43:15,107 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:43:15,108 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:43:15,109 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:43:15,110 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:43:15,110 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:43:15,111 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:43:15,111 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:43:15,111 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:43:15,112 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:43:15.112125+07:00
2025-10-05 10:43:15,112 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:43:15.112125+07:00
2025-10-05 10:43:15,113 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:43:15.112125+07:00 trong DST: True
2025-10-05 10:43:15,113 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:43:15,114 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:43:15,114 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 197
2025-10-05 10:43:15,114 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:43:15,115 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:43:15,115 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:43:15,116 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:43:15,116 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:43:15,116 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:43:15,117 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:43:15,117 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:43:15,117 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:43:15,118 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:43:15,118 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:43:15,119 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:43:15,119 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:43:15,120 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:43:15,120 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:43:15,121 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:43:15,121 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:43:15,121 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:43:15,122 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:43:15,122 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:43:15,123 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:43:15,123 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:43:15,124 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:43:15,124 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:43:15,125 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:43:15,125 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:43:15,126 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:43:15,126 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:43:15,127 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:43:15,128 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:43:15,128 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:43:15,129 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:43:15,129 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:43:15,130 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:43:15,130 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:43:15,131 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:43:15,131 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:43:15,135 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:43:15,136 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:43:15,137 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:43:15,138 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:43:15,138 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:43:15,138 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:43:15,139 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:43:15,153 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:43:15,154 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:43:15,158 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:43:15,160 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:15,160 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:15,221 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:15,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:15,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:15,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:15,442 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:15,442 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:15,609 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:15,611 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:15,612 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:15,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:15,614 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:15,614 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:15,615 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:15,615 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:15,616 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:15,666 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:15,966 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:16,006 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:16,452 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:16,452 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:43:16,453 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:43:16,453 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:43:16,454 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:43:16,454 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:43:16,454 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:43:16,455 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:43:16,455 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:43:16,456 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:43:16,456 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:43:16,456 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:43:16,457 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:43:16,458 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:43:16,458 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:43:16,459 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:43:16,459 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:43:16,460 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:43:16,461 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:43:16,461 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:43:16,462 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:43:16,462 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:43:16,463 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:43:16,463 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:43:16,464 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:43:16,474 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:43:16,476 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:43:16,477 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:43:16,477 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:43:16,478 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:43:16,513 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:16,520 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:43:16,520 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:43:16,521 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:43:16,521 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:43:16,522 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:43:16,552 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:16,714 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:16,715 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:16,716 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:16,721 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:43:17,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:17,717 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:17,717 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:17,719 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:17,720 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:17,867 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:17,869 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:17,870 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:17,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:17,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:17,872 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:17,873 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:17,873 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:17,874 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:17,924 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:18,485 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:18,524 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:18,687 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:18,688 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:18,688 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:19,689 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:19,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:19,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:19,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:19,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:19,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:19,848 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:19,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:19,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:19,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:19,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:19,851 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:19,852 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:19,852 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:19,905 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:20,525 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:20,563 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:20,728 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:20,730 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:20,730 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:21,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:21,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:21,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:21,734 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:21,734 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:21,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:21,880 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:21,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:21,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:21,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:21,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:21,883 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:21,883 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:21,884 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:21,932 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:22,556 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:22,598 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:22,758 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:22,759 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:22,760 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:23,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:23,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:23,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:23,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:23,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:23,924 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:23,926 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:23,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:23,927 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:23,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:23,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:23,929 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:23,929 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:23,930 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:23,966 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:24,529 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:24,568 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:24,719 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:24,720 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:24,721 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:25,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:25,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:25,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:25,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:25,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:25,872 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:25,874 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:25,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:25,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:25,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:25,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:25,877 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:25,878 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:25,878 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:25,928 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:26,572 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:26,613 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:26,777 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:26,778 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:26,778 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:27,780 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:27,780 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:27,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:27,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:27,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:27,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:27,931 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:27,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:27,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:27,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:27,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:27,935 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:27,935 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:27,936 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:27,986 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:28,559 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:28,600 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:28,761 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:28,762 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:28,763 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:29,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:29,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:29,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:29,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:29,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:29,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:29,928 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:29,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:29,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:29,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:29,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:29,931 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:29,932 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:29,932 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:29,979 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:30,541 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:30,582 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:31,004 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:31,005 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:31,006 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:32,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:32,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:32,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:32,009 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:32,010 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:32,171 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:32,174 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:32,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:32,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:32,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:32,176 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:32,177 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:32,177 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:32,177 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:32,215 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:32,839 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:32,876 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:33,036 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:33,037 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:33,037 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:34,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:34,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:34,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:34,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:34,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:34,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:34,208 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:34,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:34,210 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:34,210 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:34,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:34,211 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:34,212 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:34,212 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:34,249 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:34,816 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:34,854 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:35,004 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:35,005 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:35,005 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:36,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:36,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:36,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:36,009 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:36,010 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:36,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:36,166 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:36,167 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:36,168 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:36,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:36,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:36,170 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:36,170 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:36,171 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:36,220 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:36,795 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:36,835 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:36,992 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:36,993 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:36,994 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:37,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:37,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:37,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:37,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:37,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:38,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:38,157 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:38,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:38,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:38,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:38,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:38,160 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:38,161 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:38,161 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:38,212 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:38,770 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:38,811 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:38,968 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:38,969 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:38,969 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:39,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:39,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:39,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:39,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:39,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:40,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:40,132 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:40,133 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:40,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:40,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:40,135 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:40,136 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:40,136 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:40,137 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:40,190 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:40,837 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:40,879 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:41,037 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:41,038 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:41,039 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:42,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:42,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:42,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:42,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:42,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:42,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:42,199 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:42,199 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:42,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:42,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:42,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:42,202 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:42,202 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:42,202 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:42,257 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:42,822 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:42,866 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:43,025 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:43,026 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:43,026 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:44,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:44,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:44,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:44,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:44,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:44,196 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:44,198 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:44,199 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:44,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:44,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:44,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:44,202 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:44,202 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:44,202 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:44,256 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:44,807 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:44,849 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:44,998 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:44,999 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:44,999 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:46,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:46,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:46,001 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:46,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:46,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:46,153 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:46,155 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:46,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:46,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:46,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:46,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:46,158 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:46,159 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:46,159 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:46,210 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:46,773 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:46,811 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:47,222 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:47,223 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:47,224 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:48,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:48,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:48,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:48,227 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:48,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:48,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:48,382 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:48,383 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:48,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:48,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:48,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:48,385 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:48,386 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:48,386 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:48,439 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:49,002 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:49,043 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:49,240 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:49,241 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:49,242 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:50,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:50,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:50,244 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:50,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:50,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:50,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:50,401 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:50,401 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:50,402 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:50,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:50,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:50,404 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:50,404 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:50,404 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:50,457 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:51,025 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:51,066 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:51,224 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:51,225 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:51,225 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:52,226 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:52,226 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:52,227 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:52,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:52,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:52,374 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:52,375 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:52,376 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:52,377 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:52,377 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:52,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:52,379 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:52,379 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:52,379 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:52,432 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:53,000 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:53,044 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:53,210 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:53,211 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:53,211 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:54,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:54,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:54,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:54,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:54,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:54,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:54,369 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:54,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:54,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:54,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:54,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:54,372 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:54,373 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:54,373 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:54,426 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:54,998 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:55,031 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:55,187 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:55,188 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:55,189 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:56,189 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:56,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:56,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:56,193 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:56,193 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:56,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:56,349 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:56,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:56,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:56,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:56,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:56,352 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:56,353 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:56,353 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:56,390 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:57,000 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:57,033 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:57,200 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:57,201 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:57,202 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:43:58,202 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:43:58,203 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:43:58,203 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:43:58,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:43:58,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:43:58,356 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:43:58,358 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:43:58,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:43:58,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:43:58,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:43:58,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:43:58,361 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:43:58,362 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:43:58,362 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:43:58,415 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:43:58,965 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:43:58,993 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:43:59,163 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:43:59,165 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:43:59,165 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:00,166 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:00,166 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:00,167 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:00,168 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:00,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:00,323 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:00,325 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:00,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:00,326 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:00,327 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:00,327 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:00,328 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:00,328 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:00,329 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:00,382 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:01,020 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:01,061 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:01,220 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:01,221 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:01,222 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:02,222 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:02,223 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:02,223 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:02,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:02,226 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:02,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:02,408 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:02,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:02,410 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:02,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:02,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:02,412 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:02,412 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:02,413 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:02,463 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:03,155 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:03,197 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:03,671 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:03,672 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:03,672 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:04,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:04,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:04,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:04,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:04,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:04,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:04,842 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:04,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:04,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:04,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:04,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:04,846 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:04,846 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:04,846 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:04,897 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:05,468 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:05,507 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:05,663 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:05,664 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:05,665 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:06,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:06,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:06,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:06,668 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:06,669 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:06,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:06,822 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:06,822 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:06,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:06,824 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:06,824 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:06,825 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:06,825 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:06,826 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:06,872 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:07,514 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:07,553 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:07,717 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:07,718 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:07,718 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:08,719 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:08,720 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:08,720 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:08,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:08,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:08,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:08,871 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:08,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:08,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:08,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:08,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:08,874 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:08,875 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:08,875 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:08,924 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:09,605 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:09,641 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:09,818 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:09,820 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:09,820 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:10,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:10,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:10,822 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:10,824 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:10,824 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:11,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:11,014 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:11,015 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:11,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:11,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:11,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:11,017 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:11,018 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:11,018 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:11,080 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:11,721 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:11,757 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:11,923 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:11,924 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:11,924 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:12,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:12,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:12,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:12,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:12,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:13,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:13,107 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:13,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:13,109 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:13,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:13,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:13,111 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:13,112 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:13,113 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:13,165 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:13,864 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:13,903 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:14,144 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:14,145 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:14,146 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:15,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:15,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:15,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:15,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:15,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:15,303 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:15,305 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:15,305 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:15,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:15,307 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:15,307 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:15,308 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:15,309 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:15,309 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:15,358 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:15,999 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:16,039 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:16,205 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:16,206 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:16,206 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:16,722 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-05 10:44:16,724 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-05 10:44:16,725 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:44:16,730 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:44:16,731 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:44:16,731 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:44:16,743 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:44:16,745 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:44:16,745 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:44:16,746 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:44:16,780 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:44:16,781 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:44:16,781 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:44:16,784 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:44:16,784 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:44:16,784 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:44:16,785 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:44:16,790 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:44:16,790 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:44:16,791 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:44:16,791 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:44:16,791 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:44:16,792 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:44:16,792 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:44:16,793 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:44:16,794 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:44:16,794 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:44:16,795 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:44:16,801 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:44:16,809 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:44:16,810 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:44:16,811 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:44:16,811 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:44:16,812 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:44:16,812 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:44:16,812 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:44:16,813 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:44:16,813 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:44:16,814 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:44:16,814 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:44:16,815 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:44:16,816 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:44:16,816 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:44:16,816 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:44:16,817 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:44:16,818 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:44:16,818 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:44:16,819 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:44:16,819 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:44:16,822 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:44:16,822 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:44:16,823 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:44:16,823 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:44:16,823 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:44:16,824 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:44:16,826 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:44:16,826 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:44:16,827 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:44:16,832 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:44:16,844 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:44:16,844 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:44:16,847 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:44:16,848 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:44:16,848 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:44:16,851 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:44:16,851 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:44:16,911 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:44:17,004 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:44:17,014 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:44:17,053 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:44:17,059 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:44:17,081 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:44:17,082 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:44:17,083 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:44:17,084 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:44:17,086 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:44:17,087 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:44:17,091 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:44:17,129 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:44:17,138 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:44:17.137916+07:00
2025-10-05 10:44:17,139 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:44:17.137916+07:00
2025-10-05 10:44:17,139 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:44:17.137916+07:00 trong DST: True
2025-10-05 10:44:17,140 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:44:17,141 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:44:17,141 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:44:17,144 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:44:17,145 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:44:17,157 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:44:17,159 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:44:17,175 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:44:17,193 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:44:17,204 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:44:17,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:17,209 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:44:17,210 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:17,210 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:44:17,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:17,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:17,213 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:44:17,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:17,214 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:44:17,229 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:44:17,345 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:44:17,387 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:44:17,404 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:44:17,455 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:44:17,456 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:17,456 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:44:17,459 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:44:17,459 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:17,459 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:44:17,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:17,460 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:44:17,461 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:44:17,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:17,462 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:44:17,463 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:17,463 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:44:17,464 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:17,464 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:44:17,465 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:44:17,465 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:17,465 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:44:17,466 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:17,466 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:44:17,467 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:17,467 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:44:17,468 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:44:17,469 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:44:17,469 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:44:17,478 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:44:17,482 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:44:17,501 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:44:17,506 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:44:17,507 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:44:17,508 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:17,508 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:44:17,509 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:44:17,509 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:44:17,510 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:44:17,510 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:44:17,511 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:44:17,512 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:44:17,512 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:44:17,513 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:44:17,513 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:44:17,515 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:44:17,523 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:44:17.523221+07:00
2025-10-05 10:44:17,524 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:44:17.523221+07:00
2025-10-05 10:44:17,524 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:44:17.523221+07:00 trong DST: True
2025-10-05 10:44:17,525 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:44:17,525 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:44:17,526 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 196
2025-10-05 10:44:17,526 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:17,526 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:17,528 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:44:17,543 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:44:17,544 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:17,545 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:17,546 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:44:17,560 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:44:17,561 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:44:17,562 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:44:17,563 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:44:17,565 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:44:17,577 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:44:17,591 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:44:17,593 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:44:17,593 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:44:17,594 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:44:17,594 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:44:17,595 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:44:17,596 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:44:17,608 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:44:17,609 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:44:17,609 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:44:17,610 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:44:17,611 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:44:17,615 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:44:17,630 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:44:17,631 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:44:17,632 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:44:17,633 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:44:17,633 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:44:17,634 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:44:17,635 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:44:17,635 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:17,636 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:17,636 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:44:17,636 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:44:17,637 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:44:17,637 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:44:17,638 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:17,638 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:17,639 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:44:17,639 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:44:17,639 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:44:17,640 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:44:17,641 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:17,641 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:44:17,641 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:17,642 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:17,708 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:18,438 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:18,472 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:18,479 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:18,613 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:18,698 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:18,716 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:18,738 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:19,141 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:19,142 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:19,144 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:44:19,146 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:19,148 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:44:19,149 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:44:19,164 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:44:19,166 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:44:19,168 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:44:19,169 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:44:19,183 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:19,201 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:44:19,204 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:19,218 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:44:19,221 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:44:19,233 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:19,234 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:44:19,236 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:44:19,248 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:44:19,250 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:19,251 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:19,251 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:19,267 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:19,269 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:19,280 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:44:19,313 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:44:19,333 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:44:19,349 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:44:19,350 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:44:19,353 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:44:19,408 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:44:19,410 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:44:19,412 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:44:19,413 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:44:19,414 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:44:19,462 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:44:19,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:19,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:19,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:19,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:19,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:19,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:19,890 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:19,890 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:19,891 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:19,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:19,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:19,893 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:19,893 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:19,894 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:19,942 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:20,585 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:20,623 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:20,789 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:20,790 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:20,790 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:21,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:21,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:21,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:21,794 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:21,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:21,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:21,953 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:21,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:21,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:21,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:21,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:21,956 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:21,957 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:21,957 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:21,993 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:22,570 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:22,608 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:22,763 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:22,764 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:22,765 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:23,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:23,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:23,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:23,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:23,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:23,922 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:23,924 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:23,924 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:23,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:23,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:23,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:23,927 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:23,927 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:23,927 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:23,963 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:24,588 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:24,619 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:24,781 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:24,782 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:24,782 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:25,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:25,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:25,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:25,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:25,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:25,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:25,942 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:25,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:25,944 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:25,944 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:25,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:25,946 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:25,946 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:25,946 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:25,997 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:26,655 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:26,696 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:26,853 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:26,854 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:26,855 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:27,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:27,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:27,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:27,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:27,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:28,009 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:28,011 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:28,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:28,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:28,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:28,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:28,015 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:28,015 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:28,015 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:28,070 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:28,715 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:28,755 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:28,916 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:28,917 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:28,917 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:29,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:29,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:29,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:29,921 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:29,921 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:30,074 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:30,076 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:30,076 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:30,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:30,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:30,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:30,080 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:30,080 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:30,080 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:30,136 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:30,775 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:30,815 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:30,977 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:30,978 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:30,979 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:31,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:31,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:31,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:31,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:31,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:32,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:32,152 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:32,153 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:32,154 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:32,154 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:32,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:32,156 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:32,156 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:32,156 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:32,206 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:32,774 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:32,818 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:32,974 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:32,975 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:32,976 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:33,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:33,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:33,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:33,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:33,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:34,140 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:34,141 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:34,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:34,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:34,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:34,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:34,145 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:34,145 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:34,145 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:34,181 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:34,755 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:34,795 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:35,216 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:35,217 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:35,217 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:36,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:36,219 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:36,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:36,222 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:36,222 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:36,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:36,413 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:36,413 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:36,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:36,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:36,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:36,416 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:36,417 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:36,417 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:36,469 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:37,117 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:37,161 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:37,584 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:37,588 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:37,598 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:38,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:38,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:38,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:38,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:38,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:39,357 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:39,395 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:39,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:39,539 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:39,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:39,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:39,542 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:39,542 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:39,542 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:39,585 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:40,619 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:40,663 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:40,927 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:40,939 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:40,941 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:41,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:41,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:41,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:41,944 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:41,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:42,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:42,099 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:42,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:42,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:42,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:42,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:42,102 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:42,102 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:42,103 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:42,144 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:42,769 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:42,811 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:42,978 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:42,979 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:42,980 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:43,981 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:43,981 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:43,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:43,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:43,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:44,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:44,146 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:44,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:44,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:44,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:44,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:44,150 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:44,150 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:44,150 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:44,193 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:44,857 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:44,892 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:45,075 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:45,076 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:45,076 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:46,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:46,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:46,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:46,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:46,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:46,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:46,237 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:46,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:46,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:46,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:46,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:46,240 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:46,241 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:46,241 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:46,289 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:46,901 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:46,942 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:47,129 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:47,130 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:47,131 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:48,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:48,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:48,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:48,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:48,135 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:48,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:48,298 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:48,299 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:48,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:48,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:48,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:48,302 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:48,302 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:48,302 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:48,339 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:48,907 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:48,948 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:49,130 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:49,131 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:49,131 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:50,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:50,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:50,133 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:50,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:50,135 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:50,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:50,295 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:50,296 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:50,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:50,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:50,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:50,298 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:50,299 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:50,299 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:50,334 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:50,899 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:50,931 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:51,096 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:51,097 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:51,098 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:52,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:52,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:52,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:52,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:52,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:52,258 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:52,260 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:52,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:52,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:52,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:52,263 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:52,263 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:52,263 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:52,264 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:52,304 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:52,908 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:52,950 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:53,382 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:53,383 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:53,383 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:53,386 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-05 10:44:53,392 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-05 10:44:53,393 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-05 10:44:53,394 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=False, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-05 10:44:53,407 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-05 10:44:53,410 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-05 10:44:53,410 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-05 10:44:53,411 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-05 10:44:53,412 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-05 10:44:53,420 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-05 10:44:53,435 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-05 10:44:53,470 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-05 10:44:53,483 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-05 10:44:53,618 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-05 10:44:53,619 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\leanhchi\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-05 10:44:53,627 - APP.analysis.context_builder - DEBUG - Đã parse thành công 15 file context.
2025-10-05 10:44:53,628 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 15 items.
2025-10-05 10:44:53,639 - APP.analysis.context_builder - DEBUG - Không tìm thấy checklist nào hợp lệ.
2025-10-05 10:44:53,648 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-05 10:44:53,648 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-05 10:44:53,649 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-05 10:44:53,649 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-05 10:44:53,650 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: 'error'
2025-10-05 10:44:53,650 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-05 10:44:53,651 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-05 10:44:53,651 - APP.analysis.context_builder - DEBUG - Kế hoạch gần nhất được trích xuất: True
2025-10-05 10:44:53,651 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:44:53,652 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:44:53,652 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:44:53,652 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:44:53,653 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:44:53,654 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:44:53,655 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-05 10:44:53,655 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-05 10:44:53,667 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-05 10:44:53,671 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-05 10:44:53,672 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-05 10:44:53,673 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-05 10:44:53,673 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-05 10:44:53,674 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-05 10:44:53,674 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-05 10:44:53,674 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-05 10:44:53,675 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-05 10:44:53,675 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-05 10:44:53,676 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 619 chars (trong budget).
2025-10-05 10:44:53,676 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-05 10:44:53,677 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-05 10:44:53,679 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-05 10:44:53,679 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-05 10:44:53,680 - APP.services.mt5_service - DEBUG - Current price (cp): 3887.107
2025-10-05 10:44:53,680 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 5m để tính tick stats.
2025-10-05 10:44:53,681 - APP.services.mt5_service - WARNING - Không đủ dữ liệu tick cho 30m để tính tick stats.
2025-10-05 10:44:53,681 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-05 10:44:53,683 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-05 10:44:53,684 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:44:53,684 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-05 10:44:53,689 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-05 10:44:53,694 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:44:53,696 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-05 10:44:53,699 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-05 10:44:53,700 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:44:53,701 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-05 10:44:53,703 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-05 10:44:53,703 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-05 10:44:53,704 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-05 10:44:53,704 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-05 10:44:53,705 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:44:53,705 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:44:53,706 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-05 10:44:53,706 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3764.779, 'high': 3897.216, 'low': 3763.408}
2025-10-05 10:44:53,707 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3791.146, 'low': 3683.837}
2025-10-05 10:44:53,707 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-05 10:44:53,707 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3897.216, 'low': 3819.397}
2025-10-05 10:44:53,708 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-05 10:44:53,708 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}
2025-10-05 10:44:53,709 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-05 10:44:53,709 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:44:53,709 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:44:53.709851+07:00
2025-10-05 10:44:53,710 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:44:53.709851+07:00
2025-10-05 10:44:53,710 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:44:53.709851+07:00 trong DST: True
2025-10-05 10:44:53,711 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:44:53,711 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:44:53,711 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-05 10:44:53,712 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 0 rates.
2025-10-05 10:44:53,713 - APP.services.mt5_service - DEBUG - Rates trống, không thể tính VWAP.
2025-10-05 10:44:53,716 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': None, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-05 10:44:53,717 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:44:53,717 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.4930632574547
2025-10-05 10:44:53,718 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:44:53,718 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3885.838076628613
2025-10-05 10:44:53,719 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-05 10:44:53,719 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3884.79117204678
2025-10-05 10:44:53,724 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-05 10:44:53,726 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3874.1709651378897
2025-10-05 10:44:53,730 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-05 10:44:53,731 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3877.587506661054
2025-10-05 10:44:53,731 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-05 10:44:53,732 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3864.8437455414405
2025-10-05 10:44:53,732 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-05 10:44:53,732 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3865.6399022017563
2025-10-05 10:44:53,733 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-05 10:44:53,733 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3830.373070381582
2025-10-05 10:44:53,733 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3885.4930632574547, 'ema200': 3885.838076628613}, 'M5': {'ema50': 3884.79117204678, 'ema200': 3874.1709651378897}, 'M15': {'ema50': 3877.587506661054, 'ema200': 3864.8437455414405}, 'H1': {'ema50': 3865.6399022017563, 'ema200': 3830.373070381582}}
2025-10-05 10:44:53,734 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-05 10:44:53,734 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 1.798255272271771, TRs count: 179
2025-10-05 10:44:53,735 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:44:53,735 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 0.6130730507404645, TRs count: 119
2025-10-05 10:44:53,736 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-05 10:44:53,736 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.581235060095916, TRs count: 95
2025-10-05 10:44:53,736 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-05 10:44:53,737 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 11.031559707039294, TRs count: 119
2025-10-05 10:44:53,737 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 1.798255272271771, 'M1': 0.6130730507404645, 'M15': 4.581235060095916, 'H1': 11.031559707039294}
2025-10-05 10:44:53,738 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-05 10:44:53,738 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3887.107, daily: {'open': 3863.536, 'high': 3897.216, 'low': 3819.397, 'eq50': 3858.3064999999997, 'midnight_open': None}, prev_day: {'high': 3897.216, 'low': 3819.397}
2025-10-05 10:44:53,738 - APP.services.mt5_service - DEBUG - Thêm PDH: 3897.216
2025-10-05 10:44:53,739 - APP.services.mt5_service - DEBUG - Thêm PDL: 3819.397
2025-10-05 10:44:53,739 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3858.3064999999997
2025-10-05 10:44:53,739 - APP.services.mt5_service - DEBUG - Thêm DO: 3863.536
2025-10-05 10:44:53,740 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3897.216, Relation: ABOVE, Distance: 10108.999999999924
2025-10-05 10:44:53,740 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3819.397, Relation: BELOW, Distance: 67710.00000000003
2025-10-05 10:44:53,740 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3858.3064999999997, Relation: BELOW, Distance: 28800.500000000284
2025-10-05 10:44:53,741 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3863.536, Relation: BELOW, Distance: 23570.999999999913
2025-10-05 10:44:53,741 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-05 10:44:53,741 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:44:53,742 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-05 10:44:53,742 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 55.52820000000001, 'd10': 54.672700000000034, 'd20': 45.561449999999994}
2025-10-05 10:44:53,743 - APP.services.mt5_service - DEBUG - Prev day close: 3862.472
2025-10-05 10:44:53,743 - APP.services.mt5_service - DEBUG - Day range: 77.81899999999996, Day range % of ADR20: 170.80009525596742
2025-10-05 10:44:53,744 - APP.services.mt5_service - DEBUG - Position in day range: 0.8700959919813936
2025-10-05 10:44:53,744 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-05 10:44:53,744 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-05 17:44:53.744690+07:00
2025-10-05 10:44:53,745 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-05 17:44:53.744690+07:00
2025-10-05 10:44:53,745 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-05 17:44:53.744690+07:00 trong DST: True
2025-10-05 10:44:53,745 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-05 10:44:53,746 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-05 10:44:53,746 - APP.services.mt5_service - DEBUG - Killzone active: None, Mins to next killzone: 196
2025-10-05 10:44:53,747 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:53,747 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:53,748 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '1000', 'price': 3887.1, 'distance_pips': 0.7}, {'level': '1025', 'price': 3887.102, 'distance_pips': 0.45}, {'level': '1050', 'price': 3887.105, 'distance_pips': 0.2}, {'level': '1075', 'price': 3887.108, 'distance_pips': 0.05}]
2025-10-05 10:44:53,749 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 2.0575499246591593}
2025-10-05 10:44:53,749 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:53,750 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:53,751 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:44:53,752 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:44:53,759 - APP.services.mt5_service - DEBUG - Risk model: {'value_per_point': 0.1, 'points_per_pip': 10}, RR projection: None
2025-10-05 10:44:53,762 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:44:53,762 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:44:53,764 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:44:53,764 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:44:53,765 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:44:53,765 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-05 10:44:53,766 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-05 10:44:53,767 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3887.107
2025-10-05 10:44:53,767 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:44:53,767 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-05 10:44:53,768 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:44:53,769 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-05 10:44:53,769 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-05 10:44:53,770 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3887.107
2025-10-05 10:44:53,771 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:44:53,771 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-05 10:44:53,772 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:44:53,772 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-05 10:44:53,772 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-05 10:44:53,773 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3887.107
2025-10-05 10:44:53,774 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-05 10:44:53,774 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-05 10:44:53,775 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-05 10:44:53,776 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-05 10:44:53,776 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:53,777 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:53,777 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:44:53,777 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:44:53,778 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-05 10:44:53,780 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-05 10:44:53,780 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:53,781 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:53,783 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-05 10:44:53,786 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-05 10:44:53,788 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-05 10:44:53,789 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-05 10:44:53,792 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:53,793 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-05 10:44:53,795 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:53,796 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:53,839 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:54,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:54,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:54,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:54,387 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:54,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:54,444 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:54,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:54,568 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:54,569 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:54,571 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:54,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:54,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:54,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:54,644 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:54,657 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:54,677 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:54,800 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:54,849 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:54,849 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:54,850 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-05 10:44:54,850 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:54,850 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-05 10:44:54,851 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:44:54,851 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-05 10:44:54,852 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3897.216, 'bar_index': 9}, {'price': 3895.417, 'bar_index': -19}, {'price': 3891.731, 'bar_index': 34}, {'price': 3891.184, 'bar_index': -15}, {'price': 3875.624, 'bar_index': -25}], 'swing_lows_SSL': [{'price': 3760.112, 'bar_index': -76}, {'price': 3793.174, 'bar_index': -41}, {'price': 3809.251, 'bar_index': -60}, {'price': 3819.397, 'bar_index': 11}, {'price': 3822.667, 'bar_index': -54}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3850.904, 'bottom': 3848.355}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 81}, {'type': 'Bullish', 'top': 3859.276, 'bottom': 3843.897, 'bar_index': 74}, {'type': 'Bullish', 'top': 3851.622, 'bottom': 3843.465, 'bar_index': 64}], 'premium_discount_h1': {'high': 3891.731, 'low': 3819.397, 'equilibrium': 3855.5640000000003, 'status': 'Premium'}, 'mss_h1': None, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': -29}, {'price': 3890.722, 'bar_index': -37}, {'price': 3889.245, 'bar_index': -18}, {'price': 3889.197, 'bar_index': -13}, {'price': 3886.077, 'bar_index': -23}], 'swing_lows_SSL': [{'price': 3838.081, 'bar_index': -78}, {'price': 3847.368, 'bar_index': -86}, {'price': 3850.904, 'bar_index': -68}, {'price': 3852.207, 'bar_index': -99}, {'price': 3854.751, 'bar_index': -46}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3869.428, 'bottom': 3865.218}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3865.218, 'bottom': 3860.51, 'bar_index': 57}, {'type': 'Bearish', 'top': 3888.969, 'bottom': 3885.989, 'bar_index': 86}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3887.107, 'bottom': 3884.332, 'bar_index': 41}, {'type': 'Bullish', 'top': 3880.035, 'bottom': 3866.937, 'bar_index': 15}, {'type': 'Bearish', 'top': 3886.03, 'bottom': 3866.297, 'bar_index': 14}], 'premium_discount_m15': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3891.731, 'bar_index': 99}, {'price': 3890.722, 'bar_index': 73}, {'price': 3889.245, 'bar_index': 131}, {'price': 3889.197, 'bar_index': 146}, {'price': 3889.11, 'bar_index': 93}], 'swing_lows_SSL': [{'price': 3854.751, 'bar_index': 46}, {'price': 3855.394, 'bar_index': -10}, {'price': 3856.896, 'bar_index': 20}, {'price': 3857.033, 'bar_index': -6}, {'price': 3857.573, 'bar_index': 43}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3886.225, 'bottom': 3886.041}], 'order_blocks_m5': [{'type': 'Bearish', 'top': 3891.731, 'bottom': 3889.03, 'bar_index': 119}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3886.8, 'bottom': 3884.728, 'bar_index': 170}, {'type': 'Bullish', 'top': 3887.533, 'bottom': 3884.319, 'bar_index': 150}, {'type': 'Bullish', 'top': 3885.106, 'bottom': 3882.176, 'bar_index': 148}], 'premium_discount_m5': {'high': 3889.197, 'low': 3854.751, 'equilibrium': 3871.974, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3889.197, 'break_bar_index': 119}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3889.197, 'bar_index': -25}, {'price': 3888.969, 'bar_index': -41}, {'price': 3888.688, 'bar_index': -63}, {'price': 3888.413, 'bar_index': -38}, {'price': 3888.256, 'bar_index': -67}], 'swing_lows_SSL': [{'price': 3882.907, 'bar_index': 15}, {'price': 3883.571, 'bar_index': -75}, {'price': 3883.684, 'bar_index': 6}, {'price': 3883.989, 'bar_index': 22}, {'price': 3884.222, 'bar_index': -78}]}, 'fvgs_m1': [{'type': 'Bullish', 'top': 3886.654, 'bottom': 3886.478}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3886.733, 'bottom': 3886.225, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3886.557, 'bottom': 3886.045, 'bar_index': 84}, {'type': 'Bullish', 'top': 3884.416, 'bottom': 3883.086, 'bar_index': 66}, {'type': 'Bearish', 'top': 3884.537, 'bottom': 3884.088, 'bar_index': 62}], 'premium_discount_m1': {'high': 3889.197, 'low': 3883.989, 'equilibrium': 3886.593, 'status': 'Premium'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3883.989, 'break_bar_index': 86}}
2025-10-05 10:44:54,853 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:44:54,853 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': []}
2025-10-05 10:44:54,853 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:54,854 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-05 10:44:54,854 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-05 10:44:54,855 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-05 10:44:54,856 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-TRADE.
2025-10-05 10:44:54,856 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:54,856 - APP.utils.safe_data - DEBUG - Get top-level key 'tick': {'bid': 3887.107, 'ask': 3887.144, 'last': 0.0, 'time': 1759525077}
2025-10-05 10:44:54,857 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: spread_current, default: None
2025-10-05 10:44:54,857 - APP.services.mt5_service - DEBUG - Tìm thấy key 'spread_current' trong dict. Giá trị: 37
2025-10-05 10:44:54,858 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:54,858 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:54,858 - APP.utils.safe_data - DEBUG - Get top-level key 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:54,859 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-05 10:44:54,859 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-05 10:44:54,860 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': None
2025-10-05 10:44:54,861 - APP.utils.safe_data - DEBUG - Get tick value 'bid': 3887.107
2025-10-05 10:44:54,861 - APP.utils.safe_data - DEBUG - Get top-level key 'key_levels_nearby': [{'name': 'PDH', 'price': 3897.216, 'relation': 'ABOVE', 'distance_pips': 10108.999999999924}, {'name': 'PDL', 'price': 3819.397, 'relation': 'BELOW', 'distance_pips': 67710.00000000003}, {'name': 'EQ50_D', 'price': 3858.3064999999997, 'relation': 'BELOW', 'distance_pips': 28800.500000000284}, {'name': 'DO', 'price': 3863.536, 'relation': 'BELOW', 'distance_pips': 23570.999999999913}]
2025-10-05 10:44:54,862 - APP.core.trading.conditions - INFO - Điều kiện NO-TRADE được kích hoạt: Spread quá cao (3.70 pips > 2.50 pips)., Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:44:54,863 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-trade, Lý do: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:44:54,863 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-trade, Thư mục con: None
2025-10-05 10:44:54,905 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251005.jsonl.
2025-10-05 10:44:54,915 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-05 10:44:54,916 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Trade: Spread quá cao (3.70 pips > 2.50 pips).
- Biến động quá thấp (ATR M5 0.18 pips < 3.00 pips).
2025-10-05 10:44:54,917 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-05 10:44:54,917 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-05 10:44:55,504 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:55,550 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:55,701 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:55,702 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:55,703 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:55,709 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-05 10:44:56,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:56,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:56,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:56,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:56,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:56,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:56,857 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:56,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:56,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:56,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:56,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:56,861 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:56,861 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:56,862 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:56,901 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:57,521 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:57,553 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:57,734 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:57,735 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:57,735 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:44:58,736 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:44:58,737 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:44:58,737 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:44:58,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:44:58,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:44:58,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:44:58,887 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:44:58,887 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:44:58,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:44:58,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:44:58,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:44:58,890 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:44:58,890 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:44:58,891 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:44:58,930 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:44:59,560 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:44:59,614 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:44:59,776 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:44:59,777 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:44:59,777 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:45:00,778 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:45:00,778 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:45:00,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:45:00,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:45:00,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:45:00,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:45:00,939 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:45:00,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:45:00,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:45:00,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:45:00,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:45:00,943 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:45:00,943 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:45:00,943 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:45:00,983 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:45:01,606 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:45:01,653 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:45:01,852 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:45:01,853 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:45:01,854 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:45:02,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:45:02,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:45:02,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:45:02,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:45:02,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:45:03,024 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:45:03,026 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:45:03,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:45:03,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:45:03,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:45:03,029 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:45:03,030 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:45:03,030 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:45:03,030 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:45:03,062 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:45:03,732 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:45:03,770 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:45:03,972 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:45:03,973 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:45:03,974 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:45:04,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:45:04,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:45:04,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:45:04,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:45:04,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:45:05,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:45:05,143 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:45:05,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:45:05,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:45:05,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:45:05,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:45:05,146 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:45:05,147 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:45:05,147 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:45:05,183 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:45:05,778 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:45:05,811 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:45:05,966 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:45:05,967 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:45:05,968 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:45:06,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:45:06,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:45:06,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:45:06,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:45:06,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:45:07,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:45:07,126 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:45:07,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:45:07,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:45:07,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:45:07,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:45:07,130 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:45:07,130 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:45:07,131 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:45:07,178 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:45:07,749 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:45:07,781 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:45:08,196 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:45:08,197 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:45:08,197 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:45:09,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:45:09,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:45:09,199 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:45:09,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:45:09,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:45:09,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:45:09,462 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:45:09,483 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:45:09,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:45:09,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:45:09,557 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:45:09,558 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:45:09,559 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:45:09,559 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:45:09,615 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:45:10,215 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:45:10,256 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:45:10,424 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:45:10,425 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:45:10,425 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:45:11,426 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-05 10:45:11,427 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_safe.
2025-10-05 10:45:11,427 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-05 10:45:11,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-05 10:45:11,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-05 10:45:11,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fmt với x=3887.107, digits=3.
2025-10-05 10:45:11,581 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-05 10:45:11,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-05 10:45:11,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-05 10:45:11,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-05 10:45:11,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-05 10:45:11,584 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-05 10:45:11,585 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-05 10:45:11,585 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-05 10:45:11,625 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-05 10:45:12,269 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-05 10:45:12,303 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-05 10:45:12,474 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 0 sự kiện có tác động mạnh.
2025-10-05 10:45:12,475 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-05 10:45:12,475 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_safe.
2025-10-05 10:45:13,572 - APP.ui.app_ui - INFO - Bắt đầu quy trình tắt ứng dụng.
2025-10-05 10:45:13,573 - APP.ui.app_ui - DEBUG - Bắt đầu thu thập dữ liệu cấu hình từ UI.
2025-10-05 10:45:13,574 - APP.configs.workspace_config - DEBUG - Bắt đầu lưu cấu hình vào file.
2025-10-05 10:45:13,575 - APP.configs.workspace_config - INFO - Cấu hình đã được lưu thành công vào C:\Users\leanhchi\.gemini_folder_analyze\workspace.json
2025-10-05 10:45:13,576 - APP.configs.workspace_config - DEBUG - Kết thúc lưu cấu hình vào file.
2025-10-05 10:45:13,576 - APP.ui.app_ui - INFO - Đã lưu cấu hình workspace thành công.
2025-10-05 10:45:13,827 - APP.ui.app_ui - INFO - Ứng dụng đã đóng.
2025-10-05 10:45:13,850 - __main__ - INFO - Ứng dụng đã đóng thành công.
