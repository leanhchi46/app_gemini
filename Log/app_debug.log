<<<<<<< HEAD
2025-10-06 22:57:45,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:45,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:45,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:45,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:45,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:45,082 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:45,084 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:45,084 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:45,142 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:57:45,655 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:57:45,657 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:57:45,658 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:57:46,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:57:46,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:46,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:46,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:46,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:46,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:46,664 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:46,664 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:46,664 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:46,714 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:57:47,267 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:57:47,269 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:57:47,271 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:57:48,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:57:48,272 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:48,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:48,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:48,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:48,275 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:48,276 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:48,276 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:48,277 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:48,326 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:57:48,860 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:57:48,862 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:57:48,864 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:57:49,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:57:49,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:49,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:49,867 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:49,867 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:49,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:49,869 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:49,870 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:49,870 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:49,918 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:57:50,441 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:57:50,444 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:57:50,446 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:57:51,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:57:51,447 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:51,447 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:51,448 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:51,449 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:51,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:51,451 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:51,451 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:51,451 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:51,516 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:57:52,096 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:57:52,098 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:57:52,100 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:57:52,979 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 22:57:53,041 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 22:57:53,071 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 22:57:53,079 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 22:57:53,121 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 22:57:53,125 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=True, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=4.2, min_atr_m5_pips=0.3, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10, max_json_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 22:57:53,128 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 22:57:53,130 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 22:57:53,130 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 22:57:53,130 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 22:57:53,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:57:53,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:53,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:53,244 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:53,245 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:53,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:53,246 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:53,247 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:53,247 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:53,303 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:57:53,944 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:57:53,946 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:57:53,948 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:57:53,949 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 22:57:53,950 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 22:57:53,950 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 22:57:53,953 - APP.services.mt5_service - DEBUG - Bắt đầu get_active_killzone cho 2025-10-06 22:57:53.950841 với timezone Asia/Ho_Chi_Minh
2025-10-06 22:57:53,953 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: 2025-10-06 22:57:53.950841+07:00, Target TZ: None
2025-10-06 22:57:53,953 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 22:57:53.950841+07:00
2025-10-06 22:57:53,954 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 22:57:53.950841+07:00 trong DST: True
2025-10-06 22:57:53,954 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 22:57:53,955 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 22:57:53,955 - APP.services.mt5_service - DEBUG - Không trong killzone nào.
2025-10-06 22:57:53,955 - APP.core.trading.conditions - INFO - Điều kiện NO-RUN được kích hoạt: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 22:57:53,956 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-run, Lý do: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 22:57:53,956 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-run, Thư mục con: None
2025-10-06 22:57:54,010 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 22:57:54,024 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 22:57:54,024 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Run: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 22:57:54,025 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 22:57:54,025 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 22:57:54,062 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 22:57:54,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:57:54,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:54,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:54,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:54,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:54,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:54,953 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:54,954 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:54,954 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:55,006 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:57:55,546 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:57:55,548 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:57:55,550 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:57:56,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:57:56,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:56,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:56,553 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:56,553 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:56,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:56,555 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:56,556 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:56,556 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:56,606 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:57:57,137 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:57:57,140 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:57:57,142 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:57:58,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:57:58,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:58,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:58,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:58,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:58,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:58,148 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:58,148 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:58,149 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:58,197 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:57:58,755 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:57:58,761 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:57:58,763 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:57:59,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:57:59,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:57:59,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:57:59,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:57:59,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:57:59,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:57:59,769 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:57:59,769 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:57:59,769 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:57:59,819 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:00,380 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:00,382 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:00,384 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:01,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:01,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:01,386 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 22:58:01,387 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 22:58:01,387 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 22:58:01,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:01,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 22:58:01,597 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 22:58:01,597 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 22:58:01,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:01,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:01,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:01,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:01,601 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:01,602 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:01,602 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:01,649 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:02,330 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:02,334 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:02,336 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:03,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:03,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:03,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:03,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:03,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:03,343 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:03,343 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:03,344 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:03,345 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:03,395 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:04,084 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:04,092 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:04,095 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:05,096 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:05,096 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:05,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:05,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:05,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:05,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:05,101 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:05,101 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:05,101 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:05,151 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:05,840 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:05,842 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:05,844 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:06,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:06,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:06,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:06,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:06,849 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:06,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:06,851 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:06,852 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:06,852 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:06,903 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:07,592 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:07,594 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:07,596 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:08,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:08,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:08,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:08,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:08,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:08,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:08,602 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:08,603 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:08,604 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:08,653 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:09,360 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:09,362 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:09,364 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:10,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:10,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:10,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:10,368 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:10,369 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:10,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:10,371 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:10,371 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:10,372 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:10,421 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:11,119 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:11,122 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:11,124 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:12,125 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:12,125 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:12,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:12,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:12,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:12,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:12,129 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:12,130 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:12,130 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:12,173 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:12,854 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:12,856 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:12,858 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:13,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:13,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:13,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:13,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:13,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:13,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:13,864 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:13,865 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:13,865 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:13,933 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:14,620 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:14,622 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:14,624 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:15,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:15,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:15,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:15,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:15,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:15,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:15,631 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:15,631 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:15,631 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:15,682 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:16,434 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:16,436 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:16,438 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:17,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:17,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:17,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:17,442 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:17,443 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:17,444 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:17,445 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:17,445 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:17,446 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:17,499 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:18,235 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:18,237 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:18,239 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:19,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:19,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:19,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:19,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:19,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:19,244 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:19,245 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:19,245 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:19,245 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:19,295 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:19,963 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:19,965 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:19,967 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:20,968 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:20,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:20,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:20,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:20,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:20,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:20,976 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:20,976 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:20,977 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:21,042 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:21,716 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:21,718 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:21,720 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:22,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:22,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:22,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:22,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:22,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:22,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:22,726 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:22,726 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:22,726 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:22,776 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:23,466 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:23,468 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:23,470 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:24,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:24,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:24,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:24,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:24,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:24,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:24,475 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:24,476 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:24,477 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:24,527 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:25,232 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:25,235 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:25,236 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:26,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:26,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:26,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:26,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:26,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:26,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:26,243 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:26,244 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:26,244 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:26,296 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:26,953 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:26,970 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:26,991 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:27,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:27,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:27,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:27,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:27,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:27,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:27,997 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:27,998 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:27,998 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:28,055 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:28,753 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:28,756 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:28,758 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:29,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:29,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:29,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:29,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:29,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:29,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:29,764 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:29,764 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:29,764 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:29,832 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:30,539 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:30,541 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:30,542 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:31,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:31,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:31,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:31,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:31,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:31,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:31,551 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:31,552 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:31,552 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:31,613 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:32,305 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:32,307 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:32,309 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:33,310 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:33,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:33,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:33,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:33,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:33,314 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:33,315 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:33,316 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:33,316 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:33,366 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:34,030 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:34,032 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:34,036 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:35,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:35,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:35,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:35,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:35,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:35,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:35,042 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:35,043 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:35,043 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:35,103 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:35,749 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:35,751 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:35,753 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:36,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:36,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:36,755 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:36,756 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:36,757 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:36,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:36,759 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:36,759 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:36,760 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:36,810 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:37,567 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:37,570 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:37,572 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:38,572 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:38,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:38,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:38,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:38,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:38,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:38,577 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:38,578 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:38,578 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:38,634 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:39,314 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:39,316 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:39,319 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:40,319 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:40,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:40,321 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:40,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:40,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:40,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:40,324 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:40,325 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:40,325 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:40,376 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:41,047 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:41,049 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:41,051 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:42,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:42,053 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:42,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:42,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:42,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:42,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:42,106 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:42,106 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:42,107 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:42,171 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:42,779 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:42,781 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:42,783 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:43,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:43,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:43,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:43,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:43,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:43,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:43,789 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:43,789 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:43,790 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:43,837 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:44,378 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:44,380 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:44,382 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:45,383 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:45,383 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:45,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:45,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:45,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:45,386 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:45,387 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:45,387 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:45,388 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:45,442 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:45,954 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:45,959 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:45,961 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:46,961 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:46,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:46,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:46,964 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:46,964 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:46,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:46,966 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:46,966 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:46,967 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:47,020 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:47,546 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:47,548 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:47,550 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:48,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:48,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:48,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:48,553 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:48,553 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:48,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:48,555 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:48,555 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:48,555 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:48,607 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:49,132 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:49,138 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:49,140 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:50,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:50,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:50,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:50,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:50,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:50,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:50,145 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:50,146 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:50,146 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:50,203 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:50,794 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:50,797 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:50,798 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:51,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:51,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:51,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:51,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:51,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:51,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:51,803 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:51,804 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:51,804 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:51,853 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:52,382 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:52,384 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:52,385 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:53,386 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:53,387 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:53,387 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:53,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:53,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:53,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:53,391 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:53,391 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:53,391 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:53,439 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:53,985 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:53,986 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:53,988 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:54,062 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 22:58:54,064 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 22:58:54,064 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 22:58:54,072 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 22:58:54,073 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 22:58:54,074 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=True, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=4.2, min_atr_m5_pips=0.3, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10, max_json_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 22:58:54,074 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 22:58:54,075 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 22:58:54,076 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 22:58:54,076 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 22:58:54,077 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 22:58:54,077 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 22:58:54,078 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 22:58:54,081 - APP.services.mt5_service - DEBUG - Bắt đầu get_active_killzone cho 2025-10-06 22:58:54.078561 với timezone Asia/Ho_Chi_Minh
2025-10-06 22:58:54,081 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: 2025-10-06 22:58:54.078561+07:00, Target TZ: None
2025-10-06 22:58:54,082 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 22:58:54.078561+07:00
2025-10-06 22:58:54,082 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 22:58:54.078561+07:00 trong DST: True
2025-10-06 22:58:54,083 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 22:58:54,083 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 22:58:54,083 - APP.services.mt5_service - DEBUG - Không trong killzone nào.
2025-10-06 22:58:54,084 - APP.core.trading.conditions - INFO - Điều kiện NO-RUN được kích hoạt: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 22:58:54,084 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-run, Lý do: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 22:58:54,085 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-run, Thư mục con: None
2025-10-06 22:58:54,161 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 22:58:54,162 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 22:58:54,162 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Run: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 22:58:54,163 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 22:58:54,163 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 22:58:54,206 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 22:58:54,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:54,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:54,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:54,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:54,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:54,992 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:54,993 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:54,993 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:54,994 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:55,043 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:55,569 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:55,571 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:55,572 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:56,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:56,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:56,574 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:56,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:56,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:56,578 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:56,579 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:56,579 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:56,580 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:56,631 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:57,173 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:57,175 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:57,176 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:58,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:58,178 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:58,178 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:58,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:58,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:58,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:58,181 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:58,182 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:58,182 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:58,238 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:58:58,761 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:58:58,763 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:58:58,765 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:58:59,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:58:59,766 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:58:59,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:58:59,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:58:59,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:58:59,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:58:59,770 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:58:59,770 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:58:59,770 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:58:59,824 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:00,375 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:00,377 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:00,379 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:01,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:01,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:01,380 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 22:59:01,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 22:59:01,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 22:59:01,383 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:01,383 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 22:59:01,598 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 22:59:01,599 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 22:59:01,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:01,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:01,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:01,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:01,603 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:01,604 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:01,604 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:01,670 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:02,343 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:02,345 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:02,347 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:03,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:03,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:03,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:03,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:03,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:03,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:03,353 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:03,353 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:03,354 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:03,386 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:04,078 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:04,081 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:04,083 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:05,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:05,085 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:05,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:05,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:05,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:05,089 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:05,090 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:05,090 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:05,091 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:05,176 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:05,844 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:05,847 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:05,849 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:06,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:06,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:06,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:06,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:06,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:06,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:06,856 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:06,857 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:06,857 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:06,907 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:07,600 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:07,606 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:07,608 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:08,610 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:08,610 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:08,611 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:08,612 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:08,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:08,614 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:08,615 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:08,615 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:08,615 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:08,695 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:09,363 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:09,365 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:09,367 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:10,368 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:10,369 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:10,369 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:10,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:10,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:10,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:10,373 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:10,373 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:10,374 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:10,424 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:11,092 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:11,094 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:11,097 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:12,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:12,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:12,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:12,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:12,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:12,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:12,105 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:12,106 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:12,106 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:12,166 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:12,824 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:12,827 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:12,829 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:13,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:13,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:13,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:13,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:13,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:13,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:13,834 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:13,835 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:13,835 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:13,898 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:14,576 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:14,578 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:14,580 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:15,581 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:15,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:15,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:15,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:15,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:15,585 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:15,586 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:15,587 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:15,587 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:15,641 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:16,421 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:16,431 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:16,436 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:17,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:17,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:17,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:17,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:17,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:17,463 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:17,463 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:17,464 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:17,464 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:17,515 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:18,187 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:18,189 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:18,191 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:19,191 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:19,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:19,193 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:19,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:19,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:19,196 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:19,197 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:19,197 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:19,198 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:19,258 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:19,936 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:19,938 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:19,940 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:20,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:20,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:20,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:20,944 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:20,944 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:20,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:20,946 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:20,946 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:20,947 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:20,998 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:21,692 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:21,698 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:21,700 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:22,701 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:22,701 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:22,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:22,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:22,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:22,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:22,706 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:22,707 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:22,707 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:22,775 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:23,475 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:23,477 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:23,479 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:24,480 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:24,480 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:24,481 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:24,483 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:24,483 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:24,484 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:24,485 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:24,485 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:24,486 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:24,538 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:25,262 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:25,264 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:25,266 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:26,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:26,268 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:26,268 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:26,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:26,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:26,272 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:26,273 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:26,273 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:26,273 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:26,346 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:27,008 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:27,010 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:27,012 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:28,013 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:28,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:28,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:28,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:28,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:28,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:28,018 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:28,018 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:28,018 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:28,101 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:28,792 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:28,794 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:28,796 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:29,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:29,797 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:29,798 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:29,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:29,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:29,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:29,801 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:29,801 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:29,802 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:29,879 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:30,584 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:30,586 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:30,588 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:31,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:31,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:31,590 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:31,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:31,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:31,594 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:31,595 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:31,595 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:31,596 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:31,646 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:32,343 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:32,345 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:32,347 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:33,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:33,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:33,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:33,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:33,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:33,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:33,353 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:33,354 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:33,354 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:33,384 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:34,056 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:34,058 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:34,061 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:35,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:35,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:35,063 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:35,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:35,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:35,066 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:35,067 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:35,067 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:35,067 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:35,117 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:35,777 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:35,779 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:35,781 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:36,782 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:36,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:36,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:36,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:36,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:36,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:36,787 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:36,788 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:36,788 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:36,819 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:37,534 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:37,536 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:37,538 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:38,539 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:38,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:38,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:38,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:38,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:38,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:38,544 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:38,545 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:38,545 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:38,596 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:39,271 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:39,273 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:39,275 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:40,276 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:40,276 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:40,277 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:40,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:40,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:40,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:40,280 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:40,281 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:40,281 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:40,330 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:40,983 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:40,985 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:40,987 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:41,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:41,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:41,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:41,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:41,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:41,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:41,992 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:41,993 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:41,993 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:42,071 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:42,691 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:42,699 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:42,701 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:43,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:43,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:43,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:43,726 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:43,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:43,728 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:43,729 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:43,729 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:43,730 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:43,781 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:44,342 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:44,344 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:44,345 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:45,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:45,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:45,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:45,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:45,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:45,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:45,351 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:45,351 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:45,351 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:45,380 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:45,921 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:45,923 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:45,924 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:46,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:46,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:46,927 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:46,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:46,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:46,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:46,931 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:46,931 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:46,932 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:47,012 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:47,562 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:47,567 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:47,569 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:48,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:48,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:48,572 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:48,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:48,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:48,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:48,575 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:48,576 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:48,576 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:48,629 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:49,168 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:49,171 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:49,174 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:50,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:50,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:50,176 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:50,176 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:50,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:50,178 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:50,179 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:50,179 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:50,179 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:50,233 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:50,755 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:50,757 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:50,758 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:51,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:51,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:51,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:51,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:51,762 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:51,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:51,764 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:51,764 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:51,764 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:51,815 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:52,354 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:52,356 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:52,358 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:53,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:53,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:53,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:53,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:53,361 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:53,362 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:53,363 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:53,363 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:53,363 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:53,412 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:53,982 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:53,984 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:53,985 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:54,217 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 22:59:54,219 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 22:59:54,220 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 22:59:54,225 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 22:59:54,226 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 22:59:54,227 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=True, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=4.2, min_atr_m5_pips=0.3, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10, max_json_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 22:59:54,228 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 22:59:54,229 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 22:59:54,231 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 22:59:54,254 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 22:59:54,256 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 22:59:54,257 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 22:59:54,257 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 22:59:54,262 - APP.services.mt5_service - DEBUG - Bắt đầu get_active_killzone cho 2025-10-06 22:59:54.258096 với timezone Asia/Ho_Chi_Minh
2025-10-06 22:59:54,262 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: 2025-10-06 22:59:54.258096+07:00, Target TZ: None
2025-10-06 22:59:54,298 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 22:59:54.258096+07:00
2025-10-06 22:59:54,299 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 22:59:54.258096+07:00 trong DST: True
2025-10-06 22:59:54,300 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 22:59:54,300 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 22:59:54,301 - APP.services.mt5_service - DEBUG - Không trong killzone nào.
2025-10-06 22:59:54,302 - APP.core.trading.conditions - INFO - Điều kiện NO-RUN được kích hoạt: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 22:59:54,302 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-run, Lý do: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 22:59:54,303 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-run, Thư mục con: None
2025-10-06 22:59:54,370 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 22:59:54,370 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 22:59:54,371 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Run: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 22:59:54,371 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 22:59:54,371 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 22:59:54,454 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 22:59:54,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:54,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:54,987 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:54,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:54,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:54,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:54,991 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:54,991 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:54,991 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:55,049 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:55,634 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:55,636 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:55,637 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:56,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:56,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:56,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:56,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:56,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:56,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:56,644 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:56,644 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:56,644 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:56,693 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:57,237 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:57,239 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:57,240 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:58,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:58,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:58,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:58,244 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:58,244 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:58,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:58,246 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:58,247 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:58,247 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:58,315 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 22:59:58,855 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 22:59:58,857 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 22:59:58,859 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 22:59:59,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 22:59:59,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 22:59:59,861 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 22:59:59,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 22:59:59,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 22:59:59,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 22:59:59,864 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 22:59:59,865 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 22:59:59,865 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 22:59:59,913 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:00,540 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:00,548 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:00,553 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:01,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:01,581 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:01,582 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 23:00:01,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 23:00:01,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 23:00:01,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:01,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 23:00:02,401 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 23:00:02,401 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 23:00:02,402 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:02,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:02,404 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:02,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:02,406 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:02,406 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:02,407 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:02,459 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:03,137 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:03,139 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:03,142 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:04,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:04,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:04,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:04,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:04,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:04,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:04,148 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:04,148 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:04,149 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:04,203 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:04,895 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:04,897 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:04,899 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:05,900 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:05,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:05,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:05,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:05,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:05,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:05,905 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:05,906 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:05,906 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:05,962 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:06,641 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:06,643 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:06,645 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:07,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:07,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:07,648 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:07,649 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:07,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:07,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:07,651 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:07,652 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:07,652 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:07,732 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:08,400 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:08,402 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:08,404 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:09,404 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:09,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:09,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:09,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:09,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:09,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:09,409 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:09,410 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:09,410 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:09,463 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:10,141 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:10,143 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:10,146 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:11,146 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:11,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:11,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:11,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:11,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:11,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:11,152 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:11,152 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:11,153 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:11,234 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:11,918 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:11,920 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:11,922 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:12,922 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:12,923 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:12,924 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:12,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:12,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:12,927 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:12,927 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:12,928 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:12,928 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:12,990 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:13,702 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:13,704 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:13,706 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:14,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:14,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:14,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:14,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:14,710 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:14,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:14,712 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:14,712 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:14,712 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:14,779 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:15,477 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:15,480 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:15,482 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:16,483 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:16,483 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:16,484 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:16,486 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:16,486 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:16,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:16,488 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:16,488 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:16,489 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:16,549 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:17,240 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:17,243 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:17,246 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:18,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:18,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:18,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:18,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:18,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:18,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:18,252 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:18,253 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:18,253 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:18,306 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:18,969 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:18,972 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:18,974 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:19,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:19,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:19,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:19,977 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:19,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:19,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:19,980 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:19,981 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:19,981 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:20,033 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:20,715 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:20,718 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:20,720 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:21,720 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:21,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:21,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:21,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:21,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:21,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:21,726 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:21,726 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:21,727 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:21,779 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:22,559 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:22,561 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:22,562 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:23,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:23,564 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:23,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:23,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:23,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:23,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:23,569 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:23,569 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:23,569 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:23,622 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:24,337 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:24,339 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:24,341 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:25,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:25,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:25,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:25,344 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:25,344 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:25,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:25,346 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:25,346 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:25,346 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:25,396 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:26,095 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:26,098 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:26,100 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:27,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:27,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:27,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:27,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:27,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:27,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:27,106 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:27,106 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:27,107 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:27,156 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:27,853 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:27,855 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:27,857 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:28,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:28,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:28,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:28,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:28,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:28,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:28,862 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:28,863 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:28,863 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:28,919 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:29,678 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:29,681 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:29,683 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:30,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:30,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:30,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:30,686 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:30,686 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:30,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:30,688 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:30,689 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:30,689 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:30,740 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:31,403 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:31,405 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:31,407 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:32,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:32,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:32,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:32,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:32,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:32,412 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:32,413 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:32,413 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:32,414 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:32,465 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:33,123 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:33,125 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:33,128 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:34,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:34,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:34,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:34,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:34,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:34,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:34,133 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:34,133 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:34,134 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:34,191 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:34,857 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:34,860 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:34,862 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:35,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:35,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:35,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:35,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:35,867 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:35,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:35,869 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:35,870 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:35,870 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:35,943 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:36,650 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:36,656 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:36,658 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:37,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:37,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:37,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:37,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:37,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:37,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:37,664 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:37,664 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:37,665 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:37,710 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:38,387 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:38,389 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:38,391 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:39,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:39,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:39,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:39,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:39,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:39,397 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:39,398 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:39,398 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:39,399 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:39,459 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:40,114 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:40,116 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:40,118 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:41,119 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:41,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:41,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:41,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:41,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:41,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:41,124 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:41,125 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:41,125 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:41,201 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:41,867 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:41,869 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:41,872 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:42,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:42,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:42,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:42,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:42,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:42,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:42,879 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:42,879 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:42,880 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:42,934 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:43,616 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:43,618 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:43,620 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:44,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:44,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:44,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:44,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:44,624 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:44,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:44,625 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:44,625 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:44,626 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:44,683 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:45,423 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:45,438 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:45,453 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:46,463 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:46,463 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:46,464 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:46,465 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:46,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:46,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:46,468 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:46,468 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:46,468 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:46,524 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:47,208 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:47,211 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:47,213 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:48,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:48,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:48,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:48,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:48,217 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:48,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:48,219 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:48,219 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:48,219 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:48,285 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:48,967 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:48,969 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:48,971 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:49,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:49,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:49,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:49,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:49,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:49,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:49,977 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:49,977 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:49,978 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:50,026 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:50,698 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:50,700 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:50,702 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:51,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:51,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:51,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:51,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:51,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:51,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:51,707 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:51,707 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:51,708 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:51,760 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:52,463 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:52,466 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:52,468 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:53,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:53,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:53,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:53,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:53,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:53,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:53,474 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:53,475 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:53,475 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:53,528 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:54,201 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:54,203 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:54,206 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:54,455 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 23:00:54,457 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 23:00:54,457 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 23:00:54,463 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 23:00:54,464 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 23:00:54,465 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=True, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=4.2, min_atr_m5_pips=0.3, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10, max_json_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 23:00:54,469 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 23:00:54,495 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 23:00:54,495 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 23:00:54,496 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 23:00:54,498 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 23:00:54,499 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 23:00:54,499 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 23:00:54,504 - APP.services.mt5_service - DEBUG - Bắt đầu get_active_killzone cho 2025-10-06 23:00:54.500117 với timezone Asia/Ho_Chi_Minh
2025-10-06 23:00:54,504 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: 2025-10-06 23:00:54.500117+07:00, Target TZ: None
2025-10-06 23:00:54,505 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 23:00:54.500117+07:00
2025-10-06 23:00:54,505 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 23:00:54.500117+07:00 trong DST: True
2025-10-06 23:00:54,506 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 23:00:54,506 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 23:00:54,507 - APP.services.mt5_service - DEBUG - Không trong killzone nào.
2025-10-06 23:00:54,507 - APP.core.trading.conditions - INFO - Điều kiện NO-RUN được kích hoạt: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:00:54,508 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-run, Lý do: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:00:54,508 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-run, Thư mục con: None
2025-10-06 23:00:54,582 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 23:00:54,582 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 23:00:54,583 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Run: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:00:54,583 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 23:00:54,584 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 23:00:54,636 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 23:00:55,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:55,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:55,208 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:55,210 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:55,210 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:55,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:55,212 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:55,213 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:55,213 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:55,289 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:55,949 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:55,951 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:55,953 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:56,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:56,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:56,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:56,957 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:56,958 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:56,959 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:56,959 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:56,960 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:56,960 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:57,015 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:57,687 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:57,689 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:57,691 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:00:58,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:00:58,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:00:58,693 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:00:58,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:00:58,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:00:58,695 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:00:58,696 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:00:58,696 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:00:58,697 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:00:58,753 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:00:59,427 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:00:59,430 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:00:59,432 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:00,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:00,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:00,434 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:00,435 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:00,436 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:00,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:00,438 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:00,438 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:00,439 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:00,518 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:01,167 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:01,170 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:01,172 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:02,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:02,173 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:02,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:02,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:02,176 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:02,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:02,178 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:02,178 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:02,179 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:02,229 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:02,923 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:02,925 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:02,927 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:03,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:03,929 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:03,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:03,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:03,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:03,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:03,933 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:03,934 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:03,934 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:04,007 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:04,722 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:04,724 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:04,727 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:05,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:05,728 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:05,729 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:05,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:05,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:05,733 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:05,734 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:05,734 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:05,734 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:05,789 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:06,541 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:06,544 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:06,546 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:07,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:07,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:07,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:07,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:07,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:07,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:07,553 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:07,553 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:07,554 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:07,606 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:08,310 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:08,313 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:08,316 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:09,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:09,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:09,318 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:09,319 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:09,319 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:09,321 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:09,321 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:09,322 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:09,322 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:09,374 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:10,036 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:10,042 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:10,044 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:11,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:11,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:11,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:11,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:11,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:11,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:11,050 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:11,050 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:11,050 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:11,100 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:11,772 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:11,774 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:11,776 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:12,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:12,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:12,778 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:12,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:12,780 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:12,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:12,782 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:12,782 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:12,783 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:12,855 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:13,541 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:13,543 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:13,546 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:14,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:14,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:14,548 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:14,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:14,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:14,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:14,552 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:14,553 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:14,554 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:14,606 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:15,303 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:15,314 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:15,343 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:16,344 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:16,344 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:16,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:16,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:16,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:16,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:16,349 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:16,349 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:16,350 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:16,402 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:17,060 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:17,062 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:17,064 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:18,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:18,066 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:18,067 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 23:01:18,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 23:01:18,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 23:01:18,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:18,070 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 23:01:18,291 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 23:01:18,291 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 23:01:18,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:18,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:18,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:18,295 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:18,295 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:18,296 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:18,296 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:18,359 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:19,092 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:19,094 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:19,097 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:20,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:20,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:20,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:20,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:20,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:20,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:20,103 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:20,103 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:20,103 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:20,156 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:20,813 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:20,816 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:20,817 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:21,818 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:21,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:21,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:21,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:21,822 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:21,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:21,824 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:21,824 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:21,825 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:21,874 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:22,547 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:22,550 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:22,552 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:23,553 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:23,553 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:23,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:23,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:23,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:23,557 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:23,558 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:23,559 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:23,559 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:23,612 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:24,307 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:24,309 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:24,311 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:25,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:25,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:25,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:25,314 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:25,314 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:25,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:25,316 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:25,317 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:25,317 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:25,399 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:26,115 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:26,117 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:26,119 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:27,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:27,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:27,123 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:27,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:27,125 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:27,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:27,127 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:27,128 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:27,128 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:27,196 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:27,869 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:27,872 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:27,874 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:28,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:28,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:28,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:28,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:28,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:28,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:28,879 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:28,880 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:28,880 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:28,930 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:29,619 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:29,621 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:29,623 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:30,624 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:30,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:30,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:30,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:30,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:30,637 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:30,641 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:30,641 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:30,642 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:30,931 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:31,794 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:31,796 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:31,798 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:32,799 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:32,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:32,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:32,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:32,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:32,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:32,805 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:32,805 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:32,806 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:32,866 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:33,574 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:33,576 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:33,578 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:34,579 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:34,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:34,581 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:34,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:34,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:34,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:34,585 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:34,585 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:34,586 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:34,638 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:35,340 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:35,343 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:35,345 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:36,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:36,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:36,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:36,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:36,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:36,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:36,351 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:36,351 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:36,352 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:36,403 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:37,096 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:37,098 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:37,101 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:38,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:38,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:38,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:38,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:38,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:38,106 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:38,107 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:38,107 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:38,108 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:38,156 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:38,848 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:38,850 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:38,852 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:39,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:39,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:39,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:39,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:39,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:39,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:39,859 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:39,859 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:39,859 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:39,909 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:40,581 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:40,583 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:40,585 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:41,585 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:41,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:41,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:41,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:41,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:41,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:41,590 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:41,591 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:41,591 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:41,642 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:42,343 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:42,345 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:42,347 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:43,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:43,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:43,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:43,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:43,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:43,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:43,352 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:43,353 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:43,354 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:43,404 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:44,083 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:44,086 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:44,088 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:45,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:45,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:45,091 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:45,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:45,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:45,094 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:45,094 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:45,095 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:45,095 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:45,171 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:45,866 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:45,869 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:45,871 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:46,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:46,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:46,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:46,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:46,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:46,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:46,878 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:46,878 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:46,879 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:46,951 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:47,651 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:47,654 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:47,656 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:48,657 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:48,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:48,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:48,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:48,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:48,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:48,662 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:48,662 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:48,663 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:48,718 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:49,395 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:49,397 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:49,399 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:50,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:50,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:50,401 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:50,402 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:50,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:50,404 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:50,405 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:50,405 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:50,405 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:50,471 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:51,170 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:51,172 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:51,174 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:52,175 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:52,176 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:52,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:52,178 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:52,178 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:52,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:52,180 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:52,181 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:52,181 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:52,232 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:52,945 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:52,947 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:52,949 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:53,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:53,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:53,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:53,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:53,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:53,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:53,955 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:53,956 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:53,956 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:54,006 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:54,697 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:54,702 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:54,704 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:54,705 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 23:01:54,706 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 23:01:54,706 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 23:01:54,716 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 23:01:54,734 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 23:01:54,735 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=True, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=4.2, min_atr_m5_pips=0.3, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10, max_json_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 23:01:54,736 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 23:01:54,737 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 23:01:54,738 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 23:01:54,738 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 23:01:54,762 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 23:01:54,764 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 23:01:54,764 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 23:01:54,804 - APP.services.mt5_service - DEBUG - Bắt đầu get_active_killzone cho 2025-10-06 23:01:54.765538 với timezone Asia/Ho_Chi_Minh
2025-10-06 23:01:54,805 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: 2025-10-06 23:01:54.765538+07:00, Target TZ: None
2025-10-06 23:01:54,806 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 23:01:54.765538+07:00
2025-10-06 23:01:54,807 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 23:01:54.765538+07:00 trong DST: True
2025-10-06 23:01:54,807 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 23:01:54,808 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 23:01:54,808 - APP.services.mt5_service - DEBUG - Không trong killzone nào.
2025-10-06 23:01:54,809 - APP.core.trading.conditions - INFO - Điều kiện NO-RUN được kích hoạt: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:01:54,809 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-run, Lý do: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:01:54,810 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-run, Thư mục con: None
2025-10-06 23:01:54,867 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 23:01:54,868 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 23:01:54,868 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Run: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:01:54,869 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 23:01:54,869 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 23:01:54,929 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 23:01:55,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:55,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:55,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:55,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:55,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:55,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:55,709 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:55,710 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:55,710 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:55,770 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:56,479 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:56,481 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:56,483 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:57,483 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:57,484 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:57,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:57,486 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:57,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:57,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:57,489 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:57,489 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:57,489 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:57,543 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:58,224 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:58,227 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:58,229 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:01:59,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:01:59,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:01:59,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:01:59,232 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:01:59,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:01:59,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:01:59,235 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:01:59,235 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:01:59,236 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:01:59,287 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:01:59,826 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:01:59,828 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:01:59,830 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:00,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:00,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:00,832 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 23:02:00,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 23:02:00,833 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 23:02:00,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:00,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 23:02:01,057 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 23:02:01,058 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 23:02:01,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:01,059 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:01,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:01,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:01,062 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:01,062 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:01,063 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:01,129 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:01,843 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:01,845 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:01,847 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:02,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:02,849 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:02,849 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:02,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:02,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:02,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:02,853 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:02,853 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:02,854 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:02,929 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:03,581 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:03,584 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:03,587 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:04,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:04,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:04,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:04,590 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:04,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:04,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:04,592 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:04,593 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:04,593 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:04,648 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:05,331 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:05,334 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:05,335 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:06,336 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:06,337 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:06,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:06,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:06,339 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:06,340 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:06,341 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:06,341 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:06,342 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:06,392 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:07,087 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:07,089 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:07,091 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:08,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:08,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:08,093 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:08,095 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:08,095 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:08,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:08,097 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:08,098 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:08,098 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:08,178 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:08,879 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:08,889 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:08,891 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:09,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:09,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:09,893 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:09,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:09,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:09,896 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:09,897 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:09,897 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:09,897 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:09,949 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:10,595 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:10,597 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:10,599 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:11,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:11,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:11,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:11,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:11,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:11,605 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:11,606 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:11,607 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:11,607 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:11,663 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:12,329 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:12,343 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:12,353 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:13,368 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:13,369 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:13,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:13,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:13,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:13,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:13,373 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:13,374 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:13,374 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:13,425 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:14,128 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:14,132 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:14,134 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:15,135 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:15,135 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:15,136 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:15,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:15,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:15,139 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:15,140 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:15,140 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:15,141 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:15,190 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:15,858 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:15,860 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:15,862 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:16,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:16,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:16,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:16,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:16,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:16,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:16,868 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:16,869 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:16,869 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:16,922 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:17,631 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:17,633 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:17,635 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:18,635 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:18,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:18,637 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:18,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:18,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:18,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:18,640 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:18,641 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:18,641 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:18,695 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:19,366 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:19,368 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:19,370 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:20,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:20,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:20,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:20,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:20,374 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:20,375 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:20,376 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:20,377 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:20,377 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:20,426 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:21,117 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:21,119 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:21,121 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:22,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:22,123 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:22,123 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:22,125 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:22,125 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:22,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:22,127 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:22,127 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:22,128 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:22,183 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:22,857 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:22,859 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:22,861 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:23,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:23,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:23,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:23,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:23,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:23,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:23,868 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:23,869 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:23,869 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:23,921 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:24,617 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:24,623 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:24,625 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:25,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:25,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:25,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:25,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:25,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:25,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:25,631 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:25,631 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:25,632 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:25,709 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:26,387 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:26,389 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:26,391 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:27,393 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:27,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:27,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:27,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:27,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:27,397 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:27,398 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:27,398 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:27,399 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:27,446 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:28,102 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:28,104 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:28,106 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:29,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:29,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:29,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:29,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:29,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:29,112 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:29,112 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:29,113 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:29,114 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:29,163 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:29,907 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:29,909 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:29,911 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:30,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:30,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:30,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:30,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:30,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:30,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:30,918 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:30,918 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:30,919 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:30,970 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:31,679 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:31,682 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:31,684 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:32,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:32,686 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:32,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:32,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:32,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:32,690 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:32,690 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:32,691 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:32,691 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:32,765 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:33,452 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:33,455 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:33,457 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:34,457 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:34,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:34,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:34,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:34,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:34,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:34,462 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:34,463 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:34,463 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:34,513 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:35,216 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:35,218 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:35,220 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:36,221 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:36,221 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:36,222 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:36,223 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:36,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:36,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:36,226 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:36,227 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:36,227 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:36,297 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:37,001 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:37,003 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:37,005 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:38,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:38,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:38,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:38,009 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:38,009 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:38,010 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:38,011 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:38,011 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:38,011 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:38,065 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:38,736 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:38,738 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:38,740 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:39,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:39,742 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:39,742 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:39,744 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:39,744 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:39,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:39,746 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:39,746 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:39,747 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:39,795 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:40,469 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:40,471 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:40,473 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:41,474 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:41,474 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:41,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:41,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:41,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:41,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:41,477 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:41,478 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:41,478 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:41,529 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:42,197 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:42,213 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:42,227 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:43,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:43,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:43,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:43,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:43,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:43,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:43,242 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:43,243 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:43,243 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:43,294 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:43,816 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:43,818 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:43,820 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:44,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:44,822 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:44,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:44,824 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:44,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:44,826 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:44,826 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:44,827 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:44,827 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:44,878 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:45,402 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:45,404 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:45,406 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:46,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:46,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:46,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:46,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:46,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:46,410 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:46,411 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:46,411 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:46,411 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:46,463 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:47,038 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:47,041 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:47,043 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:48,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:48,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:48,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:48,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:48,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:48,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:48,048 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:48,049 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:48,049 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:48,096 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:48,613 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:48,615 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:48,617 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:49,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:49,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:49,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:49,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:49,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:49,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:49,623 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:49,623 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:49,624 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:49,671 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:50,208 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:50,210 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:50,212 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:51,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:51,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:51,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:51,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:51,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:51,217 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:51,217 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:51,218 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:51,218 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:51,267 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:51,845 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:51,847 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:51,849 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:52,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:52,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:52,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:52,852 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:52,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:52,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:52,855 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:52,856 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:52,856 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:52,908 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:53,535 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:53,537 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:53,538 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:54,539 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:54,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:54,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:54,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:54,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:54,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:54,544 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:54,544 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:54,544 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:54,594 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:55,130 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:55,132 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:55,134 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:55,134 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 23:02:55,135 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 23:02:55,136 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 23:02:55,145 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 23:02:55,165 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 23:02:55,166 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=True, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=4.2, min_atr_m5_pips=0.3, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10, max_json_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 23:02:55,167 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 23:02:55,169 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 23:02:55,169 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 23:02:55,169 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 23:02:55,171 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 23:02:55,171 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 23:02:55,171 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 23:02:55,174 - APP.services.mt5_service - DEBUG - Bắt đầu get_active_killzone cho 2025-10-06 23:02:55.172306 với timezone Asia/Ho_Chi_Minh
2025-10-06 23:02:55,174 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: 2025-10-06 23:02:55.172306+07:00, Target TZ: None
2025-10-06 23:02:55,175 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 23:02:55.172306+07:00
2025-10-06 23:02:55,176 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 23:02:55.172306+07:00 trong DST: True
2025-10-06 23:02:55,176 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 23:02:55,176 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 23:02:55,177 - APP.services.mt5_service - DEBUG - Không trong killzone nào.
2025-10-06 23:02:55,177 - APP.core.trading.conditions - INFO - Điều kiện NO-RUN được kích hoạt: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:02:55,178 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-run, Lý do: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:02:55,178 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-run, Thư mục con: None
2025-10-06 23:02:55,233 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 23:02:55,234 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 23:02:55,234 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Run: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:02:55,234 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 23:02:55,235 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 23:02:55,240 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 23:02:56,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:56,135 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:56,135 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:56,136 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:56,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:56,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:56,138 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:56,139 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:56,139 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:56,189 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:56,705 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:56,707 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:56,709 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:57,710 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:57,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:57,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:57,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:57,713 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:57,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:57,714 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:57,715 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:57,715 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:57,766 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:58,291 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:58,293 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:58,295 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:02:59,295 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:02:59,296 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:02:59,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:02:59,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:02:59,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:02:59,299 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:02:59,300 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:02:59,300 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:02:59,300 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:02:59,352 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:02:59,898 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:02:59,900 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:02:59,902 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:00,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:00,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:00,904 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 23:03:00,904 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 23:03:00,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 23:03:00,906 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:00,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 23:03:01,146 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 23:03:01,147 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 23:03:01,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:01,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:01,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:01,150 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:01,151 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:01,151 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:01,152 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:01,209 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:01,905 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:01,907 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:01,909 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:02,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:02,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:02,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:02,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:02,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:02,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:02,915 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:02,916 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:02,916 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:02,995 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:03,696 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:03,700 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:03,702 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:04,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:04,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:04,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:04,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:04,706 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:04,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:04,707 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:04,708 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:04,708 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:04,759 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:05,426 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:05,429 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:05,432 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:06,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:06,433 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:06,434 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:06,435 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:06,436 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:06,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:06,438 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:06,438 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:06,439 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:06,490 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:07,176 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:07,178 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:07,180 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:08,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:08,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:08,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:08,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:08,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:08,185 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:08,186 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:08,186 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:08,186 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:08,236 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:08,957 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:08,959 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:08,961 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:09,961 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:09,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:09,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:09,964 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:09,964 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:09,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:09,966 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:09,966 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:09,967 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:10,018 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:10,746 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:10,750 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:10,752 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:11,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:11,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:11,755 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:11,756 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:11,757 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:11,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:11,758 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:11,759 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:11,759 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:11,843 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:12,496 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:12,498 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:12,500 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:13,501 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:13,502 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:13,502 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:13,504 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:13,504 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:13,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:13,506 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:13,507 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:13,508 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:13,583 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:14,279 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:14,284 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:14,286 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:15,287 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:15,287 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:15,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:15,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:15,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:15,291 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:15,292 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:15,292 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:15,292 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:15,365 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:16,041 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:16,043 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:16,046 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:17,046 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:17,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:17,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:17,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:17,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:17,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:17,051 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:17,052 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:17,052 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:17,105 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:17,780 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:17,782 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:17,784 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:18,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:18,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:18,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:18,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:18,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:18,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:18,790 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:18,790 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:18,791 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:18,846 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:19,505 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:19,507 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:19,510 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:20,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:20,511 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:20,512 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:20,513 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:20,514 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:20,515 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:20,516 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:20,517 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:20,517 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:20,566 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:21,276 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:21,278 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:21,280 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:22,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:22,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:22,282 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:22,283 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:22,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:22,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:22,286 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:22,286 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:22,286 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:22,352 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:23,048 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:23,052 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:23,054 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:24,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:24,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:24,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:24,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:24,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:24,059 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:24,059 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:24,060 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:24,060 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:24,110 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:24,767 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:24,769 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:24,771 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:25,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:25,773 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:25,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:25,775 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:25,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:25,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:25,778 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:25,779 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:25,779 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:25,828 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:26,484 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:26,486 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:26,488 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:27,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:27,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:27,491 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:27,493 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:27,493 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:27,494 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:27,495 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:27,495 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:27,496 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:27,544 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:28,202 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:28,205 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:28,207 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:29,208 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:29,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:29,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:29,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:29,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:29,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:29,214 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:29,214 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:29,214 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:29,266 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:29,960 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:29,971 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:29,986 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:30,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:30,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:30,995 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:30,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:30,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:30,999 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:31,000 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:31,000 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:31,001 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:31,052 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:31,795 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:31,797 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:31,798 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:32,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:32,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:32,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:32,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:32,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:32,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:32,804 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:32,805 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:32,805 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:32,859 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:33,538 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:33,554 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:33,566 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:34,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:34,578 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:34,579 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:34,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:34,581 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:34,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:34,582 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:34,583 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:34,583 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:34,635 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:35,320 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:35,322 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:35,324 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:36,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:36,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:36,326 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:36,327 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:36,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:36,329 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:36,330 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:36,330 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:36,331 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:36,386 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:37,063 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:37,065 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:37,067 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:38,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:38,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:38,070 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:38,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:38,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:38,073 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:38,074 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:38,074 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:38,074 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:38,149 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:38,840 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:38,842 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:38,844 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:39,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:39,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:39,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:39,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:39,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:39,849 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:39,850 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:39,850 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:39,850 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:39,900 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:40,616 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:40,628 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:40,630 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:41,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:41,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:41,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:41,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:41,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:41,635 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:41,635 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:41,636 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:41,636 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:41,690 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:42,226 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:42,229 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:42,231 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:43,232 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:43,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:43,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:43,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:43,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:43,236 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:43,237 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:43,237 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:43,238 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:43,288 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:43,806 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:43,809 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:43,811 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:44,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:44,812 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:44,812 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:44,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:44,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:44,815 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:44,816 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:44,816 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:44,816 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:44,866 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:45,413 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:45,414 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:45,416 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:46,416 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:46,417 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:46,418 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:46,418 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:46,419 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:46,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:46,421 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:46,421 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:46,421 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:46,488 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:47,024 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:47,028 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:47,030 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:48,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:48,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:48,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:48,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:48,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:48,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:48,036 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:48,036 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:48,036 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:48,090 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:48,613 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:48,616 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:48,618 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:49,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:49,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:49,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:49,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:49,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:49,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:49,623 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:49,624 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:49,624 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:49,653 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:50,192 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:50,194 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:50,196 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:51,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:51,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:51,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:51,199 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:51,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:51,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:51,201 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:51,202 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:51,202 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:51,268 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:51,830 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:51,834 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:51,836 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:52,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:52,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:52,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:52,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:52,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:52,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:52,841 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:52,841 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:52,842 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:52,873 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:53,484 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:53,487 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:53,488 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:54,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:54,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:54,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:54,491 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:54,491 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:54,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:54,493 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:54,493 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:54,494 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:54,546 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:55,084 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:55,086 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:55,088 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:55,242 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 23:03:55,243 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 23:03:55,244 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 23:03:55,249 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 23:03:55,250 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 23:03:55,250 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=True, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=4.2, min_atr_m5_pips=0.3, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10, max_json_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 23:03:55,251 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 23:03:55,265 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 23:03:55,252 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 23:03:55,279 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 23:03:55,280 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 23:03:55,280 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 23:03:55,281 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 23:03:55,322 - APP.services.mt5_service - DEBUG - Bắt đầu get_active_killzone cho 2025-10-06 23:03:55.281786 với timezone Asia/Ho_Chi_Minh
2025-10-06 23:03:55,323 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: 2025-10-06 23:03:55.281786+07:00, Target TZ: None
2025-10-06 23:03:55,323 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 23:03:55.281786+07:00
2025-10-06 23:03:55,324 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 23:03:55.281786+07:00 trong DST: True
2025-10-06 23:03:55,324 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 23:03:55,325 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 23:03:55,326 - APP.services.mt5_service - DEBUG - Không trong killzone nào.
2025-10-06 23:03:55,330 - APP.core.trading.conditions - INFO - Điều kiện NO-RUN được kích hoạt: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:03:55,364 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-run, Lý do: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:03:55,366 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-run, Thư mục con: None
2025-10-06 23:03:55,515 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 23:03:55,516 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 23:03:55,516 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Run: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:03:55,517 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 23:03:55,517 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 23:03:55,609 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 23:03:56,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:56,089 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:56,089 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:56,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:56,091 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:56,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:56,093 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:56,093 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:56,093 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:56,144 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:56,652 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:56,654 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:56,656 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:57,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:57,657 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:57,657 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:57,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:57,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:57,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:57,661 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:57,661 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:57,662 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:57,709 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:58,297 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:58,304 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:58,306 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:03:59,307 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:03:59,307 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:03:59,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:03:59,309 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:03:59,310 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:03:59,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:03:59,311 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:03:59,312 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:03:59,312 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:03:59,366 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:03:59,931 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:03:59,933 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:03:59,934 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:00,935 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:00,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:00,936 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 23:04:00,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 23:04:00,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 23:04:00,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:00,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 23:04:01,129 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 23:04:01,130 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 23:04:01,130 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:01,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:01,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:01,133 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:01,134 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:01,134 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:01,134 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:01,191 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:01,861 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:01,864 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:01,866 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:02,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:02,867 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:02,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:02,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:02,870 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:02,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:02,872 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:02,872 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:02,873 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:02,925 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:03,583 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:03,585 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:03,587 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:04,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:04,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:04,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:04,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:04,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:04,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:04,594 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:04,594 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:04,595 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:04,643 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:05,347 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:05,351 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:05,353 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:06,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:06,354 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:06,355 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:06,356 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:06,357 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:06,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:06,359 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:06,359 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:06,359 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:06,437 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:07,124 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:07,126 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:07,128 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:08,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:08,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:08,130 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:08,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:08,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:08,133 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:08,133 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:08,134 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:08,134 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:08,188 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:08,870 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:08,873 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:08,875 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:09,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:09,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:09,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:09,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:09,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:09,880 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:09,881 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:09,881 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:09,881 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:09,932 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:10,598 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:10,600 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:10,602 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:11,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:11,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:11,605 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:11,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:11,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:11,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:11,608 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:11,609 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:11,609 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:11,695 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:12,380 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:12,382 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:12,384 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:13,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:13,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:13,386 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:13,387 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:13,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:13,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:13,390 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:13,390 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:13,390 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:13,469 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:14,129 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:14,131 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:14,133 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:15,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:15,135 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:15,136 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:15,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:15,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:15,139 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:15,140 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:15,140 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:15,140 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:15,216 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:15,912 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:15,916 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:15,919 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:16,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:16,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:16,921 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:16,922 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:16,923 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:16,924 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:16,925 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:16,926 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:16,926 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:17,008 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:17,695 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:17,697 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:17,699 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:18,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:18,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:18,701 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:18,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:18,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:18,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:18,705 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:18,705 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:18,706 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:18,783 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:19,455 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:19,458 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:19,460 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:20,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:20,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:20,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:20,463 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:20,464 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:20,465 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:20,466 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:20,466 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:20,466 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:20,520 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:21,183 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:21,185 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:21,187 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:22,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:22,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:22,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:22,189 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:22,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:22,191 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:22,192 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:22,192 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:22,192 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:22,243 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:22,944 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:22,946 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:22,947 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:23,948 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:23,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:23,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:23,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:23,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:23,952 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:23,953 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:23,953 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:23,954 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:24,023 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:24,704 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:24,706 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:24,708 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:25,710 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:25,710 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:25,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:25,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:25,713 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:25,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:25,715 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:25,716 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:25,716 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:25,768 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:26,431 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:26,433 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:26,435 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:27,436 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:27,436 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:27,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:27,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:27,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:27,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:27,441 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:27,441 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:27,441 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:27,495 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:28,262 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:28,265 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:28,267 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:29,268 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:29,269 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:29,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:29,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:29,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:29,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:29,273 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:29,274 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:29,274 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:29,327 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:29,991 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:29,993 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:29,995 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:30,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:30,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:30,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:30,999 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:31,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:31,001 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:31,002 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:31,002 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:31,002 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:31,054 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:31,749 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:31,753 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:31,756 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:32,756 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:32,757 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:32,758 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:32,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:32,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:32,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:32,761 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:32,762 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:32,762 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:32,842 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:33,535 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:33,538 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:33,540 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:34,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:34,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:34,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:34,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:34,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:34,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:34,546 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:34,547 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:34,547 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:34,623 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:35,307 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:35,309 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:35,311 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:36,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:36,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:36,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:36,314 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:36,315 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:36,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:36,317 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:36,317 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:36,317 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:36,370 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:37,055 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:37,057 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:37,059 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:38,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:38,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:38,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:38,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:38,063 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:38,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:38,065 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:38,065 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:38,066 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:38,115 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:38,774 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:38,780 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:38,783 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:39,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:39,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:39,785 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:39,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:39,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:39,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:39,788 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:39,789 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:39,789 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:39,839 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:40,520 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:40,522 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:40,525 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:41,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:41,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:41,527 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:41,528 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:41,529 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:41,530 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:41,531 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:41,531 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:41,532 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:41,582 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:42,245 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:42,247 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:42,249 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:43,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:43,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:44,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:44,477 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:44,478 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:44,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:44,480 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:44,480 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:44,481 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:44,549 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:45,147 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:45,149 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:45,151 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:46,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:46,153 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:46,154 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:46,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:46,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:46,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:46,157 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:46,158 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:46,158 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:46,212 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:46,787 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:46,790 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:46,792 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:47,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:47,793 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:47,793 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:47,794 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:47,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:47,796 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:47,797 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:47,797 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:47,798 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:47,835 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 43, in _fetch_forex_factory_html
    scraper = cloudscraper.create_scraper()
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 319, in create_scraper
    scraper = cls(**kwargs)
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 144, in __init__
    self.user_agent = User_Agent(
                      ~~~~~~~~~~^
        allow_brotli=self.allow_brotli,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        browser=kwargs.pop('browser', None)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 20, in __init__
    self.loadUserAgent(*args, **kwargs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 75, in loadUserAgent
    user_agents = json.load(
        fp,
        object_pairs_hook=OrderedDict
    )
  File "C:\Users\leanhchi\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
                 ~~~~~~~^^
MemoryError
2025-10-06 23:04:47,968 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:48,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:48,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:48,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:48,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:48,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:48,974 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:48,974 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:48,974 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:48,975 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:49,025 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:49,667 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:49,670 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:49,672 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:50,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:50,675 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:50,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:50,677 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:50,677 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:50,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:50,679 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:50,680 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:50,680 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:50,731 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:51,435 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:51,437 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:51,439 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:52,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:52,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:52,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:52,443 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:52,443 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:52,444 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:52,445 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:52,446 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:52,446 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:52,495 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:53,180 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:53,182 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:53,184 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:54,185 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:54,186 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:54,186 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:54,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:54,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:54,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:54,191 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:54,191 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:54,192 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:54,242 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:54,985 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:54,987 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:54,989 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:55,610 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 23:04:55,612 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 23:04:55,612 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 23:04:55,618 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 23:04:55,619 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 23:04:55,619 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=True, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=4.2, min_atr_m5_pips=0.3, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10, max_json_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 23:04:55,620 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 23:04:55,646 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 23:04:55,647 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 23:04:55,648 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 23:04:55,649 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 23:04:55,650 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 23:04:55,650 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 23:04:55,656 - APP.services.mt5_service - DEBUG - Bắt đầu get_active_killzone cho 2025-10-06 23:04:55.650979 với timezone Asia/Ho_Chi_Minh
2025-10-06 23:04:55,656 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: 2025-10-06 23:04:55.650979+07:00, Target TZ: None
2025-10-06 23:04:55,657 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 23:04:55.650979+07:00
2025-10-06 23:04:55,658 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 23:04:55.650979+07:00 trong DST: True
2025-10-06 23:04:55,659 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 23:04:55,660 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 23:04:55,661 - APP.services.mt5_service - DEBUG - Không trong killzone nào.
2025-10-06 23:04:55,661 - APP.core.trading.conditions - INFO - Điều kiện NO-RUN được kích hoạt: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:04:55,662 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-run, Lý do: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:04:55,698 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-run, Thư mục con: None
2025-10-06 23:04:55,750 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 23:04:55,751 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 23:04:55,753 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Run: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:04:55,754 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 23:04:55,754 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 23:04:55,821 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 23:04:55,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:55,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:55,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:55,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:55,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:55,994 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:55,995 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:55,995 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:55,996 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:56,049 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:56,698 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:56,701 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:56,703 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:57,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:57,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:57,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:57,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:57,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:57,709 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:57,709 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:57,710 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:57,710 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:57,773 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:04:58,461 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:04:58,463 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:04:58,465 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:04:59,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:04:59,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:04:59,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:04:59,468 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:04:59,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:04:59,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:04:59,471 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:04:59,471 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:04:59,471 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:04:59,526 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:00,233 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:00,236 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:00,238 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:01,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:01,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:01,240 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:01,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:01,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:01,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:01,244 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:01,244 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:01,245 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:01,294 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:01,956 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:01,959 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:01,960 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:02,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:02,976 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:03,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:03,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:03,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:03,095 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:03,097 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:03,098 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:03,098 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:03,154 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:03,848 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:03,852 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:03,854 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:04,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:04,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:04,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:04,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:04,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:04,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:04,859 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:04,860 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:04,860 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:04,908 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:05,585 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:05,588 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:05,589 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:06,590 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:06,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:06,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:06,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:06,594 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:06,595 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:06,596 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:06,596 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:06,596 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:06,645 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:07,314 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:07,317 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:07,319 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:08,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:08,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:08,321 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:08,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:08,323 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:08,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:08,325 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:08,326 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:08,326 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:08,377 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:09,091 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:09,094 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:09,096 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:10,096 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:10,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:10,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:10,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:10,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:10,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:10,101 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:10,102 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:10,102 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:10,155 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:10,851 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:10,853 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:10,855 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:11,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:11,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:11,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:11,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:11,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:11,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:11,861 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:11,861 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:11,862 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:11,917 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:12,615 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:12,617 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:12,619 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:13,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:13,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:13,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:13,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:13,624 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:13,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:13,626 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:13,626 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:13,626 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:13,677 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:14,363 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:14,365 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:14,367 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:15,368 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:15,369 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:15,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:15,371 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:15,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:15,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:15,374 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:15,375 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:15,375 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:15,425 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:16,115 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:16,119 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:16,122 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:17,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:17,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:17,125 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:17,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:17,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:17,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:17,129 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:17,129 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:17,130 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:17,182 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:17,892 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:17,899 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:17,901 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:18,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:18,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:18,904 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:18,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:18,906 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:18,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:18,908 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:18,908 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:18,908 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:18,957 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:19,619 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:19,622 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:19,624 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:20,624 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:20,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:20,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:20,627 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:20,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:20,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:20,630 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:20,630 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:20,631 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:20,680 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:21,357 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:21,360 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:21,362 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:22,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:22,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:22,364 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:22,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:22,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:22,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:22,368 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:22,368 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:22,368 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:22,417 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:23,133 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:23,135 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:23,137 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:24,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:24,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:24,139 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:24,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:24,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:24,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:24,143 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:24,144 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:24,144 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:24,205 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:24,938 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:24,940 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:24,943 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:25,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:25,944 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:25,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:25,946 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:25,947 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:25,948 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:25,949 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:25,949 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:25,950 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:26,006 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:26,719 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:26,721 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:26,723 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:27,724 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:27,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:27,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:27,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:27,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:27,729 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:27,730 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:27,730 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:27,730 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:27,782 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:28,575 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:28,578 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:28,581 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:29,581 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:29,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:29,582 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:29,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:29,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:29,585 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:29,586 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:29,586 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:29,587 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:29,655 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:30,341 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:30,343 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:30,345 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:31,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:31,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:31,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:31,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:31,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:31,355 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:31,357 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:31,358 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:31,359 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:31,565 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:32,282 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:32,285 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:32,287 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:33,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:33,289 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:33,289 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:33,291 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:33,291 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:33,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:33,293 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:33,293 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:33,294 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:33,346 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:34,041 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:34,043 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:34,047 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:35,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:35,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:35,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:35,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:35,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:35,053 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:35,053 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:35,054 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:35,054 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:35,111 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:35,783 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:35,785 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:35,787 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:36,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:36,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:36,789 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:36,790 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:36,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:36,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:36,792 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:36,793 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:36,793 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:36,845 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:37,530 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:37,534 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:37,536 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:38,537 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:38,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:38,539 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:38,540 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:38,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:38,542 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:38,542 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:38,543 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:38,543 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:38,594 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:39,287 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:39,290 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:39,292 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:40,293 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:40,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:40,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:40,296 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:40,296 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:40,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:40,298 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:40,298 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:40,299 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:40,350 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:41,028 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:41,030 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:41,032 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:42,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:42,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:42,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:42,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:42,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:42,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:42,040 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:42,041 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:42,041 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:42,047 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 43, in _fetch_forex_factory_html
    scraper = cloudscraper.create_scraper()
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 319, in create_scraper
    scraper = cls(**kwargs)
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 144, in __init__
    self.user_agent = User_Agent(
                      ~~~~~~~~~~^
        allow_brotli=self.allow_brotli,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        browser=kwargs.pop('browser', None)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 20, in __init__
    self.loadUserAgent(*args, **kwargs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 75, in loadUserAgent
    user_agents = json.load(
        fp,
        object_pairs_hook=OrderedDict
    )
  File "C:\Users\leanhchi\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
                 ~~~~~~~^^
  File "C:\Users\leanhchi\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 23, in decode
    return codecs.charmap_decode(input,self.errors,decoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
MemoryError
2025-10-06 23:05:42,155 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:43,156 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:43,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:43,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:43,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:43,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:43,161 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:43,162 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:43,162 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:43,162 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:43,164 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 43, in _fetch_forex_factory_html
    scraper = cloudscraper.create_scraper()
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 319, in create_scraper
    scraper = cls(**kwargs)
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 144, in __init__
    self.user_agent = User_Agent(
                      ~~~~~~~~~~^
        allow_brotli=self.allow_brotli,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        browser=kwargs.pop('browser', None)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 20, in __init__
    self.loadUserAgent(*args, **kwargs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 75, in loadUserAgent
    user_agents = json.load(
        fp,
        object_pairs_hook=OrderedDict
    )
  File "C:\Users\leanhchi\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
                 ~~~~~~~^^
MemoryError
2025-10-06 23:05:43,196 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:44,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:44,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:44,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:44,199 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:44,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:44,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:44,201 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:44,202 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:44,202 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:44,204 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 43, in _fetch_forex_factory_html
    scraper = cloudscraper.create_scraper()
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 319, in create_scraper
    scraper = cls(**kwargs)
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 144, in __init__
    self.user_agent = User_Agent(
                      ~~~~~~~~~~^
        allow_brotli=self.allow_brotli,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        browser=kwargs.pop('browser', None)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 20, in __init__
    self.loadUserAgent(*args, **kwargs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 75, in loadUserAgent
    user_agents = json.load(
        fp,
        object_pairs_hook=OrderedDict
    )
  File "C:\Users\leanhchi\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
                 ~~~~~~~^^
MemoryError
2025-10-06 23:05:44,224 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:45,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:45,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:45,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:45,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:45,236 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:45,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:45,238 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:45,238 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:45,239 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:45,241 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 43, in _fetch_forex_factory_html
    scraper = cloudscraper.create_scraper()
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 319, in create_scraper
    scraper = cls(**kwargs)
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 144, in __init__
    self.user_agent = User_Agent(
                      ~~~~~~~~~~^
        allow_brotli=self.allow_brotli,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        browser=kwargs.pop('browser', None)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 20, in __init__
    self.loadUserAgent(*args, **kwargs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 75, in loadUserAgent
    user_agents = json.load(
        fp,
        object_pairs_hook=OrderedDict
    )
  File "C:\Users\leanhchi\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
                 ~~~~~~~^^
MemoryError
2025-10-06 23:05:45,271 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:46,272 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:46,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:46,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:46,275 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:46,276 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:46,277 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:46,278 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:46,279 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:46,279 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:46,281 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 43, in _fetch_forex_factory_html
    scraper = cloudscraper.create_scraper()
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 319, in create_scraper
    scraper = cls(**kwargs)
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 144, in __init__
    self.user_agent = User_Agent(
                      ~~~~~~~~~~^
        allow_brotli=self.allow_brotli,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        browser=kwargs.pop('browser', None)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 20, in __init__
    self.loadUserAgent(*args, **kwargs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 75, in loadUserAgent
    user_agents = json.load(
        fp,
        object_pairs_hook=OrderedDict
    )
  File "C:\Users\leanhchi\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
                 ~~~~~~~^^
MemoryError
2025-10-06 23:05:46,308 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:47,310 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:47,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:47,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:47,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:47,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:47,314 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:47,315 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:47,315 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:47,316 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:47,318 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 43, in _fetch_forex_factory_html
    scraper = cloudscraper.create_scraper()
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 319, in create_scraper
    scraper = cls(**kwargs)
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 144, in __init__
    self.user_agent = User_Agent(
                      ~~~~~~~~~~^
        allow_brotli=self.allow_brotli,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        browser=kwargs.pop('browser', None)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 20, in __init__
    self.loadUserAgent(*args, **kwargs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 75, in loadUserAgent
    user_agents = json.load(
        fp,
        object_pairs_hook=OrderedDict
    )
  File "C:\Users\leanhchi\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
                 ~~~~~~~^^
MemoryError
2025-10-06 23:05:47,345 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:48,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:48,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:48,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:48,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:48,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:48,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:48,351 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:48,352 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:48,352 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:48,354 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 43, in _fetch_forex_factory_html
    scraper = cloudscraper.create_scraper()
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 319, in create_scraper
    scraper = cls(**kwargs)
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\__init__.py", line 144, in __init__
    self.user_agent = User_Agent(
                      ~~~~~~~~~~^
        allow_brotli=self.allow_brotli,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        browser=kwargs.pop('browser', None)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 20, in __init__
    self.loadUserAgent(*args, **kwargs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\cloudscraper\user_agent\__init__.py", line 75, in loadUserAgent
    user_agents = json.load(
        fp,
        object_pairs_hook=OrderedDict
    )
  File "C:\Users\leanhchi\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
                 ~~~~~~~^^
MemoryError
2025-10-06 23:05:48,378 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:49,380 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:49,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:50,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:50,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:50,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:50,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:50,709 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:50,709 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:50,710 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:50,760 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:51,344 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:51,346 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:51,347 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:52,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:52,349 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:52,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:52,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:52,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:52,353 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:52,353 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:52,354 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:52,354 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:52,406 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:53,046 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:53,049 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:53,052 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:54,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:54,053 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:54,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:54,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:54,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:54,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:54,058 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:54,058 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:54,059 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:54,113 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:54,796 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:54,798 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:54,801 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:55,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:55,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:55,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:55,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:55,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:55,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:55,807 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:55,808 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:55,808 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:55,860 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:56,989 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:57,009 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:57,091 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:05:57,105 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 23:05:57,112 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 23:05:57,119 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 23:05:57,162 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 23:05:57,212 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 23:05:57,260 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/leanhchi/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=True, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=True, spread_max_pips=4.2, min_atr_m5_pips=0.3, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=True, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=600), persistence=PersistenceConfig(max_md_reports=10, max_json_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 23:05:57,321 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 23:05:57,457 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 23:05:57,458 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 23:05:57,462 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 23:05:57,481 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 23:05:57,540 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 23:05:57,543 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 23:05:57,550 - APP.services.mt5_service - DEBUG - Bắt đầu get_active_killzone cho 2025-10-06 23:05:57.544772 với timezone Asia/Ho_Chi_Minh
2025-10-06 23:05:57,593 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: 2025-10-06 23:05:57.544772+07:00, Target TZ: None
2025-10-06 23:05:57,595 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 23:05:57.544772+07:00
2025-10-06 23:05:57,601 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 23:05:57.544772+07:00 trong DST: True
2025-10-06 23:05:57,675 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 23:05:57,682 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 23:05:57,723 - APP.services.mt5_service - DEBUG - Không trong killzone nào.
2025-10-06 23:05:57,730 - APP.core.trading.conditions - INFO - Điều kiện NO-RUN được kích hoạt: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:05:57,776 - APP.core.trading.conditions - INFO - Thoát sớm. Giai đoạn: no-run, Lý do: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:05:57,782 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: no-run, Thư mục con: None
2025-10-06 23:05:57,893 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 23:05:57,894 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 23:05:57,895 - APP.core.analysis_worker - INFO - Worker đã thoát một cách có kiểm soát: Điều kiện No-Run: Không chạy ngoài các Kill Zone đã định nghĩa.
2025-10-06 23:05:57,896 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 23:05:57,896 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 23:05:57,971 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 23:05:58,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:05:58,106 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:05:58,106 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:05:58,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:05:58,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:05:58,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:05:58,111 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:05:58,111 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:05:58,112 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:05:58,199 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:05:59,184 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:05:59,194 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:05:59,199 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:00,226 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:00,226 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:00,227 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:00,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:00,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:00,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:00,232 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:00,234 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:00,235 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:00,330 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:01,305 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:01,308 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:01,310 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:02,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:02,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:02,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:02,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:02,314 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:02,315 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:02,315 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:02,316 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:02,316 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:02,379 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:03,093 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:03,095 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:03,098 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:04,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:04,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:04,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:04,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:04,102 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:04,104 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:04,104 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:04,105 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:04,105 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:04,160 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:04,830 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:04,833 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:04,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:05,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:05,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:05,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:05,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:05,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:05,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:05,840 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:05,841 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:05,841 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:05,917 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:06,604 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:06,610 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:06,612 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:07,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:07,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:07,614 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:07,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:07,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:07,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:07,618 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:07,618 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:07,618 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:07,687 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:08,357 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:08,360 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:08,363 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:09,364 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:09,364 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:09,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:09,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:09,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:09,368 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:09,369 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:09,369 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:09,369 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:09,435 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:10,107 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:10,114 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:10,116 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:11,117 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:11,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:11,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:11,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:11,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:11,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:11,122 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:11,122 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:11,123 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:11,201 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:11,859 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:11,862 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:11,864 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:12,865 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:12,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:12,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:12,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:12,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:12,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:12,870 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:12,870 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:12,871 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:12,949 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:13,612 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:13,615 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:13,617 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:14,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:14,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:14,619 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:14,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:14,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:14,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:14,622 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:14,622 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:14,623 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:14,700 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:15,399 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:15,414 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:15,431 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:16,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:16,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:16,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:16,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:16,442 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:16,443 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:16,443 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:16,444 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:16,444 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:16,496 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:17,187 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:17,190 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:17,191 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:18,193 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:18,194 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:18,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:18,196 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:18,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:18,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:18,199 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:18,199 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:18,200 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:18,247 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:18,926 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:18,932 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:18,935 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:19,935 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:19,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:19,937 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:19,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:19,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:19,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:19,940 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:19,940 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:19,941 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:20,019 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:20,699 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:20,711 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:20,730 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:21,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:21,739 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:21,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:21,742 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:21,742 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:21,743 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:21,744 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:21,745 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:21,745 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:21,796 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:22,481 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:22,499 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:22,520 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:23,523 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:23,523 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:23,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:23,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:23,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:23,527 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:23,528 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:23,528 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:23,529 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:23,580 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:24,294 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:24,299 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:24,302 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:25,302 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:25,303 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:25,304 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:25,305 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:25,305 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:25,307 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:25,308 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:25,308 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:25,308 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:25,360 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:26,046 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:26,052 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:26,055 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:27,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:27,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:27,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:27,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:27,059 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:27,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:27,061 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:27,061 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:27,061 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:27,110 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:27,785 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:27,788 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:27,790 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:28,790 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:28,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:28,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:28,793 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:28,794 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:28,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:28,795 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:28,796 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:28,796 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:28,845 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:29,656 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:29,660 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:29,662 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:30,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:30,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:30,664 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:30,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:30,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:30,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:30,667 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:30,667 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:30,668 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:30,719 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:31,406 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:31,408 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:31,411 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:32,412 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:32,412 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:32,413 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:32,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:32,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:32,416 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:32,416 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:32,417 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:32,417 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:32,476 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:33,197 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:33,241 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:33,243 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:34,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:34,244 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:34,245 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:34,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:34,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:34,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:34,248 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:34,249 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:34,249 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:34,299 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:34,983 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:34,986 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:34,988 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:35,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:35,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:35,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:35,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:35,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:35,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:35,993 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:35,994 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:35,994 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:36,045 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:36,730 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:36,733 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:36,735 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:37,736 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:37,736 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:37,737 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:37,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:37,738 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:37,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:37,740 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:37,740 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:37,741 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:37,792 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:38,465 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:38,467 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:38,468 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:39,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:39,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:39,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:39,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:39,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:39,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:39,474 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:39,474 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:39,475 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:39,548 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:40,224 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:40,226 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:40,228 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:41,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:41,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:41,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:41,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:41,232 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:41,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:41,233 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:41,234 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:41,234 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:41,285 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:41,925 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:41,927 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:41,929 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:42,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:42,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:42,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:42,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:42,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:42,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:42,934 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:42,935 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:42,935 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:42,989 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:43,604 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:43,611 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:43,613 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:44,614 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:44,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:44,885 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 23:06:44,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 23:06:44,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 23:06:44,887 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:44,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 23:06:45,086 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 23:06:45,087 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 23:06:45,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:45,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:45,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:45,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:45,090 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:45,091 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:45,091 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:45,170 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:45,687 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:45,689 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:45,691 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:46,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:46,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:46,693 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:46,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:46,695 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:46,696 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:46,697 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:46,697 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:46,698 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:46,749 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:47,460 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:47,463 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:47,465 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:48,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:48,466 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:48,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:48,468 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:48,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:48,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:48,472 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:48,472 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:48,473 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:48,531 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 23:06:49,219 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 403 None
2025-10-06 23:06:49,221 - APP.services.news_service - ERROR - ⚠️ Lỗi không xác định khi lấy dữ liệu từ Forex Factory
Traceback (most recent call last):
  File "C:\tool\app_gemini\APP\services\news_service.py", line 45, in _fetch_forex_factory_html
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\tool\app_gemini\.venv\Lib\site-packages\requests\models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://www.forexfactory.com/calendar
2025-10-06 23:06:49,223 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 23:06:50,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 23:06:50,226 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 23:06:50,227 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 23:06:50,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 23:06:50,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 23:06:50,230 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 23:06:50,231 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 23:06:50,232 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 23:06:50,232 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 23:06:50,272 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
=======
2025-10-06 13:08:32,687 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 7325.000000000273}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 44278.00000000025}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 13692.000000000462}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 39686.9999999999}]
2025-10-06 13:08:32,698 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-06 13:08:32,703 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}
2025-10-06 13:08:32,708 - APP.services.mt5_service - DEBUG - Prev day close: 3909.511
2025-10-06 13:08:32,711 - APP.services.mt5_service - DEBUG - Day range: 61.172000000000025, Day range % of ADR20: 131.78834841226845
2025-10-06 13:08:32,713 - APP.services.mt5_service - DEBUG - Position in day range: 0.723827895115416
2025-10-06 13:08:32,714 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:08:32,716 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:08:32.715530+07:00
2025-10-06 13:08:32,717 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:08:32.715530+07:00
2025-10-06 13:08:32,719 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:08:32.715530+07:00 trong DST: True
2025-10-06 13:08:32,720 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:08:32,722 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:08:32,725 - APP.services.mt5_service - DEBUG - Killzone active: asia, Mins to next killzone: None
2025-10-06 13:08:32,727 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:08:32,729 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:08:32,732 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '3700', 'price': 3928.37, 'distance_pips': 0.3}, {'level': '3725', 'price': 3928.372, 'distance_pips': 0.05}, {'level': '3750', 'price': 3928.375, 'distance_pips': 0.2}, {'level': '3775', 'price': 3928.378, 'distance_pips': 0.45}]
2025-10-06 13:08:32,734 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 0.8310568028429733}
2025-10-06 13:08:32,736 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:08:32,738 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:08:32,739 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:08:32,741 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3928.373
2025-10-06 13:08:32,743 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:08:32,745 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:08:32,748 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:08:32,749 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-06 13:08:32,751 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-06 13:08:32,752 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3928.373
2025-10-06 13:08:32,754 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:08:32,756 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-06 13:08:32,760 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:08:32,764 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-06 13:08:32,765 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-06 13:08:32,767 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3928.373
2025-10-06 13:08:32,770 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 2 FVG.
2025-10-06 13:08:32,772 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-06 13:08:32,777 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:08:32,780 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-06 13:08:32,781 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:08:32,785 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3928.373
2025-10-06 13:08:32,787 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:08:32,788 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:08:32,792 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:08:32,801 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-06 13:08:32,804 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:08:32,806 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:08:32,809 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:08:32,811 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:08:32,815 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:08:32,816 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:08:32,821 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:08:32,833 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:08:32,836 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:08:32,845 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:08:32,858 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:08:32,869 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:08:32,874 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:08:32,877 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:08:32,882 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:08:32,885 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:08:32,887 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:08:32,891 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:32,894 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:08:32,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:32,903 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:08:32,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:32,905 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:08:32,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:32,915 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-06 13:08:32,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:32,921 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-06 13:08:32,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:32,931 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-06 13:08:32,934 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:32,935 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-06 13:08:32,937 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:32,940 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:08:32,950 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-06 13:08:32,955 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 13:08:32,957 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 13:08:32,959 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 13:08:33,031 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 13:08:33,947 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:33,947 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:33,947 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:33,947 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:33,947 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:33,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:33,957 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:33,961 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:34,513 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-06 13:08:34,699 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-06 13:08:34,969 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:34,989 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 9 sự kiện có tác động mạnh.
2025-10-06 13:08:34,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:34,989 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:08:34,999 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:34,999 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-06 13:08:34,999 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:34,999 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:08:35,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:35,004 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-06 13:08:35,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:35,009 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': asia
2025-10-06 13:08:35,010 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:35,012 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-06 13:08:35,014 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:35,018 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -13}, {'price': 3924.713, 'bar_index': -25}, {'price': 3921.048, 'bar_index': -37}, {'price': 3891.731, 'bar_index': -62}, {'price': 3890.722, 'bar_index': -70}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -101}, {'price': 3854.751, 'bar_index': -79}, {'price': 3855.394, 'bar_index': -98}, {'price': 3856.896, 'bar_index': -88}, {'price': 3860.23, 'bar_index': -92}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 72}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 34}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 31}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 25}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 148}, {'price': 3940.405, 'bar_index': 143}, {'price': 3933.447, 'bar_index': 135}, {'price': 3933.426, 'bar_index': 157}, {'price': 3932.103, 'bar_index': 132}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -13}, {'price': 3873.943, 'bar_index': -8}, {'price': 3876.944, 'bar_index': 25}, {'price': 3880.541, 'bar_index': 7}, {'price': 3880.665, 'bar_index': 12}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3933.942, 'bottom': 3933.307}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 147}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 177}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 178}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 172}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 169}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 159}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -18}, {'price': 3940.699, 'bar_index': -28}, {'price': 3940.405, 'bar_index': -42}, {'price': 3939.578, 'bar_index': -32}, {'price': 3939.324, 'bar_index': -37}], 'swing_lows_SSL': [{'price': 3927.425, 'bar_index': 15}, {'price': 3928.391, 'bar_index': 29}, {'price': 3928.792, 'bar_index': -74}, {'price': 3929.036, 'bar_index': -78}, {'price': 3929.125, 'bar_index': 7}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3929.323, 'bottom': 3929.096}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3932.433, 'bottom': 3931.055, 'bar_index': 114}], 'liquidity_voids_m1': [{'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 86}, {'type': 'Bullish', 'top': 3932.778, 'bottom': 3928.391, 'bar_index': 79}, {'type': 'Bullish', 'top': 3931.892, 'bottom': 3929.934, 'bar_index': 67}], 'premium_discount_m1': {'high': 3945.267, 'low': 3928.391, 'equilibrium': 3936.8289999999997, 'status': 'Discount'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3928.391, 'break_bar_index': -4}}
2025-10-06 13:08:35,042 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 19, 30, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}]}
2025-10-06 13:08:35,052 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 19, 30, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}]}
2025-10-06 13:08:35,055 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:08:35,056 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-06 13:08:35,060 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:08:35,075 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-06 13:08:35,076 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh.
2025-10-06 13:08:35,077 - APP.analysis.image_processor - DEBUG - Đang thử tải cache upload.
2025-10-06 13:08:35,080 - APP.analysis.image_processor - DEBUG - Đã tải cache upload với 8 mục.
2025-10-06 13:08:35,087 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_H1.png: 18965:1759323273:418e463f085b02cc
2025-10-06 13:08:35,089 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_H1.png. Tên từ xa: files/tpa0splt16rw
2025-10-06 13:08:35,090 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_H1.png, đang lấy thông tin file...
2025-10-06 13:08:35,570 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_H1.png
2025-10-06 13:08:35,570 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M1.png: 22804:1759323273:6525132933ac9b42
2025-10-06 13:08:35,570 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M1.png. Tên từ xa: files/ajq3848x5w7t
2025-10-06 13:08:35,570 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M1.png, đang lấy thông tin file...
2025-10-06 13:08:35,849 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M1.png
2025-10-06 13:08:35,850 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M15.png: 6121:1759323273:1b4aaeed377c2eb8
2025-10-06 13:08:35,851 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M15.png. Tên từ xa: files/jbroa237cwvw
2025-10-06 13:08:35,853 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M15.png, đang lấy thông tin file...
2025-10-06 13:08:36,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:36,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:36,034 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:36,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:36,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:36,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:36,041 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:36,043 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:36,126 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M15.png
2025-10-06 13:08:36,128 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M5.png: 6521:1759323273:424827d52f0ab96d
2025-10-06 13:08:36,130 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M5.png. Tên từ xa: files/1r8cfv90ib9s
2025-10-06 13:08:36,131 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M5.png, đang lấy thông tin file...
2025-10-06 13:08:36,388 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M5.png
2025-10-06 13:08:36,398 - APP.analysis.image_processor - DEBUG - Đang lưu cache upload với 8 mục.
2025-10-06 13:08:36,398 - APP.analysis.image_processor - DEBUG - Đã lưu cache upload thành công.
2025-10-06 13:08:36,398 - APP.core.analysis_worker - DEBUG - BẮT ĐẦU GIAI ĐOẠN 4: Gọi Model AI
2025-10-06 13:08:36,398 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:08:36,407 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:08:36,408 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:08:36,410 - APP.analysis.prompt_builder - DEBUG - Không có vị thế nào, chọn prompt 'no entry'.
2025-10-06 13:08:36,412 - APP.analysis.prompt_builder - DEBUG - Bắt đầu xây dựng prompt cuối cùng.
2025-10-06 13:08:36,418 - APP.analysis.prompt_builder - DEBUG - Đã xây dựng xong prompt cuối cùng.
2025-10-06 13:08:36,419 - APP.core.analysis_worker - DEBUG - --- PROMPT FINAL GỬI ĐẾN AI ---
VAI TRÒ & BỐI CẢNH
- Bạn là một nhà giao dịch ICT chuyên nghiệp với nhiệm vụ phân tích thị trường theo phương pháp Top-Down để tìm kiếm các cơ hội giao dịch có xác suất thắng cao nhất.
- Bạn phải suy luận một cách logic, xâu chuỗi các bằng chứng từ khung thời gian cao xuống thấp để xây dựng một "câu chuyện thị trường" chặt chẽ.

---
### NHIỆM VỤ 1: QUY TRÌNH PHÂN TÍCH TOP-DOWN 4 BƯỚC

Hãy thực hiện quy trình sau một cách tuần tự. **Trong mỗi bước, hãy trích dẫn dữ liệu cụ thể từ `EXTRACT_JSON` và `CONCEPT_VALUE_TABLE` để làm bằng chứng.**

**BƯỚC 1: XÁC ĐỊNH BỐI CẢNH VÀ MỤC TIÊU GIÁ TRÊN H1 (Draw on Liquidity)**
- **Phân tích Order Flow**: Dòng chảy lệnh trên H1 đang là Bullish hay Bearish? (Bằng chứng: `EXTRACT_JSON.tf.H1.mss_bos.type` và vị trí giá so với `EXTRACT_JSON.tf.H1.trend_refs.EMA.ema50`).
- **Xác định Draw on Liquidity**: Giá có khả năng cao sẽ tìm đến đâu? Một vùng thanh khoản (`EXTRACT_JSON.tf.H1.liquidity.swing_highs_BSL` hoặc `swing_lows_SSL`) hay một vùng mất cân bằng (`EXTRACT_JSON.tf.H1.fvgs`)? Nêu rõ mục tiêu giá cụ thể.
- **Kết luận H1**: Tóm tắt lại bối cảnh H1 (ví dụ: "H1 đang Bullish (BOS), giá có khả năng tìm về vùng BSL tại 1.2345").

**BƯỚC 2: TÌM VÙNG CHỜ CHẤT LƯỢNG TRÊN M15 (POI of Interest)**
- Dựa trên bối cảnh H1, hãy tìm một POI (từ `EXTRACT_JSON.tf.M15.order_blocks` hoặc `fvgs`) trên M15 có khả năng cao sẽ đảo chiều giá.
- **Đánh giá chất lượng POI**: POI này có nằm trong vùng Premium/Discount hợp lý không (`EXTRACT_JSON.tf.H1.premium_discount.status`)? Nó có quét thanh khoản trước khi hình thành không?
- **Kết luận M15**: Nêu rõ POI được chọn và lý do (ví dụ: "Chọn FVG M15 tại 1.2300-1.2310 vì nó nằm trong vùng Discount của H1").

**BƯỚC 3: TÌM TÍN HIỆU XÁC NHẬN TRÊN M5/M1 (Entry Confirmation)**
- Khi giá tiếp cận POI M15, bạn đang chờ đợi tín hiệu gì trên M5 hoặc M1?
- **Mô tả tín hiệu**: Đó là một sự thay đổi cấu trúc (`MSS`) ngược hướng với xu hướng hồi? (Theo dõi `EXTRACT_JSON.tf.M5.mss_bos.type`).
- **Kết luận M5/M1**: Nêu rõ tín hiệu xác nhận đang chờ đợi (ví dụ: "Chờ giá tạo MSS trên M5 sau khi chạm vào FVG M15").

**BƯỚC 4: TỔNG HỢP, XẾP HẠNG VÀ LẬP KẾ HOẠCH**
- **Xây dựng Câu chuyện Thị trường**: Tổng hợp 3 bước trên thành một câu chuyện thị trường hoàn chỉnh.
- **Xếp hạng Setup**: Dựa trên mức độ hợp lưu, xếp hạng setup: `A+`, `B`, `C`, hoặc `Không có`.
- **Lập Kế hoạch**: Nếu hạng là `A+` hoặc `B`, hãy lập một kế hoạch giao dịch chi tiết.

---
### NHIỆM VỤ 2: TẠO ĐỐI TƯỢNG JSON CHUYÊN SÂU

Tổng hợp toàn bộ kết quả phân tích của bạn vào đối tượng JSON sau. **Đây phải là phần đầu tiên trong phản hồi của bạn.**

```json
{
  "cycle": "[ĐIỀN THỜI GIAN HIỆN TẠI]",
  "symbol": "[LẤY TỪ DỮ LIỆU]",
  "mode": "expert_setup_evaluation",
  "market_narrative": "[CÂU CHUYỆN THỊ TRƯỜNG TỪ BƯỚC 4]",
  "setup_grade": "[A+/B/C/Không có]",
  "reasoning_summary": "[GIẢI THÍCH NGẮN GỌN VÌ SAO XẾP HẠNG SETUP NHƯ VẬY]",
  "top_down_analysis": {
    "h1_context": {
      "order_flow": "[Bullish/Bearish]",
      "draw_on_liquidity": "[Mô tả mục tiêu giá, ví dụ: BSL tại 1.2345]"
    },
    "m15_poi": {
      "type": "[Loại POI, ví dụ: FVG, Order Block]",
      "price_zone": "[Vùng giá của POI]",
      "quality_assessment": "[Đánh giá ngắn gọn chất lượng POI]"
    },
    "m5_m1_confirmation": {
      "status": "[Đã có/Đang chờ]",
      "signal": "[Mô tả tín hiệu, ví dụ: Chờ MSS trên M5]"
    }
  },
  "proposed_plan": {
    "direction": "[long/short hoặc null]",
    "entry": "[Giá hoặc 0.0]",
    "sl": "[Giá hoặc 0.0]",
    "tp1": "[Giá hoặc 0.0]",
    "tp2": "[Giá hoặc 0.0]",
    "risk_multiplier": "[1.0 cho A+, 0.5 cho B, 0.0 cho các trường hợp khác]"
  }
}
```

---
### NHIỆM VỤ 3: VIẾT BÁO CÁO PHÂN TÍCH CHI TIẾT

Dựa vào đối tượng JSON bạn vừa tạo, hãy viết một báo cáo chuyên nghiệp.

A) **TÓM TẮT NHANH (7 DÒNG):**
1.  **Câu chuyện chính:** [Lấy từ `market_narrative`]
2.  **Xếp hạng Setup:** [Lấy từ `setup_grade`]
3.  **Lệnh:** [long/short/Chờ]
4.  **Entry:** [Giá từ `proposed_plan`]
5.  **SL:** [Giá từ `proposed_plan`]
6.  **TP1/TP2:** [Giá từ `proposed_plan`]
7.  **Lý do chính:** [Lấy từ `reasoning_summary`]

B) **PHÂN TÍCH CHUYÊN SÂU:**
   - Diễn giải chi tiết hơn về `market_narrative`, xâu chuỗi các bằng chứng từ H1 xuống M1.
   - Giải thích tại sao các yếu tố trong `top_down_analysis` lại dẫn đến việc xếp hạng `setup_grade` như vậy.
   - Nếu có kế hoạch giao dịch, hãy bảo vệ luận điểm tại sao đây là một cơ hội xác suất cao. Nếu không, hãy giải thích tại sao nên đứng ngoài thị trường lúc này.

---
**Dữ liệu thị trường và tài khoản (MT5):**
```json
{'symbol': 'XAUUSD', 'generated_at': '2025-10-06 13:08:32', 'broker_time': '2025-10-06T06:08:32+00:00', 'account': {'balance': 175.98, 'equity': 175.98, 'free_margin': 175.98, 'currency': 'USD', 'leverage': 2000}, 'positions': [], 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}, 'symbol_rules': {'volume_min': 0.01, 'volume_max': 200.0, 'volume_step': 0.01, 'trade_tick_value': 0.1, 'trade_tick_size': 0.001, 'stop_level_points': 0, 'freeze_level_points': 0, 'margin_initial': 0.0, 'margin_maintenance': 0.0}, 'pip': {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}, 'tick': {'bid': 3928.373, 'ask': 3928.41, 'last': 0.0, 'time': 1759730912}, 'tick_stats_5m': {'ticks_per_min': 516, 'median_spread': 37.0, 'p90_spread': 37}, 'tick_stats_30m': {'ticks_per_min': 321, 'median_spread': 37.0, 'p90_spread': 37}, 'levels': {'daily': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, 'prev_day': {'high': 3921.048, 'low': 3884.095}, 'weekly': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}, 'prev_week': {'high': 3897.216, 'low': 3763.408}, 'monthly': {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}}, 'day_open': 3888.686, 'prev_day_close': 3909.511, 'adr': {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}, 'day_range': 61.172000000000025, 'day_range_pct_of_adr20': 131.78834841226845, 'position_in_day_range': 0.723827895115416, 'sessions_today': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'session_liquidity': {}, 'volatility': {'ATR': {'M5': 4.452162580612226, 'M1': 2.1341327851515657, 'M15': 6.818165642038929, 'H1': 12.564412245880705}}, 'volatility_regime': 'trending', 'trend_refs': {'EMA': {'M1': {'ema50': 3932.056107304526, 'ema200': 3933.0368043021444}, 'M5': {'ema50': 3927.328108189537, 'ema200': 3905.2734900201226}, 'M15': {'ema50': 3910.219523844974, 'ema200': 3879.190963485924}, 'H1': {'ema50': 3882.4706219025716, 'ema200': 3843.6820695941683}}}, 'vwap': {'day': 3934.411472337652, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}, 'kills': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'is_silver_bullet_window': False, 'killzone_active': 'asia', 'mins_to_next_killzone': None, 'key_levels_nearby': [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 7325.000000000273}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 44278.00000000025}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 13692.000000000462}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 39686.9999999999}], 'round_levels': [{'level': '3700', 'price': 3928.37, 'distance_pips': 0.3}, {'level': '3725', 'price': 3928.372, 'distance_pips': 0.05}, {'level': '3750', 'price': 3928.375, 'distance_pips': 0.2}, {'level': '3775', 'price': 3928.378, 'distance_pips': 0.45}], 'atr_norm': {'spread_as_pct_of_atr_m5': 0.8310568028429733}, 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -13}, {'price': 3924.713, 'bar_index': -25}, {'price': 3921.048, 'bar_index': -37}, {'price': 3891.731, 'bar_index': -62}, {'price': 3890.722, 'bar_index': -70}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -101}, {'price': 3854.751, 'bar_index': -79}, {'price': 3855.394, 'bar_index': -98}, {'price': 3856.896, 'bar_index': -88}, {'price': 3860.23, 'bar_index': -92}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 72}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 34}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 31}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 25}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 148}, {'price': 3940.405, 'bar_index': 143}, {'price': 3933.447, 'bar_index': 135}, {'price': 3933.426, 'bar_index': 157}, {'price': 3932.103, 'bar_index': 132}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -13}, {'price': 3873.943, 'bar_index': -8}, {'price': 3876.944, 'bar_index': 25}, {'price': 3880.541, 'bar_index': 7}, {'price': 3880.665, 'bar_index': 12}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3933.942, 'bottom': 3933.307}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 147}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 177}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 178}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 172}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 169}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 159}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -18}, {'price': 3940.699, 'bar_index': -28}, {'price': 3940.405, 'bar_index': -42}, {'price': 3939.578, 'bar_index': -32}, {'price': 3939.324, 'bar_index': -37}], 'swing_lows_SSL': [{'price': 3927.425, 'bar_index': 15}, {'price': 3928.391, 'bar_index': 29}, {'price': 3928.792, 'bar_index': -74}, {'price': 3929.036, 'bar_index': -78}, {'price': 3929.125, 'bar_index': 7}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3929.323, 'bottom': 3929.096}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3932.433, 'bottom': 3931.055, 'bar_index': 114}], 'liquidity_voids_m1': [{'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 86}, {'type': 'Bullish', 'top': 3932.778, 'bottom': 3928.391, 'bar_index': 79}, {'type': 'Bullish', 'top': 3931.892, 'bottom': 3929.934, 'bar_index': 67}], 'premium_discount_m1': {'high': 3945.267, 'low': 3928.391, 'equilibrium': 3936.8289999999997, 'status': 'Discount'}, 'mss_m1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3928.391, 'break_bar_index': -4}}, 'risk_model': {}, 'rr_projection': {}, 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 19, 30, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}]}, 'concept_value_table': '| Khái niệm (Concept) | Giá trị (Value) |\n|---|---|\n| Symbol | XAUUSD |\n| Killzone Hiện tại | asia |\n| Chế độ Biến động | trending |\n| H1 Order Flow | Bearish |\n| M15 Structure | Không rõ |\n| Trong Cửa sổ Tin tức | False |\n| Tin tức Sắp tới | None - Unemployment Claims |\n'}
```

---
**Bối cảnh bổ sung từ các báo cáo trước:**


[CONTEXT_COMPOSED]
{"CONTEXT_COMPOSED": {"cycle": "2025-10-06 13:08:32", "trend_checklist": {"trend": "unknown", "enough_ratio": null}, "latest_plan": null, "latest_summary_lines": null, "recent_history_summary": null, "run_meta": {"analysis_id": "2025-10-06T06:08:32Z", "folder_signature": "sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1", "images_tf_map": {"XAUUSD_H1.png": "H1", "XAUUSD_M1.png": "M1", "XAUUSD_M15.png": "M15", "XAUUSD_M5.png": "M5"}}, "running_stats": {"backtest_results": {"status": "not_implemented"}}, "risk_rules": {"max_risk_per_trade_pct": 0.5, "daily_loss_limit_pct": 3.0, "max_trades_per_day": 3}}}

---
**Phân tích các hình ảnh được cung cấp.**
--- KẾT THÚC PROMPT ---
2025-10-06 13:08:36,533 - APP.services.gemini_service - DEBUG - Bắt đầu stream tới Gemini API với 5 lần thử.
2025-10-06 13:08:37,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:37,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:37,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:37,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:37,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:37,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:37,060 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:37,063 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:38,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:38,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:38,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:38,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:38,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:38,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:38,080 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:38,082 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:39,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:39,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:39,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:39,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:39,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:39,095 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:39,097 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:39,099 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:40,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:40,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:40,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:40,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:40,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:40,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:40,117 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:40,120 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:41,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:41,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:41,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:41,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:41,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:41,153 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:41,155 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:41,156 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:42,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:42,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:42,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:42,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:42,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:42,173 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:42,175 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:42,179 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:43,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:43,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:43,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:43,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:43,184 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:43,195 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:43,199 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:43,201 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:44,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:44,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:44,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:44,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:44,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:44,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:44,216 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:44,224 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:45,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:45,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:45,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:45,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:45,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:45,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:45,244 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:45,248 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:46,258 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:46,258 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:46,258 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:46,258 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:46,258 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:46,268 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:46,269 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:46,271 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:47,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:47,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:47,280 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:08:47,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:08:47,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:08:47,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:47,289 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:08:47,526 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:08:47,526 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:08:47,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:47,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:47,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:47,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:47,541 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:47,543 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:48,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:48,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:48,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:48,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:48,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:48,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:48,559 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:48,562 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:49,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:49,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:49,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:49,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:49,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:49,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:49,578 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:49,581 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:50,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:50,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:50,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:50,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:50,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:50,587 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:50,596 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:50,600 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:51,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:51,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:51,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:51,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:51,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:51,612 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:51,615 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:51,617 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:52,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:52,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:52,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:52,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:52,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:52,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:52,633 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:52,637 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:53,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:53,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:53,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:53,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:53,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:53,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:53,649 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:53,651 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:54,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:54,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:54,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:54,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:54,670 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:54,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:54,679 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:54,683 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:55,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:55,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:55,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:55,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:55,687 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:55,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:55,698 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:55,701 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:56,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:56,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:56,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:56,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:56,704 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:56,714 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:56,715 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:56,718 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:57,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:57,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:57,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:57,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:57,723 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:57,733 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:57,735 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:57,737 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:58,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:58,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:58,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:58,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:58,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:58,747 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:58,756 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:58,758 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:08:59,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:08:59,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:08:59,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:08:59,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:08:59,769 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:08:59,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:08:59,782 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:08:59,785 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:00,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:00,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:00,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:00,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:00,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:00,803 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:00,805 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:00,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:01,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:01,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:01,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:01,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:01,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:01,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:01,823 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:01,826 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:02,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:02,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:02,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:02,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:02,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:02,831 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:02,839 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:02,843 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:03,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:03,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:03,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:03,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:03,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:03,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:03,858 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:03,860 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:04,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:04,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:04,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:04,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:04,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:04,862 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:04,871 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:04,873 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:05,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:05,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:05,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:05,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:05,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:05,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:05,894 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:05,898 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:06,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:06,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:06,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:06,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:06,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:06,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:06,930 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:06,932 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:07,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:07,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:07,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:07,947 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:07,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:07,952 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:07,954 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:07,956 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:08,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:08,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:08,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:08,953 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:08,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:08,967 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:08,969 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:08,971 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:09,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:09,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:09,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:09,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:09,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:09,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:09,991 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:09,994 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:11,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:11,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:11,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:11,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:11,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:11,009 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:11,011 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:11,012 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:12,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:12,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:12,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:12,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:12,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:12,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:12,031 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:12,033 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:13,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:13,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:13,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:13,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:13,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:13,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:13,048 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:13,050 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:14,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:14,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:14,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:14,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:14,057 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:14,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:14,066 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:14,069 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:15,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:15,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:15,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:15,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:15,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:15,080 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:15,084 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:15,088 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:16,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:16,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:16,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:16,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:16,097 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:16,106 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:16,107 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:16,110 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:17,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:17,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:17,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:17,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:17,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:17,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:17,128 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:17,130 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:18,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:18,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:18,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:18,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:18,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:18,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:18,148 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:18,153 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:19,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:19,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:19,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:19,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:19,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:19,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:19,200 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:19,201 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:20,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:20,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:20,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:20,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:20,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:20,207 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:20,215 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:20,218 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:21,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:21,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:21,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:21,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:21,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:21,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:21,234 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:21,234 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:22,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:22,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:22,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:22,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:22,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:22,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:22,249 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:22,251 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:23,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:23,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:23,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:23,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:23,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:23,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:23,261 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:23,264 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:24,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:24,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:24,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:24,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:24,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:24,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:24,280 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:24,282 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:25,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:25,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:25,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:25,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:25,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:25,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:25,292 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:25,294 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:26,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:26,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:26,297 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:09:26,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:09:26,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:09:26,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:26,304 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:09:26,524 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:09:26,524 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:09:26,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:26,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:26,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:26,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:26,534 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:26,537 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:27,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:27,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:27,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:27,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:27,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:27,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:27,556 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:27,558 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:28,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:28,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:28,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:28,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:28,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:28,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:28,568 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:28,570 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:29,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:29,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:29,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:29,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:29,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:29,577 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:29,586 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:29,589 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:30,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:30,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:30,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:30,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:30,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:30,597 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:30,605 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:30,608 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:31,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:31,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:31,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:31,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:31,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:31,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:31,632 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:31,634 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:32,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:32,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:32,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:32,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:32,641 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:32,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:32,652 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:32,654 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:33,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:33,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:33,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:33,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:33,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:33,669 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:33,671 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:33,673 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:34,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:34,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:34,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:34,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:34,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:34,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:34,694 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:34,696 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:35,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:35,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:35,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:35,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:35,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:35,707 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:35,716 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:35,718 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:36,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:36,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:36,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:36,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:36,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:36,734 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:36,737 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:36,740 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:37,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:37,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:37,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:37,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:37,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:37,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:37,762 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:37,765 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:38,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:38,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:38,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:38,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:38,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:38,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:38,778 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:38,780 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:39,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:39,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:39,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:39,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:39,784 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:39,794 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:39,796 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:39,799 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:40,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:40,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:40,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:40,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:40,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:40,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:40,814 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:40,816 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:41,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:41,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:41,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:41,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:41,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:41,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:41,831 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:41,831 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:42,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:42,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:42,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:42,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:42,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:42,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:42,854 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:42,856 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:43,701 - APP.services.gemini_service - INFO - Lần thử 1: Kết nối stream tới Gemini API thành công.
2025-10-06 13:09:43,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:43,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:43,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:43,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:43,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:43,858 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:43,867 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:43,869 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:44,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:44,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:44,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:44,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:44,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:44,881 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:44,883 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:44,885 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:45,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:45,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:45,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:45,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:45,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:45,896 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:45,898 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:45,900 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:46,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:46,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:46,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:46,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:46,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:46,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:46,912 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:46,915 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:47,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:47,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:47,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:47,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:47,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:47,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:47,928 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:47,931 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:48,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:48,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:48,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:48,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:48,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:48,940 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:48,948 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:48,950 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:49,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:49,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:49,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:49,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:49,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:49,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:49,963 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:49,966 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:50,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:50,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:50,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:50,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:50,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:50,981 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:50,983 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:50,985 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:51,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:51,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:51,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:51,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:51,988 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:51,997 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:51,999 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:52,001 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:53,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:53,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:53,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:53,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:53,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:53,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:53,018 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:53,020 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:54,038 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:54,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:54,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:54,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:54,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:54,048 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:54,056 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:54,058 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:55,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:55,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:55,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:55,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:55,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:55,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:55,098 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:55,100 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:56,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:56,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:56,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:56,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:56,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:56,109 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:56,111 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:56,113 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:57,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:57,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:57,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:57,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:57,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:57,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:57,131 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:57,132 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:58,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:58,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:58,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:58,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:58,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:58,141 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:58,150 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:58,152 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:09:59,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:09:59,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:09:59,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:09:59,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:09:59,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:09:59,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:09:59,164 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:09:59,166 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:00,176 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:00,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:00,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:00,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:00,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:00,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:00,228 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:00,230 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:01,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:01,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:01,239 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:10:01,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:10:01,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:10:01,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:01,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:10:01,465 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:10:01,465 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:10:01,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:01,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:01,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:01,481 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:01,483 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:01,484 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:02,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:02,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:02,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:02,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:02,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:02,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:02,498 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:02,503 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:03,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:03,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:03,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:03,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:03,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:03,514 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:03,517 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:03,518 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:03,899 - APP.services.gemini_service - DEBUG - Stream từ Gemini API hoàn tất.
2025-10-06 13:10:03,899 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 5: Thực thi hoặc quản lý giao dịch.
2025-10-06 13:10:03,899 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:10:03,899 - APP.core.analysis_worker - INFO - Không có lệnh. Tìm kiếm cơ hội vào lệnh mới.
2025-10-06 13:10:03,899 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 13:10:03,908 - APP.persistence.md_handler - DEBUG - Bắt đầu lưu báo cáo Markdown.
2025-10-06 13:10:03,913 - APP.persistence.md_handler - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports\report_20251006_131003.md
2025-10-06 13:10:03,919 - APP.persistence.md_handler - DEBUG - Bắt đầu trích xuất báo cáo human-readable.
2025-10-06 13:10:03,922 - APP.persistence.md_handler - WARNING - Không tìm thấy điểm bắt đầu báo cáo hợp lệ, trả về toàn bộ nội dung.
2025-10-06 13:10:03,925 - APP.persistence.md_handler - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251006_131003.md
2025-10-06 13:10:03,928 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: *.md, giữ lại: 10 file.
2025-10-06 13:10:03,936 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:10:03,939 - APP.persistence.md_handler - DEBUG - Kết thúc việc lưu báo cáo Markdown.
2025-10-06 13:10:03,942 - APP.persistence.json_handler - DEBUG - JsonSaver được khởi tạo cho workspace: C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-06 13:10:03,944 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:10:03,947 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:10:03,953 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:10:03,954 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:10:03,956 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:10:03,960 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:10:03,963 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:10:03,965 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:10:03,971 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:10:03,972 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:10:03,974 - APP.persistence.json_handler - DEBUG - Bắt đầu quá trình lưu báo cáo JSON.
2025-10-06 13:10:03,976 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:10:03,977 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:10:03,982 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:10:03,986 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:10:03,988 - APP.persistence.json_handler - DEBUG - Đã thêm 8 khối JSON vào data_to_save.
2025-10-06 13:10:03,990 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-06 13:10:03,991 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-06 13:10:03,992 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:10:03,995 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:10:03,996 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:10:03,998 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:10:04,003 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:10:04,005 - APP.analysis.report_parser - INFO - Trích xuất cài đặt thành công từ khối JSON.
2025-10-06 13:10:04,006 - APP.persistence.json_handler - DEBUG - Đã parse và lưu plan: {'direction': 'short', 'entry': 3930.0, 'sl': 3934.5, 'tp1': 3918.4, 'tp2': 3884.095, 'risk_multiplier': 0.5}
2025-10-06 13:10:04,013 - APP.persistence.json_handler - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251006_131004.json
2025-10-06 13:10:04,016 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: ctx_*.json, giữ lại: 0 file.
2025-10-06 13:10:04,016 - APP.utils.general_utils - DEBUG - Đã xóa file cũ: ctx_20251006_131004.json
2025-10-06 13:10:04,026 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:10:04,028 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:10:04,030 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:10:04,032 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:10:04,032 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:10:04,032 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:10:04,042 - APP.analysis.report_parser - INFO - Trích xuất cài đặt thành công từ khối JSON.
2025-10-06 13:10:04,045 - APP.persistence.json_handler - DEBUG - Tìm thấy setup giao dịch, log cho backtesting.
2025-10-06 13:10:04,049 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: None, Thư mục con: None
2025-10-06 13:10:04,082 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 13:10:04,082 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 13:10:04,082 - APP.persistence.json_handler - DEBUG - Đã log proposed trade.
2025-10-06 13:10:04,092 - APP.persistence.json_handler - DEBUG - Kết thúc quá trình lưu báo cáo JSON.
2025-10-06 13:10:04,092 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 13:10:04,459 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: report_*.md
2025-10-06 13:10:04,459 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: ctx_*.json
2025-10-06 13:10:04,459 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 13:10:04,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:04,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:04,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:04,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:04,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:04,528 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:04,530 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:04,533 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:05,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:05,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:05,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:05,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:05,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:05,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:05,551 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:05,553 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:06,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:06,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:06,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:06,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:06,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:06,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:06,555 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:06,566 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:07,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:07,578 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:07,578 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:07,578 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:07,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:07,588 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:07,588 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:07,588 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:08,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:08,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:08,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:08,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:08,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:08,612 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:08,613 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:08,616 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:09,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:09,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:09,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:09,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:09,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:09,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:09,635 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:09,637 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:10,644 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:10,644 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:10,644 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:10,644 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:10,644 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:10,653 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:10,654 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:10,657 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:11,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:11,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:11,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:11,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:11,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:11,670 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:11,672 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:11,675 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:12,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:12,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:12,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:12,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:12,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:12,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:12,693 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:12,698 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:13,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:13,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:13,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:13,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:13,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:13,705 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:13,714 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:13,716 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:14,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:14,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:14,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:14,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:14,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:14,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:14,732 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:14,735 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:15,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:15,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:15,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:15,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:15,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:15,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:15,752 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:15,755 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:16,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:16,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:16,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:16,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:16,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:16,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:16,776 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:16,778 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:17,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:17,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:17,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:17,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:17,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:17,788 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:17,790 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:17,793 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:18,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:18,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:18,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:18,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:18,795 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:18,805 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:18,808 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:18,810 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:19,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:19,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:19,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:19,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:19,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:19,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:19,830 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:19,833 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:20,826 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:20,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:20,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:20,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:20,836 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:20,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:20,845 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:20,848 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:21,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:21,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:21,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:21,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:21,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:21,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:21,859 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:21,862 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:22,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:22,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:22,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:22,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:22,863 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:22,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:22,875 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:22,876 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:23,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:23,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:23,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:23,873 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:23,883 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:23,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:23,888 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:23,890 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:24,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:24,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:24,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:24,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:24,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:24,892 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:24,900 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:24,902 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:25,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:25,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:25,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:25,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:25,908 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:25,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:25,918 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:25,921 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:26,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:26,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:26,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:26,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:26,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:26,932 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:26,940 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:26,942 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:27,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:27,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:27,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:27,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:27,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:27,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:27,961 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:27,963 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:28,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:28,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:28,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:28,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:28,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:28,966 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:28,973 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:28,975 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:29,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:29,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:29,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:29,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:29,982 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:29,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:29,992 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:29,994 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:31,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:31,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:31,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:31,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:31,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:31,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:31,007 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:31,009 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:32,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:32,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:32,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:32,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:32,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:32,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:32,026 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:32,030 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:33,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:33,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:33,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:33,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:33,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:33,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:33,036 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:33,044 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:34,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:34,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:34,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:34,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:34,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:34,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:34,061 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:34,063 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:35,073 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:35,073 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:35,073 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:35,073 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:35,073 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:35,073 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:35,084 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:35,086 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:36,091 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:36,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:36,094 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:36,096 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:36,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:36,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:36,103 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:36,105 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:37,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:37,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:37,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:37,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:37,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:37,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:37,123 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:37,125 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:38,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:38,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:38,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:38,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:38,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:38,136 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:38,137 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:38,140 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:39,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:39,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:39,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:39,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:39,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:39,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:39,186 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:39,186 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:40,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:40,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:40,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:40,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:40,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:40,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:40,217 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:40,223 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:41,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:41,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:41,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:41,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:41,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:41,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:41,240 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:41,243 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:42,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:42,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:42,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:42,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:42,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:42,256 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:42,257 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:42,260 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:43,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:43,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:43,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:43,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:43,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:43,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:43,280 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:43,282 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:44,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:44,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:44,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:44,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:44,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:44,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:44,300 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:44,302 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:45,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:45,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:45,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:45,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:45,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:45,357 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:45,360 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:45,363 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:46,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:46,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:46,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:46,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:46,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:46,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:46,382 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:46,383 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:47,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:47,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:47,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:47,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:47,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:47,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:47,390 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:47,398 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:48,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:48,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:48,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:48,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:48,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:48,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:48,414 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:48,416 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:49,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:49,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:49,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:49,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:49,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:49,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:49,430 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:49,432 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:50,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:50,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:50,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:50,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:50,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:50,437 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:50,446 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:50,449 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:51,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:51,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:51,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:51,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:51,468 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:51,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:51,473 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:51,477 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:52,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:52,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:52,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:52,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:52,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:52,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:52,487 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:52,496 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:53,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:53,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:53,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:53,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:53,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:53,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:53,515 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:53,518 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:54,529 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:54,529 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:54,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:54,532 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:54,532 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:54,532 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:54,537 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:54,539 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:55,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:55,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:55,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:55,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:55,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:55,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:55,559 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:55,559 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:56,570 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:56,570 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:56,570 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:56,570 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:56,570 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:56,570 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:56,570 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:56,580 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:57,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:57,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:57,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:57,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:57,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:57,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:57,594 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:57,596 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:58,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:58,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:58,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:58,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:58,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:58,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:58,609 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:58,612 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:10:59,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:10:59,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:10:59,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:10:59,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:10:59,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:10:59,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:10:59,628 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:10:59,630 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:00,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:00,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:00,634 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:11:00,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:11:00,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:11:00,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:00,634 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:11:00,823 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:11:00,823 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:11:00,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:00,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:00,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:00,823 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:00,833 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:00,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:01,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:01,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:01,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:01,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:01,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:01,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:01,847 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:01,850 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:02,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:02,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:02,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:02,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:02,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:02,857 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:02,865 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:02,867 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:03,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:03,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:03,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:03,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:03,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:03,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:03,888 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:03,894 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:04,469 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 13:11:04,469 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 13:11:04,469 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 13:11:04,484 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 13:11:04,486 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 13:11:04,486 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=False, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=False, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=300), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 13:11:04,496 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 13:11:04,500 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 13:11:04,500 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 13:11:04,500 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 13:11:04,551 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 13:11:04,551 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 13:11:04,551 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 13:11:04,564 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-06 13:11:04,565 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-06 13:11:04,572 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-06 13:11:04,573 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:11:04,575 - APP.analysis.context_builder - WARNING - Thư mục báo cáo không tồn tại: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:11:04,576 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 0 items.
2025-10-06 13:11:04,577 - APP.analysis.context_builder - DEBUG - Không có items, trả về trend 'unknown'.
2025-10-06 13:11:04,580 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:11:04,582 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:11:04,584 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:11:04,584 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:11:04,584 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:11:04,584 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:11:04,596 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:11:04,597 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:11:04,598 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:11:04,601 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:11:04,601 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 606 chars (trong budget).
2025-10-06 13:11:04,601 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-06 13:11:04,601 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-06 13:11:04,611 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-06 13:11:04,613 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-06 13:11:04,615 - APP.services.mt5_service - DEBUG - Current price (cp): 3926.221
2025-10-06 13:11:04,629 - APP.services.mt5_service - DEBUG - Tick stats 5m: {'ticks_per_min': 514, 'median_spread': 37, 'p90_spread': 37}
2025-10-06 13:11:04,667 - APP.services.mt5_service - DEBUG - Tick stats 30m: {'ticks_per_min': 329, 'median_spread': 37, 'p90_spread': 37}
2025-10-06 13:11:04,677 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-06 13:11:04,677 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-06 13:11:04,683 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:11:04,687 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-06 13:11:04,694 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-06 13:11:04,695 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:11:04,696 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-06 13:11:04,701 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-06 13:11:04,701 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:11:04,701 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-06 13:11:04,710 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-06 13:11:04,711 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:11:04,713 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-06 13:11:04,715 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-06 13:11:04,717 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:11:04,717 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:11:04,729 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-06 13:11:04,731 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:11:04,734 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3897.216, 'low': 3763.408}
2025-10-06 13:11:04,740 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-06 13:11:04,741 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}
2025-10-06 13:11:04,742 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-06 13:11:04,743 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}
2025-10-06 13:11:04,745 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-06 13:11:04,746 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:11:04,747 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:11:04.747621+07:00
2025-10-06 13:11:04,750 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:11:04.747621+07:00
2025-10-06 13:11:04,750 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:11:04.747621+07:00 trong DST: True
2025-10-06 13:11:04,756 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:11:04,757 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:11:04,758 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-06 13:11:04,759 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 120 rates.
2025-10-06 13:11:04,759 - APP.services.mt5_service - DEBUG - Kết thúc vwap_from_rates. VWAP: 3934.2502541431463
2025-10-06 13:11:04,767 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': 3934.2502541431463, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-06 13:11:04,778 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:11:04,779 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3931.2827321570235
2025-10-06 13:11:04,780 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:11:04,781 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3932.864761250672
2025-10-06 13:11:04,784 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-06 13:11:04,789 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3927.2324319246595
2025-10-06 13:11:04,790 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-06 13:11:04,791 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3904.089352151976
2025-10-06 13:11:04,793 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-06 13:11:04,794 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3910.1903865900717
2025-10-06 13:11:04,796 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-06 13:11:04,797 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3879.183570451098
2025-10-06 13:11:04,798 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:11:04,800 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3882.4414846476693
2025-10-06 13:11:04,800 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:11:04,800 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3843.6746765593425
2025-10-06 13:11:04,800 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3931.2827321570235, 'ema200': 3932.864761250672}, 'M5': {'ema50': 3927.2324319246595, 'ema200': 3904.089352151976}, 'M15': {'ema50': 3910.1903865900717, 'ema200': 3879.183570451098}, 'H1': {'ema50': 3882.4414846476693, 'ema200': 3843.6746765593425}}
2025-10-06 13:11:04,800 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-06 13:11:04,812 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.307250534590612, TRs count: 179
2025-10-06 13:11:04,814 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:11:04,817 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 2.072980436337952, TRs count: 119
2025-10-06 13:11:04,817 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-06 13:11:04,817 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 6.818165642038929, TRs count: 95
2025-10-06 13:11:04,817 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:11:04,817 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 12.564412245880705, TRs count: 119
2025-10-06 13:11:04,830 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 4.307250534590612, 'M1': 2.072980436337952, 'M15': 6.818165642038929, 'H1': 12.564412245880705}
2025-10-06 13:11:04,832 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-06 13:11:04,834 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3926.221, daily: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, prev_day: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:11:04,834 - APP.services.mt5_service - DEBUG - Thêm PDH: 3921.048
2025-10-06 13:11:04,834 - APP.services.mt5_service - DEBUG - Thêm PDL: 3884.095
2025-10-06 13:11:04,834 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3914.6809999999996
2025-10-06 13:11:04,834 - APP.services.mt5_service - DEBUG - Thêm DO: 3888.686
2025-10-06 13:11:04,834 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3921.048, Relation: BELOW, Distance: 5173.000000000229
2025-10-06 13:11:04,845 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3884.095, Relation: BELOW, Distance: 42126.000000000204
2025-10-06 13:11:04,846 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3914.6809999999996, Relation: BELOW, Distance: 11540.000000000418
2025-10-06 13:11:04,847 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3888.686, Relation: BELOW, Distance: 37534.999999999854
2025-10-06 13:11:04,848 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-06 13:11:04,850 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 5173.000000000229}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 42126.000000000204}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 11540.000000000418}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 37534.999999999854}]
2025-10-06 13:11:04,856 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-06 13:11:04,858 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}
2025-10-06 13:11:04,859 - APP.services.mt5_service - DEBUG - Prev day close: 3909.511
2025-10-06 13:11:04,860 - APP.services.mt5_service - DEBUG - Day range: 61.172000000000025, Day range % of ADR20: 131.78834841226845
2025-10-06 13:11:04,861 - APP.services.mt5_service - DEBUG - Position in day range: 0.6886484012293237
2025-10-06 13:11:04,861 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:11:04,866 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:11:04.866114+07:00
2025-10-06 13:11:04,867 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:11:04.866114+07:00
2025-10-06 13:11:04,872 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:11:04.866114+07:00 trong DST: True
2025-10-06 13:11:04,874 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:11:04,875 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:11:04,876 - APP.services.mt5_service - DEBUG - Killzone active: asia, Mins to next killzone: None
2025-10-06 13:11:04,878 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:11:04,880 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:11:04,881 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '2200', 'price': 3926.22, 'distance_pips': 0.1}, {'level': '2225', 'price': 3926.223, 'distance_pips': 0.15}, {'level': '2250', 'price': 3926.225, 'distance_pips': 0.4}, {'level': '2275', 'price': 3926.228, 'distance_pips': 0.65}]
2025-10-06 13:11:04,883 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 0.8590166674231757}
2025-10-06 13:11:04,883 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:11:04,883 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:11:04,883 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:11:04,883 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3926.221
2025-10-06 13:11:04,895 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:11:04,896 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:11:04,898 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:11:04,900 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-06 13:11:04,900 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-06 13:11:04,900 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3926.221
2025-10-06 13:11:04,900 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:11:04,910 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-06 13:11:04,911 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:04,912 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:11:04,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:04,914 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-06 13:11:04,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:04,917 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-06 13:11:04,924 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3926.221
2025-10-06 13:11:04,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:04,926 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 2 FVG.
2025-10-06 13:11:04,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:04,929 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-06 13:11:04,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:04,931 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:11:04,938 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:04,939 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-06 13:11:04,941 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:11:04,941 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:04,943 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3926.221
2025-10-06 13:11:04,948 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:11:04,950 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:11:04,957 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:11:04,959 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-06 13:11:04,960 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:11:04,963 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:11:04,965 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:11:04,971 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:11:04,972 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:11:04,974 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:11:04,975 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:11:04,977 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:11:04,980 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:11:04,984 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:11:04,984 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:11:04,984 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:11:04,994 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:11:04,998 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:11:05,000 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:11:05,006 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:11:05,007 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:11:05,008 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:11:05,010 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:11:05,011 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:11:05,013 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-06 13:11:05,014 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-06 13:11:05,015 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-06 13:11:05,018 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-06 13:11:05,018 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:11:05,022 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-06 13:11:05,024 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:05,025 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:11:05,026 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-06 13:11:05,027 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:11:05,027 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-06 13:11:05,027 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': asia
2025-10-06 13:11:05,027 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-06 13:11:05,027 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -13}, {'price': 3924.713, 'bar_index': -25}, {'price': 3921.048, 'bar_index': -37}, {'price': 3891.731, 'bar_index': -62}, {'price': 3890.722, 'bar_index': -70}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -101}, {'price': 3854.751, 'bar_index': -79}, {'price': 3855.394, 'bar_index': -98}, {'price': 3856.896, 'bar_index': -88}, {'price': 3860.23, 'bar_index': -92}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 72}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 34}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 31}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 25}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 147}, {'price': 3940.405, 'bar_index': 142}, {'price': 3933.447, 'bar_index': 134}, {'price': 3933.426, 'bar_index': 156}, {'price': 3932.103, 'bar_index': 131}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -14}, {'price': 3873.943, 'bar_index': -9}, {'price': 3876.944, 'bar_index': 24}, {'price': 3880.541, 'bar_index': 6}, {'price': 3880.665, 'bar_index': 11}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3927.935, 'bottom': 3927.295}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 146}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 176}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 177}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 171}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 168}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 158}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -22}, {'price': 3940.699, 'bar_index': -32}, {'price': 3940.405, 'bar_index': -46}, {'price': 3939.578, 'bar_index': -36}, {'price': 3939.324, 'bar_index': -41}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 34}, {'price': 3927.425, 'bar_index': 11}, {'price': 3928.391, 'bar_index': 25}, {'price': 3928.792, 'bar_index': -78}, {'price': 3929.125, 'bar_index': 3}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3927.765, 'bottom': 3927.295}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3927.731, 'bottom': 3922.438, 'bar_index': 114}, {'type': 'Bearish', 'top': 3929.328, 'bottom': 3927.765, 'bar_index': 116}], 'liquidity_voids_m1': [{'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 87}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 82}, {'type': 'Bullish', 'top': 3932.778, 'bottom': 3928.391, 'bar_index': 75}], 'premium_discount_m1': {'high': 3945.267, 'low': 3922.438, 'equilibrium': 3933.8525, 'status': 'Discount'}, 'mss_m1': None}
2025-10-06 13:11:05,050 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 19, 30, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}]}
2025-10-06 13:11:05,050 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 19, 30, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}]}
2025-10-06 13:11:05,062 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:11:05,063 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-06 13:11:05,064 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:11:05,067 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-06 13:11:05,067 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh.
2025-10-06 13:11:05,067 - APP.analysis.image_processor - DEBUG - Đang thử tải cache upload.
2025-10-06 13:11:05,077 - APP.analysis.image_processor - DEBUG - Đã tải cache upload với 8 mục.
2025-10-06 13:11:05,079 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_H1.png: 18965:1759323273:418e463f085b02cc
2025-10-06 13:11:05,080 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_H1.png. Tên từ xa: files/tpa0splt16rw
2025-10-06 13:11:05,081 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_H1.png, đang lấy thông tin file...
2025-10-06 13:11:05,490 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_H1.png
2025-10-06 13:11:05,490 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M1.png: 22804:1759323273:6525132933ac9b42
2025-10-06 13:11:05,490 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M1.png. Tên từ xa: files/ajq3848x5w7t
2025-10-06 13:11:05,490 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M1.png, đang lấy thông tin file...
2025-10-06 13:11:05,680 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M1.png
2025-10-06 13:11:05,680 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M15.png: 6121:1759323273:1b4aaeed377c2eb8
2025-10-06 13:11:05,680 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M15.png. Tên từ xa: files/jbroa237cwvw
2025-10-06 13:11:05,680 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M15.png, đang lấy thông tin file...
2025-10-06 13:11:05,934 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M15.png
2025-10-06 13:11:05,934 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M5.png: 6521:1759323273:424827d52f0ab96d
2025-10-06 13:11:05,944 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M5.png. Tên từ xa: files/1r8cfv90ib9s
2025-10-06 13:11:05,944 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M5.png, đang lấy thông tin file...
2025-10-06 13:11:05,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:05,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:05,957 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:05,960 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:05,961 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:05,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:05,964 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:05,966 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:06,198 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M5.png
2025-10-06 13:11:06,198 - APP.analysis.image_processor - DEBUG - Đang lưu cache upload với 8 mục.
2025-10-06 13:11:06,198 - APP.analysis.image_processor - DEBUG - Đã lưu cache upload thành công.
2025-10-06 13:11:06,198 - APP.core.analysis_worker - DEBUG - BẮT ĐẦU GIAI ĐOẠN 4: Gọi Model AI
2025-10-06 13:11:06,198 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:11:06,198 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:11:06,207 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:11:06,210 - APP.analysis.prompt_builder - DEBUG - Không có vị thế nào, chọn prompt 'no entry'.
2025-10-06 13:11:06,211 - APP.analysis.prompt_builder - DEBUG - Bắt đầu xây dựng prompt cuối cùng.
2025-10-06 13:11:06,215 - APP.analysis.prompt_builder - DEBUG - Đã xây dựng xong prompt cuối cùng.
2025-10-06 13:11:06,216 - APP.core.analysis_worker - DEBUG - --- PROMPT FINAL GỬI ĐẾN AI ---
VAI TRÒ & BỐI CẢNH
- Bạn là một nhà giao dịch ICT chuyên nghiệp với nhiệm vụ phân tích thị trường theo phương pháp Top-Down để tìm kiếm các cơ hội giao dịch có xác suất thắng cao nhất.
- Bạn phải suy luận một cách logic, xâu chuỗi các bằng chứng từ khung thời gian cao xuống thấp để xây dựng một "câu chuyện thị trường" chặt chẽ.

---
### NHIỆM VỤ 1: QUY TRÌNH PHÂN TÍCH TOP-DOWN 4 BƯỚC

Hãy thực hiện quy trình sau một cách tuần tự. **Trong mỗi bước, hãy trích dẫn dữ liệu cụ thể từ `EXTRACT_JSON` và `CONCEPT_VALUE_TABLE` để làm bằng chứng.**

**BƯỚC 1: XÁC ĐỊNH BỐI CẢNH VÀ MỤC TIÊU GIÁ TRÊN H1 (Draw on Liquidity)**
- **Phân tích Order Flow**: Dòng chảy lệnh trên H1 đang là Bullish hay Bearish? (Bằng chứng: `EXTRACT_JSON.tf.H1.mss_bos.type` và vị trí giá so với `EXTRACT_JSON.tf.H1.trend_refs.EMA.ema50`).
- **Xác định Draw on Liquidity**: Giá có khả năng cao sẽ tìm đến đâu? Một vùng thanh khoản (`EXTRACT_JSON.tf.H1.liquidity.swing_highs_BSL` hoặc `swing_lows_SSL`) hay một vùng mất cân bằng (`EXTRACT_JSON.tf.H1.fvgs`)? Nêu rõ mục tiêu giá cụ thể.
- **Kết luận H1**: Tóm tắt lại bối cảnh H1 (ví dụ: "H1 đang Bullish (BOS), giá có khả năng tìm về vùng BSL tại 1.2345").

**BƯỚC 2: TÌM VÙNG CHỜ CHẤT LƯỢNG TRÊN M15 (POI of Interest)**
- Dựa trên bối cảnh H1, hãy tìm một POI (từ `EXTRACT_JSON.tf.M15.order_blocks` hoặc `fvgs`) trên M15 có khả năng cao sẽ đảo chiều giá.
- **Đánh giá chất lượng POI**: POI này có nằm trong vùng Premium/Discount hợp lý không (`EXTRACT_JSON.tf.H1.premium_discount.status`)? Nó có quét thanh khoản trước khi hình thành không?
- **Kết luận M15**: Nêu rõ POI được chọn và lý do (ví dụ: "Chọn FVG M15 tại 1.2300-1.2310 vì nó nằm trong vùng Discount của H1").

**BƯỚC 3: TÌM TÍN HIỆU XÁC NHẬN TRÊN M5/M1 (Entry Confirmation)**
- Khi giá tiếp cận POI M15, bạn đang chờ đợi tín hiệu gì trên M5 hoặc M1?
- **Mô tả tín hiệu**: Đó là một sự thay đổi cấu trúc (`MSS`) ngược hướng với xu hướng hồi? (Theo dõi `EXTRACT_JSON.tf.M5.mss_bos.type`).
- **Kết luận M5/M1**: Nêu rõ tín hiệu xác nhận đang chờ đợi (ví dụ: "Chờ giá tạo MSS trên M5 sau khi chạm vào FVG M15").

**BƯỚC 4: TỔNG HỢP, XẾP HẠNG VÀ LẬP KẾ HOẠCH**
- **Xây dựng Câu chuyện Thị trường**: Tổng hợp 3 bước trên thành một câu chuyện thị trường hoàn chỉnh.
- **Xếp hạng Setup**: Dựa trên mức độ hợp lưu, xếp hạng setup: `A+`, `B`, `C`, hoặc `Không có`.
- **Lập Kế hoạch**: Nếu hạng là `A+` hoặc `B`, hãy lập một kế hoạch giao dịch chi tiết.

---
### NHIỆM VỤ 2: TẠO ĐỐI TƯỢNG JSON CHUYÊN SÂU

Tổng hợp toàn bộ kết quả phân tích của bạn vào đối tượng JSON sau. **Đây phải là phần đầu tiên trong phản hồi của bạn.**

```json
{
  "cycle": "[ĐIỀN THỜI GIAN HIỆN TẠI]",
  "symbol": "[LẤY TỪ DỮ LIỆU]",
  "mode": "expert_setup_evaluation",
  "market_narrative": "[CÂU CHUYỆN THỊ TRƯỜNG TỪ BƯỚC 4]",
  "setup_grade": "[A+/B/C/Không có]",
  "reasoning_summary": "[GIẢI THÍCH NGẮN GỌN VÌ SAO XẾP HẠNG SETUP NHƯ VẬY]",
  "top_down_analysis": {
    "h1_context": {
      "order_flow": "[Bullish/Bearish]",
      "draw_on_liquidity": "[Mô tả mục tiêu giá, ví dụ: BSL tại 1.2345]"
    },
    "m15_poi": {
      "type": "[Loại POI, ví dụ: FVG, Order Block]",
      "price_zone": "[Vùng giá của POI]",
      "quality_assessment": "[Đánh giá ngắn gọn chất lượng POI]"
    },
    "m5_m1_confirmation": {
      "status": "[Đã có/Đang chờ]",
      "signal": "[Mô tả tín hiệu, ví dụ: Chờ MSS trên M5]"
    }
  },
  "proposed_plan": {
    "direction": "[long/short hoặc null]",
    "entry": "[Giá hoặc 0.0]",
    "sl": "[Giá hoặc 0.0]",
    "tp1": "[Giá hoặc 0.0]",
    "tp2": "[Giá hoặc 0.0]",
    "risk_multiplier": "[1.0 cho A+, 0.5 cho B, 0.0 cho các trường hợp khác]"
  }
}
```

---
### NHIỆM VỤ 3: VIẾT BÁO CÁO PHÂN TÍCH CHI TIẾT

Dựa vào đối tượng JSON bạn vừa tạo, hãy viết một báo cáo chuyên nghiệp.

A) **TÓM TẮT NHANH (7 DÒNG):**
1.  **Câu chuyện chính:** [Lấy từ `market_narrative`]
2.  **Xếp hạng Setup:** [Lấy từ `setup_grade`]
3.  **Lệnh:** [long/short/Chờ]
4.  **Entry:** [Giá từ `proposed_plan`]
5.  **SL:** [Giá từ `proposed_plan`]
6.  **TP1/TP2:** [Giá từ `proposed_plan`]
7.  **Lý do chính:** [Lấy từ `reasoning_summary`]

B) **PHÂN TÍCH CHUYÊN SÂU:**
   - Diễn giải chi tiết hơn về `market_narrative`, xâu chuỗi các bằng chứng từ H1 xuống M1.
   - Giải thích tại sao các yếu tố trong `top_down_analysis` lại dẫn đến việc xếp hạng `setup_grade` như vậy.
   - Nếu có kế hoạch giao dịch, hãy bảo vệ luận điểm tại sao đây là một cơ hội xác suất cao. Nếu không, hãy giải thích tại sao nên đứng ngoài thị trường lúc này.

---
**Dữ liệu thị trường và tài khoản (MT5):**
```json
{'symbol': 'XAUUSD', 'generated_at': '2025-10-06 13:11:04', 'broker_time': '2025-10-06T06:11:04+00:00', 'account': {'balance': 175.98, 'equity': 175.98, 'free_margin': 175.98, 'currency': 'USD', 'leverage': 2000}, 'positions': [], 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}, 'symbol_rules': {'volume_min': 0.01, 'volume_max': 200.0, 'volume_step': 0.01, 'trade_tick_value': 0.1, 'trade_tick_size': 0.001, 'stop_level_points': 0, 'freeze_level_points': 0, 'margin_initial': 0.0, 'margin_maintenance': 0.0}, 'pip': {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}, 'tick': {'bid': 3926.221, 'ask': 3926.258, 'last': 0.0, 'time': 1759731064}, 'tick_stats_5m': {'ticks_per_min': 514, 'median_spread': 37, 'p90_spread': 37}, 'tick_stats_30m': {'ticks_per_min': 329, 'median_spread': 37, 'p90_spread': 37}, 'levels': {'daily': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, 'prev_day': {'high': 3921.048, 'low': 3884.095}, 'weekly': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}, 'prev_week': {'high': 3897.216, 'low': 3763.408}, 'monthly': {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}}, 'day_open': 3888.686, 'prev_day_close': 3909.511, 'adr': {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}, 'day_range': 61.172000000000025, 'day_range_pct_of_adr20': 131.78834841226845, 'position_in_day_range': 0.6886484012293237, 'sessions_today': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'session_liquidity': {}, 'volatility': {'ATR': {'M5': 4.307250534590612, 'M1': 2.072980436337952, 'M15': 6.818165642038929, 'H1': 12.564412245880705}}, 'volatility_regime': 'trending', 'trend_refs': {'EMA': {'M1': {'ema50': 3931.2827321570235, 'ema200': 3932.864761250672}, 'M5': {'ema50': 3927.2324319246595, 'ema200': 3904.089352151976}, 'M15': {'ema50': 3910.1903865900717, 'ema200': 3879.183570451098}, 'H1': {'ema50': 3882.4414846476693, 'ema200': 3843.6746765593425}}}, 'vwap': {'day': 3934.2502541431463, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}, 'kills': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'is_silver_bullet_window': False, 'killzone_active': 'asia', 'mins_to_next_killzone': None, 'key_levels_nearby': [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 5173.000000000229}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 42126.000000000204}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 11540.000000000418}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 37534.999999999854}], 'round_levels': [{'level': '2200', 'price': 3926.22, 'distance_pips': 0.1}, {'level': '2225', 'price': 3926.223, 'distance_pips': 0.15}, {'level': '2250', 'price': 3926.225, 'distance_pips': 0.4}, {'level': '2275', 'price': 3926.228, 'distance_pips': 0.65}], 'atr_norm': {'spread_as_pct_of_atr_m5': 0.8590166674231757}, 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -13}, {'price': 3924.713, 'bar_index': -25}, {'price': 3921.048, 'bar_index': -37}, {'price': 3891.731, 'bar_index': -62}, {'price': 3890.722, 'bar_index': -70}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -101}, {'price': 3854.751, 'bar_index': -79}, {'price': 3855.394, 'bar_index': -98}, {'price': 3856.896, 'bar_index': -88}, {'price': 3860.23, 'bar_index': -92}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 72}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 34}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 31}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 25}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 147}, {'price': 3940.405, 'bar_index': 142}, {'price': 3933.447, 'bar_index': 134}, {'price': 3933.426, 'bar_index': 156}, {'price': 3932.103, 'bar_index': 131}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -14}, {'price': 3873.943, 'bar_index': -9}, {'price': 3876.944, 'bar_index': 24}, {'price': 3880.541, 'bar_index': 6}, {'price': 3880.665, 'bar_index': 11}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3927.935, 'bottom': 3927.295}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 146}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 176}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 177}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 171}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 168}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 158}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -22}, {'price': 3940.699, 'bar_index': -32}, {'price': 3940.405, 'bar_index': -46}, {'price': 3939.578, 'bar_index': -36}, {'price': 3939.324, 'bar_index': -41}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 34}, {'price': 3927.425, 'bar_index': 11}, {'price': 3928.391, 'bar_index': 25}, {'price': 3928.792, 'bar_index': -78}, {'price': 3929.125, 'bar_index': 3}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3927.765, 'bottom': 3927.295}], 'order_blocks_m1': [{'type': 'Bullish', 'top': 3927.731, 'bottom': 3922.438, 'bar_index': 114}, {'type': 'Bearish', 'top': 3929.328, 'bottom': 3927.765, 'bar_index': 116}], 'liquidity_voids_m1': [{'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 87}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 82}, {'type': 'Bullish', 'top': 3932.778, 'bottom': 3928.391, 'bar_index': 75}], 'premium_discount_m1': {'high': 3945.267, 'low': 3922.438, 'equilibrium': 3933.8525, 'status': 'Discount'}, 'mss_m1': None}, 'risk_model': {}, 'rr_projection': {}, 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 19, 30, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}]}, 'concept_value_table': '| Khái niệm (Concept) | Giá trị (Value) |\n|---|---|\n| Symbol | XAUUSD |\n| Killzone Hiện tại | asia |\n| Chế độ Biến động | trending |\n| H1 Order Flow | Bearish |\n| M15 Structure | Không rõ |\n| Trong Cửa sổ Tin tức | False |\n| Tin tức Sắp tới | None - Unemployment Claims |\n'}
```

---
**Bối cảnh bổ sung từ các báo cáo trước:**


[CONTEXT_COMPOSED]
{"CONTEXT_COMPOSED": {"cycle": "2025-10-06 13:11:04", "trend_checklist": {"trend": "unknown", "enough_ratio": null}, "latest_plan": null, "latest_summary_lines": null, "recent_history_summary": null, "run_meta": {"analysis_id": "2025-10-06T06:11:04Z", "folder_signature": "sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1", "images_tf_map": {"XAUUSD_H1.png": "H1", "XAUUSD_M1.png": "M1", "XAUUSD_M15.png": "M15", "XAUUSD_M5.png": "M5"}}, "running_stats": {"backtest_results": {"status": "not_implemented"}}, "risk_rules": {"max_risk_per_trade_pct": 0.5, "daily_loss_limit_pct": 3.0, "max_trades_per_day": 3}}}

---
**Phân tích các hình ảnh được cung cấp.**
--- KẾT THÚC PROMPT ---
2025-10-06 13:11:06,297 - APP.services.gemini_service - DEBUG - Bắt đầu stream tới Gemini API với 5 lần thử.
2025-10-06 13:11:06,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:06,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:06,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:06,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:06,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:06,971 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:06,979 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:06,982 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:07,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:07,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:07,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:07,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:07,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:07,990 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:07,998 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:08,000 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:09,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:09,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:09,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:09,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:09,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:09,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:09,015 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:09,017 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:10,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:10,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:10,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:10,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:10,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:10,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:10,032 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:10,034 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:11,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:11,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:11,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:11,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:11,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:11,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:11,052 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:11,055 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:12,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:12,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:12,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:12,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:12,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:12,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:12,068 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:12,070 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:13,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:13,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:13,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:13,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:13,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:13,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:13,086 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:13,088 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:14,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:14,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:14,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:14,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:14,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:14,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:14,101 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:14,103 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:15,112 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:15,112 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:15,112 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:15,112 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:15,112 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:15,112 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:15,112 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:15,121 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:16,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:16,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:16,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:16,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:16,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:16,134 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:16,136 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:16,138 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:17,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:17,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:17,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:17,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:17,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:17,147 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:17,147 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:17,155 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:18,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:18,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:18,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:18,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:18,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:18,158 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:18,158 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:18,167 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:19,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:19,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:19,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:19,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:19,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:19,172 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:19,172 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:19,181 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:20,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:20,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:20,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:20,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:20,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:20,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:20,198 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:20,200 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:21,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:21,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:21,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:21,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:21,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:21,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:21,201 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:21,210 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:22,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:22,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:22,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:22,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:22,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:22,218 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:22,225 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:22,227 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:23,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:23,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:23,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:23,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:23,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:23,238 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:23,238 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:23,247 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:24,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:24,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:24,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:24,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:24,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:24,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:24,258 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:24,261 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:25,270 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:25,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:25,271 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:25,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:25,285 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:25,289 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:25,291 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:25,293 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:26,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:26,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:26,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:26,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:26,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:26,309 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:26,311 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:26,313 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:27,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:27,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:27,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:27,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:27,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:27,317 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:27,328 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:27,334 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:28,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:28,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:28,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:28,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:28,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:28,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:28,343 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:28,345 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:29,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:29,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:29,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:29,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:29,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:29,351 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:29,361 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:29,362 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:30,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:30,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:30,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:30,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:30,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:30,374 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:30,376 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:30,379 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:31,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:31,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:31,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:31,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:31,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:31,381 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:31,381 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:31,390 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:32,398 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:32,398 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:32,398 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:32,398 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:32,398 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:32,398 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:32,405 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:32,408 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:33,417 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:33,417 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:33,417 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:33,417 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:33,417 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:33,425 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:33,427 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:33,430 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:34,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:34,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:34,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:34,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:34,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:34,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:34,448 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:34,451 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:35,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:35,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:35,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:35,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:35,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:35,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:35,466 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:35,468 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:36,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:36,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:36,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:36,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:36,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:36,484 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:36,487 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:36,488 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:37,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:37,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:37,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:37,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:37,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:37,500 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:37,501 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:37,504 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:38,508 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:38,508 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:38,508 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:38,508 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:38,508 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:38,508 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:38,516 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:38,518 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:39,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:39,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:39,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:39,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:39,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:39,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:39,536 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:39,537 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:40,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:40,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:40,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:40,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:40,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:40,538 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:40,546 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:40,548 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:41,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:41,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:41,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:41,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:41,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:41,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:41,559 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:41,561 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:42,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:42,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:42,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:42,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:42,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:42,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:42,575 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:42,578 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:43,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:43,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:43,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:43,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:43,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:43,589 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:43,589 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:43,597 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:44,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:44,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:44,604 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:44,609 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:44,610 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:44,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:44,622 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:44,625 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:45,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:45,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:45,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:45,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:45,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:45,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:45,631 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:45,640 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:46,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:46,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:46,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:46,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:46,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:46,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:46,653 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:46,655 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:47,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:47,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:47,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:47,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:47,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:47,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:47,674 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:47,676 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:48,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:48,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:48,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:48,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:48,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:48,693 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:48,695 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:48,698 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:49,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:49,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:49,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:49,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:49,708 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:49,717 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:49,719 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:49,721 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:50,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:50,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:50,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:50,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:50,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:50,731 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:50,742 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:50,743 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:51,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:51,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:51,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:51,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:51,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:51,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:51,755 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:51,758 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:52,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:52,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:52,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:52,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:52,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:52,777 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:52,778 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:52,782 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:53,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:53,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:53,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:53,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:53,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:53,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:53,802 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:53,804 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:54,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:54,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:54,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:54,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:54,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:54,811 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:54,819 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:54,821 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:55,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:55,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:55,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:55,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:55,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:55,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:55,832 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:55,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:56,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:56,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:56,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:56,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:56,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:56,841 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:56,848 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:56,851 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:57,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:57,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:57,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:57,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:57,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:57,870 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:57,872 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:57,874 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:58,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:58,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:58,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:11:58,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:11:58,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:11:58,885 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:11:58,885 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:11:58,893 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:11:59,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:11:59,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:59,895 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:11:59,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:11:59,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:11:59,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:11:59,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:12:00,202 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:12:00,202 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:12:00,202 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:00,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:00,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:00,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:00,218 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:00,220 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:01,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:01,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:01,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:01,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:01,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:01,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:01,225 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:01,234 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:02,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:02,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:02,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:02,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:02,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:02,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:02,249 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:02,251 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:03,256 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:03,256 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:03,256 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:03,256 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:03,256 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:03,256 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:03,256 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:03,265 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:04,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:04,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:04,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:04,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:04,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:04,274 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:04,274 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:04,283 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:05,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:05,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:05,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:05,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:05,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:05,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:05,302 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:05,304 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:06,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:06,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:06,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:06,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:06,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:06,308 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:06,316 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:06,319 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:07,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:07,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:07,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:07,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:07,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:07,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:07,335 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:07,337 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:08,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:08,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:08,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:08,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:08,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:08,356 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:08,357 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:08,360 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:08,803 - APP.services.gemini_service - INFO - Lần thử 1: Kết nối stream tới Gemini API thành công.
2025-10-06 13:12:09,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:09,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:09,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:09,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:09,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:09,365 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:09,365 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:09,374 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:10,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:10,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:10,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:10,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:10,379 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:10,387 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:10,389 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:10,390 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:11,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:11,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:11,405 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:11,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:11,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:11,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:11,419 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:11,422 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:12,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:12,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:12,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:12,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:12,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:12,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:12,453 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:12,455 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:13,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:13,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:13,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:13,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:13,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:13,459 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:13,467 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:13,469 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:14,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:14,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:14,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:14,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:14,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:14,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:14,475 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:14,483 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:15,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:15,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:15,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:15,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:15,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:15,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:15,497 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:15,499 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:16,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:16,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:16,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:16,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:16,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:16,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:16,516 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:16,517 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:17,520 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:17,520 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:17,520 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:17,520 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:17,520 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:17,520 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:17,529 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:17,531 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:18,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:18,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:18,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:18,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:18,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:18,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:18,555 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:18,559 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:19,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:19,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:19,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:19,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:19,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:19,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:19,577 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:19,579 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:20,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:20,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:20,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:20,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:20,613 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:20,620 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:20,622 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:20,625 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:20,835 - APP.services.gemini_service - DEBUG - Stream từ Gemini API hoàn tất.
2025-10-06 13:12:20,845 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 5: Thực thi hoặc quản lý giao dịch.
2025-10-06 13:12:20,845 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:12:20,845 - APP.core.analysis_worker - INFO - Không có lệnh. Tìm kiếm cơ hội vào lệnh mới.
2025-10-06 13:12:20,845 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 13:12:20,845 - APP.persistence.md_handler - DEBUG - Bắt đầu lưu báo cáo Markdown.
2025-10-06 13:12:20,856 - APP.persistence.md_handler - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports\report_20251006_131220.md
2025-10-06 13:12:20,858 - APP.persistence.md_handler - DEBUG - Bắt đầu trích xuất báo cáo human-readable.
2025-10-06 13:12:20,859 - APP.persistence.md_handler - WARNING - Không tìm thấy điểm bắt đầu báo cáo hợp lệ, trả về toàn bộ nội dung.
2025-10-06 13:12:20,863 - APP.persistence.md_handler - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251006_131220.md
2025-10-06 13:12:20,864 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: *.md, giữ lại: 10 file.
2025-10-06 13:12:20,868 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:12:20,870 - APP.persistence.md_handler - DEBUG - Kết thúc việc lưu báo cáo Markdown.
2025-10-06 13:12:20,873 - APP.persistence.json_handler - DEBUG - JsonSaver được khởi tạo cho workspace: C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-06 13:12:20,875 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:12:20,876 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:12:20,881 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:12:20,884 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:12:20,887 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:12:20,891 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:12:20,894 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:12:20,895 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:12:20,897 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:12:20,899 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:12:20,902 - APP.persistence.json_handler - DEBUG - Bắt đầu quá trình lưu báo cáo JSON.
2025-10-06 13:12:20,905 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:12:20,907 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:12:20,908 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:12:20,910 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:12:20,916 - APP.persistence.json_handler - DEBUG - Đã thêm 8 khối JSON vào data_to_save.
2025-10-06 13:12:20,919 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-06 13:12:20,922 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-06 13:12:20,924 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:12:20,931 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:12:20,932 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:12:20,933 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:12:20,943 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:12:20,945 - APP.analysis.report_parser - INFO - Trích xuất cài đặt thành công từ khối JSON.
2025-10-06 13:12:20,949 - APP.persistence.json_handler - DEBUG - Đã parse và lưu plan: {'direction': 'short', 'entry': 3927.295, 'sl': 3934.0, 'tp1': 3872.195, 'tp2': 3853.5, 'risk_multiplier': 0.5}
2025-10-06 13:12:20,954 - APP.persistence.json_handler - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251006_131220.json
2025-10-06 13:12:20,960 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: ctx_*.json, giữ lại: 0 file.
2025-10-06 13:12:20,964 - APP.utils.general_utils - DEBUG - Đã xóa file cũ: ctx_20251006_131220.json
2025-10-06 13:12:20,964 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:12:20,969 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:12:20,972 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:12:20,973 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:12:20,978 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:12:20,979 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:12:20,980 - APP.analysis.report_parser - INFO - Trích xuất cài đặt thành công từ khối JSON.
2025-10-06 13:12:20,981 - APP.persistence.json_handler - DEBUG - Tìm thấy setup giao dịch, log cho backtesting.
2025-10-06 13:12:20,985 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: None, Thư mục con: None
2025-10-06 13:12:21,022 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 13:12:21,022 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 13:12:21,022 - APP.persistence.json_handler - DEBUG - Đã log proposed trade.
2025-10-06 13:12:21,032 - APP.persistence.json_handler - DEBUG - Kết thúc quá trình lưu báo cáo JSON.
2025-10-06 13:12:21,042 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 13:12:21,519 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: report_*.md
2025-10-06 13:12:21,519 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: ctx_*.json
2025-10-06 13:12:21,533 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 13:12:21,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:21,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:21,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:21,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:21,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:21,638 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:21,640 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:21,640 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:22,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:22,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:22,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:22,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:22,650 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:22,661 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:22,662 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:22,664 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:23,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:23,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:23,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:23,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:23,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:23,676 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:23,677 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:23,680 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:24,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:24,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:24,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:24,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:24,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:24,691 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:24,693 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:24,696 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:25,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:25,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:25,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:25,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:25,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:25,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:25,708 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:25,709 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:26,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:26,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:26,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:26,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:26,716 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:26,728 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:26,730 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:26,732 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:27,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:27,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:27,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:27,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:27,740 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:27,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:27,754 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:27,756 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:28,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:28,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:28,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:28,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:28,763 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:28,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:28,772 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:28,775 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:29,781 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:29,782 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:29,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:29,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:29,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:29,793 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:29,798 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:29,801 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:30,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:30,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:30,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:30,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:30,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:30,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:30,823 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:30,825 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:31,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:31,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:31,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:31,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:31,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:31,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:31,850 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:31,852 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:32,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:32,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:32,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:32,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:32,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:32,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:32,868 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:32,870 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:33,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:33,866 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:33,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:33,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:33,876 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:33,884 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:33,886 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:33,889 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:34,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:34,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:34,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:34,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:34,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:34,895 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:34,903 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:34,905 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:35,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:35,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:35,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:35,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:35,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:35,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:35,922 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:35,924 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:36,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:36,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:36,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:36,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:36,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:36,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:36,942 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:36,944 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:37,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:37,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:37,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:37,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:37,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:37,954 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:37,962 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:37,964 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:38,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:38,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:38,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:38,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:38,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:38,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:38,970 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:38,979 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:39,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:39,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:39,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:39,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:39,986 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:39,996 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:39,998 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:40,001 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:41,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:41,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:41,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:41,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:41,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:41,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:41,020 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:41,023 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:42,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:42,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:42,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:42,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:42,026 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:42,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:42,036 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:42,038 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:43,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:43,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:43,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:43,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:43,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:43,052 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:43,053 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:43,056 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:44,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:44,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:44,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:44,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:44,062 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:44,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:44,074 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:44,077 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:45,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:45,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:45,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:45,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:45,079 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:45,091 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:45,093 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:45,094 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:46,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:46,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:46,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:46,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:46,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:46,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:46,117 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:46,122 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:47,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:47,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:47,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:47,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:47,132 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:47,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:47,143 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:47,146 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:48,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:48,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:48,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:48,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:48,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:48,161 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:48,162 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:48,165 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:49,170 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:49,170 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:49,170 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:49,170 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:49,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:49,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:49,192 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:49,195 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:50,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:50,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:50,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:50,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:50,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:50,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:50,212 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:50,214 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:51,223 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:51,223 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:51,223 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:51,223 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:51,223 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:51,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:51,233 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:51,237 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:52,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:52,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:52,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:52,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:52,243 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:52,251 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:52,254 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:52,256 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:53,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:53,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:53,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:53,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:53,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:53,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:53,268 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:53,270 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:54,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:54,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:54,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:54,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:54,278 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:54,290 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:54,292 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:54,294 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:55,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:55,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:55,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:55,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:55,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:55,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:55,316 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:55,318 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:56,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:56,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:56,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:56,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:56,325 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:56,334 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:56,337 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:56,339 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:57,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:57,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:57,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:57,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:57,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:57,347 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:57,356 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:57,359 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:58,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:58,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:58,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:58,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:58,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:58,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:58,374 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:58,377 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:12:59,386 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:12:59,386 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:12:59,386 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:12:59,386 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:12:59,386 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:12:59,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:12:59,398 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:12:59,400 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:00,410 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:00,410 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:00,410 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:13:00,410 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:13:00,410 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:13:00,410 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:00,418 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:13:00,608 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:13:00,608 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:13:00,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:00,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:00,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:00,618 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:00,623 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:00,624 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:01,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:01,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:01,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:01,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:01,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:01,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:01,637 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:01,640 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:02,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:02,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:02,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:02,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:02,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:02,645 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:02,654 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:02,657 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:03,664 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:03,664 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:03,664 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:03,664 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:03,664 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:03,672 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:03,673 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:03,713 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:04,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:04,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:04,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:04,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:04,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:04,774 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:04,782 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:04,784 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:05,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:05,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:05,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:05,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:05,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:05,794 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:05,798 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:05,800 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:06,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:06,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:06,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:06,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:06,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:06,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:06,815 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:06,817 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:07,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:07,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:07,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:07,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:07,820 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:07,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:07,833 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:07,836 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:08,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:08,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:08,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:08,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:08,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:08,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:08,851 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:08,855 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:09,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:09,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:09,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:09,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:09,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:09,860 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:09,868 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:09,870 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:10,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:10,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:10,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:10,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:10,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:10,878 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:10,885 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:10,888 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:11,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:11,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:11,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:11,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:11,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:11,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:11,903 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:11,905 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:12,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:12,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:12,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:12,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:12,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:12,913 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:12,922 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:12,924 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:13,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:13,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:13,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:13,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:13,931 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:13,939 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:13,941 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:13,943 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:14,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:14,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:14,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:14,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:14,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:14,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:14,953 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:14,956 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:15,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:15,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:15,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:15,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:15,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:15,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:15,973 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:15,975 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:16,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:16,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:16,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:16,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:16,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:16,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:16,991 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:16,996 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:18,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:18,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:18,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:18,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:18,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:18,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:18,014 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:18,017 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:19,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:19,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:19,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:19,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:19,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:19,035 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:19,037 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:19,037 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:20,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:20,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:20,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:20,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:20,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:20,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:20,058 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:20,060 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:21,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:21,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:21,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:21,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:21,061 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:21,070 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:21,071 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:21,073 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:21,538 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 13:13:21,538 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 13:13:21,538 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 13:13:21,554 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 13:13:21,555 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 13:13:21,557 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=False, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=False, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=300), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 13:13:21,560 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 13:13:21,563 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 13:13:21,563 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 13:13:21,566 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 13:13:21,605 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 13:13:21,605 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 13:13:21,605 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 13:13:21,622 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-06 13:13:21,623 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-06 13:13:21,625 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-06 13:13:21,627 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:13:21,629 - APP.analysis.context_builder - WARNING - Thư mục báo cáo không tồn tại: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:13:21,632 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 0 items.
2025-10-06 13:13:21,634 - APP.analysis.context_builder - DEBUG - Không có items, trả về trend 'unknown'.
2025-10-06 13:13:21,640 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:13:21,645 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:13:21,646 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:13:21,648 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:13:21,648 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:13:21,648 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:13:21,653 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:13:21,655 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:13:21,656 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:13:21,657 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:13:21,660 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 606 chars (trong budget).
2025-10-06 13:13:21,661 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-06 13:13:21,665 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-06 13:13:21,670 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-06 13:13:21,672 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-06 13:13:21,677 - APP.services.mt5_service - DEBUG - Current price (cp): 3925.364
2025-10-06 13:13:21,683 - APP.services.mt5_service - DEBUG - Tick stats 5m: {'ticks_per_min': 361, 'median_spread': 37.0, 'p90_spread': 37}
2025-10-06 13:13:21,732 - APP.services.mt5_service - DEBUG - Tick stats 30m: {'ticks_per_min': 331, 'median_spread': 37.0, 'p90_spread': 37}
2025-10-06 13:13:21,732 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-06 13:13:21,740 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-06 13:13:21,741 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:13:21,743 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-06 13:13:21,753 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-06 13:13:21,754 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:13:21,757 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-06 13:13:21,763 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-06 13:13:21,764 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:13:21,765 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-06 13:13:21,772 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-06 13:13:21,774 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:13:21,775 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-06 13:13:21,776 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-06 13:13:21,778 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:13:21,783 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:13:21,785 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-06 13:13:21,787 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:13:21,789 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3897.216, 'low': 3763.408}
2025-10-06 13:13:21,791 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-06 13:13:21,792 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}
2025-10-06 13:13:21,794 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-06 13:13:21,795 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}
2025-10-06 13:13:21,799 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-06 13:13:21,801 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:13:21,804 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:13:21.804494+07:00
2025-10-06 13:13:21,806 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:13:21.804494+07:00
2025-10-06 13:13:21,808 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:13:21.804494+07:00 trong DST: True
2025-10-06 13:13:21,810 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:13:21,812 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:13:21,813 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-06 13:13:21,816 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 120 rates.
2025-10-06 13:13:21,817 - APP.services.mt5_service - DEBUG - Kết thúc vwap_from_rates. VWAP: 3934.076582798828
2025-10-06 13:13:21,830 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': 3934.076582798828, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-06 13:13:21,832 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:13:21,833 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3930.8357608997426
2025-10-06 13:13:21,834 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:13:21,836 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3932.296852399964
2025-10-06 13:13:21,838 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-06 13:13:21,841 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3927.201804473679
2025-10-06 13:13:21,843 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-06 13:13:21,845 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3904.0815810076974
2025-10-06 13:13:21,845 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-06 13:13:21,845 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3910.1597591390914
2025-10-06 13:13:21,845 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-06 13:13:21,851 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3879.1757993068195
2025-10-06 13:13:21,852 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:13:21,854 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3882.410857196689
2025-10-06 13:13:21,859 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:13:21,860 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3843.666905415064
2025-10-06 13:13:21,861 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3930.8357608997426, 'ema200': 3932.296852399964}, 'M5': {'ema50': 3927.201804473679, 'ema200': 3904.0815810076974}, 'M15': {'ema50': 3910.1597591390914, 'ema200': 3879.1757993068195}, 'H1': {'ema50': 3882.410857196689, 'ema200': 3843.666905415064}}
2025-10-06 13:13:21,864 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-06 13:13:21,864 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.381321963162026, TRs count: 179
2025-10-06 13:13:21,864 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:13:21,871 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 2.1497969324656934, TRs count: 119
2025-10-06 13:13:21,873 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-06 13:13:21,876 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 6.818165642038929, TRs count: 95
2025-10-06 13:13:21,877 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:13:21,883 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 12.564412245880705, TRs count: 119
2025-10-06 13:13:21,884 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 4.381321963162026, 'M1': 2.1497969324656934, 'M15': 6.818165642038929, 'H1': 12.564412245880705}
2025-10-06 13:13:21,887 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-06 13:13:21,893 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3925.364, daily: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, prev_day: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:13:21,894 - APP.services.mt5_service - DEBUG - Thêm PDH: 3921.048
2025-10-06 13:13:21,896 - APP.services.mt5_service - DEBUG - Thêm PDL: 3884.095
2025-10-06 13:13:21,898 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3914.6809999999996
2025-10-06 13:13:21,899 - APP.services.mt5_service - DEBUG - Thêm DO: 3888.686
2025-10-06 13:13:21,900 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3921.048, Relation: BELOW, Distance: 4316.000000000258
2025-10-06 13:13:21,901 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3884.095, Relation: BELOW, Distance: 41269.00000000023
2025-10-06 13:13:21,902 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3914.6809999999996, Relation: BELOW, Distance: 10683.000000000447
2025-10-06 13:13:21,906 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3888.686, Relation: BELOW, Distance: 36677.99999999988
2025-10-06 13:13:21,908 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-06 13:13:21,909 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 4316.000000000258}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 41269.00000000023}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 10683.000000000447}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 36677.99999999988}]
2025-10-06 13:13:21,911 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-06 13:13:21,916 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}
2025-10-06 13:13:21,919 - APP.services.mt5_service - DEBUG - Prev day close: 3909.511
2025-10-06 13:13:21,920 - APP.services.mt5_service - DEBUG - Day range: 61.172000000000025, Day range % of ADR20: 131.78834841226845
2025-10-06 13:13:21,922 - APP.services.mt5_service - DEBUG - Position in day range: 0.6746387235990358
2025-10-06 13:13:21,923 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:13:21,924 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:13:21.924656+07:00
2025-10-06 13:13:21,928 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:13:21.924656+07:00
2025-10-06 13:13:21,929 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:13:21.924656+07:00 trong DST: True
2025-10-06 13:13:21,930 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:13:21,931 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:13:21,931 - APP.services.mt5_service - DEBUG - Killzone active: asia, Mins to next killzone: None
2025-10-06 13:13:21,931 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:13:21,931 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:13:21,938 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '3600', 'price': 3925.36, 'distance_pips': 0.4}, {'level': '3625', 'price': 3925.363, 'distance_pips': 0.15}, {'level': '3650', 'price': 3925.365, 'distance_pips': 0.1}, {'level': '3675', 'price': 3925.368, 'distance_pips': 0.35}]
2025-10-06 13:13:21,940 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 0.8444939748984817}
2025-10-06 13:13:21,941 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:13:21,944 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:13:21,945 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:13:21,949 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3925.364
2025-10-06 13:13:21,955 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:13:21,956 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:13:21,958 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:13:21,959 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-06 13:13:21,960 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-06 13:13:21,962 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3925.364
2025-10-06 13:13:21,966 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:13:21,968 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-06 13:13:21,970 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:13:21,973 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-06 13:13:21,976 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-06 13:13:21,978 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3925.364
2025-10-06 13:13:21,980 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 2 FVG.
2025-10-06 13:13:21,982 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-06 13:13:21,984 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:13:21,984 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-06 13:13:21,988 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:13:21,990 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3925.364
2025-10-06 13:13:21,992 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:13:21,993 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:13:22,001 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:13:22,001 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-06 13:13:22,004 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:13:22,008 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:13:22,010 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:13:22,012 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:13:22,014 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:13:22,015 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:13:22,017 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:13:22,017 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:13:22,020 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:13:22,022 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:13:22,026 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:13:22,028 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:13:22,029 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:13:22,031 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:13:22,032 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:13:22,033 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:13:22,035 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:13:22,038 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:13:22,044 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:13:22,044 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:13:22,044 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-06 13:13:22,044 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-06 13:13:22,044 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-06 13:13:22,053 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-06 13:13:22,055 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:13:22,057 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-06 13:13:22,060 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:22,061 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:13:22,065 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-06 13:13:22,067 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:13:22,070 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-06 13:13:22,072 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': asia
2025-10-06 13:13:22,075 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-06 13:13:22,077 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3922.438, 'bar_index': 89}, {'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -13}, {'price': 3924.713, 'bar_index': -25}, {'price': 3921.048, 'bar_index': -37}, {'price': 3891.731, 'bar_index': -62}, {'price': 3890.722, 'bar_index': -70}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -101}, {'price': 3854.751, 'bar_index': -79}, {'price': 3855.394, 'bar_index': -98}, {'price': 3856.896, 'bar_index': -88}, {'price': 3860.23, 'bar_index': -92}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 72}], 'liquidity_voids_m15': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3922.438, 'bar_index': 41}, {'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 34}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 31}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 147}, {'price': 3940.405, 'bar_index': 142}, {'price': 3933.447, 'bar_index': 134}, {'price': 3933.426, 'bar_index': 156}, {'price': 3932.103, 'bar_index': 131}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -14}, {'price': 3873.943, 'bar_index': -9}, {'price': 3876.944, 'bar_index': 24}, {'price': 3880.541, 'bar_index': 6}, {'price': 3880.665, 'bar_index': 11}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3923.125, 'bottom': 3922.688}, {'type': 'Bearish', 'top': 3927.935, 'bottom': 3927.295}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 146}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 176}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 177}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 171}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 168}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 158}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -24}, {'price': 3940.699, 'bar_index': -34}, {'price': 3940.405, 'bar_index': -48}, {'price': 3939.578, 'bar_index': -38}, {'price': 3939.324, 'bar_index': -43}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 32}, {'price': 3927.425, 'bar_index': 9}, {'price': 3928.391, 'bar_index': 23}, {'price': 3929.125, 'bar_index': 1}, {'price': 3929.484, 'bar_index': -71}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3927.765, 'bottom': 3927.295}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3927.24, 'bottom': 3925.76, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 85}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 80}, {'type': 'Bullish', 'top': 3932.778, 'bottom': 3928.391, 'bar_index': 73}], 'premium_discount_m1': {'high': 3945.267, 'low': 3922.438, 'equilibrium': 3933.8525, 'status': 'Discount'}, 'mss_m1': None}
2025-10-06 13:13:22,085 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 19, 30, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}]}
2025-10-06 13:13:22,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:22,091 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 19, 30, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}]}
2025-10-06 13:13:22,092 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:22,095 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:13:22,096 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:22,099 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-06 13:13:22,102 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:13:22,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:22,110 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-06 13:13:22,111 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:22,112 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh.
2025-10-06 13:13:22,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:22,116 - APP.analysis.image_processor - DEBUG - Đang thử tải cache upload.
2025-10-06 13:13:22,120 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:22,122 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:22,124 - APP.analysis.image_processor - DEBUG - Đã tải cache upload với 8 mục.
2025-10-06 13:13:22,129 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_H1.png: 18965:1759323273:418e463f085b02cc
2025-10-06 13:13:22,130 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_H1.png. Tên từ xa: files/tpa0splt16rw
2025-10-06 13:13:22,134 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_H1.png, đang lấy thông tin file...
2025-10-06 13:13:22,538 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_H1.png
2025-10-06 13:13:22,548 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M1.png: 22804:1759323273:6525132933ac9b42
2025-10-06 13:13:22,548 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M1.png. Tên từ xa: files/ajq3848x5w7t
2025-10-06 13:13:22,548 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M1.png, đang lấy thông tin file...
2025-10-06 13:13:22,814 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M1.png
2025-10-06 13:13:22,814 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M15.png: 6121:1759323273:1b4aaeed377c2eb8
2025-10-06 13:13:22,814 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M15.png. Tên từ xa: files/jbroa237cwvw
2025-10-06 13:13:22,814 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M15.png, đang lấy thông tin file...
2025-10-06 13:13:23,012 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M15.png
2025-10-06 13:13:23,012 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M5.png: 6521:1759323273:424827d52f0ab96d
2025-10-06 13:13:23,012 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M5.png. Tên từ xa: files/1r8cfv90ib9s
2025-10-06 13:13:23,012 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M5.png, đang lấy thông tin file...
2025-10-06 13:13:23,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:23,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:23,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:23,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:23,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:23,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:23,140 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:23,142 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:23,287 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M5.png
2025-10-06 13:13:23,287 - APP.analysis.image_processor - DEBUG - Đang lưu cache upload với 8 mục.
2025-10-06 13:13:23,287 - APP.analysis.image_processor - DEBUG - Đã lưu cache upload thành công.
2025-10-06 13:13:23,297 - APP.core.analysis_worker - DEBUG - BẮT ĐẦU GIAI ĐOẠN 4: Gọi Model AI
2025-10-06 13:13:23,297 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:13:23,302 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:13:23,304 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:13:23,305 - APP.analysis.prompt_builder - DEBUG - Không có vị thế nào, chọn prompt 'no entry'.
2025-10-06 13:13:23,306 - APP.analysis.prompt_builder - DEBUG - Bắt đầu xây dựng prompt cuối cùng.
2025-10-06 13:13:23,310 - APP.analysis.prompt_builder - DEBUG - Đã xây dựng xong prompt cuối cùng.
2025-10-06 13:13:23,312 - APP.core.analysis_worker - DEBUG - --- PROMPT FINAL GỬI ĐẾN AI ---
VAI TRÒ & BỐI CẢNH
- Bạn là một nhà giao dịch ICT chuyên nghiệp với nhiệm vụ phân tích thị trường theo phương pháp Top-Down để tìm kiếm các cơ hội giao dịch có xác suất thắng cao nhất.
- Bạn phải suy luận một cách logic, xâu chuỗi các bằng chứng từ khung thời gian cao xuống thấp để xây dựng một "câu chuyện thị trường" chặt chẽ.

---
### NHIỆM VỤ 1: QUY TRÌNH PHÂN TÍCH TOP-DOWN 4 BƯỚC

Hãy thực hiện quy trình sau một cách tuần tự. **Trong mỗi bước, hãy trích dẫn dữ liệu cụ thể từ `EXTRACT_JSON` và `CONCEPT_VALUE_TABLE` để làm bằng chứng.**

**BƯỚC 1: XÁC ĐỊNH BỐI CẢNH VÀ MỤC TIÊU GIÁ TRÊN H1 (Draw on Liquidity)**
- **Phân tích Order Flow**: Dòng chảy lệnh trên H1 đang là Bullish hay Bearish? (Bằng chứng: `EXTRACT_JSON.tf.H1.mss_bos.type` và vị trí giá so với `EXTRACT_JSON.tf.H1.trend_refs.EMA.ema50`).
- **Xác định Draw on Liquidity**: Giá có khả năng cao sẽ tìm đến đâu? Một vùng thanh khoản (`EXTRACT_JSON.tf.H1.liquidity.swing_highs_BSL` hoặc `swing_lows_SSL`) hay một vùng mất cân bằng (`EXTRACT_JSON.tf.H1.fvgs`)? Nêu rõ mục tiêu giá cụ thể.
- **Kết luận H1**: Tóm tắt lại bối cảnh H1 (ví dụ: "H1 đang Bullish (BOS), giá có khả năng tìm về vùng BSL tại 1.2345").

**BƯỚC 2: TÌM VÙNG CHỜ CHẤT LƯỢNG TRÊN M15 (POI of Interest)**
- Dựa trên bối cảnh H1, hãy tìm một POI (từ `EXTRACT_JSON.tf.M15.order_blocks` hoặc `fvgs`) trên M15 có khả năng cao sẽ đảo chiều giá.
- **Đánh giá chất lượng POI**: POI này có nằm trong vùng Premium/Discount hợp lý không (`EXTRACT_JSON.tf.H1.premium_discount.status`)? Nó có quét thanh khoản trước khi hình thành không?
- **Kết luận M15**: Nêu rõ POI được chọn và lý do (ví dụ: "Chọn FVG M15 tại 1.2300-1.2310 vì nó nằm trong vùng Discount của H1").

**BƯỚC 3: TÌM TÍN HIỆU XÁC NHẬN TRÊN M5/M1 (Entry Confirmation)**
- Khi giá tiếp cận POI M15, bạn đang chờ đợi tín hiệu gì trên M5 hoặc M1?
- **Mô tả tín hiệu**: Đó là một sự thay đổi cấu trúc (`MSS`) ngược hướng với xu hướng hồi? (Theo dõi `EXTRACT_JSON.tf.M5.mss_bos.type`).
- **Kết luận M5/M1**: Nêu rõ tín hiệu xác nhận đang chờ đợi (ví dụ: "Chờ giá tạo MSS trên M5 sau khi chạm vào FVG M15").

**BƯỚC 4: TỔNG HỢP, XẾP HẠNG VÀ LẬP KẾ HOẠCH**
- **Xây dựng Câu chuyện Thị trường**: Tổng hợp 3 bước trên thành một câu chuyện thị trường hoàn chỉnh.
- **Xếp hạng Setup**: Dựa trên mức độ hợp lưu, xếp hạng setup: `A+`, `B`, `C`, hoặc `Không có`.
- **Lập Kế hoạch**: Nếu hạng là `A+` hoặc `B`, hãy lập một kế hoạch giao dịch chi tiết.

---
### NHIỆM VỤ 2: TẠO ĐỐI TƯỢNG JSON CHUYÊN SÂU

Tổng hợp toàn bộ kết quả phân tích của bạn vào đối tượng JSON sau. **Đây phải là phần đầu tiên trong phản hồi của bạn.**

```json
{
  "cycle": "[ĐIỀN THỜI GIAN HIỆN TẠI]",
  "symbol": "[LẤY TỪ DỮ LIỆU]",
  "mode": "expert_setup_evaluation",
  "market_narrative": "[CÂU CHUYỆN THỊ TRƯỜNG TỪ BƯỚC 4]",
  "setup_grade": "[A+/B/C/Không có]",
  "reasoning_summary": "[GIẢI THÍCH NGẮN GỌN VÌ SAO XẾP HẠNG SETUP NHƯ VẬY]",
  "top_down_analysis": {
    "h1_context": {
      "order_flow": "[Bullish/Bearish]",
      "draw_on_liquidity": "[Mô tả mục tiêu giá, ví dụ: BSL tại 1.2345]"
    },
    "m15_poi": {
      "type": "[Loại POI, ví dụ: FVG, Order Block]",
      "price_zone": "[Vùng giá của POI]",
      "quality_assessment": "[Đánh giá ngắn gọn chất lượng POI]"
    },
    "m5_m1_confirmation": {
      "status": "[Đã có/Đang chờ]",
      "signal": "[Mô tả tín hiệu, ví dụ: Chờ MSS trên M5]"
    }
  },
  "proposed_plan": {
    "direction": "[long/short hoặc null]",
    "entry": "[Giá hoặc 0.0]",
    "sl": "[Giá hoặc 0.0]",
    "tp1": "[Giá hoặc 0.0]",
    "tp2": "[Giá hoặc 0.0]",
    "risk_multiplier": "[1.0 cho A+, 0.5 cho B, 0.0 cho các trường hợp khác]"
  }
}
```

---
### NHIỆM VỤ 3: VIẾT BÁO CÁO PHÂN TÍCH CHI TIẾT

Dựa vào đối tượng JSON bạn vừa tạo, hãy viết một báo cáo chuyên nghiệp.

A) **TÓM TẮT NHANH (7 DÒNG):**
1.  **Câu chuyện chính:** [Lấy từ `market_narrative`]
2.  **Xếp hạng Setup:** [Lấy từ `setup_grade`]
3.  **Lệnh:** [long/short/Chờ]
4.  **Entry:** [Giá từ `proposed_plan`]
5.  **SL:** [Giá từ `proposed_plan`]
6.  **TP1/TP2:** [Giá từ `proposed_plan`]
7.  **Lý do chính:** [Lấy từ `reasoning_summary`]

B) **PHÂN TÍCH CHUYÊN SÂU:**
   - Diễn giải chi tiết hơn về `market_narrative`, xâu chuỗi các bằng chứng từ H1 xuống M1.
   - Giải thích tại sao các yếu tố trong `top_down_analysis` lại dẫn đến việc xếp hạng `setup_grade` như vậy.
   - Nếu có kế hoạch giao dịch, hãy bảo vệ luận điểm tại sao đây là một cơ hội xác suất cao. Nếu không, hãy giải thích tại sao nên đứng ngoài thị trường lúc này.

---
**Dữ liệu thị trường và tài khoản (MT5):**
```json
{'symbol': 'XAUUSD', 'generated_at': '2025-10-06 13:13:22', 'broker_time': '2025-10-06T06:13:21+00:00', 'account': {'balance': 175.98, 'equity': 175.98, 'free_margin': 175.98, 'currency': 'USD', 'leverage': 2000}, 'positions': [], 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}, 'symbol_rules': {'volume_min': 0.01, 'volume_max': 200.0, 'volume_step': 0.01, 'trade_tick_value': 0.1, 'trade_tick_size': 0.001, 'stop_level_points': 0, 'freeze_level_points': 0, 'margin_initial': 0.0, 'margin_maintenance': 0.0}, 'pip': {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}, 'tick': {'bid': 3925.364, 'ask': 3925.401, 'last': 0.0, 'time': 1759731201}, 'tick_stats_5m': {'ticks_per_min': 361, 'median_spread': 37.0, 'p90_spread': 37}, 'tick_stats_30m': {'ticks_per_min': 331, 'median_spread': 37.0, 'p90_spread': 37}, 'levels': {'daily': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, 'prev_day': {'high': 3921.048, 'low': 3884.095}, 'weekly': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}, 'prev_week': {'high': 3897.216, 'low': 3763.408}, 'monthly': {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}}, 'day_open': 3888.686, 'prev_day_close': 3909.511, 'adr': {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}, 'day_range': 61.172000000000025, 'day_range_pct_of_adr20': 131.78834841226845, 'position_in_day_range': 0.6746387235990358, 'sessions_today': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'session_liquidity': {}, 'volatility': {'ATR': {'M5': 4.381321963162026, 'M1': 2.1497969324656934, 'M15': 6.818165642038929, 'H1': 12.564412245880705}}, 'volatility_regime': 'trending', 'trend_refs': {'EMA': {'M1': {'ema50': 3930.8357608997426, 'ema200': 3932.296852399964}, 'M5': {'ema50': 3927.201804473679, 'ema200': 3904.0815810076974}, 'M15': {'ema50': 3910.1597591390914, 'ema200': 3879.1757993068195}, 'H1': {'ema50': 3882.410857196689, 'ema200': 3843.666905415064}}}, 'vwap': {'day': 3934.076582798828, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}, 'kills': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'is_silver_bullet_window': False, 'killzone_active': 'asia', 'mins_to_next_killzone': None, 'key_levels_nearby': [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 4316.000000000258}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 41269.00000000023}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 10683.000000000447}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 36677.99999999988}], 'round_levels': [{'level': '3600', 'price': 3925.36, 'distance_pips': 0.4}, {'level': '3625', 'price': 3925.363, 'distance_pips': 0.15}, {'level': '3650', 'price': 3925.365, 'distance_pips': 0.1}, {'level': '3675', 'price': 3925.368, 'distance_pips': 0.35}], 'atr_norm': {'spread_as_pct_of_atr_m5': 0.8444939748984817}, 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3922.438, 'bar_index': 89}, {'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -13}, {'price': 3924.713, 'bar_index': -25}, {'price': 3921.048, 'bar_index': -37}, {'price': 3891.731, 'bar_index': -62}, {'price': 3890.722, 'bar_index': -70}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -101}, {'price': 3854.751, 'bar_index': -79}, {'price': 3855.394, 'bar_index': -98}, {'price': 3856.896, 'bar_index': -88}, {'price': 3860.23, 'bar_index': -92}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 72}], 'liquidity_voids_m15': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3922.438, 'bar_index': 41}, {'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 34}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 31}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 147}, {'price': 3940.405, 'bar_index': 142}, {'price': 3933.447, 'bar_index': 134}, {'price': 3933.426, 'bar_index': 156}, {'price': 3932.103, 'bar_index': 131}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -14}, {'price': 3873.943, 'bar_index': -9}, {'price': 3876.944, 'bar_index': 24}, {'price': 3880.541, 'bar_index': 6}, {'price': 3880.665, 'bar_index': 11}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3923.125, 'bottom': 3922.688}, {'type': 'Bearish', 'top': 3927.935, 'bottom': 3927.295}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 146}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 176}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 177}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 171}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 168}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 158}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -24}, {'price': 3940.699, 'bar_index': -34}, {'price': 3940.405, 'bar_index': -48}, {'price': 3939.578, 'bar_index': -38}, {'price': 3939.324, 'bar_index': -43}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 32}, {'price': 3927.425, 'bar_index': 9}, {'price': 3928.391, 'bar_index': 23}, {'price': 3929.125, 'bar_index': 1}, {'price': 3929.484, 'bar_index': -71}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3927.765, 'bottom': 3927.295}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3927.24, 'bottom': 3925.76, 'bar_index': 117}], 'liquidity_voids_m1': [{'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 85}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 80}, {'type': 'Bullish', 'top': 3932.778, 'bottom': 3928.391, 'bar_index': 73}], 'premium_discount_m1': {'high': 3945.267, 'low': 3922.438, 'equilibrium': 3933.8525, 'status': 'Discount'}, 'mss_m1': None}, 'risk_model': {}, 'rr_projection': {}, 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 19, 30, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}]}, 'concept_value_table': '| Khái niệm (Concept) | Giá trị (Value) |\n|---|---|\n| Symbol | XAUUSD |\n| Killzone Hiện tại | asia |\n| Chế độ Biến động | trending |\n| H1 Order Flow | Bearish |\n| M15 Structure | Không rõ |\n| Trong Cửa sổ Tin tức | False |\n| Tin tức Sắp tới | None - Unemployment Claims |\n'}
```

---
**Bối cảnh bổ sung từ các báo cáo trước:**


[CONTEXT_COMPOSED]
{"CONTEXT_COMPOSED": {"cycle": "2025-10-06 13:13:21", "trend_checklist": {"trend": "unknown", "enough_ratio": null}, "latest_plan": null, "latest_summary_lines": null, "recent_history_summary": null, "run_meta": {"analysis_id": "2025-10-06T06:13:21Z", "folder_signature": "sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1", "images_tf_map": {"XAUUSD_H1.png": "H1", "XAUUSD_M1.png": "M1", "XAUUSD_M15.png": "M15", "XAUUSD_M5.png": "M5"}}, "running_stats": {"backtest_results": {"status": "not_implemented"}}, "risk_rules": {"max_risk_per_trade_pct": 0.5, "daily_loss_limit_pct": 3.0, "max_trades_per_day": 3}}}

---
**Phân tích các hình ảnh được cung cấp.**
--- KẾT THÚC PROMPT ---
2025-10-06 13:13:23,384 - APP.services.gemini_service - DEBUG - Bắt đầu stream tới Gemini API với 5 lần thử.
2025-10-06 13:13:24,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:24,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:24,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:24,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:24,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:24,149 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:24,157 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:24,161 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:25,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:25,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:25,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:25,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:25,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:25,164 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:25,174 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:25,175 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:26,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:26,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:26,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:26,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:26,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:26,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:26,191 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:26,194 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:27,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:27,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:27,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:27,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:27,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:27,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:27,208 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:27,210 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:28,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:28,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:28,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:28,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:28,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:28,213 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:28,213 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:28,221 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:29,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:29,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:29,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:29,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:29,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:29,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:29,231 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:29,240 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:30,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:30,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:30,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:30,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:30,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:30,249 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:30,256 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:30,258 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:31,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:31,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:31,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:31,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:31,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:31,261 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:31,261 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:31,270 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:32,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:32,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:32,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:32,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:32,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:32,291 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:32,293 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:32,295 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:33,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:33,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:33,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:33,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:33,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:33,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:33,307 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:33,309 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:34,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:34,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:34,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:34,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:34,311 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:34,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:34,323 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:34,324 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:35,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:35,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:35,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:35,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:35,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:35,330 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:35,339 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:35,341 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:36,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:36,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:36,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:36,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:36,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:36,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:36,359 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:36,361 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:37,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:37,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:37,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:37,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:37,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:37,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:37,372 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:37,374 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:38,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:38,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:38,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:38,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:38,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:38,390 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:38,392 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:38,394 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:39,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:39,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:39,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:39,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:39,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:39,399 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:39,406 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:39,409 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:40,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:40,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:40,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:40,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:40,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:40,414 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:40,422 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:40,425 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:41,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:41,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:41,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:41,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:41,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:41,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:41,440 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:41,441 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:42,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:42,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:42,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:42,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:42,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:42,445 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:42,445 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:42,453 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:43,456 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:43,456 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:43,456 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:43,456 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:43,456 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:43,456 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:43,465 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:43,467 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:44,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:44,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:44,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:44,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:44,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:44,475 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:44,475 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:44,483 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:45,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:45,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:45,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:45,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:45,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:45,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:45,495 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:45,498 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:46,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:46,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:46,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:46,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:46,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:46,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:46,505 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:46,514 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:47,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:47,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:47,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:47,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:47,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:47,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:47,517 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:47,525 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:48,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:48,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:48,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:48,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:48,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:48,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:48,538 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:48,540 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:49,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:49,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:49,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:49,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:49,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:49,551 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:49,553 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:49,556 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:50,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:50,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:50,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:50,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:50,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:50,562 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:50,569 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:50,572 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:51,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:51,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:51,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:51,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:51,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:51,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:51,587 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:51,590 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:52,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:52,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:52,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:52,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:52,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:52,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:52,609 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:52,612 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:53,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:53,624 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:53,625 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:53,628 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:53,629 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:53,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:53,633 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:53,638 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:54,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:54,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:54,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:54,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:54,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:54,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:54,656 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:54,658 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:55,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:55,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:55,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:55,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:55,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:55,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:55,674 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:55,676 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:56,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:56,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:56,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:56,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:56,679 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:56,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:56,690 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:56,695 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:57,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:57,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:57,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:57,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:57,702 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:57,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:57,713 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:57,715 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:58,720 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:58,720 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:58,730 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:58,730 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:58,730 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:58,730 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:58,736 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:58,740 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:13:59,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:13:59,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:13:59,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:13:59,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:13:59,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:13:59,746 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:13:59,746 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:13:59,755 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:00,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:00,751 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:00,761 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:14:00,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:14:00,761 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:14:00,767 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:00,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:14:00,988 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:14:00,998 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:14:00,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:00,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:00,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:01,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:01,008 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:01,011 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:02,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:02,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:02,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:02,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:02,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:02,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:02,022 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:02,025 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:03,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:03,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:03,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:03,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:03,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:03,040 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:03,041 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:03,043 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:04,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:04,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:04,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:04,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:04,045 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:04,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:04,056 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:04,058 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:05,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:05,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:05,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:05,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:05,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:05,075 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:05,077 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:05,079 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:06,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:06,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:06,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:06,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:06,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:06,082 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:06,082 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:06,091 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:07,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:07,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:07,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:07,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:07,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:07,098 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:07,102 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:07,106 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:08,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:08,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:08,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:08,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:08,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:08,113 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:08,113 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:08,122 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:09,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:09,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:09,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:09,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:09,121 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:09,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:09,133 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:09,135 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:10,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:10,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:10,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:10,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:10,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:10,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:10,152 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:10,155 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:10,452 - APP.services.gemini_service - INFO - Lần thử 1: Kết nối stream tới Gemini API thành công.
2025-10-06 13:14:12,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:12,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:12,902 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:12,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:12,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:12,912 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:12,918 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:12,923 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:13,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:13,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:13,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:13,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:13,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:13,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:13,936 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:13,936 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:14,040 - APP.services.gemini_service - DEBUG - Stream từ Gemini API hoàn tất.
2025-10-06 13:14:14,041 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 5: Thực thi hoặc quản lý giao dịch.
2025-10-06 13:14:14,042 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:14:14,044 - APP.core.analysis_worker - INFO - Không có lệnh. Tìm kiếm cơ hội vào lệnh mới.
2025-10-06 13:14:14,045 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 13:14:14,047 - APP.persistence.md_handler - DEBUG - Bắt đầu lưu báo cáo Markdown.
2025-10-06 13:14:14,050 - APP.persistence.md_handler - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports\report_20251006_131414.md
2025-10-06 13:14:14,051 - APP.persistence.md_handler - DEBUG - Bắt đầu trích xuất báo cáo human-readable.
2025-10-06 13:14:14,052 - APP.persistence.md_handler - WARNING - Không tìm thấy điểm bắt đầu báo cáo hợp lệ, trả về toàn bộ nội dung.
2025-10-06 13:14:14,055 - APP.persistence.md_handler - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251006_131414.md
2025-10-06 13:14:14,060 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: *.md, giữ lại: 10 file.
2025-10-06 13:14:14,064 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:14:14,065 - APP.persistence.md_handler - DEBUG - Kết thúc việc lưu báo cáo Markdown.
2025-10-06 13:14:14,065 - APP.persistence.json_handler - DEBUG - JsonSaver được khởi tạo cho workspace: C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-06 13:14:14,069 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:14:14,070 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:14:14,073 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:14:14,075 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:14:14,080 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:14:14,081 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:14:14,082 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:14:14,084 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:14:14,085 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:14:14,087 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:14:14,089 - APP.persistence.json_handler - DEBUG - Bắt đầu quá trình lưu báo cáo JSON.
2025-10-06 13:14:14,091 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:14:14,092 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:14:14,093 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:14:14,094 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:14:14,096 - APP.persistence.json_handler - DEBUG - Đã thêm 8 khối JSON vào data_to_save.
2025-10-06 13:14:14,098 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-06 13:14:14,102 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-06 13:14:14,104 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:14:14,106 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:14:14,107 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:14:14,109 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:14:14,110 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:14:14,111 - APP.analysis.report_parser - INFO - Trích xuất cài đặt thành công từ khối JSON.
2025-10-06 13:14:14,114 - APP.persistence.json_handler - DEBUG - Đã parse và lưu plan: {'direction': 'null', 'entry': 0.0, 'sl': 0.0, 'tp1': 0.0, 'tp2': 0.0, 'risk_multiplier': 0.0}
2025-10-06 13:14:14,121 - APP.persistence.json_handler - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251006_131414.json
2025-10-06 13:14:14,123 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: ctx_*.json, giữ lại: 0 file.
2025-10-06 13:14:14,129 - APP.utils.general_utils - DEBUG - Đã xóa file cũ: ctx_20251006_131414.json
2025-10-06 13:14:14,131 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:14:14,133 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:14:14,135 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:14:14,136 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:14:14,140 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:14:14,144 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:14:14,147 - APP.analysis.report_parser - INFO - Trích xuất cài đặt thành công từ khối JSON.
2025-10-06 13:14:14,150 - APP.persistence.json_handler - DEBUG - Kết thúc quá trình lưu báo cáo JSON.
2025-10-06 13:14:14,151 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 13:14:14,676 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: report_*.md
2025-10-06 13:14:14,676 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: ctx_*.json
2025-10-06 13:14:14,686 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 13:14:14,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:14,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:14,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:14,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:14,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:14,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:14,950 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:14,958 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:15,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:15,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:15,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:15,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:15,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:15,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:15,974 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:15,976 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:16,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:16,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:16,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:16,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:16,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:16,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:16,986 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:16,992 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:17,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:17,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:17,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:17,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:17,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:18,006 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:18,007 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:18,009 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:19,015 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:19,015 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:19,015 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:19,015 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:19,015 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:19,024 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:19,025 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:19,027 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:20,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:20,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:20,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:20,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:20,033 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:20,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:20,045 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:20,047 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:21,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:21,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:21,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:21,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:21,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:21,056 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:21,065 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:21,067 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:22,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:22,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:22,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:22,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:22,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:22,071 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:22,079 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:22,081 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:23,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:23,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:23,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:23,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:23,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:23,090 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:23,090 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:23,099 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:24,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:24,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:24,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:24,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:24,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:24,107 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:24,107 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:24,116 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:25,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:25,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:25,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:25,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:25,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:25,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:25,130 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:25,132 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:26,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:26,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:26,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:26,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:26,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:26,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:26,152 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:26,154 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:27,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:27,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:27,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:27,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:27,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:27,159 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:27,166 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:27,169 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:28,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:28,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:28,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:28,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:28,179 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:28,186 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:28,189 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:28,191 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:29,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:29,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:29,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:29,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:29,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:29,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:29,201 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:29,205 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:30,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:30,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:30,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:30,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:30,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:30,219 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:30,220 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:30,224 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:31,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:31,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:31,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:31,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:31,229 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:31,239 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:31,240 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:31,242 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:32,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:32,247 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:32,248 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:32,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:32,252 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:32,254 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:32,257 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:32,259 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:33,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:33,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:33,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:33,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:33,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:33,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:33,271 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:33,273 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:34,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:34,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:34,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:34,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:34,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:34,279 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:34,286 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:34,289 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:35,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:35,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:35,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:35,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:35,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:35,298 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:35,306 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:35,308 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:36,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:36,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:36,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:36,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:36,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:36,313 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:36,313 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:36,323 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:37,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:37,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:37,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:37,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:37,322 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:37,332 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:37,336 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:37,338 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:38,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:38,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:38,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:38,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:38,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:38,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:38,353 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:38,356 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:39,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:39,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:39,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:39,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:39,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:39,358 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:39,366 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:39,368 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:40,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:40,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:40,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:40,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:40,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:40,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:40,382 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:40,385 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:41,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:41,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:41,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:41,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:41,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:41,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:41,397 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:41,399 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:42,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:42,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:42,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:42,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:42,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:42,406 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:42,415 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:42,417 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:43,428 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:43,428 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:43,428 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:43,428 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:43,428 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:43,428 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:43,428 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:43,437 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:44,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:44,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:44,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:44,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:44,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:44,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:44,453 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:44,456 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:45,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:45,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:45,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:45,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:45,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:45,462 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:45,462 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:45,470 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:46,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:46,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:46,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:46,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:46,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:46,484 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:46,486 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:46,486 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:47,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:47,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:47,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:47,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:47,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:47,492 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:47,499 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:47,501 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:48,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:48,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:48,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:48,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:48,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:48,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:48,513 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:48,515 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:49,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:49,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:49,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:49,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:49,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:49,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:49,531 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:49,533 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:50,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:50,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:50,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:50,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:50,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:50,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:50,548 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:50,550 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:51,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:51,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:51,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:51,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:51,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:51,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:51,564 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:51,566 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:52,576 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:52,576 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:52,576 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:52,576 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:52,576 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:52,576 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:52,585 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:52,586 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:53,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:53,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:53,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:53,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:53,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:53,598 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:53,598 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:53,607 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:54,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:54,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:54,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:54,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:54,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:54,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:54,617 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:54,620 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:55,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:55,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:55,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:55,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:55,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:55,643 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:55,644 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:55,647 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:56,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:56,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:56,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:56,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:56,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:56,647 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:56,656 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:56,659 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:57,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:57,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:57,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:57,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:57,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:57,663 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:57,671 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:57,674 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:58,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:58,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:58,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:58,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:58,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:58,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:58,685 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:58,688 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:14:59,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:14:59,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:14:59,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:14:59,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:14:59,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:14:59,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:14:59,704 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:14:59,706 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:00,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:00,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:00,711 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:15:00,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:15:00,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:15:00,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:00,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:15:00,943 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:15:00,943 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:15:00,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:00,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:00,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:00,943 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:00,953 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:00,956 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:01,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:01,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:01,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:01,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:01,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:01,963 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:01,973 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:01,974 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:02,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:02,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:02,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:02,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:02,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:02,993 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:02,995 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:02,996 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:04,001 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:04,001 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:04,001 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:04,001 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:04,001 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:04,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:04,011 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:04,014 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:05,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:05,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:05,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:05,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:05,016 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:05,024 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:05,026 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:05,029 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:06,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:06,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:06,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:06,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:06,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:06,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:06,040 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:06,042 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:07,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:07,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:07,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:07,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:07,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:07,059 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:07,060 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:07,063 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:08,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:08,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:08,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:08,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:08,064 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:08,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:08,074 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:08,076 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:09,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:09,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:09,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:09,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:09,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:09,095 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:09,096 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:09,099 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:10,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:10,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:10,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:10,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:10,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:10,101 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:10,108 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:10,111 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:11,115 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:11,115 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:11,115 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:11,115 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:11,115 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:11,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:11,125 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:11,128 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:12,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:12,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:12,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:12,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:12,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:12,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:12,145 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:12,147 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:13,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:13,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:13,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:13,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:13,157 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:13,165 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:13,167 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:13,170 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:14,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:14,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:14,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:14,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:14,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:14,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:14,181 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:14,183 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:14,688 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 13:15:14,688 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 13:15:14,688 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 13:15:14,688 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 13:15:14,698 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 13:15:14,700 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=False, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=False, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=300), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 13:15:14,707 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 13:15:14,709 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 13:15:14,709 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 13:15:14,711 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 13:15:14,744 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 13:15:14,746 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 13:15:14,749 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 13:15:14,758 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-06 13:15:14,760 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-06 13:15:14,762 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-06 13:15:14,764 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:15:14,765 - APP.analysis.context_builder - WARNING - Thư mục báo cáo không tồn tại: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:15:14,768 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 0 items.
2025-10-06 13:15:14,770 - APP.analysis.context_builder - DEBUG - Không có items, trả về trend 'unknown'.
2025-10-06 13:15:14,771 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:15:14,774 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:15:14,776 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:15:14,778 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:15:14,779 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:15:14,781 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:15:14,782 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:15:14,786 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:15:14,789 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:15:14,791 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:15:14,794 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 606 chars (trong budget).
2025-10-06 13:15:14,794 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-06 13:15:14,796 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-06 13:15:14,799 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-06 13:15:14,804 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-06 13:15:14,806 - APP.services.mt5_service - DEBUG - Current price (cp): 3925.944
2025-10-06 13:15:14,817 - APP.services.mt5_service - DEBUG - Tick stats 5m: {'ticks_per_min': 338, 'median_spread': 37, 'p90_spread': 37}
2025-10-06 13:15:14,858 - APP.services.mt5_service - DEBUG - Tick stats 30m: {'ticks_per_min': 318, 'median_spread': 37, 'p90_spread': 37}
2025-10-06 13:15:14,858 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-06 13:15:14,868 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-06 13:15:14,873 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:15:14,875 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-06 13:15:14,885 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-06 13:15:14,886 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:15:14,887 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-06 13:15:14,893 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-06 13:15:14,893 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:15:14,897 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-06 13:15:14,903 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-06 13:15:14,903 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:15:14,909 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-06 13:15:14,912 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-06 13:15:14,915 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:15:14,917 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:15:14,917 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-06 13:15:14,919 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:15:14,920 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3897.216, 'low': 3763.408}
2025-10-06 13:15:14,921 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-06 13:15:14,925 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}
2025-10-06 13:15:14,926 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-06 13:15:14,928 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}
2025-10-06 13:15:14,929 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-06 13:15:14,930 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:15:14,932 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:15:14.932420+07:00
2025-10-06 13:15:14,936 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:15:14.932420+07:00
2025-10-06 13:15:14,940 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:15:14.932420+07:00 trong DST: True
2025-10-06 13:15:14,942 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:15:14,943 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:15:14,944 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-06 13:15:14,948 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 120 rates.
2025-10-06 13:15:14,949 - APP.services.mt5_service - DEBUG - Kết thúc vwap_from_rates. VWAP: 3933.974881628927
2025-10-06 13:15:14,960 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': 3933.974881628927, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-06 13:15:14,960 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:15:14,966 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3930.4768931251383
2025-10-06 13:15:14,967 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:15:14,968 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3932.436867500858
2025-10-06 13:15:14,969 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-06 13:15:14,970 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3927.177865706256
2025-10-06 13:15:14,971 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-06 13:15:14,974 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3905.4799562855137
2025-10-06 13:15:14,975 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-06 13:15:14,977 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3910.8328167209543
2025-10-06 13:15:14,979 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-06 13:15:14,982 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3880.2521369488804
2025-10-06 13:15:14,983 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:15:14,985 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3882.4332101378654
2025-10-06 13:15:14,986 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:15:14,988 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3843.6725770568546
2025-10-06 13:15:14,989 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3930.4768931251383, 'ema200': 3932.436867500858}, 'M5': {'ema50': 3927.177865706256, 'ema200': 3905.4799562855137}, 'M15': {'ema50': 3910.8328167209543, 'ema200': 3880.2521369488804}, 'H1': {'ema50': 3882.4332101378654, 'ema200': 3843.6725770568546}}
2025-10-06 13:15:14,991 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-06 13:15:14,993 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.13972628190664, TRs count: 179
2025-10-06 13:15:14,993 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:15:14,998 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 2.0405388627937446, TRs count: 119
2025-10-06 13:15:14,999 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-06 13:15:15,001 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 6.40257233601259, TRs count: 95
2025-10-06 13:15:15,002 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:15:15,002 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 12.564412245880705, TRs count: 119
2025-10-06 13:15:15,002 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 4.13972628190664, 'M1': 2.0405388627937446, 'M15': 6.40257233601259, 'H1': 12.564412245880705}
2025-10-06 13:15:15,007 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-06 13:15:15,009 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3925.944, daily: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, prev_day: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:15:15,012 - APP.services.mt5_service - DEBUG - Thêm PDH: 3921.048
2025-10-06 13:15:15,014 - APP.services.mt5_service - DEBUG - Thêm PDL: 3884.095
2025-10-06 13:15:15,015 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3914.6809999999996
2025-10-06 13:15:15,015 - APP.services.mt5_service - DEBUG - Thêm DO: 3888.686
2025-10-06 13:15:15,017 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3921.048, Relation: BELOW, Distance: 4896.0000000001855
2025-10-06 13:15:15,019 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3884.095, Relation: BELOW, Distance: 41849.00000000016
2025-10-06 13:15:15,020 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3914.6809999999996, Relation: BELOW, Distance: 11263.000000000375
2025-10-06 13:15:15,021 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3888.686, Relation: BELOW, Distance: 37257.99999999981
2025-10-06 13:15:15,024 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-06 13:15:15,026 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 4896.0000000001855}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 41849.00000000016}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 11263.000000000375}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 37257.99999999981}]
2025-10-06 13:15:15,029 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-06 13:15:15,031 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}
2025-10-06 13:15:15,031 - APP.services.mt5_service - DEBUG - Prev day close: 3909.511
2025-10-06 13:15:15,031 - APP.services.mt5_service - DEBUG - Day range: 61.172000000000025, Day range % of ADR20: 131.78834841226845
2025-10-06 13:15:15,031 - APP.services.mt5_service - DEBUG - Position in day range: 0.6841201857058808
2025-10-06 13:15:15,031 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:15:15,039 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:15:15.039532+07:00
2025-10-06 13:15:15,042 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:15:15.039532+07:00
2025-10-06 13:15:15,047 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:15:15.039532+07:00 trong DST: True
2025-10-06 13:15:15,049 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:15:15,050 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:15:15,051 - APP.services.mt5_service - DEBUG - Killzone active: asia, Mins to next killzone: None
2025-10-06 13:15:15,054 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:15:15,055 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:15:15,057 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '9400', 'price': 3925.94, 'distance_pips': 0.4}, {'level': '9425', 'price': 3925.943, 'distance_pips': 0.15}, {'level': '9450', 'price': 3925.945, 'distance_pips': 0.1}, {'level': '9475', 'price': 3925.948, 'distance_pips': 0.35}]
2025-10-06 13:15:15,062 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 0.893778899391889}
2025-10-06 13:15:15,064 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:15:15,065 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:15:15,067 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:15:15,069 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3925.944
2025-10-06 13:15:15,070 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:15:15,071 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:15:15,075 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:15:15,077 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-06 13:15:15,078 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-06 13:15:15,080 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3925.944
2025-10-06 13:15:15,081 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 2 FVG.
2025-10-06 13:15:15,084 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-06 13:15:15,086 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:15:15,086 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-06 13:15:15,091 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-06 13:15:15,093 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3925.944
2025-10-06 13:15:15,095 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 2 FVG.
2025-10-06 13:15:15,097 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-06 13:15:15,099 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:15:15,104 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-06 13:15:15,105 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:15:15,108 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3925.944
2025-10-06 13:15:15,113 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:15:15,114 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:15:15,116 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:15:15,118 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-06 13:15:15,119 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:15:15,121 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:15:15,122 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:15:15,124 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:15:15,127 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:15:15,129 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:15:15,132 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:15:15,133 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:15:15,135 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:15:15,136 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:15:15,137 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:15:15,138 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:15:15,141 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:15:15,143 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:15:15,144 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:15:15,145 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:15:15,148 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:15:15,185 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:15,190 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:15:15,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:15,190 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:15:15,190 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:15,190 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:15:15,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:15,200 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-06 13:15:15,200 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:15,242 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-06 13:15:15,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:15,259 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-06 13:15:15,292 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:15,292 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-06 13:15:15,322 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:15,345 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:15:15,390 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-06 13:15:15,407 - APP.services.news_service - DEBUG - Cache tin tức hết hạn hoặc không tồn tại, đang fetch lại.
2025-10-06 13:15:15,407 - APP.services.news_service - DEBUG - Bắt đầu quy trình lấy tin tức bằng Forex Factory.
2025-10-06 13:15:15,417 - APP.services.news_service - INFO - 🌐 Đang lấy dữ liệu tin tức từ Forex Factory...
2025-10-06 13:15:15,461 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.forexfactory.com:443
2025-10-06 13:15:15,887 - urllib3.connectionpool - DEBUG - https://www.forexfactory.com:443 "GET /calendar HTTP/1.1" 200 None
2025-10-06 13:15:16,084 - APP.services.news_service - INFO - ✅ Lấy thành công HTML từ Forex Factory.
2025-10-06 13:15:16,381 - APP.services.news_service - INFO - Hoàn tất lấy tin tức, tìm thấy 8 sự kiện có tác động mạnh.
2025-10-06 13:15:16,381 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:15:16,381 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-06 13:15:16,381 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:15:16,381 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-06 13:15:16,381 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': asia
2025-10-06 13:15:16,381 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-06 13:15:16,391 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -14}, {'price': 3924.713, 'bar_index': -26}, {'price': 3921.048, 'bar_index': -38}, {'price': 3891.731, 'bar_index': -63}, {'price': 3890.722, 'bar_index': -71}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -102}, {'price': 3854.751, 'bar_index': -80}, {'price': 3855.394, 'bar_index': -99}, {'price': 3856.896, 'bar_index': -89}, {'price': 3860.23, 'bar_index': -93}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}, {'type': 'Bearish', 'top': 3928.391, 'bottom': 3926.717}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 71}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 89}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 33}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 30}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 24}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 146}, {'price': 3940.405, 'bar_index': 141}, {'price': 3933.447, 'bar_index': 133}, {'price': 3933.426, 'bar_index': 155}, {'price': 3932.103, 'bar_index': 130}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -15}, {'price': 3873.943, 'bar_index': -10}, {'price': 3876.944, 'bar_index': 23}, {'price': 3880.541, 'bar_index': 5}, {'price': 3880.665, 'bar_index': 10}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3927.935, 'bottom': 3927.295}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 145}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 175}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 176}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 170}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 167}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 157}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -26}, {'price': 3940.699, 'bar_index': -36}, {'price': 3940.405, 'bar_index': -50}, {'price': 3939.578, 'bar_index': -40}, {'price': 3939.324, 'bar_index': -45}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 30}, {'price': 3924.05, 'bar_index': 36}, {'price': 3927.425, 'bar_index': 7}, {'price': 3928.391, 'bar_index': 21}, {'price': 3929.125, 'bar_index': -1}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3927.765, 'bottom': 3927.295}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3929.328, 'bottom': 3927.765, 'bar_index': 112}], 'liquidity_voids_m1': [{'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 83}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 78}, {'type': 'Bullish', 'top': 3932.778, 'bottom': 3928.391, 'bar_index': 71}], 'premium_discount_m1': {'high': 3945.267, 'low': 3924.05, 'equilibrium': 3934.6585, 'status': 'Discount'}, 'mss_m1': None}
2025-10-06 13:15:16,396 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:16,406 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 10, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Average Hourly Earnings m/m', 'curr': 'USD'}]}
2025-10-06 13:15:16,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:16,409 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 10, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Average Hourly Earnings m/m', 'curr': 'USD'}]}
2025-10-06 13:15:16,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:16,409 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:15:16,409 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:16,422 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-06 13:15:16,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:16,424 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:15:16,434 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:16,437 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-06 13:15:16,439 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:16,439 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh.
2025-10-06 13:15:16,441 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:16,447 - APP.analysis.image_processor - DEBUG - Đang thử tải cache upload.
2025-10-06 13:15:16,451 - APP.analysis.image_processor - DEBUG - Đã tải cache upload với 8 mục.
2025-10-06 13:15:16,453 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_H1.png: 18965:1759323273:418e463f085b02cc
2025-10-06 13:15:16,458 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_H1.png. Tên từ xa: files/tpa0splt16rw
2025-10-06 13:15:16,471 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_H1.png, đang lấy thông tin file...
2025-10-06 13:15:16,971 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_H1.png
2025-10-06 13:15:16,971 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M1.png: 22804:1759323273:6525132933ac9b42
2025-10-06 13:15:16,971 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M1.png. Tên từ xa: files/ajq3848x5w7t
2025-10-06 13:15:16,971 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M1.png, đang lấy thông tin file...
2025-10-06 13:15:17,194 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M1.png
2025-10-06 13:15:17,194 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M15.png: 6121:1759323273:1b4aaeed377c2eb8
2025-10-06 13:15:17,194 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M15.png. Tên từ xa: files/jbroa237cwvw
2025-10-06 13:15:17,194 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M15.png, đang lấy thông tin file...
2025-10-06 13:15:17,457 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:17,457 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:17,457 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:17,457 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:17,457 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M15.png
2025-10-06 13:15:17,457 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:17,469 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M5.png: 6521:1759323273:424827d52f0ab96d
2025-10-06 13:15:17,470 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:17,472 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M5.png. Tên từ xa: files/1r8cfv90ib9s
2025-10-06 13:15:17,473 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:17,474 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M5.png, đang lấy thông tin file...
2025-10-06 13:15:17,476 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:17,727 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M5.png
2025-10-06 13:15:17,727 - APP.analysis.image_processor - DEBUG - Đang lưu cache upload với 8 mục.
2025-10-06 13:15:17,737 - APP.analysis.image_processor - DEBUG - Đã lưu cache upload thành công.
2025-10-06 13:15:17,737 - APP.core.analysis_worker - DEBUG - BẮT ĐẦU GIAI ĐOẠN 4: Gọi Model AI
2025-10-06 13:15:17,737 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:15:17,742 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:15:17,743 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:15:17,744 - APP.analysis.prompt_builder - DEBUG - Không có vị thế nào, chọn prompt 'no entry'.
2025-10-06 13:15:17,746 - APP.analysis.prompt_builder - DEBUG - Bắt đầu xây dựng prompt cuối cùng.
2025-10-06 13:15:17,749 - APP.analysis.prompt_builder - DEBUG - Đã xây dựng xong prompt cuối cùng.
2025-10-06 13:15:17,750 - APP.core.analysis_worker - DEBUG - --- PROMPT FINAL GỬI ĐẾN AI ---
VAI TRÒ & BỐI CẢNH
- Bạn là một nhà giao dịch ICT chuyên nghiệp với nhiệm vụ phân tích thị trường theo phương pháp Top-Down để tìm kiếm các cơ hội giao dịch có xác suất thắng cao nhất.
- Bạn phải suy luận một cách logic, xâu chuỗi các bằng chứng từ khung thời gian cao xuống thấp để xây dựng một "câu chuyện thị trường" chặt chẽ.

---
### NHIỆM VỤ 1: QUY TRÌNH PHÂN TÍCH TOP-DOWN 4 BƯỚC

Hãy thực hiện quy trình sau một cách tuần tự. **Trong mỗi bước, hãy trích dẫn dữ liệu cụ thể từ `EXTRACT_JSON` và `CONCEPT_VALUE_TABLE` để làm bằng chứng.**

**BƯỚC 1: XÁC ĐỊNH BỐI CẢNH VÀ MỤC TIÊU GIÁ TRÊN H1 (Draw on Liquidity)**
- **Phân tích Order Flow**: Dòng chảy lệnh trên H1 đang là Bullish hay Bearish? (Bằng chứng: `EXTRACT_JSON.tf.H1.mss_bos.type` và vị trí giá so với `EXTRACT_JSON.tf.H1.trend_refs.EMA.ema50`).
- **Xác định Draw on Liquidity**: Giá có khả năng cao sẽ tìm đến đâu? Một vùng thanh khoản (`EXTRACT_JSON.tf.H1.liquidity.swing_highs_BSL` hoặc `swing_lows_SSL`) hay một vùng mất cân bằng (`EXTRACT_JSON.tf.H1.fvgs`)? Nêu rõ mục tiêu giá cụ thể.
- **Kết luận H1**: Tóm tắt lại bối cảnh H1 (ví dụ: "H1 đang Bullish (BOS), giá có khả năng tìm về vùng BSL tại 1.2345").

**BƯỚC 2: TÌM VÙNG CHỜ CHẤT LƯỢNG TRÊN M15 (POI of Interest)**
- Dựa trên bối cảnh H1, hãy tìm một POI (từ `EXTRACT_JSON.tf.M15.order_blocks` hoặc `fvgs`) trên M15 có khả năng cao sẽ đảo chiều giá.
- **Đánh giá chất lượng POI**: POI này có nằm trong vùng Premium/Discount hợp lý không (`EXTRACT_JSON.tf.H1.premium_discount.status`)? Nó có quét thanh khoản trước khi hình thành không?
- **Kết luận M15**: Nêu rõ POI được chọn và lý do (ví dụ: "Chọn FVG M15 tại 1.2300-1.2310 vì nó nằm trong vùng Discount của H1").

**BƯỚC 3: TÌM TÍN HIỆU XÁC NHẬN TRÊN M5/M1 (Entry Confirmation)**
- Khi giá tiếp cận POI M15, bạn đang chờ đợi tín hiệu gì trên M5 hoặc M1?
- **Mô tả tín hiệu**: Đó là một sự thay đổi cấu trúc (`MSS`) ngược hướng với xu hướng hồi? (Theo dõi `EXTRACT_JSON.tf.M5.mss_bos.type`).
- **Kết luận M5/M1**: Nêu rõ tín hiệu xác nhận đang chờ đợi (ví dụ: "Chờ giá tạo MSS trên M5 sau khi chạm vào FVG M15").

**BƯỚC 4: TỔNG HỢP, XẾP HẠNG VÀ LẬP KẾ HOẠCH**
- **Xây dựng Câu chuyện Thị trường**: Tổng hợp 3 bước trên thành một câu chuyện thị trường hoàn chỉnh.
- **Xếp hạng Setup**: Dựa trên mức độ hợp lưu, xếp hạng setup: `A+`, `B`, `C`, hoặc `Không có`.
- **Lập Kế hoạch**: Nếu hạng là `A+` hoặc `B`, hãy lập một kế hoạch giao dịch chi tiết.

---
### NHIỆM VỤ 2: TẠO ĐỐI TƯỢNG JSON CHUYÊN SÂU

Tổng hợp toàn bộ kết quả phân tích của bạn vào đối tượng JSON sau. **Đây phải là phần đầu tiên trong phản hồi của bạn.**

```json
{
  "cycle": "[ĐIỀN THỜI GIAN HIỆN TẠI]",
  "symbol": "[LẤY TỪ DỮ LIỆU]",
  "mode": "expert_setup_evaluation",
  "market_narrative": "[CÂU CHUYỆN THỊ TRƯỜNG TỪ BƯỚC 4]",
  "setup_grade": "[A+/B/C/Không có]",
  "reasoning_summary": "[GIẢI THÍCH NGẮN GỌN VÌ SAO XẾP HẠNG SETUP NHƯ VẬY]",
  "top_down_analysis": {
    "h1_context": {
      "order_flow": "[Bullish/Bearish]",
      "draw_on_liquidity": "[Mô tả mục tiêu giá, ví dụ: BSL tại 1.2345]"
    },
    "m15_poi": {
      "type": "[Loại POI, ví dụ: FVG, Order Block]",
      "price_zone": "[Vùng giá của POI]",
      "quality_assessment": "[Đánh giá ngắn gọn chất lượng POI]"
    },
    "m5_m1_confirmation": {
      "status": "[Đã có/Đang chờ]",
      "signal": "[Mô tả tín hiệu, ví dụ: Chờ MSS trên M5]"
    }
  },
  "proposed_plan": {
    "direction": "[long/short hoặc null]",
    "entry": "[Giá hoặc 0.0]",
    "sl": "[Giá hoặc 0.0]",
    "tp1": "[Giá hoặc 0.0]",
    "tp2": "[Giá hoặc 0.0]",
    "risk_multiplier": "[1.0 cho A+, 0.5 cho B, 0.0 cho các trường hợp khác]"
  }
}
```

---
### NHIỆM VỤ 3: VIẾT BÁO CÁO PHÂN TÍCH CHI TIẾT

Dựa vào đối tượng JSON bạn vừa tạo, hãy viết một báo cáo chuyên nghiệp.

A) **TÓM TẮT NHANH (7 DÒNG):**
1.  **Câu chuyện chính:** [Lấy từ `market_narrative`]
2.  **Xếp hạng Setup:** [Lấy từ `setup_grade`]
3.  **Lệnh:** [long/short/Chờ]
4.  **Entry:** [Giá từ `proposed_plan`]
5.  **SL:** [Giá từ `proposed_plan`]
6.  **TP1/TP2:** [Giá từ `proposed_plan`]
7.  **Lý do chính:** [Lấy từ `reasoning_summary`]

B) **PHÂN TÍCH CHUYÊN SÂU:**
   - Diễn giải chi tiết hơn về `market_narrative`, xâu chuỗi các bằng chứng từ H1 xuống M1.
   - Giải thích tại sao các yếu tố trong `top_down_analysis` lại dẫn đến việc xếp hạng `setup_grade` như vậy.
   - Nếu có kế hoạch giao dịch, hãy bảo vệ luận điểm tại sao đây là một cơ hội xác suất cao. Nếu không, hãy giải thích tại sao nên đứng ngoài thị trường lúc này.

---
**Dữ liệu thị trường và tài khoản (MT5):**
```json
{'symbol': 'XAUUSD', 'generated_at': '2025-10-06 13:15:15', 'broker_time': '2025-10-06T06:15:14+00:00', 'account': {'balance': 175.98, 'equity': 175.98, 'free_margin': 175.98, 'currency': 'USD', 'leverage': 2000}, 'positions': [], 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}, 'symbol_rules': {'volume_min': 0.01, 'volume_max': 200.0, 'volume_step': 0.01, 'trade_tick_value': 0.1, 'trade_tick_size': 0.001, 'stop_level_points': 0, 'freeze_level_points': 0, 'margin_initial': 0.0, 'margin_maintenance': 0.0}, 'pip': {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}, 'tick': {'bid': 3925.944, 'ask': 3925.981, 'last': 0.0, 'time': 1759731315}, 'tick_stats_5m': {'ticks_per_min': 338, 'median_spread': 37, 'p90_spread': 37}, 'tick_stats_30m': {'ticks_per_min': 318, 'median_spread': 37, 'p90_spread': 37}, 'levels': {'daily': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, 'prev_day': {'high': 3921.048, 'low': 3884.095}, 'weekly': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}, 'prev_week': {'high': 3897.216, 'low': 3763.408}, 'monthly': {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}}, 'day_open': 3888.686, 'prev_day_close': 3909.511, 'adr': {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}, 'day_range': 61.172000000000025, 'day_range_pct_of_adr20': 131.78834841226845, 'position_in_day_range': 0.6841201857058808, 'sessions_today': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'session_liquidity': {}, 'volatility': {'ATR': {'M5': 4.13972628190664, 'M1': 2.0405388627937446, 'M15': 6.40257233601259, 'H1': 12.564412245880705}}, 'volatility_regime': 'trending', 'trend_refs': {'EMA': {'M1': {'ema50': 3930.4768931251383, 'ema200': 3932.436867500858}, 'M5': {'ema50': 3927.177865706256, 'ema200': 3905.4799562855137}, 'M15': {'ema50': 3910.8328167209543, 'ema200': 3880.2521369488804}, 'H1': {'ema50': 3882.4332101378654, 'ema200': 3843.6725770568546}}}, 'vwap': {'day': 3933.974881628927, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}, 'kills': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'is_silver_bullet_window': False, 'killzone_active': 'asia', 'mins_to_next_killzone': None, 'key_levels_nearby': [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 4896.0000000001855}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 41849.00000000016}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 11263.000000000375}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 37257.99999999981}], 'round_levels': [{'level': '9400', 'price': 3925.94, 'distance_pips': 0.4}, {'level': '9425', 'price': 3925.943, 'distance_pips': 0.15}, {'level': '9450', 'price': 3925.945, 'distance_pips': 0.1}, {'level': '9475', 'price': 3925.948, 'distance_pips': 0.35}], 'atr_norm': {'spread_as_pct_of_atr_m5': 0.893778899391889}, 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -14}, {'price': 3924.713, 'bar_index': -26}, {'price': 3921.048, 'bar_index': -38}, {'price': 3891.731, 'bar_index': -63}, {'price': 3890.722, 'bar_index': -71}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -102}, {'price': 3854.751, 'bar_index': -80}, {'price': 3855.394, 'bar_index': -99}, {'price': 3856.896, 'bar_index': -89}, {'price': 3860.23, 'bar_index': -93}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}, {'type': 'Bearish', 'top': 3928.391, 'bottom': 3926.717}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 71}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 89}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 33}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 30}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 24}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 146}, {'price': 3940.405, 'bar_index': 141}, {'price': 3933.447, 'bar_index': 133}, {'price': 3933.426, 'bar_index': 155}, {'price': 3932.103, 'bar_index': 130}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -15}, {'price': 3873.943, 'bar_index': -10}, {'price': 3876.944, 'bar_index': 23}, {'price': 3880.541, 'bar_index': 5}, {'price': 3880.665, 'bar_index': 10}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3927.935, 'bottom': 3927.295}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 145}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 175}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 176}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 170}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 167}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 157}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -26}, {'price': 3940.699, 'bar_index': -36}, {'price': 3940.405, 'bar_index': -50}, {'price': 3939.578, 'bar_index': -40}, {'price': 3939.324, 'bar_index': -45}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 30}, {'price': 3924.05, 'bar_index': 36}, {'price': 3927.425, 'bar_index': 7}, {'price': 3928.391, 'bar_index': 21}, {'price': 3929.125, 'bar_index': -1}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3927.765, 'bottom': 3927.295}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3929.328, 'bottom': 3927.765, 'bar_index': 112}], 'liquidity_voids_m1': [{'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 83}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 78}, {'type': 'Bullish', 'top': 3932.778, 'bottom': 3928.391, 'bar_index': 71}], 'premium_discount_m1': {'high': 3945.267, 'low': 3924.05, 'equilibrium': 3934.6585, 'status': 'Discount'}, 'mss_m1': None}, 'risk_model': {}, 'rr_projection': {}, 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 10, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Average Hourly Earnings m/m', 'curr': 'USD'}]}, 'concept_value_table': '| Khái niệm (Concept) | Giá trị (Value) |\n|---|---|\n| Symbol | XAUUSD |\n| Killzone Hiện tại | asia |\n| Chế độ Biến động | trending |\n| H1 Order Flow | Bearish |\n| M15 Structure | Không rõ |\n| Trong Cửa sổ Tin tức | False |\n| Tin tức Sắp tới | None - Unemployment Claims |\n'}
```

---
**Bối cảnh bổ sung từ các báo cáo trước:**


[CONTEXT_COMPOSED]
{"CONTEXT_COMPOSED": {"cycle": "2025-10-06 13:15:14", "trend_checklist": {"trend": "unknown", "enough_ratio": null}, "latest_plan": null, "latest_summary_lines": null, "recent_history_summary": null, "run_meta": {"analysis_id": "2025-10-06T06:15:14Z", "folder_signature": "sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1", "images_tf_map": {"XAUUSD_H1.png": "H1", "XAUUSD_M1.png": "M1", "XAUUSD_M15.png": "M15", "XAUUSD_M5.png": "M5"}}, "running_stats": {"backtest_results": {"status": "not_implemented"}}, "risk_rules": {"max_risk_per_trade_pct": 0.5, "daily_loss_limit_pct": 3.0, "max_trades_per_day": 3}}}

---
**Phân tích các hình ảnh được cung cấp.**
--- KẾT THÚC PROMPT ---
2025-10-06 13:15:17,800 - APP.services.gemini_service - DEBUG - Bắt đầu stream tới Gemini API với 5 lần thử.
2025-10-06 13:15:18,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:18,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:18,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:18,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:18,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:18,488 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:18,495 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:18,499 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:19,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:19,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:19,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:19,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:19,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:19,518 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:19,520 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:19,523 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:20,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:20,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:20,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:20,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:20,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:20,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:20,543 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:20,545 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:21,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:21,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:21,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:21,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:21,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:21,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:21,555 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:21,559 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:22,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:22,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:22,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:22,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:22,566 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:22,576 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:22,578 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:22,581 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:23,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:23,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:23,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:23,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:23,584 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:23,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:23,594 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:23,597 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:24,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:24,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:24,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:24,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:24,608 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:24,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:24,619 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:24,622 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:25,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:25,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:25,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:25,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:25,630 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:25,640 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:25,643 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:25,646 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:26,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:26,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:26,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:26,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:26,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:26,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:26,661 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:26,664 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:27,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:27,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:27,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:27,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:27,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:27,665 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:27,676 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:27,678 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:28,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:28,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:28,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:28,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:28,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:28,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:28,692 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:28,695 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:29,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:29,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:29,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:29,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:29,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:29,698 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:29,698 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:29,707 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:30,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:30,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:30,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:30,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:30,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:30,712 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:30,712 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:30,720 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:31,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:31,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:31,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:31,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:31,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:31,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:31,740 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:31,743 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:32,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:32,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:32,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:32,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:32,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:32,745 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:32,753 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:32,756 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:33,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:33,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:33,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:33,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:33,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:33,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:33,771 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:33,774 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:34,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:34,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:34,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:34,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:34,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:34,794 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:34,796 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:34,801 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:35,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:35,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:35,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:35,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:35,807 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:35,815 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:35,817 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:35,820 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:36,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:36,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:36,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:36,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:36,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:36,830 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:36,838 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:36,841 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:37,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:37,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:37,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:37,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:37,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:37,855 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:37,857 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:37,859 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:38,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:38,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:38,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:38,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:38,864 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:38,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:38,875 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:38,878 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:39,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:39,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:39,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:39,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:39,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:39,882 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:39,889 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:39,892 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:40,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:40,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:40,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:40,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:40,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:40,898 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:40,909 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:40,912 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:41,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:41,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:41,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:41,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:41,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:41,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:41,927 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:41,930 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:42,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:42,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:42,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:42,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:42,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:42,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:42,943 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:42,946 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:43,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:43,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:43,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:43,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:43,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:43,957 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:43,959 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:43,961 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:44,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:44,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:44,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:44,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:44,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:44,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:44,975 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:44,977 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:45,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:45,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:45,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:45,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:45,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:45,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:45,987 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:45,990 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:47,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:47,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:47,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:47,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:47,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:47,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:47,009 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:47,012 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:48,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:48,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:48,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:48,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:48,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:48,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:48,025 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:48,028 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:49,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:49,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:49,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:49,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:49,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:49,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:49,045 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:49,048 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:50,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:50,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:50,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:50,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:50,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:50,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:50,056 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:50,058 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:51,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:51,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:51,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:51,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:51,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:51,065 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:51,072 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:51,075 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:52,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:52,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:52,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:52,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:52,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:52,077 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:52,087 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:52,090 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:53,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:53,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:53,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:53,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:53,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:53,099 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:53,099 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:53,108 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:54,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:54,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:54,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:54,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:54,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:54,116 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:54,124 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:54,127 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:55,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:55,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:55,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:55,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:55,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:55,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:55,135 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:55,138 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:56,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:56,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:56,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:56,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:56,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:56,143 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:56,151 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:56,155 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:57,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:57,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:57,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:57,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:57,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:57,162 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:57,169 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:57,171 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:58,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:58,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:58,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:58,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:58,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:58,189 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:58,192 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:58,194 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:15:59,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:15:59,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:15:59,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:15:59,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:15:59,205 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:15:59,215 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:15:59,217 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:15:59,219 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:00,221 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:00,222 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:00,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:00,226 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:00,228 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:00,231 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:00,235 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:00,239 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:01,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:01,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:01,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:01,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:01,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:01,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:01,258 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:01,263 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:02,265 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:02,265 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:02,265 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:16:02,265 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:16:02,265 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:16:02,272 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:02,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:16:02,541 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:16:02,541 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:16:02,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:02,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:02,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:02,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:02,552 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:02,555 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:03,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:03,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:03,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:03,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:03,565 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:03,573 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:03,575 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:03,581 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:04,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:04,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:04,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:04,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:04,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:04,600 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:04,603 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:04,606 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:05,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:05,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:05,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:05,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:05,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:05,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:05,624 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:05,626 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:06,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:06,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:06,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:06,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:06,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:06,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:06,645 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:06,648 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:07,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:07,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:07,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:07,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:07,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:07,669 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:07,670 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:07,674 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:08,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:08,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:08,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:08,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:08,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:08,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:08,696 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:08,698 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:09,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:09,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:09,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:09,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:09,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:09,700 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:09,709 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:09,716 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:10,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:10,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:10,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:10,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:10,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:10,725 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:10,736 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:10,738 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:11,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:11,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:11,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:11,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:11,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:11,741 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:11,751 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:11,753 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:12,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:12,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:12,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:12,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:12,759 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:12,768 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:12,770 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:12,773 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:13,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:13,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:13,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:13,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:13,776 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:13,787 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:13,789 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:13,798 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:14,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:14,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:14,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:14,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:14,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:14,806 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:14,816 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:14,820 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:15,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:15,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:15,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:15,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:15,821 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:15,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:15,830 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:15,833 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:16,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:16,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:16,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:16,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:16,835 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:16,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:16,845 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:16,847 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:17,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:17,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:17,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:17,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:17,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:17,859 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:17,866 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:17,868 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:18,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:18,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:18,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:18,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:18,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:18,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:18,886 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:18,888 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:19,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:19,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:19,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:19,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:19,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:19,903 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:19,905 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:19,908 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:20,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:20,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:20,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:20,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:20,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:20,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:20,919 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:20,923 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:21,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:21,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:21,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:21,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:21,926 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:21,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:21,936 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:21,940 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:22,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:22,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:22,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:22,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:22,942 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:22,951 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:22,952 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:22,956 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:23,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:23,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:23,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:23,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:23,970 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:23,979 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:23,981 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:23,983 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:24,503 - APP.services.gemini_service - INFO - Lần thử 1: Kết nối stream tới Gemini API thành công.
2025-10-06 13:16:24,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:24,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:24,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:24,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:24,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:24,989 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:24,989 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:24,999 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:26,002 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:26,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:26,004 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:26,007 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:26,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:26,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:26,013 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:26,015 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:27,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:27,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:27,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:27,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:27,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:27,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:27,034 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:27,037 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:28,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:28,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:28,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:28,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:28,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:28,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:28,051 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:28,052 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:29,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:29,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:29,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:29,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:29,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:29,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:29,062 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:29,065 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:30,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:30,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:30,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:30,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:30,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:30,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:30,077 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:30,080 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:31,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:31,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:31,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:31,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:31,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:31,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:31,084 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:31,094 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:32,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:32,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:32,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:32,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:32,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:32,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:32,112 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:32,115 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:33,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:33,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:33,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:33,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:33,122 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:33,131 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:33,133 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:33,137 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:34,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:34,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:34,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:34,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:34,144 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:34,151 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:34,153 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:34,156 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:35,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:35,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:35,182 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:35,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:35,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:35,198 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:35,200 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:35,202 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:36,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:36,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:36,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:36,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:36,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:36,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:36,222 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:36,225 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:37,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:37,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:37,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:37,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:37,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:37,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:37,242 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:37,245 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:38,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:38,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:38,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:38,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:38,250 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:38,257 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:38,259 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:38,259 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:39,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:39,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:39,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:39,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:39,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:39,273 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:39,273 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:39,282 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:40,114 - APP.services.gemini_service - DEBUG - Stream từ Gemini API hoàn tất.
2025-10-06 13:16:40,114 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 5: Thực thi hoặc quản lý giao dịch.
2025-10-06 13:16:40,114 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:16:40,114 - APP.core.analysis_worker - INFO - Không có lệnh. Tìm kiếm cơ hội vào lệnh mới.
2025-10-06 13:16:40,114 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 13:16:40,114 - APP.persistence.md_handler - DEBUG - Bắt đầu lưu báo cáo Markdown.
2025-10-06 13:16:40,124 - APP.persistence.md_handler - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports\report_20251006_131640.md
2025-10-06 13:16:40,130 - APP.persistence.md_handler - DEBUG - Bắt đầu trích xuất báo cáo human-readable.
2025-10-06 13:16:40,131 - APP.persistence.md_handler - WARNING - Không tìm thấy điểm bắt đầu báo cáo hợp lệ, trả về toàn bộ nội dung.
2025-10-06 13:16:40,133 - APP.persistence.md_handler - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251006_131640.md
2025-10-06 13:16:40,134 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: *.md, giữ lại: 10 file.
2025-10-06 13:16:40,138 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:16:40,139 - APP.persistence.md_handler - DEBUG - Kết thúc việc lưu báo cáo Markdown.
2025-10-06 13:16:40,141 - APP.persistence.json_handler - DEBUG - JsonSaver được khởi tạo cho workspace: C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-06 13:16:40,146 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:16:40,147 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:16:40,148 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:16:40,151 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:16:40,155 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:16:40,156 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:16:40,163 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:16:40,166 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:16:40,167 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:16:40,169 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:16:40,170 - APP.persistence.json_handler - DEBUG - Bắt đầu quá trình lưu báo cáo JSON.
2025-10-06 13:16:40,171 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:16:40,171 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:16:40,171 - APP.analysis.report_parser - WARNING - Không thể sửa chữa hoàn toàn chuỗi JSON ngay cả sau khi đã cố gắng.
2025-10-06 13:16:40,178 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-06 13:16:40,180 - APP.persistence.json_handler - DEBUG - Đã thêm 1 khối JSON vào data_to_save.
2025-10-06 13:16:40,182 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-06 13:16:40,183 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-06 13:16:40,184 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:16:40,189 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:16:40,196 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:16:40,198 - APP.analysis.report_parser - WARNING - Không thể sửa chữa hoàn toàn chuỗi JSON ngay cả sau khi đã cố gắng.
2025-10-06 13:16:40,199 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-06 13:16:40,200 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-06 13:16:40,202 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: '```json'
2025-10-06 13:16:40,206 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-06 13:16:40,207 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-06 13:16:40,212 - APP.persistence.json_handler - DEBUG - Đã parse và lưu plan: {'direction': None}
2025-10-06 13:16:40,216 - APP.persistence.json_handler - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251006_131640.json
2025-10-06 13:16:40,217 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: ctx_*.json, giữ lại: 0 file.
2025-10-06 13:16:40,223 - APP.utils.general_utils - DEBUG - Đã xóa file cũ: ctx_20251006_131640.json
2025-10-06 13:16:40,224 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:16:40,229 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:16:40,230 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:16:40,231 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:16:40,233 - APP.analysis.report_parser - WARNING - Không thể sửa chữa hoàn toàn chuỗi JSON ngay cả sau khi đã cố gắng.
2025-10-06 13:16:40,234 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-06 13:16:40,237 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-06 13:16:40,239 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: '```json'
2025-10-06 13:16:40,240 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-06 13:16:40,241 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-06 13:16:40,246 - APP.persistence.json_handler - DEBUG - Kết thúc quá trình lưu báo cáo JSON.
2025-10-06 13:16:40,248 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 13:16:40,340 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:40,341 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:40,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:40,344 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:40,345 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:40,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:40,348 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:40,350 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:40,769 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: report_*.md
2025-10-06 13:16:40,769 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: ctx_*.json
2025-10-06 13:16:40,769 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 13:16:41,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:41,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:41,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:41,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:41,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:41,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:41,363 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:41,365 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:42,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:42,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:42,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:42,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:42,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:42,366 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:42,374 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:42,375 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:43,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:43,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:43,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:43,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:43,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:43,382 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:43,389 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:43,393 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:44,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:44,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:44,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:44,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:44,400 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:44,412 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:44,413 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:44,416 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:45,427 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:45,427 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:45,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:45,431 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:45,432 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:45,435 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:45,442 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:45,444 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:46,453 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:46,453 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:46,453 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:46,453 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:46,453 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:46,453 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:46,461 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:46,464 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:47,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:47,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:47,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:47,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:47,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:47,478 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:47,480 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:47,484 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:48,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:48,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:48,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:48,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:48,490 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:48,498 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:48,500 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:48,506 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:49,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:49,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:49,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:49,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:49,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:49,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:49,510 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:49,519 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:50,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:50,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:50,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:50,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:50,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:50,524 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:50,532 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:50,533 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:51,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:51,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:51,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:51,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:51,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:51,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:51,543 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:51,553 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:52,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:52,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:52,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:52,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:52,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:52,558 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:52,569 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:52,572 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:53,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:53,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:53,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:53,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:53,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:53,580 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:53,588 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:53,592 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:54,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:54,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:54,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:54,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:54,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:54,592 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:54,602 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:54,605 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:55,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:55,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:55,606 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:55,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:55,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:55,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:55,623 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:55,627 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:56,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:56,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:56,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:56,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:56,632 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:56,656 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:56,659 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:56,660 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:57,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:57,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:57,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:57,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:57,673 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:57,683 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:57,684 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:57,687 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:16:58,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:16:58,684 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:16:58,694 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:16:58,808 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:16:58,838 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:16:58,879 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:16:58,909 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:16:58,971 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:00,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:00,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:00,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:00,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:00,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:00,027 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:00,031 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:00,035 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:01,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:01,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:01,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:01,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:01,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:01,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:01,057 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:01,060 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:02,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:02,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:02,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:02,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:02,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:02,067 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:02,075 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:02,079 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:03,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:03,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:03,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:03,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:03,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:03,083 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:03,091 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:03,095 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:04,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:04,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:04,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:04,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:04,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:04,100 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:04,109 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:04,111 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:05,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:05,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:05,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:05,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:05,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:05,118 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:05,127 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:05,129 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:06,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:06,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:06,137 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:17:06,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:17:06,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:17:06,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:06,137 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:17:06,403 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:17:06,403 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:17:06,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:06,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:06,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:06,415 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:06,417 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:06,420 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:07,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:07,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:07,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:07,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:07,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:07,429 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:07,440 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:07,442 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:08,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:08,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:08,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:08,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:08,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:08,458 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:08,460 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:08,463 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:09,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:09,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:09,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:09,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:09,467 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:09,476 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:09,478 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:09,480 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:10,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:10,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:10,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:10,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:10,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:10,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:10,493 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:10,497 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:11,502 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:11,502 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:11,502 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:11,502 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:11,502 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:11,510 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:11,511 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:11,514 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:12,521 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:12,521 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:12,521 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:12,521 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:12,521 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:12,530 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:12,532 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:12,534 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:13,537 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:13,537 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:13,537 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:13,537 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:13,537 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:13,546 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:13,548 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:13,552 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:14,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:14,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:14,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:14,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:14,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:14,568 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:14,570 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:14,572 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:15,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:15,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:15,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:15,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:15,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:15,583 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:15,583 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:15,593 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:16,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:16,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:16,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:16,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:16,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:16,611 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:16,613 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:16,616 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:17,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:17,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:17,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:17,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:17,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:17,617 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:17,627 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:17,632 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:18,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:18,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:18,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:18,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:18,642 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:18,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:18,653 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:18,656 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:19,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:19,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:19,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:19,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:19,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:19,658 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:19,669 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:19,672 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:20,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:20,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:20,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:20,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:20,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:20,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:20,687 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:20,688 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:21,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:21,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:21,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:21,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:21,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:21,697 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:21,704 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:21,707 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:22,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:22,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:22,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:22,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:22,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:22,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:22,711 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:22,720 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:23,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:23,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:23,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:23,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:23,727 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:23,737 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:23,740 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:23,744 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:24,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:24,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:24,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:24,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:24,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:24,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:24,758 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:24,761 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:25,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:25,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:25,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:25,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:25,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:25,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:25,770 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:25,779 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:26,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:26,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:26,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:26,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:26,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:26,783 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:26,792 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:26,796 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:27,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:27,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:27,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:27,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:27,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:27,801 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:27,801 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:27,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:28,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:28,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:28,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:28,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:28,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:28,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:28,821 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:28,824 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:29,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:29,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:29,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:29,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:29,834 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:29,843 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:29,845 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:29,847 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:30,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:30,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:30,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:30,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:30,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:30,851 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:30,859 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:30,864 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:31,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:31,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:31,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:31,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:31,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:31,869 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:31,877 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:31,880 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:32,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:32,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:32,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:32,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:32,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:32,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:32,893 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:32,897 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:33,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:33,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:33,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:33,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:33,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:33,901 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:33,909 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:33,913 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:34,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:34,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:34,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:34,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:34,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:34,915 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:34,924 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:34,927 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:35,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:35,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:35,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:35,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:35,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:35,934 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:35,945 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:35,948 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:36,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:36,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:36,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:36,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:36,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:36,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:36,969 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:36,973 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:37,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:37,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:37,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:37,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:37,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:37,978 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:37,985 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:37,988 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:38,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:38,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:38,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:38,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:38,998 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:39,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:39,012 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:39,015 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:40,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:40,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:40,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:40,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:40,019 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:40,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:40,029 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:40,032 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:40,785 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 13:17:40,785 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 13:17:40,785 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 13:17:40,785 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 13:17:40,785 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 13:17:40,796 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=False, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=False, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=300), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 13:17:40,803 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 13:17:40,804 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 13:17:40,805 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 13:17:40,806 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 13:17:40,839 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 13:17:40,839 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 13:17:40,844 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 13:17:40,853 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-06 13:17:40,853 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-06 13:17:40,853 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-06 13:17:40,853 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:17:40,853 - APP.analysis.context_builder - WARNING - Thư mục báo cáo không tồn tại: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:17:40,862 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 0 items.
2025-10-06 13:17:40,865 - APP.analysis.context_builder - DEBUG - Không có items, trả về trend 'unknown'.
2025-10-06 13:17:40,867 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:17:40,868 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:17:40,869 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:17:40,870 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:17:40,871 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:17:40,872 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:17:40,873 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:17:40,877 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:17:40,878 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:17:40,880 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:17:40,881 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 606 chars (trong budget).
2025-10-06 13:17:40,882 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-06 13:17:40,884 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-06 13:17:40,886 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-06 13:17:40,890 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-06 13:17:40,891 - APP.services.mt5_service - DEBUG - Current price (cp): 3926.866
2025-10-06 13:17:40,898 - APP.services.mt5_service - DEBUG - Tick stats 5m: {'ticks_per_min': 356, 'median_spread': 37, 'p90_spread': 37}
2025-10-06 13:17:40,930 - APP.services.mt5_service - DEBUG - Tick stats 30m: {'ticks_per_min': 328, 'median_spread': 37.0, 'p90_spread': 37}
2025-10-06 13:17:40,930 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-06 13:17:40,930 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-06 13:17:40,930 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:17:40,940 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-06 13:17:40,945 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-06 13:17:40,946 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:17:40,949 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-06 13:17:40,952 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-06 13:17:40,953 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:17:40,955 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-06 13:17:40,958 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-06 13:17:40,959 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:17:40,962 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-06 13:17:40,964 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-06 13:17:40,966 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:17:40,968 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:17:40,969 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-06 13:17:40,969 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:17:40,969 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3897.216, 'low': 3763.408}
2025-10-06 13:17:40,969 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-06 13:17:40,969 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}
2025-10-06 13:17:40,975 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-06 13:17:40,976 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}
2025-10-06 13:17:40,978 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-06 13:17:40,979 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:17:40,981 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:17:40.981753+07:00
2025-10-06 13:17:40,982 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:17:40.981753+07:00
2025-10-06 13:17:40,984 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:17:40.981753+07:00 trong DST: True
2025-10-06 13:17:40,985 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:17:40,989 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:17:40,991 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-06 13:17:40,993 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 120 rates.
2025-10-06 13:17:40,996 - APP.services.mt5_service - DEBUG - Kết thúc vwap_from_rates. VWAP: 3933.8008185075723
2025-10-06 13:17:41,004 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': 3933.8008185075723, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-06 13:17:41,006 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:17:41,007 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3930.091977282448
2025-10-06 13:17:41,008 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:17:41,008 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3932.203007119694
2025-10-06 13:17:41,008 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-06 13:17:41,012 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3927.2140225690014
2025-10-06 13:17:41,015 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-06 13:17:41,017 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3905.489130414867
2025-10-06 13:17:41,018 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-06 13:17:41,018 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3910.8689735836997
2025-10-06 13:17:41,018 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-06 13:17:41,018 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3880.2613110782336
2025-10-06 13:17:41,018 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:17:41,018 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3882.469367000611
2025-10-06 13:17:41,018 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:17:41,026 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3843.6817511862077
2025-10-06 13:17:41,028 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3930.091977282448, 'ema200': 3932.203007119694}, 'M5': {'ema50': 3927.2140225690014, 'ema200': 3905.489130414867}, 'M15': {'ema50': 3910.8689735836997, 'ema200': 3880.2613110782336}, 'H1': {'ema50': 3882.469367000611, 'ema200': 3843.6817511862077}}
2025-10-06 13:17:41,033 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-06 13:17:41,035 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.2716548533351935, TRs count: 179
2025-10-06 13:17:41,036 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:17:41,037 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 2.1104441845518225, TRs count: 119
2025-10-06 13:17:41,038 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-06 13:17:41,039 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:41,041 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 6.534500907441144, TRs count: 95
2025-10-06 13:17:41,041 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:41,042 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:17:41,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:41,045 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 12.564412245880705, TRs count: 119
2025-10-06 13:17:41,048 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 4.2716548533351935, 'M1': 2.1104441845518225, 'M15': 6.534500907441144, 'H1': 12.564412245880705}
2025-10-06 13:17:41,049 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:41,050 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-06 13:17:41,051 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:41,053 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3926.866, daily: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, prev_day: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:17:41,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:41,058 - APP.services.mt5_service - DEBUG - Thêm PDH: 3921.048
2025-10-06 13:17:41,059 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:41,060 - APP.services.mt5_service - DEBUG - Thêm PDL: 3884.095
2025-10-06 13:17:41,063 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3914.6809999999996
2025-10-06 13:17:41,064 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:41,065 - APP.services.mt5_service - DEBUG - Thêm DO: 3888.686
2025-10-06 13:17:41,066 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3921.048, Relation: BELOW, Distance: 5818.000000000211
2025-10-06 13:17:41,067 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3884.095, Relation: BELOW, Distance: 42771.00000000018
2025-10-06 13:17:41,068 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3914.6809999999996, Relation: BELOW, Distance: 12185.0000000004
2025-10-06 13:17:41,072 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3888.686, Relation: BELOW, Distance: 38179.99999999983
2025-10-06 13:17:41,073 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-06 13:17:41,075 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 5818.000000000211}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 42771.00000000018}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 12185.0000000004}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 38179.99999999983}]
2025-10-06 13:17:41,079 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-06 13:17:41,081 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}
2025-10-06 13:17:41,082 - APP.services.mt5_service - DEBUG - Prev day close: 3909.511
2025-10-06 13:17:41,083 - APP.services.mt5_service - DEBUG - Day range: 61.172000000000025, Day range % of ADR20: 131.78834841226845
2025-10-06 13:17:41,085 - APP.services.mt5_service - DEBUG - Position in day range: 0.6991924409860748
2025-10-06 13:17:41,088 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:17:41,091 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:17:41.090277+07:00
2025-10-06 13:17:41,093 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:17:41.090277+07:00
2025-10-06 13:17:41,095 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:17:41.090277+07:00 trong DST: True
2025-10-06 13:17:41,096 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:17:41,098 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:17:41,099 - APP.services.mt5_service - DEBUG - Killzone active: asia, Mins to next killzone: None
2025-10-06 13:17:41,100 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:17:41,102 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:17:41,104 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '8600', 'price': 3926.86, 'distance_pips': 0.6}, {'level': '8625', 'price': 3926.863, 'distance_pips': 0.35}, {'level': '8650', 'price': 3926.865, 'distance_pips': 0.1}, {'level': '8675', 'price': 3926.868, 'distance_pips': 0.15}]
2025-10-06 13:17:41,106 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 0.8661748495648842}
2025-10-06 13:17:41,108 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:17:41,109 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:17:41,111 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:17:41,115 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3926.866
2025-10-06 13:17:41,117 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:17:41,118 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:17:41,119 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:17:41,121 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-06 13:17:41,121 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-06 13:17:41,124 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3926.866
2025-10-06 13:17:41,125 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 2 FVG.
2025-10-06 13:17:41,126 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-06 13:17:41,128 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:17:41,129 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-06 13:17:41,131 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-06 13:17:41,132 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3926.866
2025-10-06 13:17:41,134 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 2 FVG.
2025-10-06 13:17:41,138 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-06 13:17:41,141 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:17:41,141 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-06 13:17:41,144 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:17:41,146 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3926.866
2025-10-06 13:17:41,147 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:17:41,149 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:17:41,151 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:17:41,155 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-06 13:17:41,157 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:17:41,158 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:17:41,159 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:17:41,160 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:17:41,162 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:17:41,163 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:17:41,164 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:17:41,165 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:17:41,166 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:17:41,169 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:17:41,172 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:17:41,174 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:17:41,175 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:17:41,176 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:17:41,178 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:17:41,179 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:17:41,182 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:17:41,184 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:17:41,185 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:17:41,185 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:17:41,185 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-06 13:17:41,185 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-06 13:17:41,192 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-06 13:17:41,193 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-06 13:17:41,196 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:17:41,197 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-06 13:17:41,199 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:41,201 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:17:41,202 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-06 13:17:41,208 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:17:41,210 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-06 13:17:41,212 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': asia
2025-10-06 13:17:41,213 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-06 13:17:41,215 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -14}, {'price': 3924.713, 'bar_index': -26}, {'price': 3921.048, 'bar_index': -38}, {'price': 3891.731, 'bar_index': -63}, {'price': 3890.722, 'bar_index': -71}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -102}, {'price': 3854.751, 'bar_index': -80}, {'price': 3855.394, 'bar_index': -99}, {'price': 3856.896, 'bar_index': -89}, {'price': 3860.23, 'bar_index': -93}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}, {'type': 'Bearish', 'top': 3928.391, 'bottom': 3927.389}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 71}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 89}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 33}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 30}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 24}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 146}, {'price': 3940.405, 'bar_index': 141}, {'price': 3933.447, 'bar_index': 133}, {'price': 3933.426, 'bar_index': 155}, {'price': 3932.103, 'bar_index': 130}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -15}, {'price': 3873.943, 'bar_index': -10}, {'price': 3876.944, 'bar_index': 23}, {'price': 3880.541, 'bar_index': 5}, {'price': 3880.665, 'bar_index': 10}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3927.935, 'bottom': 3927.295}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 145}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 175}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 176}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 170}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 167}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 157}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -28}, {'price': 3940.699, 'bar_index': -38}, {'price': 3940.405, 'bar_index': -52}, {'price': 3939.578, 'bar_index': -42}, {'price': 3939.324, 'bar_index': -47}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 28}, {'price': 3924.05, 'bar_index': 34}, {'price': 3927.425, 'bar_index': 5}, {'price': 3928.391, 'bar_index': 19}, {'price': 3929.125, 'bar_index': -3}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3927.765, 'bottom': 3927.295}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3929.328, 'bottom': 3927.765, 'bar_index': 110}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3927.389, 'bottom': 3924.716, 'bar_index': 89}, {'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 81}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 76}], 'premium_discount_m1': {'high': 3945.267, 'low': 3924.05, 'equilibrium': 3934.6585, 'status': 'Discount'}, 'mss_m1': None}
2025-10-06 13:17:41,242 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 10, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Average Hourly Earnings m/m', 'curr': 'USD'}]}
2025-10-06 13:17:41,247 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 10, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Average Hourly Earnings m/m', 'curr': 'USD'}]}
2025-10-06 13:17:41,252 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:17:41,252 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-06 13:17:41,252 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:17:41,261 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-06 13:17:41,262 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh.
2025-10-06 13:17:41,265 - APP.analysis.image_processor - DEBUG - Đang thử tải cache upload.
2025-10-06 13:17:41,270 - APP.analysis.image_processor - DEBUG - Đã tải cache upload với 8 mục.
2025-10-06 13:17:41,270 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_H1.png: 18965:1759323273:418e463f085b02cc
2025-10-06 13:17:41,276 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_H1.png. Tên từ xa: files/tpa0splt16rw
2025-10-06 13:17:41,278 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_H1.png, đang lấy thông tin file...
2025-10-06 13:17:41,675 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_H1.png
2025-10-06 13:17:41,675 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M1.png: 22804:1759323273:6525132933ac9b42
2025-10-06 13:17:41,685 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M1.png. Tên từ xa: files/ajq3848x5w7t
2025-10-06 13:17:41,685 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M1.png, đang lấy thông tin file...
2025-10-06 13:17:41,905 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M1.png
2025-10-06 13:17:41,915 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M15.png: 6121:1759323273:1b4aaeed377c2eb8
2025-10-06 13:17:41,915 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M15.png. Tên từ xa: files/jbroa237cwvw
2025-10-06 13:17:41,915 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M15.png, đang lấy thông tin file...
2025-10-06 13:17:42,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:42,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:42,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:42,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:42,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:42,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:42,076 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:42,080 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:42,174 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M15.png
2025-10-06 13:17:42,176 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M5.png: 6521:1759323273:424827d52f0ab96d
2025-10-06 13:17:42,177 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M5.png. Tên từ xa: files/1r8cfv90ib9s
2025-10-06 13:17:42,177 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M5.png, đang lấy thông tin file...
2025-10-06 13:17:42,429 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M5.png
2025-10-06 13:17:42,429 - APP.analysis.image_processor - DEBUG - Đang lưu cache upload với 8 mục.
2025-10-06 13:17:42,429 - APP.analysis.image_processor - DEBUG - Đã lưu cache upload thành công.
2025-10-06 13:17:42,429 - APP.core.analysis_worker - DEBUG - BẮT ĐẦU GIAI ĐOẠN 4: Gọi Model AI
2025-10-06 13:17:42,429 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:17:42,429 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:17:42,438 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:17:42,439 - APP.analysis.prompt_builder - DEBUG - Không có vị thế nào, chọn prompt 'no entry'.
2025-10-06 13:17:42,440 - APP.analysis.prompt_builder - DEBUG - Bắt đầu xây dựng prompt cuối cùng.
2025-10-06 13:17:42,443 - APP.analysis.prompt_builder - DEBUG - Đã xây dựng xong prompt cuối cùng.
2025-10-06 13:17:42,445 - APP.core.analysis_worker - DEBUG - --- PROMPT FINAL GỬI ĐẾN AI ---
VAI TRÒ & BỐI CẢNH
- Bạn là một nhà giao dịch ICT chuyên nghiệp với nhiệm vụ phân tích thị trường theo phương pháp Top-Down để tìm kiếm các cơ hội giao dịch có xác suất thắng cao nhất.
- Bạn phải suy luận một cách logic, xâu chuỗi các bằng chứng từ khung thời gian cao xuống thấp để xây dựng một "câu chuyện thị trường" chặt chẽ.

---
### NHIỆM VỤ 1: QUY TRÌNH PHÂN TÍCH TOP-DOWN 4 BƯỚC

Hãy thực hiện quy trình sau một cách tuần tự. **Trong mỗi bước, hãy trích dẫn dữ liệu cụ thể từ `EXTRACT_JSON` và `CONCEPT_VALUE_TABLE` để làm bằng chứng.**

**BƯỚC 1: XÁC ĐỊNH BỐI CẢNH VÀ MỤC TIÊU GIÁ TRÊN H1 (Draw on Liquidity)**
- **Phân tích Order Flow**: Dòng chảy lệnh trên H1 đang là Bullish hay Bearish? (Bằng chứng: `EXTRACT_JSON.tf.H1.mss_bos.type` và vị trí giá so với `EXTRACT_JSON.tf.H1.trend_refs.EMA.ema50`).
- **Xác định Draw on Liquidity**: Giá có khả năng cao sẽ tìm đến đâu? Một vùng thanh khoản (`EXTRACT_JSON.tf.H1.liquidity.swing_highs_BSL` hoặc `swing_lows_SSL`) hay một vùng mất cân bằng (`EXTRACT_JSON.tf.H1.fvgs`)? Nêu rõ mục tiêu giá cụ thể.
- **Kết luận H1**: Tóm tắt lại bối cảnh H1 (ví dụ: "H1 đang Bullish (BOS), giá có khả năng tìm về vùng BSL tại 1.2345").

**BƯỚC 2: TÌM VÙNG CHỜ CHẤT LƯỢNG TRÊN M15 (POI of Interest)**
- Dựa trên bối cảnh H1, hãy tìm một POI (từ `EXTRACT_JSON.tf.M15.order_blocks` hoặc `fvgs`) trên M15 có khả năng cao sẽ đảo chiều giá.
- **Đánh giá chất lượng POI**: POI này có nằm trong vùng Premium/Discount hợp lý không (`EXTRACT_JSON.tf.H1.premium_discount.status`)? Nó có quét thanh khoản trước khi hình thành không?
- **Kết luận M15**: Nêu rõ POI được chọn và lý do (ví dụ: "Chọn FVG M15 tại 1.2300-1.2310 vì nó nằm trong vùng Discount của H1").

**BƯỚC 3: TÌM TÍN HIỆU XÁC NHẬN TRÊN M5/M1 (Entry Confirmation)**
- Khi giá tiếp cận POI M15, bạn đang chờ đợi tín hiệu gì trên M5 hoặc M1?
- **Mô tả tín hiệu**: Đó là một sự thay đổi cấu trúc (`MSS`) ngược hướng với xu hướng hồi? (Theo dõi `EXTRACT_JSON.tf.M5.mss_bos.type`).
- **Kết luận M5/M1**: Nêu rõ tín hiệu xác nhận đang chờ đợi (ví dụ: "Chờ giá tạo MSS trên M5 sau khi chạm vào FVG M15").

**BƯỚC 4: TỔNG HỢP, XẾP HẠNG VÀ LẬP KẾ HOẠCH**
- **Xây dựng Câu chuyện Thị trường**: Tổng hợp 3 bước trên thành một câu chuyện thị trường hoàn chỉnh.
- **Xếp hạng Setup**: Dựa trên mức độ hợp lưu, xếp hạng setup: `A+`, `B`, `C`, hoặc `Không có`.
- **Lập Kế hoạch**: Nếu hạng là `A+` hoặc `B`, hãy lập một kế hoạch giao dịch chi tiết.

---
### NHIỆM VỤ 2: TẠO ĐỐI TƯỢNG JSON CHUYÊN SÂU

Tổng hợp toàn bộ kết quả phân tích của bạn vào đối tượng JSON sau. **Đây phải là phần đầu tiên trong phản hồi của bạn.**

```json
{
  "cycle": "[ĐIỀN THỜI GIAN HIỆN TẠI]",
  "symbol": "[LẤY TỪ DỮ LIỆU]",
  "mode": "expert_setup_evaluation",
  "market_narrative": "[CÂU CHUYỆN THỊ TRƯỜNG TỪ BƯỚC 4]",
  "setup_grade": "[A+/B/C/Không có]",
  "reasoning_summary": "[GIẢI THÍCH NGẮN GỌN VÌ SAO XẾP HẠNG SETUP NHƯ VẬY]",
  "top_down_analysis": {
    "h1_context": {
      "order_flow": "[Bullish/Bearish]",
      "draw_on_liquidity": "[Mô tả mục tiêu giá, ví dụ: BSL tại 1.2345]"
    },
    "m15_poi": {
      "type": "[Loại POI, ví dụ: FVG, Order Block]",
      "price_zone": "[Vùng giá của POI]",
      "quality_assessment": "[Đánh giá ngắn gọn chất lượng POI]"
    },
    "m5_m1_confirmation": {
      "status": "[Đã có/Đang chờ]",
      "signal": "[Mô tả tín hiệu, ví dụ: Chờ MSS trên M5]"
    }
  },
  "proposed_plan": {
    "direction": "[long/short hoặc null]",
    "entry": "[Giá hoặc 0.0]",
    "sl": "[Giá hoặc 0.0]",
    "tp1": "[Giá hoặc 0.0]",
    "tp2": "[Giá hoặc 0.0]",
    "risk_multiplier": "[1.0 cho A+, 0.5 cho B, 0.0 cho các trường hợp khác]"
  }
}
```

---
### NHIỆM VỤ 3: VIẾT BÁO CÁO PHÂN TÍCH CHI TIẾT

Dựa vào đối tượng JSON bạn vừa tạo, hãy viết một báo cáo chuyên nghiệp.

A) **TÓM TẮT NHANH (7 DÒNG):**
1.  **Câu chuyện chính:** [Lấy từ `market_narrative`]
2.  **Xếp hạng Setup:** [Lấy từ `setup_grade`]
3.  **Lệnh:** [long/short/Chờ]
4.  **Entry:** [Giá từ `proposed_plan`]
5.  **SL:** [Giá từ `proposed_plan`]
6.  **TP1/TP2:** [Giá từ `proposed_plan`]
7.  **Lý do chính:** [Lấy từ `reasoning_summary`]

B) **PHÂN TÍCH CHUYÊN SÂU:**
   - Diễn giải chi tiết hơn về `market_narrative`, xâu chuỗi các bằng chứng từ H1 xuống M1.
   - Giải thích tại sao các yếu tố trong `top_down_analysis` lại dẫn đến việc xếp hạng `setup_grade` như vậy.
   - Nếu có kế hoạch giao dịch, hãy bảo vệ luận điểm tại sao đây là một cơ hội xác suất cao. Nếu không, hãy giải thích tại sao nên đứng ngoài thị trường lúc này.

---
**Dữ liệu thị trường và tài khoản (MT5):**
```json
{'symbol': 'XAUUSD', 'generated_at': '2025-10-06 13:17:41', 'broker_time': '2025-10-06T06:17:40+00:00', 'account': {'balance': 175.98, 'equity': 175.98, 'free_margin': 175.98, 'currency': 'USD', 'leverage': 2000}, 'positions': [], 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}, 'symbol_rules': {'volume_min': 0.01, 'volume_max': 200.0, 'volume_step': 0.01, 'trade_tick_value': 0.1, 'trade_tick_size': 0.001, 'stop_level_points': 0, 'freeze_level_points': 0, 'margin_initial': 0.0, 'margin_maintenance': 0.0}, 'pip': {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}, 'tick': {'bid': 3926.866, 'ask': 3926.903, 'last': 0.0, 'time': 1759731460}, 'tick_stats_5m': {'ticks_per_min': 356, 'median_spread': 37, 'p90_spread': 37}, 'tick_stats_30m': {'ticks_per_min': 328, 'median_spread': 37.0, 'p90_spread': 37}, 'levels': {'daily': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, 'prev_day': {'high': 3921.048, 'low': 3884.095}, 'weekly': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}, 'prev_week': {'high': 3897.216, 'low': 3763.408}, 'monthly': {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}}, 'day_open': 3888.686, 'prev_day_close': 3909.511, 'adr': {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}, 'day_range': 61.172000000000025, 'day_range_pct_of_adr20': 131.78834841226845, 'position_in_day_range': 0.6991924409860748, 'sessions_today': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'session_liquidity': {}, 'volatility': {'ATR': {'M5': 4.2716548533351935, 'M1': 2.1104441845518225, 'M15': 6.534500907441144, 'H1': 12.564412245880705}}, 'volatility_regime': 'trending', 'trend_refs': {'EMA': {'M1': {'ema50': 3930.091977282448, 'ema200': 3932.203007119694}, 'M5': {'ema50': 3927.2140225690014, 'ema200': 3905.489130414867}, 'M15': {'ema50': 3910.8689735836997, 'ema200': 3880.2613110782336}, 'H1': {'ema50': 3882.469367000611, 'ema200': 3843.6817511862077}}}, 'vwap': {'day': 3933.8008185075723, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}, 'kills': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'is_silver_bullet_window': False, 'killzone_active': 'asia', 'mins_to_next_killzone': None, 'key_levels_nearby': [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 5818.000000000211}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 42771.00000000018}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 12185.0000000004}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 38179.99999999983}], 'round_levels': [{'level': '8600', 'price': 3926.86, 'distance_pips': 0.6}, {'level': '8625', 'price': 3926.863, 'distance_pips': 0.35}, {'level': '8650', 'price': 3926.865, 'distance_pips': 0.1}, {'level': '8675', 'price': 3926.868, 'distance_pips': 0.15}], 'atr_norm': {'spread_as_pct_of_atr_m5': 0.8661748495648842}, 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -14}, {'price': 3924.713, 'bar_index': -26}, {'price': 3921.048, 'bar_index': -38}, {'price': 3891.731, 'bar_index': -63}, {'price': 3890.722, 'bar_index': -71}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -102}, {'price': 3854.751, 'bar_index': -80}, {'price': 3855.394, 'bar_index': -99}, {'price': 3856.896, 'bar_index': -89}, {'price': 3860.23, 'bar_index': -93}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}, {'type': 'Bearish', 'top': 3928.391, 'bottom': 3927.389}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 71}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 89}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 33}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 30}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 24}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 146}, {'price': 3940.405, 'bar_index': 141}, {'price': 3933.447, 'bar_index': 133}, {'price': 3933.426, 'bar_index': 155}, {'price': 3932.103, 'bar_index': 130}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -15}, {'price': 3873.943, 'bar_index': -10}, {'price': 3876.944, 'bar_index': 23}, {'price': 3880.541, 'bar_index': 5}, {'price': 3880.665, 'bar_index': 10}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3927.935, 'bottom': 3927.295}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 145}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 175}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 176}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 170}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 167}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 157}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -28}, {'price': 3940.699, 'bar_index': -38}, {'price': 3940.405, 'bar_index': -52}, {'price': 3939.578, 'bar_index': -42}, {'price': 3939.324, 'bar_index': -47}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 28}, {'price': 3924.05, 'bar_index': 34}, {'price': 3927.425, 'bar_index': 5}, {'price': 3928.391, 'bar_index': 19}, {'price': 3929.125, 'bar_index': -3}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3927.765, 'bottom': 3927.295}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3929.328, 'bottom': 3927.765, 'bar_index': 110}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3927.389, 'bottom': 3924.716, 'bar_index': 89}, {'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 81}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 76}], 'premium_discount_m1': {'high': 3945.267, 'low': 3924.05, 'equilibrium': 3934.6585, 'status': 'Discount'}, 'mss_m1': None}, 'risk_model': {}, 'rr_projection': {}, 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 10, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Average Hourly Earnings m/m', 'curr': 'USD'}]}, 'concept_value_table': '| Khái niệm (Concept) | Giá trị (Value) |\n|---|---|\n| Symbol | XAUUSD |\n| Killzone Hiện tại | asia |\n| Chế độ Biến động | trending |\n| H1 Order Flow | Bearish |\n| M15 Structure | Không rõ |\n| Trong Cửa sổ Tin tức | False |\n| Tin tức Sắp tới | None - Unemployment Claims |\n'}
```

---
**Bối cảnh bổ sung từ các báo cáo trước:**


[CONTEXT_COMPOSED]
{"CONTEXT_COMPOSED": {"cycle": "2025-10-06 13:17:40", "trend_checklist": {"trend": "unknown", "enough_ratio": null}, "latest_plan": null, "latest_summary_lines": null, "recent_history_summary": null, "run_meta": {"analysis_id": "2025-10-06T06:17:40Z", "folder_signature": "sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1", "images_tf_map": {"XAUUSD_H1.png": "H1", "XAUUSD_M1.png": "M1", "XAUUSD_M15.png": "M15", "XAUUSD_M5.png": "M5"}}, "running_stats": {"backtest_results": {"status": "not_implemented"}}, "risk_rules": {"max_risk_per_trade_pct": 0.5, "daily_loss_limit_pct": 3.0, "max_trades_per_day": 3}}}

---
**Phân tích các hình ảnh được cung cấp.**
--- KẾT THÚC PROMPT ---
2025-10-06 13:17:42,494 - APP.services.gemini_service - DEBUG - Bắt đầu stream tới Gemini API với 5 lần thử.
2025-10-06 13:17:43,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:43,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:43,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:43,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:43,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:43,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:43,097 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:43,100 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:44,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:44,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:44,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:44,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:44,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:44,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:44,118 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:44,121 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:45,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:45,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:45,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:45,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:45,126 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:45,133 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:45,137 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:45,141 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:46,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:46,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:46,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:46,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:46,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:46,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:46,158 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:46,162 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:47,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:47,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:47,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:47,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:47,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:47,169 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:47,169 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:47,179 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:48,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:48,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:48,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:48,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:48,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:48,183 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:48,191 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:48,194 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:49,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:49,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:49,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:49,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:49,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:49,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:49,209 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:49,211 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:50,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:50,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:50,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:50,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:50,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:50,216 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:50,216 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:50,225 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:51,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:51,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:51,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:51,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:51,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:51,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:51,235 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:51,244 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:52,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:52,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:52,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:52,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:52,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:52,246 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:52,253 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:52,256 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:53,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:53,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:53,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:53,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:53,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:53,262 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:53,269 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:53,273 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:54,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:54,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:54,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:54,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:54,281 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:54,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:54,291 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:54,295 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:55,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:55,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:55,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:55,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:55,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:55,297 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:55,297 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:55,307 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:56,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:56,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:56,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:56,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:56,312 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:56,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:56,322 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:56,325 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:57,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:57,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:57,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:57,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:57,328 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:57,336 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:57,338 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:57,341 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:58,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:58,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:58,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:58,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:58,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:58,348 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:58,357 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:58,360 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:17:59,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:17:59,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:17:59,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:17:59,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:17:59,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:17:59,373 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:17:59,374 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:17:59,378 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:00,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:00,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:00,388 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:18:00,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:18:00,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:18:00,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:00,397 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:18:00,612 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:18:00,612 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:18:00,612 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:00,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:00,622 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:00,626 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:00,628 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:00,632 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:01,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:01,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:01,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:01,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:01,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:01,633 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:01,633 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:01,644 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:02,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:02,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:02,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:02,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:02,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:02,652 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:02,661 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:02,664 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:03,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:03,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:03,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:03,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:03,667 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:03,674 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:03,676 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:03,679 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:04,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:04,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:04,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:04,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:04,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:04,685 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:04,693 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:04,696 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:05,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:05,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:05,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:05,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:05,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:05,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:05,708 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:05,710 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:06,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:06,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:06,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:06,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:06,715 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:06,722 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:06,724 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:06,729 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:07,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:07,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:07,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:07,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:07,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:07,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:07,742 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:07,745 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:08,749 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:08,749 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:08,749 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:08,749 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:08,749 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:08,749 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:08,755 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:08,759 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:09,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:09,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:09,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:09,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:09,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:09,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:09,760 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:09,770 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:10,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:10,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:10,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:10,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:10,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:10,779 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:10,788 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:10,790 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:11,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:11,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:11,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:11,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:11,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:11,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:11,800 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:11,810 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:12,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:12,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:12,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:12,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:12,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:12,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:12,827 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:12,830 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:13,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:13,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:13,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:13,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:13,832 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:13,840 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:13,842 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:13,846 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:14,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:14,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:14,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:14,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:14,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:14,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:14,860 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:14,863 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:15,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:15,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:15,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:15,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:15,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:15,871 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:15,878 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:15,881 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:16,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:16,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:16,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:16,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:16,889 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:16,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:16,900 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:16,903 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:17,905 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:17,906 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:17,907 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:17,909 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:17,909 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:17,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:17,916 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:17,919 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:18,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:18,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:18,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:18,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:18,920 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:18,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:18,932 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:18,934 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:19,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:19,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:19,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:19,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:19,936 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:19,945 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:19,946 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:19,949 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:20,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:20,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:20,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:20,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:20,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:20,956 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:20,963 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:20,967 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:21,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:21,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:21,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:21,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:21,972 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:21,985 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:21,986 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:21,986 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:23,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:23,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:23,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:23,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:23,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:23,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:23,013 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:23,016 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:24,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:24,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:24,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:24,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:24,020 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:24,030 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:24,032 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:24,035 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:25,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:25,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:25,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:25,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:25,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:25,043 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:25,043 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:25,053 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:26,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:26,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:26,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:26,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:26,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:26,055 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:26,064 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:26,067 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:27,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:27,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:27,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:27,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:27,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:27,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:27,069 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:27,079 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:28,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:28,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:28,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:28,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:28,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:28,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:28,096 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:28,100 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:29,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:29,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:29,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:29,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:29,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:29,105 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:29,113 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:29,116 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:30,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:30,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:30,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:30,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:30,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:30,129 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:30,130 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:30,133 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:31,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:31,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:31,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:31,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:31,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:31,145 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:31,155 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:31,157 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:32,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:32,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:32,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:32,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:32,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:32,168 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:32,169 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:32,172 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:33,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:33,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:33,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:33,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:33,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:33,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:33,177 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:33,186 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:34,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:34,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:34,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:34,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:34,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:34,187 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:34,196 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:34,198 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:35,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:35,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:35,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:35,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:35,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:35,204 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:35,211 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:35,214 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:36,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:36,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:36,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:36,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:36,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:36,220 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:36,220 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:36,230 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:37,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:37,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:37,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:37,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:37,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:37,241 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:37,241 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:37,250 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:38,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:38,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:38,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:38,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:38,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:38,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:38,253 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:38,261 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:39,269 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:39,269 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:39,269 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:39,269 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:39,280 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:39,283 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:39,285 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:39,291 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:40,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:40,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:40,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:40,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:40,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:40,300 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:40,310 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:40,312 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:41,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:41,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:41,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:41,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:41,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:41,320 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:41,320 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:41,332 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:42,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:42,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:42,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:42,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:42,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:42,342 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:42,349 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:42,352 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:43,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:43,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:43,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:43,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:43,363 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:43,374 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:43,376 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:43,379 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:44,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:44,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:44,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:44,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:44,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:44,385 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:44,395 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:44,398 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:45,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:45,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:45,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:45,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:45,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:45,411 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:45,414 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:45,416 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:46,380 - APP.services.gemini_service - INFO - Lần thử 1: Kết nối stream tới Gemini API thành công.
2025-10-06 13:18:46,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:46,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:46,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:46,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:46,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:46,430 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:46,431 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:46,434 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:47,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:47,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:47,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:47,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:47,440 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:47,448 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:47,450 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:47,454 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:48,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:48,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:48,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:48,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:48,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:48,460 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:48,466 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:48,469 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:49,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:49,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:49,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:49,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:49,473 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:49,482 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:49,484 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:49,486 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:50,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:50,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:50,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:50,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:50,506 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:50,516 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:50,518 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:50,521 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:51,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:51,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:51,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:51,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:51,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:51,531 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:51,541 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:51,544 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:52,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:52,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:52,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:52,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:52,547 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:52,556 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:52,557 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:52,559 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:53,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:53,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:53,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:53,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:53,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:53,561 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:53,568 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:53,571 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:54,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:54,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:54,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:54,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:54,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:54,603 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:54,612 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:54,615 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:55,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:55,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:55,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:55,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:55,621 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:55,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:55,633 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:55,635 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:56,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:56,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:56,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:56,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:56,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:56,646 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:56,647 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:56,650 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:57,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:57,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:57,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:57,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:57,660 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:57,669 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:57,671 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:57,676 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:58,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:58,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:58,750 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:58,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:58,760 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:58,764 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:58,766 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:58,768 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:18:59,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:18:59,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:59,770 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:18:59,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:18:59,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:18:59,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:18:59,770 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:18:59,983 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:18:59,983 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:18:59,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:18:59,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:18:59,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:18:59,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:18:59,995 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:18:59,997 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:01,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:01,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:01,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:01,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:01,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:01,012 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:01,013 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:01,016 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:02,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:02,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:02,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:02,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:02,017 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:02,025 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:02,027 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:02,030 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:03,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:03,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:03,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:03,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:03,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:03,036 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:03,043 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:03,045 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:04,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:04,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:04,044 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:04,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:04,054 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:04,059 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:04,060 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:04,064 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:05,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:05,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:05,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:05,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:05,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:05,078 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:05,083 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:05,085 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:06,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:06,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:06,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:06,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:06,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:06,087 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:06,087 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:06,099 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:07,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:07,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:07,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:07,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:07,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:07,124 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:07,124 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:07,134 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:08,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:08,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:08,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:08,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:08,148 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:08,155 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:08,157 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:08,160 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:09,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:09,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:09,160 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:09,170 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:09,174 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:09,177 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:09,179 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:09,184 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:09,544 - APP.services.gemini_service - DEBUG - Stream từ Gemini API hoàn tất.
2025-10-06 13:19:09,544 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 5: Thực thi hoặc quản lý giao dịch.
2025-10-06 13:19:09,544 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:19:09,544 - APP.core.analysis_worker - INFO - Không có lệnh. Tìm kiếm cơ hội vào lệnh mới.
2025-10-06 13:19:09,544 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 13:19:09,544 - APP.persistence.md_handler - DEBUG - Bắt đầu lưu báo cáo Markdown.
2025-10-06 13:19:09,555 - APP.persistence.md_handler - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports\report_20251006_131909.md
2025-10-06 13:19:09,560 - APP.persistence.md_handler - DEBUG - Bắt đầu trích xuất báo cáo human-readable.
2025-10-06 13:19:09,562 - APP.persistence.md_handler - DEBUG - Đã trích xuất báo cáo. Độ dài: 8723
2025-10-06 13:19:09,565 - APP.persistence.md_handler - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251006_131909.md
2025-10-06 13:19:09,566 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: *.md, giữ lại: 10 file.
2025-10-06 13:19:09,570 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:19:09,577 - APP.persistence.md_handler - DEBUG - Kết thúc việc lưu báo cáo Markdown.
2025-10-06 13:19:09,585 - APP.persistence.json_handler - DEBUG - JsonSaver được khởi tạo cho workspace: C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-06 13:19:09,588 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:19:09,597 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:19:09,598 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:19:09,601 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:19:09,603 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:19:09,607 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:19:09,611 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:19:09,617 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:19:09,620 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:19:09,627 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:19:09,638 - APP.persistence.json_handler - DEBUG - Bắt đầu quá trình lưu báo cáo JSON.
2025-10-06 13:19:09,640 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:19:09,641 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:19:09,642 - APP.analysis.report_parser - WARNING - Không thể sửa chữa hoàn toàn chuỗi JSON ngay cả sau khi đã cố gắng.
2025-10-06 13:19:09,650 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-06 13:19:09,652 - APP.persistence.json_handler - DEBUG - Đã thêm 1 khối JSON vào data_to_save.
2025-10-06 13:19:09,655 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-06 13:19:09,657 - APP.analysis.report_parser - DEBUG - Đã trích xuất chữ ký: ': VIẾT BÁO CÁO PHÂN TÍCH CHI TIẾT

**A) TÓM TẮT NHANH (7 DÒNG):**

1.  **Câu chuyện chính:** H1 Bearish trong Premium, tìm Short. M15 cũng Bearish. Chờ giá pullback vào POI M1 và xác nhận để Short tiếp diễn.
2.  **Xếp hạng Setup:** B
3.  **Lệnh:** Short (Chờ xác nhận)
4.  **Entry:** 3927.500 (Ước tính, sau khi pullback và có xác nhận M1)
5.  **SL:** 3929.500
6.  **TP1/TP2:** 3919.000 / 3884.095
7.  **Lý do chính:** Xu hướng giảm mạnh trên khung thời gian cao, POI rõ ràng. Cần xác nhận từ khung thời gian thấp để tối ưu điểm vào.

**B) PHÂN TÍCH CHUYÊN SÂU:**

Thị trường XAUUSD đang cho thấy một "câu chuyện" giảm giá rõ ràng trên các khung thời gian cao, mở ra cơ hội tiềm năng cho các lệnh Short.

Trên khung H1, chúng ta nhận thấy dòng chảy lệnh đang là **Bearish**, được xác nhận bởi `CONCEPT_VALUE_TABLE` và sự kiện `CHoCH` tại `3838.081` (`EXTRACT_JSON.tf.H1.mss_bos.type`). Giá hiện tại (3926.866) đang nằm trong vùng `Premium` của H1 (`EXTRACT_JSON.ict_patterns.premium_discount_h1.status`), đây là một khu vực lý tưởng để tìm kiếm các lệnh bán trong một xu hướng giảm. Mục tiêu giá tiếp theo (Draw on Liquidity) cho đợt giảm này có thể là các `Swing Lows (SSLs)` trên H1 như 3793.174, 3809.251, 3819.397, hoặc một vùng FVG Bullish gần hơn tại 3919.923-3918.4 để retest.

Chuyển xuống khung M15, bối cảnh cũng tiếp tục ủng hộ cho các lệnh Short, với giá hiện đang nằm trong vùng `Premium` M15 (`EXTRACT_JSON.ict_patterns.premium_discount_m15.status`). Chúng ta đã xác định một `Bearish Order Block` từ 3933.426 đến 3928.391 và một `Bearish FVG` từ 3928.391 đến 3927.389 làm các POI tiềm năng. Tuy nhiên, giá hiện tại (3926.866) đã nằm dưới cả hai vùng POI này, cho thấy thị trường có thể đã phản ứng và bắt đầu di chuyển xuống.

Do giá đã vượt qua các POI M15, chúng ta không thể thực hiện một lệnh vào trực tiếp từ đó. Thay vào đó, kế hoạch giao dịch của chúng ta sẽ tập trung vào việc tìm kiếm một **retracement (pullback)** trở lại các POI Bearish trên các khung thời gian thấp hơn (M1/M5). Các POI Bearish gần nhất trên M1 nằm trên giá hiện tại là FVG 3927.765-3927.295 và Order Block 3929.328-3927.765.

Để xác nhận lệnh Short, chúng ta sẽ chờ đợi giá pullback vào một trong các POI M1 này, sau đó tìm kiếm một tín hiệu đảo chiều giảm rõ ràng, chẳng hạn như một sự thay đổi cấu trúc thị trường (`MSS` hoặc `CHoCH`) Bearish trên M1. Điều này đảm bảo rằng chúng ta đang vào lệnh theo đúng hướng của dòng chảy lệnh trên khung thời gian cao và sau khi giá đã thực hiện đủ một đợt retracement.

Setup này được xếp hạng `B` vì có sự hợp lưu mạnh mẽ của xu hướng giảm trên các khung thời gian cao (H1, M15 đều Bearish và trong Premium). Các POI cũng được xác định rõ ràng. Yếu tố khiến setup không đạt hạng A+ là việc giá đã di chuyển qua các POI M15 chính, đòi hỏi chúng ta phải kiên nhẫn chờ đợi một đợt pullback và tín hiệu xác nhận trên khung thời gian thấp hơn để có một điểm vào lý tưởng. Điều này làm tăng một chút yếu tố chờ đợi nhưng vẫn duy trì xác suất thắng cao.

**Kế hoạch giao dịch chi tiết:**
*   **Hướng:** Short (Bán)
*   **Điểm vào:** Ước tính 3927.500. Điểm vào chính xác sẽ được xác định khi giá pullback vào M1 Bearish FVG (3927.765-3927.295) hoặc M1 Bearish OB (3929.328-3927.765) và có tín hiệu xác nhận MSS/CHoCH Bearish trên M1.
*   **Stop Loss (SL):** 3929.500 (Ngay trên đỉnh của M1 Bearish Order Block, bảo vệ khỏi các động thái tăng giá bất ngờ).
*   **Take Profit 1 (TP1):** 3919.000 (Gần đỉnh của H1 Bullish FVG, đây là mục tiêu ngắn hạn hợp lý).
*   **Take Profit 2 (TP2):** 3884.095 (Mức Đáy Ngày Hôm Trước - `Previous Day Low`, là một mức thanh khoản quan trọng).
*   **Hệ số rủi ro (Risk Multiplier):** 0.5, phù hợp với setup hạng B.

Đây là một cơ hội có xác suất cao để tham gia vào xu hướng giảm của XAUUSD, với điều kiện là chúng ta kiên nhẫn chờ đợi xác nhận từ khung thời gian thấp hơn.'
2025-10-06 13:19:09,676 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-06 13:19:09,676 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:19:09,681 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:19:09,685 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:19:09,688 - APP.analysis.report_parser - WARNING - Không thể sửa chữa hoàn toàn chuỗi JSON ngay cả sau khi đã cố gắng.
2025-10-06 13:19:09,690 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-06 13:19:09,692 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-06 13:19:09,694 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: '```json'
2025-10-06 13:19:09,695 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-06 13:19:09,702 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-06 13:19:09,707 - APP.persistence.json_handler - DEBUG - Đã parse và lưu plan: {'direction': None}
2025-10-06 13:19:09,711 - APP.persistence.json_handler - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251006_131909.json
2025-10-06 13:19:09,717 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: ctx_*.json, giữ lại: 0 file.
2025-10-06 13:19:09,720 - APP.utils.general_utils - DEBUG - Đã xóa file cũ: ctx_20251006_131909.json
2025-10-06 13:19:09,722 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:19:09,733 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:19:09,735 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:19:09,736 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:19:09,739 - APP.analysis.report_parser - WARNING - Không thể sửa chữa hoàn toàn chuỗi JSON ngay cả sau khi đã cố gắng.
2025-10-06 13:19:09,749 - APP.analysis.report_parser - WARNING - Không tìm thấy khối JSON hợp lệ nào trong văn bản.
2025-10-06 13:19:09,754 - APP.analysis.report_parser - DEBUG - Không tìm thấy JSON hợp lệ, đang sử dụng regex để phân tích.
2025-10-06 13:19:09,756 - APP.analysis.report_parser - DEBUG - Đang xác định hướng từ dòng: '```json'
2025-10-06 13:19:09,757 - APP.analysis.report_parser - DEBUG - Không tìm thấy hướng giao dịch trong dòng.
2025-10-06 13:19:09,757 - APP.analysis.report_parser - DEBUG - Hoàn tất phân tích bằng regex. Cài đặt: {'direction': None}
2025-10-06 13:19:09,765 - APP.persistence.json_handler - DEBUG - Kết thúc quá trình lưu báo cáo JSON.
2025-10-06 13:19:09,768 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 13:19:10,155 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: report_*.md
2025-10-06 13:19:10,155 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: ctx_*.json
2025-10-06 13:19:10,167 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 13:19:10,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:10,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:10,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:10,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:10,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:10,206 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:10,215 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:10,217 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:11,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:11,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:11,283 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:11,286 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:11,287 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:11,288 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:11,290 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:11,293 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:12,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:12,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:12,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:12,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:12,301 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:12,310 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:12,312 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:12,316 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:13,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:13,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:13,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:13,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:13,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:13,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:13,324 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:13,333 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:14,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:14,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:14,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:14,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:14,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:14,335 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:14,342 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:14,345 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:15,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:15,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:15,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:15,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:15,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:15,350 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:15,357 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:15,360 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:16,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:16,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:16,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:16,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:16,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:16,370 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:16,370 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:16,379 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:17,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:17,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:17,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:17,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:17,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:17,384 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:17,393 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:17,395 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:18,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:18,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:18,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:18,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:18,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:18,403 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:18,410 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:18,414 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:19,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:19,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:19,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:19,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:19,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:19,420 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:19,420 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:19,429 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:20,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:20,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:20,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:20,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:20,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:20,439 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:20,447 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:20,451 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:21,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:21,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:21,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:21,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:21,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:21,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:21,455 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:21,465 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:22,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:22,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:22,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:22,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:22,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:22,471 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:22,480 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:22,483 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:23,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:23,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:23,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:23,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:23,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:23,487 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:23,494 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:23,497 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:24,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:24,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:24,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:24,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:24,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:24,505 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:24,505 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:24,515 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:25,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:25,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:25,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:25,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:25,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:25,526 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:25,527 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:25,530 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:26,533 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:26,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:26,537 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:26,539 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:26,541 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:26,543 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:26,546 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:26,548 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:27,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:27,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:27,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:27,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:27,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:27,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:27,564 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:27,566 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:28,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:28,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:28,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:28,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:28,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:28,571 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:28,582 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:28,584 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:29,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:29,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:29,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:29,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:29,593 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:29,602 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:29,603 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:29,607 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:30,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:30,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:30,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:30,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:30,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:30,615 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:30,622 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:30,625 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:31,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:31,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:31,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:31,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:31,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:31,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:31,638 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:31,642 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:32,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:32,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:32,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:32,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:32,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:32,659 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:32,661 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:32,664 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:33,671 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:33,671 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:33,671 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:33,671 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:33,671 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:33,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:33,679 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:33,681 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:34,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:34,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:34,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:34,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:34,688 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:34,695 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:34,698 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:34,700 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:35,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:35,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:35,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:35,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:35,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:35,711 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:35,718 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:35,720 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:36,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:36,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:36,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:36,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:36,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:36,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:36,731 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:36,734 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:37,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:37,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:37,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:37,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:37,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:37,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:37,735 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:37,745 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:38,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:38,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:38,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:38,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:38,754 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:38,765 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:38,766 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:38,770 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:39,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:39,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:39,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:39,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:39,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:39,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:39,781 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:39,784 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:40,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:40,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:40,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:40,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:40,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:40,792 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:40,800 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:40,803 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:41,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:41,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:41,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:41,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:41,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:41,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:41,816 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:41,820 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:42,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:42,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:42,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:42,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:42,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:42,825 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:42,825 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:42,834 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:43,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:43,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:43,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:43,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:43,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:43,837 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:43,844 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:43,846 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:44,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:44,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:44,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:44,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:44,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:44,854 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:44,861 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:44,865 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:45,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:45,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:45,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:45,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:45,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:45,877 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:45,885 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:45,888 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:46,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:46,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:46,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:46,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:46,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:46,899 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:46,907 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:46,911 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:47,921 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:47,922 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:47,923 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:47,925 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:47,927 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:47,930 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:47,932 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:47,934 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:48,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:48,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:48,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:48,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:48,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:48,938 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:48,946 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:48,949 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:49,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:49,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:49,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:49,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:49,955 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:49,965 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:49,967 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:49,970 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:50,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:50,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:50,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:50,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:50,975 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:50,983 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:50,985 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:50,987 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:51,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:51,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:51,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:51,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:51,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:51,991 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:52,000 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:52,001 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:53,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:53,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:53,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:53,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:53,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:53,011 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:53,020 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:53,022 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:54,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:54,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:54,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:54,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:54,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:54,031 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:54,039 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:54,042 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:55,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:55,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:55,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:55,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:55,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:55,047 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:55,055 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:55,058 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:56,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:56,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:56,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:56,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:56,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:56,069 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:56,076 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:56,078 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:57,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:57,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:57,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:57,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:57,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:57,088 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:57,088 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:57,098 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:58,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:58,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:58,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:58,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:58,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:58,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:58,115 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:58,118 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:19:59,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:19:59,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:19:59,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:19:59,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:19:59,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:19:59,127 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:19:59,135 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:19:59,138 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:00,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:00,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:00,142 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:20:00,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:20:00,142 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:20:00,152 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:00,153 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:20:00,349 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:20:00,359 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:20:00,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:00,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:00,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:00,359 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:00,367 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:00,370 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:01,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:01,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:01,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:01,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:01,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:01,372 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:01,380 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:01,382 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:02,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:02,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:02,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:02,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:02,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:02,388 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:02,398 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:02,400 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:03,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:03,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:03,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:03,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:03,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:03,408 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:03,408 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:03,417 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:04,421 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:04,421 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:04,421 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:04,421 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:04,421 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:04,421 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:04,421 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:04,430 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:05,438 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:05,438 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:05,438 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:05,438 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:05,438 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:05,438 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:05,445 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:05,448 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:06,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:06,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:06,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:06,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:06,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:06,455 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:06,462 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:06,468 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:07,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:07,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:07,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:07,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:07,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:07,472 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:07,480 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:07,484 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:08,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:08,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:08,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:08,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:08,489 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:08,499 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:08,500 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:08,503 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:09,507 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:09,507 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:09,507 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:09,507 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:09,507 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:09,517 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:09,519 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:09,521 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:10,176 - APP.ui.app_ui - INFO - Autorun tick: Đã đến giờ chạy.
2025-10-06 13:20:10,176 - APP.ui.app_ui - INFO - Autorun tick: Bắt đầu phân tích tự động.
2025-10-06 13:20:10,176 - APP.ui.app_ui - INFO - Yêu cầu bắt đầu phân tích từ UI.
2025-10-06 13:20:10,188 - APP.ui.app_ui - DEBUG - Bắt đầu chụp ảnh nhanh cấu hình từ UI.
2025-10-06 13:20:10,190 - APP.configs.app_config - DEBUG - Bắt đầu hàm __post_init__ của RunConfig.
2025-10-06 13:20:10,191 - APP.configs.app_config - DEBUG - RunConfig được khởi tạo: RunConfig(folder=FolderConfig(folder='C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots', delete_after=True, max_files=0, only_generate_if_changed=False), upload=UploadConfig(upload_workers=4, cache_enabled=True, optimize_lossless=False), image_processing=ImageProcessingConfig(max_width=1600, jpeg_quality=85), context=ContextConfig(ctx_limit=2000, create_ctx_json=True, prefer_ctx_json=True, ctx_json_n=5, remember_context=True, n_reports=1), telegram=TelegramConfig(enabled=False, token='', chat_id='', skip_verify=False, ca_path='', notify_on_early_exit=True), mt5=MT5Config(enabled=True, symbol='XAUUSD', n_M1=120, n_M5=180, n_M15=96, n_H1=120), no_run=NoRunConfig(weekend_enabled=True, killzone_enabled=False, holiday_check_enabled=True, holiday_check_country='US', timezone='Asia/Ho_Chi_Minh'), no_trade=NoTradeConfig(enabled=False, spread_max_pips=2.5, min_atr_m5_pips=3.0, min_dist_keylvl_pips=5.0, allow_session_asia=True, allow_session_london=True, allow_session_ny=True), auto_trade=AutoTradeConfig(enabled=False, strict_bias=True, size_mode='risk_percent', risk_per_trade=0.5, split_tp_enabled=True, split_tp_ratio=50, deviation=20, magic_number=26092025, comment='AI-ICT', pending_ttl_min=90, min_rr_tp2=2.0, cooldown_min=10, dynamic_pending=True, dry_run=False, move_to_be_after_tp1=True, trailing_atr_mult=0.5, filling_type='IOC'), news=NewsConfig(block_enabled=True, block_before_min=15, block_after_min=15, cache_ttl_sec=300), persistence=PersistenceConfig(max_md_reports=10), api=ApiConfig(tries=5, delay=2.0), logging=LoggingConfig(log_dir='Log', log_file_name='app_debug.log', log_rotation_size_mb=5, log_rotation_backup_count=5))
2025-10-06 13:20:10,200 - APP.configs.app_config - DEBUG - Kết thúc hàm __post_init__ của RunConfig.
2025-10-06 13:20:10,202 - APP.core.analysis_worker - DEBUG - Bắt đầu AnalysisWorker.run với model: models/gemini-2.5-flash
2025-10-06 13:20:10,202 - APP.ui.app_ui - INFO - Đã khởi tạo và bắt đầu luồng AnalysisWorker.
2025-10-06 13:20:10,204 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 1: Khởi tạo và kiểm tra đầu vào.
2025-10-06 13:20:10,251 - APP.services.gemini_service - INFO - Đã khởi tạo model 'models/gemini-2.5-flash' thành công.
2025-10-06 13:20:10,253 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 2: Xây dựng ngữ cảnh và kiểm tra điều kiện.
2025-10-06 13:20:10,256 - APP.core.trading.conditions - DEBUG - Bắt đầu kiểm tra các điều kiện NO-RUN.
2025-10-06 13:20:10,269 - APP.core.trading.conditions - DEBUG - Điều kiện NO-RUN được thỏa mãn. Lý do: Các điều kiện cho phép.
2025-10-06 13:20:10,269 - APP.analysis.context_builder - INFO - Bắt đầu điều phối xây dựng ngữ cảnh toàn diện.
2025-10-06 13:20:10,269 - APP.analysis.context_builder - DEBUG - Bắt đầu xây dựng ngữ cảnh lịch sử với budget: 2000 chars.
2025-10-06 13:20:10,269 - APP.analysis.context_builder - DEBUG - Parsing last 20 context files from: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:20:10,269 - APP.analysis.context_builder - WARNING - Thư mục báo cáo không tồn tại: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\Reports
2025-10-06 13:20:10,277 - APP.analysis.context_builder - DEBUG - Bắt đầu tóm tắt xu hướng checklist từ 0 items.
2025-10-06 13:20:10,278 - APP.analysis.context_builder - DEBUG - Không có items, trả về trend 'unknown'.
2025-10-06 13:20:10,280 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:20:10,281 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:20:10,285 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:20:10,286 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:20:10,288 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:20:10,289 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:20:10,294 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:20:10,296 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:20:10,300 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:20:10,302 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:20:10,304 - APP.analysis.context_builder - DEBUG - Ngữ cảnh lịch sử có kích thước 606 chars (trong budget).
2025-10-06 13:20:10,305 - APP.services.mt5_service - DEBUG - Bắt đầu build_context cho symbol: XAUUSD
2025-10-06 13:20:10,310 - APP.services.mt5_service - DEBUG - Đã lấy symbol info, account info, tick info.
2025-10-06 13:20:10,313 - APP.services.mt5_service - WARNING - Không thể xác định thời gian broker chính xác, sử dụng UTC. Lỗi: 'TerminalInfo' object has no attribute 'timezone'
2025-10-06 13:20:10,316 - APP.services.mt5_service - DEBUG - Đã xây dựng info_obj, account_obj, rules_obj.
2025-10-06 13:20:10,318 - APP.services.mt5_service - DEBUG - Current price (cp): 3927.564
2025-10-06 13:20:10,327 - APP.services.mt5_service - DEBUG - Tick stats 5m: {'ticks_per_min': 328, 'median_spread': 37.0, 'p90_spread': 37}
2025-10-06 13:20:10,378 - APP.services.mt5_service - DEBUG - Tick stats 30m: {'ticks_per_min': 336, 'median_spread': 37, 'p90_spread': 37}
2025-10-06 13:20:10,383 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 1, bars: 120
2025-10-06 13:20:10,383 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 1.
2025-10-06 13:20:10,383 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:20:10,392 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 5, bars: 180
2025-10-06 13:20:10,399 - APP.services.mt5_service - DEBUG - Đã lấy 180 bars cho XAUUSD 5.
2025-10-06 13:20:10,401 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:20:10,404 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 15, bars: 96
2025-10-06 13:20:10,407 - APP.services.mt5_service - DEBUG - Đã lấy 96 bars cho XAUUSD 15.
2025-10-06 13:20:10,408 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:20:10,409 - APP.services.mt5_service - DEBUG - Bắt đầu _series_from_mt5 cho symbol: XAUUSD, tf_code: 16385, bars: 120
2025-10-06 13:20:10,414 - APP.services.mt5_service - DEBUG - Đã lấy 120 bars cho XAUUSD 16385.
2025-10-06 13:20:10,416 - APP.services.mt5_service - DEBUG - Kết thúc _series_from_mt5.
2025-10-06 13:20:10,419 - APP.services.mt5_service - DEBUG - Đã lấy OHLCV series cho các khung thời gian.
2025-10-06 13:20:10,421 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 16408, bars: 2
2025-10-06 13:20:10,422 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 16408. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:20:10,423 - APP.services.mt5_service - DEBUG - Đã lấy prev_day HL: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:20:10,425 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 32769, bars: 1
2025-10-06 13:20:10,426 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 32769. Kết quả: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}
2025-10-06 13:20:10,428 - APP.services.mt5_service - DEBUG - Đã lấy prev_week HL: {'high': 3897.216, 'low': 3763.408}
2025-10-06 13:20:10,429 - APP.services.mt5_service - DEBUG - Bắt đầu _hl_from cho symbol: XAUUSD, tf_code: 49153, bars: 1
2025-10-06 13:20:10,432 - APP.services.mt5_service - DEBUG - Đã lấy HL từ MT5 cho XAUUSD 49153. Kết quả: {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}
2025-10-06 13:20:10,433 - APP.services.mt5_service - DEBUG - Đã lấy higher timeframe levels.
2025-10-06 13:20:10,434 - APP.services.mt5_service - DEBUG - Đã enrich daily data: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}
2025-10-06 13:20:10,436 - APP.services.mt5_service - DEBUG - Bắt đầu session_ranges_today. M1 rates count: 120
2025-10-06 13:20:10,437 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:20:10,438 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:20:10.438705+07:00
2025-10-06 13:20:10,440 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:20:10.438705+07:00
2025-10-06 13:20:10,445 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:20:10.438705+07:00 trong DST: True
2025-10-06 13:20:10,446 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:20:10,448 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:20:10,450 - APP.services.mt5_service - DEBUG - Kết thúc session_ranges_today.
2025-10-06 13:20:10,453 - APP.services.mt5_service - DEBUG - Bắt đầu vwap_from_rates cho 120 rates.
2025-10-06 13:20:10,455 - APP.services.mt5_service - DEBUG - Kết thúc vwap_from_rates. VWAP: 3933.6970042561748
2025-10-06 13:20:10,469 - APP.services.mt5_service - DEBUG - Đã tính toán sessions, session liquidity và VWAPs: {'day': 3933.6970042561748, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}
2025-10-06 13:20:10,472 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:20:10,473 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3929.7189164809593
2025-10-06 13:20:10,474 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:20:10,475 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3932.290223025544
2025-10-06 13:20:10,476 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 50
2025-10-06 13:20:10,478 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3927.2503969112167
2025-10-06 13:20:10,479 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 180 giá trị, period: 200
2025-10-06 13:20:10,480 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3905.885434975373
2025-10-06 13:20:10,482 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 50
2025-10-06 13:20:10,487 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3910.896346132719
2025-10-06 13:20:10,489 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 96 giá trị, period: 200
2025-10-06 13:20:10,490 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3880.2682563518656
2025-10-06 13:20:10,491 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 50
2025-10-06 13:20:10,492 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3882.49673954963
2025-10-06 13:20:10,495 - APP.services.mt5_service - DEBUG - Bắt đầu ema cho 120 giá trị, period: 200
2025-10-06 13:20:10,496 - APP.services.mt5_service - DEBUG - Kết thúc ema. EMA: 3843.68869645984
2025-10-06 13:20:10,497 - APP.services.mt5_service - DEBUG - Đã tính toán EMA: {'M1': {'ema50': 3929.7189164809593, 'ema200': 3932.290223025544}, 'M5': {'ema50': 3927.2503969112167, 'ema200': 3905.885434975373}, 'M15': {'ema50': 3910.896346132719, 'ema200': 3880.2682563518656}, 'H1': {'ema50': 3882.49673954963, 'ema200': 3843.68869645984}}
2025-10-06 13:20:10,503 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 180 rates, period: 14
2025-10-06 13:20:10,506 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 4.033378834523489, TRs count: 179
2025-10-06 13:20:10,507 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:20:10,510 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 2.044749177583163, TRs count: 119
2025-10-06 13:20:10,512 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 96 rates, period: 14
2025-10-06 13:20:10,513 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 6.570715193155435, TRs count: 95
2025-10-06 13:20:10,516 - APP.services.mt5_service - DEBUG - Bắt đầu atr_series cho 120 rates, period: 14
2025-10-06 13:20:10,519 - APP.services.mt5_service - DEBUG - Kết thúc atr_series. Last ATR: 12.564412245880705, TRs count: 119
2025-10-06 13:20:10,520 - APP.services.mt5_service - DEBUG - Đã tính toán ATR: {'M5': 4.033378834523489, 'M1': 2.044749177583163, 'M15': 6.570715193155435, 'H1': 12.564412245880705}
2025-10-06 13:20:10,521 - APP.services.mt5_service - DEBUG - Volatility regime: trending
2025-10-06 13:20:10,522 - APP.services.mt5_service - DEBUG - Bắt đầu _nearby_key_levels cho cp: 3927.564, daily: {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, prev_day: {'high': 3921.048, 'low': 3884.095}
2025-10-06 13:20:10,525 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:10,529 - APP.services.mt5_service - DEBUG - Thêm PDH: 3921.048
2025-10-06 13:20:10,529 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:10,531 - APP.services.mt5_service - DEBUG - Thêm PDL: 3884.095
2025-10-06 13:20:10,533 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:10,534 - APP.services.mt5_service - DEBUG - Thêm EQ50_D: 3914.6809999999996
2025-10-06 13:20:10,536 - APP.services.mt5_service - DEBUG - Thêm DO: 3888.686
2025-10-06 13:20:10,536 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:10,537 - APP.services.mt5_service - DEBUG - Key level: PDH, Price: 3921.048, Relation: BELOW, Distance: 6516.000000000076
2025-10-06 13:20:10,539 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:10,541 - APP.services.mt5_service - DEBUG - Key level: PDL, Price: 3884.095, Relation: BELOW, Distance: 43469.00000000005
2025-10-06 13:20:10,544 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:10,545 - APP.services.mt5_service - DEBUG - Key level: EQ50_D, Price: 3914.6809999999996, Relation: BELOW, Distance: 12883.000000000266
2025-10-06 13:20:10,548 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:10,549 - APP.services.mt5_service - DEBUG - Key level: DO, Price: 3888.686, Relation: BELOW, Distance: 38877.9999999997
2025-10-06 13:20:10,552 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:10,553 - APP.services.mt5_service - DEBUG - Kết thúc _nearby_key_levels. Số key levels: 4
2025-10-06 13:20:10,556 - APP.services.mt5_service - DEBUG - Key levels nearby: [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 6516.000000000076}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 43469.00000000005}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 12883.000000000266}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 38877.9999999997}]
2025-10-06 13:20:10,558 - APP.services.mt5_service - DEBUG - Bắt đầu adr_stats cho symbol: XAUUSD, n: 20
2025-10-06 13:20:10,560 - APP.services.mt5_service - DEBUG - Kết thúc adr_stats. Kết quả: {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}
2025-10-06 13:20:10,560 - APP.services.mt5_service - DEBUG - Prev day close: 3909.511
2025-10-06 13:20:10,560 - APP.services.mt5_service - DEBUG - Day range: 61.172000000000025, Day range % of ADR20: 131.78834841226845
2025-10-06 13:20:10,560 - APP.services.mt5_service - DEBUG - Position in day range: 0.7106028902112083
2025-10-06 13:20:10,565 - APP.services.mt5_service - DEBUG - Bắt đầu _killzone_ranges_vn. Date: None, Target TZ: None
2025-10-06 13:20:10,566 - APP.services.mt5_service - DEBUG - Sử dụng thời gian hiện tại ở TZ: Asia/Ho_Chi_Minh, Date: 2025-10-06 13:20:10.566058+07:00
2025-10-06 13:20:10,568 - APP.services.mt5_service - DEBUG - Bắt đầu _is_us_dst cho ngày: 2025-10-06 13:20:10.566058+07:00
2025-10-06 13:20:10,569 - APP.services.mt5_service - DEBUG - Kết thúc _is_us_dst. Ngày 2025-10-06 13:20:10.566058+07:00 trong DST: True
2025-10-06 13:20:10,570 - APP.services.mt5_service - DEBUG - Is US DST (summer): True
2025-10-06 13:20:10,572 - APP.services.mt5_service - DEBUG - Đã tạo killzone ranges cho mùa hè.
2025-10-06 13:20:10,573 - APP.services.mt5_service - DEBUG - Killzone active: asia, Mins to next killzone: None
2025-10-06 13:20:10,576 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:20:10,579 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:20:10,581 - APP.services.mt5_service - DEBUG - Round levels: [{'level': '5600', 'price': 3927.56, 'distance_pips': 0.4}, {'level': '5625', 'price': 3927.562, 'distance_pips': 0.15}, {'level': '5650', 'price': 3927.565, 'distance_pips': 0.1}, {'level': '5675', 'price': 3927.568, 'distance_pips': 0.35}]
2025-10-06 13:20:10,582 - APP.services.mt5_service - DEBUG - ATR normalized spread: {'spread_as_pct_of_atr_m5': 0.9173450230750066}
2025-10-06 13:20:10,584 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:20:10,585 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:20:10,587 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:20:10,588 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3927.564
2025-10-06 13:20:10,590 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:20:10,594 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:20:10,598 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:20:10,600 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe H1.
2025-10-06 13:20:10,602 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 96 rates, lookback: 200
2025-10-06 13:20:10,605 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 96 rates, current_price: 3927.564
2025-10-06 13:20:10,606 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 2 FVG.
2025-10-06 13:20:10,607 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 96 rates, lookback: 100
2025-10-06 13:20:10,608 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:20:10,608 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M15.
2025-10-06 13:20:10,612 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 180 rates, lookback: 200
2025-10-06 13:20:10,614 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 180 rates, current_price: 3927.564
2025-10-06 13:20:10,617 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 2 FVG.
2025-10-06 13:20:10,618 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 180 rates, lookback: 100
2025-10-06 13:20:10,620 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:20:10,621 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M5.
2025-10-06 13:20:10,623 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_liquidity_levels với 120 rates, lookback: 200
2025-10-06 13:20:10,627 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_fvgs với 120 rates, current_price: 3927.564
2025-10-06 13:20:10,629 - APP.analysis.ict_analyzer - DEBUG - Kết thúc find_fvgs. Tìm thấy 1 FVG.
2025-10-06 13:20:10,629 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_order_blocks với 120 rates, lookback: 100
2025-10-06 13:20:10,633 - APP.analysis.ict_analyzer - DEBUG - Bắt đầu find_market_structure_shift với 5 highs, 5 lows.
2025-10-06 13:20:10,634 - APP.services.mt5_service - DEBUG - Đã hoàn thành phân tích ICT cho timeframe M1.
2025-10-06 13:20:10,635 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:20:10,637 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:20:10,638 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:20:10,641 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:20:10,643 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:20:10,643 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:20:10,643 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:20:10,651 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:20:10,655 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:20:10,656 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:20:10,658 - APP.services.mt5_service - DEBUG - Bắt đầu value_per_point cho symbol: XAUUSD
2025-10-06 13:20:10,659 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: point, default: 0.0
2025-10-06 13:20:10,660 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'point' trong object. Giá trị: 0.001
2025-10-06 13:20:10,661 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_value, default: 0.0
2025-10-06 13:20:10,662 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_value' trong object. Giá trị: 0.1
2025-10-06 13:20:10,663 - APP.services.mt5_service - DEBUG - Bắt đầu info_get cho key: trade_tick_size, default: 0.0
2025-10-06 13:20:10,667 - APP.services.mt5_service - DEBUG - Tìm thấy attribute 'trade_tick_size' trong object. Giá trị: 0.001
2025-10-06 13:20:10,668 - APP.services.mt5_service - DEBUG - Tính value_per_point từ tick_value/tick_size: 0.1
2025-10-06 13:20:10,669 - APP.services.mt5_service - DEBUG - Bắt đầu points_per_pip_from_info cho info: {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}
2025-10-06 13:20:10,671 - APP.services.mt5_service - DEBUG - Kết thúc points_per_pip_from_info. Digits: 3, PPP: 10
2025-10-06 13:20:10,672 - APP.services.mt5_service - DEBUG - Đã xây dựng payload MT5_DATA.
2025-10-06 13:20:10,673 - APP.utils.safe_data - DEBUG - Khởi tạo SafeData với data có: True
2025-10-06 13:20:10,674 - APP.services.mt5_service - DEBUG - Đã tạo SafeData object.
2025-10-06 13:20:10,677 - APP.services.mt5_service - DEBUG - Kết thúc build_context.
2025-10-06 13:20:10,680 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:20:10,681 - APP.analysis.context_builder - DEBUG - Dữ liệu MT5 có sẵn, bắt đầu làm giàu với tin tức.
2025-10-06 13:20:10,683 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:10,684 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:20:10,685 - APP.analysis.context_builder - DEBUG - Phân tích tin tức hoàn tất. Trong cửa sổ tin tức: False
2025-10-06 13:20:10,686 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:20:10,687 - APP.utils.safe_data - DEBUG - Get top-level key 'symbol': XAUUSD
2025-10-06 13:20:10,688 - APP.utils.safe_data - DEBUG - Get top-level key 'killzone_active': asia
2025-10-06 13:20:10,690 - APP.utils.safe_data - DEBUG - Get top-level key 'volatility_regime': trending
2025-10-06 13:20:10,693 - APP.utils.safe_data - DEBUG - Get top-level key 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -14}, {'price': 3924.713, 'bar_index': -26}, {'price': 3921.048, 'bar_index': -38}, {'price': 3891.731, 'bar_index': -63}, {'price': 3890.722, 'bar_index': -71}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -102}, {'price': 3854.751, 'bar_index': -80}, {'price': 3855.394, 'bar_index': -99}, {'price': 3856.896, 'bar_index': -89}, {'price': 3860.23, 'bar_index': -93}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}, {'type': 'Bearish', 'top': 3928.391, 'bottom': 3927.896}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 71}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 89}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 33}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 30}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 24}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 145}, {'price': 3940.405, 'bar_index': 140}, {'price': 3933.447, 'bar_index': 132}, {'price': 3933.426, 'bar_index': 154}, {'price': 3932.103, 'bar_index': 129}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -16}, {'price': 3873.943, 'bar_index': -11}, {'price': 3876.944, 'bar_index': 22}, {'price': 3880.541, 'bar_index': 4}, {'price': 3880.665, 'bar_index': 9}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3933.942, 'bottom': 3933.307}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 144}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 174}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 175}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 169}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 166}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 156}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -31}, {'price': 3940.699, 'bar_index': -41}, {'price': 3940.405, 'bar_index': -55}, {'price': 3939.578, 'bar_index': -45}, {'price': 3939.324, 'bar_index': -50}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 25}, {'price': 3924.05, 'bar_index': 31}, {'price': 3924.543, 'bar_index': 35}, {'price': 3927.425, 'bar_index': 2}, {'price': 3928.391, 'bar_index': 16}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3931.055, 'bottom': 3930.772}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3929.328, 'bottom': 3927.765, 'bar_index': 107}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3927.506, 'bottom': 3925.305, 'bar_index': 88}, {'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 78}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 73}], 'premium_discount_m1': {'high': 3945.267, 'low': 3924.543, 'equilibrium': 3934.9049999999997, 'status': 'Discount'}, 'mss_m1': None}
2025-10-06 13:20:10,703 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 10, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Average Hourly Earnings m/m', 'curr': 'USD'}]}
2025-10-06 13:20:10,705 - APP.utils.safe_data - DEBUG - Get top-level key 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 10, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Average Hourly Earnings m/m', 'curr': 'USD'}]}
2025-10-06 13:20:10,712 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:20:10,713 - APP.analysis.context_builder - DEBUG - Đã tạo và thêm bảng tóm tắt khái niệm.
2025-10-06 13:20:10,716 - APP.utils.safe_data - DEBUG - Truy cập raw data.
2025-10-06 13:20:10,722 - APP.analysis.context_builder - INFO - Điều phối xây dựng ngữ cảnh hoàn tất.
2025-10-06 13:20:10,723 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 3: Chuẩn bị và upload ảnh.
2025-10-06 13:20:10,724 - APP.analysis.image_processor - DEBUG - Đang thử tải cache upload.
2025-10-06 13:20:10,724 - APP.analysis.image_processor - DEBUG - Đã tải cache upload với 8 mục.
2025-10-06 13:20:10,724 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_H1.png: 18965:1759323273:418e463f085b02cc
2025-10-06 13:20:10,724 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_H1.png. Tên từ xa: files/tpa0splt16rw
2025-10-06 13:20:10,731 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_H1.png, đang lấy thông tin file...
2025-10-06 13:20:11,113 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_H1.png
2025-10-06 13:20:11,113 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M1.png: 22804:1759323273:6525132933ac9b42
2025-10-06 13:20:11,113 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M1.png. Tên từ xa: files/ajq3848x5w7t
2025-10-06 13:20:11,113 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M1.png, đang lấy thông tin file...
2025-10-06 13:20:11,365 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M1.png
2025-10-06 13:20:11,365 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M15.png: 6121:1759323273:1b4aaeed377c2eb8
2025-10-06 13:20:11,365 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M15.png. Tên từ xa: files/jbroa237cwvw
2025-10-06 13:20:11,375 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M15.png, đang lấy thông tin file...
2025-10-06 13:20:11,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:11,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:11,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:11,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:11,560 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:11,569 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:11,572 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:11,575 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:11,635 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M15.png
2025-10-06 13:20:11,637 - APP.analysis.image_processor - DEBUG - Đã tính toán chữ ký cho XAUUSD_M5.png: 6521:1759323273:424827d52f0ab96d
2025-10-06 13:20:11,638 - APP.analysis.image_processor - DEBUG - Cache hit cho XAUUSD_M5.png. Tên từ xa: files/1r8cfv90ib9s
2025-10-06 13:20:11,640 - APP.core.analysis_worker - DEBUG - Tìm thấy trong cache: XAUUSD_M5.png, đang lấy thông tin file...
2025-10-06 13:20:11,888 - APP.core.analysis_worker - INFO - Đã sử dụng cache cho ảnh: XAUUSD_M5.png
2025-10-06 13:20:11,888 - APP.analysis.image_processor - DEBUG - Đang lưu cache upload với 8 mục.
2025-10-06 13:20:11,888 - APP.analysis.image_processor - DEBUG - Đã lưu cache upload thành công.
2025-10-06 13:20:11,888 - APP.core.analysis_worker - DEBUG - BẮT ĐẦU GIAI ĐOẠN 4: Gọi Model AI
2025-10-06 13:20:11,888 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:20:11,898 - APP.ui.components.prompt_manager - DEBUG - Đang lấy nội dung prompts từ UI.
2025-10-06 13:20:11,900 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:20:11,900 - APP.analysis.prompt_builder - DEBUG - Không có vị thế nào, chọn prompt 'no entry'.
2025-10-06 13:20:11,902 - APP.analysis.prompt_builder - DEBUG - Bắt đầu xây dựng prompt cuối cùng.
2025-10-06 13:20:11,905 - APP.analysis.prompt_builder - DEBUG - Đã xây dựng xong prompt cuối cùng.
2025-10-06 13:20:11,907 - APP.core.analysis_worker - DEBUG - --- PROMPT FINAL GỬI ĐẾN AI ---
VAI TRÒ & BỐI CẢNH
- Bạn là một nhà giao dịch ICT chuyên nghiệp với nhiệm vụ phân tích thị trường theo phương pháp Top-Down để tìm kiếm các cơ hội giao dịch có xác suất thắng cao nhất.
- Bạn phải suy luận một cách logic, xâu chuỗi các bằng chứng từ khung thời gian cao xuống thấp để xây dựng một "câu chuyện thị trường" chặt chẽ.

---
### NHIỆM VỤ 1: QUY TRÌNH PHÂN TÍCH TOP-DOWN 4 BƯỚC

Hãy thực hiện quy trình sau một cách tuần tự. **Trong mỗi bước, hãy trích dẫn dữ liệu cụ thể từ `EXTRACT_JSON` và `CONCEPT_VALUE_TABLE` để làm bằng chứng.**

**BƯỚC 1: XÁC ĐỊNH BỐI CẢNH VÀ MỤC TIÊU GIÁ TRÊN H1 (Draw on Liquidity)**
- **Phân tích Order Flow**: Dòng chảy lệnh trên H1 đang là Bullish hay Bearish? (Bằng chứng: `EXTRACT_JSON.tf.H1.mss_bos.type` và vị trí giá so với `EXTRACT_JSON.tf.H1.trend_refs.EMA.ema50`).
- **Xác định Draw on Liquidity**: Giá có khả năng cao sẽ tìm đến đâu? Một vùng thanh khoản (`EXTRACT_JSON.tf.H1.liquidity.swing_highs_BSL` hoặc `swing_lows_SSL`) hay một vùng mất cân bằng (`EXTRACT_JSON.tf.H1.fvgs`)? Nêu rõ mục tiêu giá cụ thể.
- **Kết luận H1**: Tóm tắt lại bối cảnh H1 (ví dụ: "H1 đang Bullish (BOS), giá có khả năng tìm về vùng BSL tại 1.2345").

**BƯỚC 2: TÌM VÙNG CHỜ CHẤT LƯỢNG TRÊN M15 (POI of Interest)**
- Dựa trên bối cảnh H1, hãy tìm một POI (từ `EXTRACT_JSON.tf.M15.order_blocks` hoặc `fvgs`) trên M15 có khả năng cao sẽ đảo chiều giá.
- **Đánh giá chất lượng POI**: POI này có nằm trong vùng Premium/Discount hợp lý không (`EXTRACT_JSON.tf.H1.premium_discount.status`)? Nó có quét thanh khoản trước khi hình thành không?
- **Kết luận M15**: Nêu rõ POI được chọn và lý do (ví dụ: "Chọn FVG M15 tại 1.2300-1.2310 vì nó nằm trong vùng Discount của H1").

**BƯỚC 3: TÌM TÍN HIỆU XÁC NHẬN TRÊN M5/M1 (Entry Confirmation)**
- Khi giá tiếp cận POI M15, bạn đang chờ đợi tín hiệu gì trên M5 hoặc M1?
- **Mô tả tín hiệu**: Đó là một sự thay đổi cấu trúc (`MSS`) ngược hướng với xu hướng hồi? (Theo dõi `EXTRACT_JSON.tf.M5.mss_bos.type`).
- **Kết luận M5/M1**: Nêu rõ tín hiệu xác nhận đang chờ đợi (ví dụ: "Chờ giá tạo MSS trên M5 sau khi chạm vào FVG M15").

**BƯỚC 4: TỔNG HỢP, XẾP HẠNG VÀ LẬP KẾ HOẠCH**
- **Xây dựng Câu chuyện Thị trường**: Tổng hợp 3 bước trên thành một câu chuyện thị trường hoàn chỉnh.
- **Xếp hạng Setup**: Dựa trên mức độ hợp lưu, xếp hạng setup: `A+`, `B`, `C`, hoặc `Không có`.
- **Lập Kế hoạch**: Nếu hạng là `A+` hoặc `B`, hãy lập một kế hoạch giao dịch chi tiết.

---
### NHIỆM VỤ 2: TẠO ĐỐI TƯỢNG JSON CHUYÊN SÂU

Tổng hợp toàn bộ kết quả phân tích của bạn vào đối tượng JSON sau. **Đây phải là phần đầu tiên trong phản hồi của bạn.**

```json
{
  "cycle": "[ĐIỀN THỜI GIAN HIỆN TẠI]",
  "symbol": "[LẤY TỪ DỮ LIỆU]",
  "mode": "expert_setup_evaluation",
  "market_narrative": "[CÂU CHUYỆN THỊ TRƯỜNG TỪ BƯỚC 4]",
  "setup_grade": "[A+/B/C/Không có]",
  "reasoning_summary": "[GIẢI THÍCH NGẮN GỌN VÌ SAO XẾP HẠNG SETUP NHƯ VẬY]",
  "top_down_analysis": {
    "h1_context": {
      "order_flow": "[Bullish/Bearish]",
      "draw_on_liquidity": "[Mô tả mục tiêu giá, ví dụ: BSL tại 1.2345]"
    },
    "m15_poi": {
      "type": "[Loại POI, ví dụ: FVG, Order Block]",
      "price_zone": "[Vùng giá của POI]",
      "quality_assessment": "[Đánh giá ngắn gọn chất lượng POI]"
    },
    "m5_m1_confirmation": {
      "status": "[Đã có/Đang chờ]",
      "signal": "[Mô tả tín hiệu, ví dụ: Chờ MSS trên M5]"
    }
  },
  "proposed_plan": {
    "direction": "[long/short hoặc null]",
    "entry": "[Giá hoặc 0.0]",
    "sl": "[Giá hoặc 0.0]",
    "tp1": "[Giá hoặc 0.0]",
    "tp2": "[Giá hoặc 0.0]",
    "risk_multiplier": "[1.0 cho A+, 0.5 cho B, 0.0 cho các trường hợp khác]"
  }
}
```

---
### NHIỆM VỤ 3: VIẾT BÁO CÁO PHÂN TÍCH CHI TIẾT

Dựa vào đối tượng JSON bạn vừa tạo, hãy viết một báo cáo chuyên nghiệp.

A) **TÓM TẮT NHANH (7 DÒNG):**
1.  **Câu chuyện chính:** [Lấy từ `market_narrative`]
2.  **Xếp hạng Setup:** [Lấy từ `setup_grade`]
3.  **Lệnh:** [long/short/Chờ]
4.  **Entry:** [Giá từ `proposed_plan`]
5.  **SL:** [Giá từ `proposed_plan`]
6.  **TP1/TP2:** [Giá từ `proposed_plan`]
7.  **Lý do chính:** [Lấy từ `reasoning_summary`]

B) **PHÂN TÍCH CHUYÊN SÂU:**
   - Diễn giải chi tiết hơn về `market_narrative`, xâu chuỗi các bằng chứng từ H1 xuống M1.
   - Giải thích tại sao các yếu tố trong `top_down_analysis` lại dẫn đến việc xếp hạng `setup_grade` như vậy.
   - Nếu có kế hoạch giao dịch, hãy bảo vệ luận điểm tại sao đây là một cơ hội xác suất cao. Nếu không, hãy giải thích tại sao nên đứng ngoài thị trường lúc này.

---
**Dữ liệu thị trường và tài khoản (MT5):**
```json
{'symbol': 'XAUUSD', 'generated_at': '2025-10-06 13:20:10', 'broker_time': '2025-10-06T06:20:10+00:00', 'account': {'balance': 175.98, 'equity': 175.98, 'free_margin': 175.98, 'currency': 'USD', 'leverage': 2000}, 'positions': [], 'info': {'digits': 3, 'point': 0.001, 'contract_size': 100.0, 'spread_current': 37, 'swap_long': -480.0, 'swap_short': 0.0}, 'symbol_rules': {'volume_min': 0.01, 'volume_max': 200.0, 'volume_step': 0.01, 'trade_tick_value': 0.1, 'trade_tick_size': 0.001, 'stop_level_points': 0, 'freeze_level_points': 0, 'margin_initial': 0.0, 'margin_maintenance': 0.0}, 'pip': {'points_per_pip': 10, 'value_per_point': 0.1, 'pip_value_per_lot': 1.0}, 'tick': {'bid': 3927.564, 'ask': 3927.601, 'last': 0.0, 'time': 1759731610}, 'tick_stats_5m': {'ticks_per_min': 328, 'median_spread': 37.0, 'p90_spread': 37}, 'tick_stats_30m': {'ticks_per_min': 336, 'median_spread': 37, 'p90_spread': 37}, 'levels': {'daily': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095, 'eq50': 3914.6809999999996, 'midnight_open': None}, 'prev_day': {'high': 3921.048, 'low': 3884.095}, 'weekly': {'open': 3888.686, 'high': 3945.267, 'low': 3884.095}, 'prev_week': {'high': 3897.216, 'low': 3763.408}, 'monthly': {'open': 3863.002, 'high': 3945.267, 'low': 3819.397}}, 'day_open': 3888.686, 'prev_day_close': 3909.511, 'adr': {'d5': 57.80619999999999, 'd10': 51.91790000000001, 'd20': 46.41685}, 'day_range': 61.172000000000025, 'day_range_pct_of_adr20': 131.78834841226845, 'position_in_day_range': 0.7106028902112083, 'sessions_today': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'session_liquidity': {}, 'volatility': {'ATR': {'M5': 4.033378834523489, 'M1': 2.044749177583163, 'M15': 6.570715193155435, 'H1': 12.564412245880705}}, 'volatility_regime': 'trending', 'trend_refs': {'EMA': {'M1': {'ema50': 3929.7189164809593, 'ema200': 3932.290223025544}, 'M5': {'ema50': 3927.2503969112167, 'ema200': 3905.885434975373}, 'M15': {'ema50': 3910.896346132719, 'ema200': 3880.2682563518656}, 'H1': {'ema50': 3882.49673954963, 'ema200': 3843.68869645984}}}, 'vwap': {'day': 3933.6970042561748, 'asia': None, 'london': None, 'newyork_am': None, 'newyork_pm': None}, 'kills': {'asia': {'start': '06:00', 'end': '09:00'}, 'london': {'start': '14:00', 'end': '17:00'}, 'newyork_am': {'start': '19:30', 'end': '22:00'}, 'newyork_pm': {'start': '00:00', 'end': '03:00'}}, 'is_silver_bullet_window': False, 'killzone_active': 'asia', 'mins_to_next_killzone': None, 'key_levels_nearby': [{'name': 'PDH', 'price': 3921.048, 'relation': 'BELOW', 'distance_pips': 6516.000000000076}, {'name': 'PDL', 'price': 3884.095, 'relation': 'BELOW', 'distance_pips': 43469.00000000005}, {'name': 'EQ50_D', 'price': 3914.6809999999996, 'relation': 'BELOW', 'distance_pips': 12883.000000000266}, {'name': 'DO', 'price': 3888.686, 'relation': 'BELOW', 'distance_pips': 38877.9999999997}], 'round_levels': [{'level': '5600', 'price': 3927.56, 'distance_pips': 0.4}, {'level': '5625', 'price': 3927.562, 'distance_pips': 0.15}, {'level': '5650', 'price': 3927.565, 'distance_pips': 0.1}, {'level': '5675', 'price': 3927.568, 'distance_pips': 0.35}], 'atr_norm': {'spread_as_pct_of_atr_m5': 0.9173450230750066}, 'ict_patterns': {'liquidity_h1': {'swing_highs_BSL': [{'price': 3921.048, 'bar_index': 32}, {'price': 3897.216, 'bar_index': 0}, {'price': 3895.417, 'bar_index': -28}, {'price': 3891.731, 'bar_index': 25}, {'price': 3891.184, 'bar_index': -24}], 'swing_lows_SSL': [{'price': 3793.174, 'bar_index': -50}, {'price': 3809.251, 'bar_index': -69}, {'price': 3819.397, 'bar_index': 2}, {'price': 3822.667, 'bar_index': -63}, {'price': 3838.081, 'bar_index': 13}]}, 'fvgs_h1': [{'type': 'Bullish', 'top': 3919.923, 'bottom': 3918.4}], 'order_blocks_h1': [{'type': 'Bullish', 'top': 3910.146, 'bottom': 3898.998, 'bar_index': 113}], 'liquidity_voids_h1': [{'type': 'Bullish', 'top': 3932.103, 'bottom': 3919.923, 'bar_index': 86}, {'type': 'Bullish', 'top': 3918.4, 'bottom': 3899.734, 'bar_index': 84}, {'type': 'Bullish', 'top': 3875.022, 'bottom': 3860.51, 'bar_index': 72}], 'premium_discount_h1': {'high': 3921.048, 'low': 3838.081, 'equilibrium': 3879.5645, 'status': 'Premium'}, 'mss_h1': {'type': 'Bearish', 'event': 'CHoCH', 'price_level': 3838.081, 'break_bar_index': 14}, 'liquidity_m15': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -14}, {'price': 3924.713, 'bar_index': -26}, {'price': 3921.048, 'bar_index': -38}, {'price': 3891.731, 'bar_index': -63}, {'price': 3890.722, 'bar_index': -71}], 'swing_lows_SSL': [{'price': 3850.904, 'bar_index': -102}, {'price': 3854.751, 'bar_index': -80}, {'price': 3855.394, 'bar_index': -99}, {'price': 3856.896, 'bar_index': -89}, {'price': 3860.23, 'bar_index': -93}]}, 'fvgs_m15': [{'type': 'Bullish', 'top': 3920.404, 'bottom': 3918.4}, {'type': 'Bearish', 'top': 3928.391, 'bottom': 3927.896}], 'order_blocks_m15': [{'type': 'Bullish', 'top': 3907.641, 'bottom': 3901.283, 'bar_index': 71}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 89}], 'liquidity_voids_m15': [{'type': 'Bullish', 'top': 3934.58, 'bottom': 3928.873, 'bar_index': 33}, {'type': 'Bullish', 'top': 3929.372, 'bottom': 3921.526, 'bar_index': 30}, {'type': 'Bullish', 'top': 3924.713, 'bottom': 3917.598, 'bar_index': 24}], 'premium_discount_m15': {'high': 3945.267, 'low': 3854.751, 'equilibrium': 3900.009, 'status': 'Premium'}, 'mss_m15': None, 'liquidity_m5': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': 145}, {'price': 3940.405, 'bar_index': 140}, {'price': 3933.447, 'bar_index': 132}, {'price': 3933.426, 'bar_index': 154}, {'price': 3932.103, 'bar_index': 129}], 'swing_lows_SSL': [{'price': 3872.522, 'bar_index': -16}, {'price': 3873.943, 'bar_index': -11}, {'price': 3876.944, 'bar_index': 22}, {'price': 3880.541, 'bar_index': 4}, {'price': 3880.665, 'bar_index': 9}]}, 'fvgs_m5': [{'type': 'Bullish', 'top': 3925.452, 'bottom': 3924.15}, {'type': 'Bearish', 'top': 3933.942, 'bottom': 3933.307}], 'order_blocks_m5': [{'type': 'Bullish', 'top': 3922.688, 'bottom': 3920.347, 'bar_index': 144}, {'type': 'Bearish', 'top': 3933.426, 'bottom': 3928.391, 'bar_index': 174}], 'liquidity_voids_m5': [{'type': 'Bearish', 'top': 3933.002, 'bottom': 3927.935, 'bar_index': 175}, {'type': 'Bearish', 'top': 3937.269, 'bottom': 3929.803, 'bar_index': 169}, {'type': 'Bearish', 'top': 3940.649, 'bottom': 3933.169, 'bar_index': 166}], 'premium_discount_m5': {'high': 3933.426, 'low': 3876.944, 'equilibrium': 3905.185, 'status': 'Premium'}, 'mss_m5': {'type': 'Bullish', 'event': 'CHoCH', 'price_level': 3933.426, 'break_bar_index': 156}, 'liquidity_m1': {'swing_highs_BSL': [{'price': 3945.267, 'bar_index': -31}, {'price': 3940.699, 'bar_index': -41}, {'price': 3940.405, 'bar_index': -55}, {'price': 3939.578, 'bar_index': -45}, {'price': 3939.324, 'bar_index': -50}], 'swing_lows_SSL': [{'price': 3922.438, 'bar_index': 25}, {'price': 3924.05, 'bar_index': 31}, {'price': 3924.543, 'bar_index': 35}, {'price': 3927.425, 'bar_index': 2}, {'price': 3928.391, 'bar_index': 16}]}, 'fvgs_m1': [{'type': 'Bearish', 'top': 3931.055, 'bottom': 3930.772}], 'order_blocks_m1': [{'type': 'Bearish', 'top': 3929.328, 'bottom': 3927.765, 'bar_index': 107}], 'liquidity_voids_m1': [{'type': 'Bullish', 'top': 3927.506, 'bottom': 3925.305, 'bar_index': 88}, {'type': 'Bearish', 'top': 3928.462, 'bottom': 3925.656, 'bar_index': 78}, {'type': 'Bearish', 'top': 3930.772, 'bottom': 3927.935, 'bar_index': 73}], 'premium_discount_m1': {'high': 3945.267, 'low': 3924.543, 'equilibrium': 3934.9049999999997, 'status': 'Discount'}, 'mss_m1': None}, 'risk_model': {}, 'rr_projection': {}, 'news_analysis': {'is_in_news_window': False, 'reason': None, 'upcoming_events': [{'when': datetime.datetime(2025, 10, 9, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Unemployment Claims', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 9, 1, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'FOMC Meeting Minutes', 'curr': 'USD'}, {'when': datetime.datetime(2025, 10, 10, 0, 0, tzinfo=datetime.timezone(datetime.timedelta(seconds=25200), 'SE Asia Standard Time')), 'title': 'Average Hourly Earnings m/m', 'curr': 'USD'}]}, 'concept_value_table': '| Khái niệm (Concept) | Giá trị (Value) |\n|---|---|\n| Symbol | XAUUSD |\n| Killzone Hiện tại | asia |\n| Chế độ Biến động | trending |\n| H1 Order Flow | Bearish |\n| M15 Structure | Không rõ |\n| Trong Cửa sổ Tin tức | False |\n| Tin tức Sắp tới | None - Unemployment Claims |\n'}
```

---
**Bối cảnh bổ sung từ các báo cáo trước:**


[CONTEXT_COMPOSED]
{"CONTEXT_COMPOSED": {"cycle": "2025-10-06 13:20:10", "trend_checklist": {"trend": "unknown", "enough_ratio": null}, "latest_plan": null, "latest_summary_lines": null, "recent_history_summary": null, "run_meta": {"analysis_id": "2025-10-06T06:20:10Z", "folder_signature": "sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1", "images_tf_map": {"XAUUSD_H1.png": "H1", "XAUUSD_M1.png": "M1", "XAUUSD_M15.png": "M15", "XAUUSD_M5.png": "M5"}}, "running_stats": {"backtest_results": {"status": "not_implemented"}}, "risk_rules": {"max_risk_per_trade_pct": 0.5, "daily_loss_limit_pct": 3.0, "max_trades_per_day": 3}}}

---
**Phân tích các hình ảnh được cung cấp.**
--- KẾT THÚC PROMPT ---
2025-10-06 13:20:11,970 - APP.services.gemini_service - DEBUG - Bắt đầu stream tới Gemini API với 5 lần thử.
2025-10-06 13:20:12,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:12,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:12,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:12,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:12,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:12,586 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:12,593 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:12,595 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:13,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:13,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:13,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:13,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:13,599 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:13,609 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:13,613 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:13,618 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:14,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:14,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:14,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:14,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:14,623 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:14,631 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:14,633 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:14,636 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:15,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:15,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:15,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:15,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:15,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:15,639 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:15,647 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:15,650 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:16,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:16,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:16,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:16,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:16,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:16,651 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:16,651 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:16,661 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:17,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:17,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:17,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:17,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:17,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:17,666 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:17,674 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:17,677 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:18,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:18,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:18,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:18,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:18,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:18,678 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:18,678 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:18,688 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:19,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:19,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:19,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:19,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:19,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:19,699 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:19,699 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:19,709 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:20,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:20,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:20,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:20,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:20,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:20,718 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:20,726 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:20,727 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:21,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:21,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:21,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:21,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:21,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:21,732 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:21,741 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:21,744 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:22,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:22,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:22,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:22,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:22,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:22,753 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:22,762 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:22,763 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:23,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:23,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:23,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:23,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:23,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:23,772 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:23,781 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:23,783 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:24,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:24,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:24,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:24,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:24,791 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:24,802 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:24,806 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:24,809 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:25,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:25,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:25,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:25,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:25,819 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:25,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:25,830 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:25,835 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:26,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:26,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:26,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:26,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:26,839 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:26,848 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:26,850 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:26,853 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:27,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:27,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:27,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:27,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:27,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:27,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:27,865 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:27,868 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:28,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:28,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:28,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:28,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:28,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:28,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:28,883 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:28,886 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:29,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:29,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:29,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:29,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:29,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:29,894 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:29,902 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:29,904 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:30,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:30,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:30,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:30,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:30,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:30,914 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:30,922 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:30,925 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:31,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:31,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:31,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:31,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:31,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:31,933 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:31,940 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:31,943 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:32,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:32,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:32,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:32,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:32,949 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:32,958 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:32,960 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:32,963 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:33,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:33,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:33,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:33,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:33,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:33,973 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:33,982 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:33,985 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:34,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:34,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:34,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:34,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:34,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:34,984 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:34,994 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:34,997 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:36,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:36,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:36,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:36,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:36,000 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:36,008 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:36,010 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:36,013 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:37,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:37,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:37,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:37,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:37,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:37,014 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:37,022 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:37,026 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:38,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:38,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:38,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:38,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:38,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:38,028 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:38,036 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:38,039 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:39,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:39,032 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:39,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:39,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:39,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:39,042 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:39,049 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:39,051 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:40,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:40,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:40,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:40,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:40,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:40,060 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:40,061 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:40,064 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:41,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:41,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:41,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:41,072 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:41,084 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:41,086 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:41,088 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:41,091 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:42,093 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:42,093 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:42,093 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:42,093 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:42,103 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:42,106 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:42,107 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:42,112 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:43,110 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:43,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:43,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:43,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:43,120 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:43,128 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:43,129 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:43,133 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:44,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:44,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:44,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:44,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:44,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:44,138 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:44,147 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:44,150 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:45,156 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:45,156 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:45,156 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:45,156 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:45,156 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:45,166 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:45,169 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:45,172 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:46,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:46,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:46,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:46,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:46,180 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:46,188 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:46,189 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:46,194 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:47,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:47,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:47,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:47,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:47,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:47,197 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:47,197 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:47,206 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:48,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:48,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:48,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:48,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:48,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:48,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:48,227 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:48,229 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:49,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:49,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:49,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:49,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:49,233 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:49,242 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:49,243 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:49,247 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:50,253 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:50,254 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:50,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:50,259 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:50,260 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:50,264 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:50,265 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:50,268 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:51,277 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:51,277 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:51,277 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:51,277 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:51,277 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:51,277 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:51,286 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:51,289 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:52,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:52,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:52,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:52,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:52,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:52,294 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:52,302 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:52,305 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:53,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:53,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:53,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:53,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:53,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:53,316 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:53,324 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:53,327 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:54,329 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:54,329 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:54,329 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:54,329 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:54,329 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:54,338 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:54,340 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:54,344 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:55,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:55,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:55,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:55,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:55,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:55,352 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:55,359 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:55,363 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:56,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:56,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:56,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:56,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:56,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:56,367 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:56,375 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:56,380 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:57,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:57,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:57,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:57,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:57,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:57,389 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:57,396 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:57,400 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:58,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:58,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:58,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:58,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:58,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:58,416 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:58,416 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:58,420 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:20:59,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:20:59,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:20:59,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:20:59,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:20:59,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:20:59,422 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:20:59,429 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:20:59,434 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:00,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:00,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:00,441 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:21:00,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:21:00,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:21:00,441 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:00,450 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:21:00,800 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:21:00,800 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:21:00,800 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:00,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:00,810 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:00,814 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:00,816 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:00,820 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:01,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:01,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:01,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:01,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:01,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:01,828 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:01,835 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:01,838 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:02,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:02,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:02,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:02,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:02,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:02,844 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:02,851 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:02,853 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:03,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:03,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:03,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:03,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:03,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:03,856 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:03,864 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:03,870 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:04,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:04,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:04,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:04,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:04,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:04,874 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:04,882 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:04,885 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:05,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:05,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:05,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:05,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:05,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:05,886 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:05,894 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:05,896 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:06,900 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:06,900 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:06,900 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:06,900 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:06,900 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:06,900 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:06,909 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:06,912 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:07,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:07,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:07,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:07,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:07,919 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:07,928 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:07,929 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:07,931 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:08,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:08,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:08,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:08,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:08,941 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:08,950 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:08,952 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:08,955 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:09,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:09,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:09,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:09,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:09,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:09,962 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:09,971 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:09,973 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:10,734 - APP.services.gemini_service - INFO - Lần thử 1: Kết nối stream tới Gemini API thành công.
2025-10-06 13:21:10,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:10,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:10,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:10,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:10,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:10,980 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:10,990 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:10,992 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:12,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:12,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:12,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:12,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:12,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:12,003 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:12,011 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:12,014 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:13,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:13,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:13,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:13,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:13,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:13,021 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:13,030 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:13,032 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:14,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:14,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:14,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:14,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:14,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:14,037 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:14,037 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:14,047 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:15,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:15,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:15,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:15,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:15,050 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:15,058 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:15,061 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:15,064 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:16,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:16,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:16,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:16,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:16,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:16,068 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:16,075 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:16,078 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:17,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:17,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:17,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:17,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:17,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:17,081 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:17,081 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:17,090 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:18,094 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:18,094 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:18,094 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:18,094 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:18,094 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:18,094 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:18,094 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:18,104 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:19,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:19,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:19,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:19,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:19,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:19,108 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:19,116 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:19,119 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:20,211 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:20,212 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:20,214 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:20,219 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:20,221 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:20,224 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:20,226 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:20,230 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:21,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:21,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:21,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:21,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:21,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:21,234 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:21,242 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:21,244 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:22,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:22,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:22,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:22,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:22,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:22,255 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:22,255 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:22,264 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:23,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:23,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:23,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:23,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:23,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:23,267 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:23,274 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:23,277 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:24,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:24,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:24,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:24,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:24,284 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:24,292 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:24,294 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:24,297 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:25,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:25,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:25,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:25,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:25,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:25,306 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:25,314 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:25,317 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:25,577 - APP.services.gemini_service - DEBUG - Stream từ Gemini API hoàn tất.
2025-10-06 13:21:25,577 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 5: Thực thi hoặc quản lý giao dịch.
2025-10-06 13:21:25,577 - APP.utils.safe_data - DEBUG - Get top-level key 'positions': []
2025-10-06 13:21:25,577 - APP.core.analysis_worker - INFO - Không có lệnh. Tìm kiếm cơ hội vào lệnh mới.
2025-10-06 13:21:25,577 - APP.core.analysis_worker - DEBUG - GIAI ĐOẠN 6: Hoàn tất và dọn dẹp.
2025-10-06 13:21:25,577 - APP.persistence.md_handler - DEBUG - Bắt đầu lưu báo cáo Markdown.
2025-10-06 13:21:25,577 - APP.persistence.md_handler - DEBUG - Đường dẫn file báo cáo Markdown: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports\report_20251006_132125.md
2025-10-06 13:21:25,587 - APP.persistence.md_handler - DEBUG - Bắt đầu trích xuất báo cáo human-readable.
2025-10-06 13:21:25,588 - APP.persistence.md_handler - WARNING - Không tìm thấy điểm bắt đầu báo cáo hợp lệ, trả về toàn bộ nội dung.
2025-10-06 13:21:25,592 - APP.persistence.md_handler - INFO - Đã lưu báo cáo Markdown thành công tại: report_20251006_132125.md
2025-10-06 13:21:25,596 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: *.md, giữ lại: 10 file.
2025-10-06 13:21:25,598 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:21:25,600 - APP.persistence.md_handler - DEBUG - Kết thúc việc lưu báo cáo Markdown.
2025-10-06 13:21:25,607 - APP.persistence.json_handler - DEBUG - JsonSaver được khởi tạo cho workspace: C:/Users/Windows/AppData/Roaming/MetaQuotes/Terminal/D0E8209F77C8CF37AD8BF550E51FF075/MQL5/Files/Screenshots
2025-10-06 13:21:25,608 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu tạo map timeframe với 4 tên file.
2025-10-06 13:21:25,610 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_H1.png
2025-10-06 13:21:25,612 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'H1' cho 'XAUUSD_H1.png' bằng pattern đã biên dịch.
2025-10-06 13:21:25,613 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M1.png
2025-10-06 13:21:25,614 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M1' cho 'XAUUSD_M1.png' bằng pattern đã biên dịch.
2025-10-06 13:21:25,618 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M15.png
2025-10-06 13:21:25,621 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M15' cho 'XAUUSD_M15.png' bằng pattern đã biên dịch.
2025-10-06 13:21:25,622 - APP.ui.utils.timeframe_detector - DEBUG - Bắt đầu phát hiện timeframe cho tên file: XAUUSD_M5.png
2025-10-06 13:21:25,624 - APP.ui.utils.timeframe_detector - DEBUG - Đã phát hiện timeframe 'M5' cho 'XAUUSD_M5.png' bằng pattern đã biên dịch.
2025-10-06 13:21:25,625 - APP.ui.utils.timeframe_detector - DEBUG - Kết thúc tạo map timeframe. Map: {'XAUUSD_H1.png': 'H1', 'XAUUSD_M1.png': 'M1', 'XAUUSD_M15.png': 'M15', 'XAUUSD_M5.png': 'M5'}
2025-10-06 13:21:25,627 - APP.persistence.json_handler - DEBUG - Bắt đầu quá trình lưu báo cáo JSON.
2025-10-06 13:21:25,630 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:21:25,633 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:21:25,636 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:21:25,638 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:21:25,639 - APP.persistence.json_handler - DEBUG - Đã thêm 8 khối JSON vào data_to_save.
2025-10-06 13:21:25,640 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất tóm tắt và chữ ký.
2025-10-06 13:21:25,642 - APP.analysis.report_parser - DEBUG - Hoàn tất trích xuất. High Prob: False
2025-10-06 13:21:25,646 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:21:25,652 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:21:25,659 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:21:25,660 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:21:25,661 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:21:25,661 - APP.analysis.report_parser - INFO - Trích xuất cài đặt thành công từ khối JSON.
2025-10-06 13:21:25,661 - APP.persistence.json_handler - DEBUG - Đã parse và lưu plan: {'direction': 'short', 'entry': 3930.0, 'sl': 3934.0, 'tp1': 3872.195, 'tp2': 3838.081, 'risk_multiplier': 0.0}
2025-10-06 13:21:25,668 - APP.persistence.json_handler - INFO - Đã lưu file JSON báo cáo thành công tại: ctx_20251006_132125.json
2025-10-06 13:21:25,670 - APP.utils.general_utils - DEBUG - Bắt đầu cleanup_old_files trong thư mục: C:\Users\Windows\AppData\Roaming\MetaQuotes\Terminal\D0E8209F77C8CF37AD8BF550E51FF075\MQL5\Files\Screenshots\XAUUSD\Reports, pattern: ctx_*.json, giữ lại: 0 file.
2025-10-06 13:21:25,674 - APP.utils.general_utils - DEBUG - Đã xóa file cũ: ctx_20251006_132125.json
2025-10-06 13:21:25,675 - APP.utils.general_utils - DEBUG - Kết thúc cleanup_old_files.
2025-10-06 13:21:25,686 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất cài đặt giao dịch từ báo cáo.
2025-10-06 13:21:25,688 - APP.analysis.report_parser - DEBUG - Bắt đầu trích xuất khối JSON ưu tiên.
2025-10-06 13:21:25,689 - APP.analysis.report_parser - DEBUG - Bắt đầu sửa chuỗi JSON.
2025-10-06 13:21:25,690 - APP.analysis.report_parser - DEBUG - Chuỗi JSON hợp lệ sau khi sửa.
2025-10-06 13:21:25,691 - APP.analysis.report_parser - INFO - Đã tìm thấy và chọn khối JSON tốt nhất với 8 khóa.
2025-10-06 13:21:25,696 - APP.analysis.report_parser - INFO - Trích xuất cài đặt thành công từ khối JSON.
2025-10-06 13:21:25,698 - APP.persistence.json_handler - DEBUG - Tìm thấy setup giao dịch, log cho backtesting.
2025-10-06 13:21:25,701 - APP.persistence.log_handler - DEBUG - Đang chuẩn bị ghi log giao dịch. Giai đoạn: None, Thư mục con: None
2025-10-06 13:21:25,730 - APP.persistence.log_handler - DEBUG - Đã ghi log giao dịch thành công vào trade_log_20251006.jsonl.
2025-10-06 13:21:25,731 - APP.persistence.log_handler - DEBUG - Kết thúc hàm log_trade.
2025-10-06 13:21:25,733 - APP.persistence.json_handler - DEBUG - Đã log proposed trade.
2025-10-06 13:21:25,735 - APP.persistence.json_handler - DEBUG - Kết thúc quá trình lưu báo cáo JSON.
2025-10-06 13:21:25,737 - APP.core.analysis_worker - DEBUG - Kết thúc AnalysisWorker.run.
2025-10-06 13:21:26,171 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: report_*.md
2025-10-06 13:21:26,171 - APP.ui.components.history_manager - DEBUG - Bắt đầu làm mới danh sách cho mẫu: ctx_*.json
2025-10-06 13:21:26,171 - APP.ui.app_ui - DEBUG - Lên lịch chạy tự động tiếp theo sau 60000ms.
2025-10-06 13:21:26,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:26,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:26,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:26,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:26,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:26,324 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:26,332 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:26,334 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:27,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:27,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:27,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:27,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:27,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:27,346 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:27,354 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:27,358 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:28,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:28,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:28,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:28,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:28,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:28,360 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:28,369 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:28,372 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:29,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:29,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:29,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:29,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:29,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:29,378 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:29,385 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:29,388 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:30,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:30,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:30,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:30,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:30,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:30,394 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:30,401 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:30,404 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:31,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:31,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:31,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:31,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:31,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:31,407 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:31,416 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:31,420 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:32,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:32,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:32,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:32,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:32,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:32,424 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:32,434 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:32,438 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:33,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:33,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:33,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:33,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:33,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:33,446 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:33,453 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:33,456 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:34,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:34,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:34,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:34,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:34,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:34,461 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:34,468 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:34,470 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:35,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:35,469 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:35,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:35,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:35,479 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:35,485 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:35,486 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:35,490 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:36,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:36,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:36,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:36,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:36,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:36,495 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:36,504 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:36,506 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:37,509 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:37,509 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:37,509 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:37,509 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:37,509 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:37,520 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:37,521 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:37,524 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:38,535 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:38,535 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:38,535 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:38,535 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:38,535 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:38,535 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:38,545 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:38,548 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:39,549 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:39,550 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:39,552 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:39,554 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:39,555 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:39,557 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:39,559 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:39,562 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:40,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:40,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:40,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:40,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:40,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:40,563 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:40,571 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:40,574 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:41,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:41,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:41,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:41,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:41,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:41,575 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:41,584 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:41,587 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:42,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:42,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:42,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:42,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:42,591 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:42,601 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:42,603 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:42,610 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:43,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:43,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:43,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:43,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:43,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:43,616 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:43,624 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:43,627 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:44,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:44,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:44,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:44,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:44,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:44,636 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:44,643 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:44,646 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:45,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:45,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:45,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:45,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:45,662 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:45,671 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:45,673 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:45,676 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:46,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:46,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:46,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:46,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:46,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:46,682 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:46,682 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:46,691 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:47,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:47,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:47,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:47,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:47,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:47,692 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:47,701 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:47,703 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:48,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:48,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:48,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:48,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:48,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:48,703 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:48,703 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:48,713 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:49,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:49,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:49,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:49,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:49,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:49,721 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:49,728 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:49,731 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:50,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:50,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:50,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:50,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:50,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:50,735 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:50,742 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:50,745 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:51,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:51,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:51,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:51,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:51,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:51,752 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:51,752 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:51,762 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:52,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:52,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:52,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:52,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:52,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:52,771 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:52,779 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:52,782 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:53,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:53,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:53,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:53,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:53,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:53,786 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:53,786 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:53,794 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:54,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:54,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:54,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:54,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:54,804 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:54,813 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:54,814 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:54,819 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:55,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:55,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:55,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:55,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:55,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:55,829 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:55,836 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:55,839 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:56,845 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:56,846 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:56,847 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:56,849 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:56,850 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:56,853 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:56,854 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:56,859 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:57,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:57,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:57,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:57,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:57,868 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:57,875 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:57,878 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:57,881 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:58,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:58,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:58,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:21:58,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:21:58,888 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:21:58,897 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:21:58,899 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:21:58,902 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:21:59,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:21:59,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:59,910 - APP.ui.components.chart_tab - INFO - Phát hiện thanh nến mới cho XAUUSD/M1. Sẽ vẽ lại biểu đồ.
2025-10-06 13:21:59,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _redraw_chart_safe.
2025-10-06 13:21:59,910 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _draw_chart.
2025-10-06 13:21:59,917 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:21:59,918 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _rates_to_df cho symbol: XAUUSD, tf_code: 1, count: 100
2025-10-06 13:22:00,168 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _draw_chart.
2025-10-06 13:22:00,168 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _redraw_chart_safe.
2025-10-06 13:22:00,168 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:22:00,168 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:22:00,178 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:22:00,181 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:22:00,185 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:22:00,191 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:22:01,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:22:01,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:22:01,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:22:01,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:22:01,192 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:22:01,201 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:22:01,202 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:22:01,204 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:22:02,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:22:02,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:22:02,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:22:02,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:22:02,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:22:02,209 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:22:02,218 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:22:02,221 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:22:03,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _tick.
2025-10-06 13:22:03,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _mt5_tf cho chuỗi: 'M1'
2025-10-06 13:22:03,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_account_info cho symbol: XAUUSD
2025-10-06 13:22:03,225 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_positions_table cho symbol: XAUUSD
2025-10-06 13:22:03,235 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _fill_history_table cho symbol: XAUUSD
2025-10-06 13:22:03,237 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm _update_notrade_panel.
2025-10-06 13:22:03,239 - APP.services.news_service - DEBUG - Sử dụng cache tin tức hiện có.
2025-10-06 13:22:03,242 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm _update_notrade_panel.
2025-10-06 13:22:03,481 - APP.ui.app_ui - INFO - Bắt đầu quy trình tắt ứng dụng an toàn.
2025-10-06 13:22:03,481 - APP.ui.components.chart_tab - DEBUG - Bắt đầu hàm stop.
2025-10-06 13:22:03,481 - APP.ui.components.chart_tab - DEBUG - Kết thúc hàm stop.
2025-10-06 13:22:03,481 - APP.ui.app_ui - DEBUG - Bắt đầu thu thập dữ liệu cấu hình từ UI.
2025-10-06 13:22:03,481 - APP.configs.workspace_config - DEBUG - Bắt đầu lưu cấu hình vào file.
2025-10-06 13:22:03,490 - APP.configs.workspace_config - INFO - Cấu hình đã được lưu thành công vào C:\Users\Windows\.gemini_folder_analyze\workspace.json
2025-10-06 13:22:03,491 - APP.configs.workspace_config - DEBUG - Kết thúc lưu cấu hình vào file.
2025-10-06 13:22:03,493 - APP.ui.app_ui - INFO - Đã lưu cấu hình workspace thành công.
2025-10-06 13:22:03,494 - APP.services.mt5_service - INFO - Đang ngắt kết nối khỏi MetaTrader 5.
2025-10-06 13:22:03,496 - APP.services.mt5_service - INFO - Đã ngắt kết nối MT5 thành công.
2025-10-06 13:22:03,655 - APP.ui.app_ui - INFO - Ứng dụng đã đóng thành công.
2025-10-06 13:22:03,655 - __main__ - INFO - Ứng dụng đã đóng thành công.
>>>>>>> 3cc438040f1dc1d7df4a8c4e7e9f431367a4bb5c
