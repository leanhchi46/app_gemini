{"stage":"status_update","t":"2025-10-04 03:13:35","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:13:35","message":"Đã cấu hình Gemini API."}
{"stage":"status_update","t":"2025-10-04 03:13:35","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:14:05","message":"Đã cấu hình Gemini API."}
{"stage":"status_update","t":"2025-10-04 03:14:05","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:14:10","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:14:10","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:14:10","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:14:10","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:14:35","message":"Tự động chạy sau 60s."}
{"stage":"status_update","t":"2025-10-04 03:14:45","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:14:45","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:14:45","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:14:45","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:15:00","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:15:00","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:15:00","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:15:00","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:15:17","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:15:17","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:15:17","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:15:17","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:15:25","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:15:25","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:15:25","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:15:25","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:15:35","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:15:35","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:15:35","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:15:35","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:16:05","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:16:05","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:16:05","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:16:05","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:16:07","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:16:07","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:16:07","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:16:07","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:16:08","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:16:08","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:16:08","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:16:08","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:16:08","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:16:09","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:36:47","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:36:47","message":"Đã cấu hình Gemini API."}
{"stage":"status_update","t":"2025-10-04 03:36:48","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:36:51","message":"Đã cấu hình Gemini API."}
{"stage":"status_update","t":"2025-10-04 03:36:51","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:36:52","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:36:52","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:36:52","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:36:52","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:36:57","message":"Upload xong 4 ảnh trong 3.92s"}
{"stage":"run-start","t":"2025-10-04 03:36:58","cycle":"2025-10-04 03:36:58","session":null,"trend_checklist":{"trend":"flat","enough_ratio":null},"latest_plan":{"direction":null},"latest_summary_lines":null,"recent_history_summary":null,"run_meta":{"analysis_id":"2025-10-04T03:36:58Z","folder_signature":"sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1","images_tf_map":{"XAUUSD_H1.png":"H1","XAUUSD_M1.png":"M1","XAUUSD_M15.png":"M15","XAUUSD_M5.png":"M5"}},"running_stats":{"checklist_pass_ratio":null,"backtest_results":{"summary":{"total_proposed":0,"wins":0,"losses":0,"untriggered":0,"win_rate":null}},"median_spread":null,"median_ticks_per_min":null},"risk_rules":{"max_risk_per_trade_pct":1.0,"daily_loss_limit_pct":3.0,"max_trades_per_day":3,"allowed_killzones":["london","newyork_pre","newyork_post"],"news_blackout_min_before_after":15},"environment_flags":{"news_soon":false,"high_spread":false,"low_liquidity":false,"volatility_regime":"trending","trend_regime":"trending"},"mt5":{"symbol":"XAUUSD","generated_at":"2025-10-04 03:36:58","broker_time":"2025-10-04T03:36:58Z","account":{"balance":186.35,"equity":186.35,"free_margin":186.35,"currency":"USD","leverage":2000},"positions":[],"info":{"digits":3,"point":0.001,"contract_size":100.0,"spread_current":37,"swap_long":-480.0,"swap_short":0.0},"symbol_rules":{"volume_min":0.01,"volume_max":200.0,"volume_step":0.01,"trade_tick_value":0.1,"trade_tick_size":0.001,"stop_level_points":0,"freeze_level_points":0,"margin_initial":0.0,"margin_maintenance":0.0},"pip":{"points_per_pip":10,"value_per_point":0.1,"pip_value_per_lot":1.0},"tick":{"bid":3887.107,"ask":3887.144,"last":0.0,"time":1759525077},"tick_stats_5m":{},"tick_stats_30m":{},"levels":{"daily":{"open":3863.536,"high":3897.216,"low":3819.397,"eq50":3858.3064999999997,"midnight_open":null},"prev_day":{"high":3897.216,"low":3819.397},"weekly":{"open":3764.779,"high":3897.216,"low":3763.408},"prev_week":{"high":3791.146,"low":3683.837},"monthly":{"open":3863.002,"high":3897.216,"low":3819.397}},"day_open":3863.536,"prev_day_close":3862.472,"adr":{"d5":55.52820000000001,"d10":54.672700000000034,"d20":45.561449999999994},"day_range":77.81899999999996,"day_range_pct_of_adr20":170.80009525596742,"position_in_day_range":0.8700959919813936,"sessions_today":{"asia":{"start":"06:00","end":"09:00"},"london":{"start":"14:00","end":"17:00"},"newyork_am":{"start":"19:30","end":"22:00"},"newyork_pm":{"start":"00:00","end":"03:00"}},"session_liquidity":{},"volatility":{"ATR":{"M5":1.798255272271771,"M1":0.6130730507404645,"M15":4.581235060095916,"H1":11.031559707039294}},"volatility_regime":"trending","trend_refs":{"EMA":{"M1":{"ema50":3885.4930632574547,"ema200":3885.838076628613},"M5":{"ema50":3884.79117204678,"ema200":3874.1709651378897},"M15":{"ema50":3877.587506661054,"ema200":3864.8437455414405},"H1":{"ema50":3865.6399022017563,"ema200":3830.373070381582}}},"vwap":{"day":null,"asia":null,"london":null,"newyork_am":null,"newyork_pm":null},"kills":{"asia":{"start":"06:00","end":"09:00"},"london":{"start":"14:00","end":"17:00"},"newyork_am":{"start":"19:30","end":"22:00"},"newyork_pm":{"start":"00:00","end":"03:00"}},"is_silver_bullet_window":false,"killzone_active":null,"mins_to_next_killzone":204,"key_levels_nearby":[{"name":"PDH","price":3897.216,"relation":"ABOVE","distance_pips":10108.999999999924},{"name":"PDL","price":3819.397,"relation":"BELOW","distance_pips":67710.00000000003},{"name":"EQ50_D","price":3858.3064999999997,"relation":"BELOW","distance_pips":28800.500000000284},{"name":"DO","price":3863.536,"relation":"BELOW","distance_pips":23570.999999999913}],"round_levels":[{"level":"1000","price":3887.1,"distance_pips":0.7},{"level":"1025","price":3887.102,"distance_pips":0.45},{"level":"1050","price":3887.105,"distance_pips":0.2},{"level":"1075","price":3887.108,"distance_pips":0.05}],"atr_norm":{"spread_as_pct_of_atr_m5":2.0575499246591593},"ict_patterns":{"liquidity_h1":{"swing_highs_BSL":[{"price":3897.216,"bar_index":9},{"price":3895.417,"bar_index":-19},{"price":3891.731,"bar_index":34},{"price":3891.184,"bar_index":-15},{"price":3890.722,"bar_index":32}],"swing_lows_SSL":[{"price":3760.112,"bar_index":-76},{"price":3763.997,"bar_index":-73},{"price":3793.174,"bar_index":-41},{"price":3805.069,"bar_index":-66},{"price":3806.56,"bar_index":-63}]},"fvgs_h1":[{"type":"Bullish","top":3850.904,"bottom":3848.355,"created_at_bar":105,"lo":3848.355,"hi":3850.904}],"order_blocks_h1":[{"top":3886.03,"bottom":3866.297,"bar_index":113,"lo":3866.297,"hi":3886.03,"type":"bull"}],"premium_discount_h1":{"range_high":3897.216,"range_low":3760.112,"equilibrium":3828.6639999999998,"status":"Premium"},"liquidity_voids_h1":[{"type":"Bullish","top":3875.022,"bottom":3860.51,"bar_index":81},{"type":"Bullish","top":3859.276,"bottom":3843.897,"bar_index":74},{"type":"Bullish","top":3851.622,"bottom":3843.465,"bar_index":64}],"mss_h1":null,"liquidity_m15":{"swing_highs_BSL":[{"price":3891.731,"bar_index":-29},{"price":3890.722,"bar_index":-37},{"price":3889.245,"bar_index":-18},{"price":3889.197,"bar_index":-13},{"price":3889.11,"bar_index":-31}],"swing_lows_SSL":[{"price":3838.081,"bar_index":-78},{"price":3843.125,"bar_index":-74},{"price":3847.368,"bar_index":-86},{"price":3850.904,"bar_index":-68},{"price":3852.207,"bar_index":-99}]},"fvgs_m15":[{"type":"Bullish","top":3869.428,"bottom":3865.218,"created_at_bar":63,"lo":3865.218,"hi":3869.428}],"order_blocks_m15":[{"top":3865.218,"bottom":3860.51,"bar_index":57,"lo":3860.51,"hi":3865.218,"type":"bull"},{"top":3888.969,"bottom":3885.989,"bar_index":86,"lo":3885.989,"hi":3888.969,"type":"bear"}],"premium_discount_m15":{"range_high":3891.731,"range_low":3838.081,"equilibrium":3864.906,"status":"Premium"},"liquidity_voids_m15":[{"type":"Bullish","top":3887.107,"bottom":3884.332,"bar_index":41},{"type":"Bullish","top":3880.035,"bottom":3866.937,"bar_index":15},{"type":"Bearish","top":3886.03,"bottom":3866.297,"bar_index":14}],"mss_m15":null,"liquidity_m5":{"swing_highs_BSL":[{"price":3891.731,"bar_index":99},{"price":3890.722,"bar_index":73},{"price":3889.245,"bar_index":131},{"price":3889.197,"bar_index":146},{"price":3889.11,"bar_index":93}],"swing_lows_SSL":[{"price":3854.751,"bar_index":46},{"price":3855.394,"bar_index":-10},{"price":3856.896,"bar_index":20},{"price":3857.033,"bar_index":-6},{"price":3857.573,"bar_index":43}]},"fvgs_m5":[{"type":"Bullish","top":3886.225,"bottom":3886.041,"created_at_bar":179,"lo":3886.041,"hi":3886.225}],"order_blocks_m5":[{"top":3891.731,"bottom":3889.03,"bar_index":119,"lo":3889.03,"hi":3891.731,"type":"bear"}],"premium_discount_m5":{"range_high":3891.731,"range_low":3850.904,"equilibrium":3871.3175,"status":"Premium"},"liquidity_voids_m5":[{"type":"Bearish","top":3886.8,"bottom":3884.728,"bar_index":170},{"type":"Bullish","top":3887.533,"bottom":3884.319,"bar_index":150},{"type":"Bullish","top":3885.106,"bottom":3882.176,"bar_index":148}],"mss_m5":null,"liquidity_m1":{"swing_highs_BSL":[{"price":3889.197,"bar_index":-25},{"price":3889.179,"bar_index":-27},{"price":3888.969,"bar_index":-41},{"price":3888.688,"bar_index":-63},{"price":3888.413,"bar_index":-38}],"swing_lows_SSL":[{"price":3882.907,"bar_index":15},{"price":3883.571,"bar_index":-75},{"price":3883.684,"bar_index":6},{"price":3883.739,"bar_index":8},{"price":3883.989,"bar_index":22}]},"fvgs_m1":[{"type":"Bullish","top":3886.21,"bottom":3886.085,"created_at_bar":115,"lo":3886.085,"hi":3886.21}],"order_blocks_m1":[{"top":3886.733,"bottom":3886.225,"bar_index":117,"lo":3886.225,"hi":3886.733,"type":"bull"}],"premium_discount_m1":{"range_high":3889.197,"range_low":3882.907,"equilibrium":3886.052,"status":"Premium"},"liquidity_voids_m1":[{"type":"Bullish","top":3886.557,"bottom":3886.045,"bar_index":84},{"type":"Bullish","top":3884.416,"bottom":3883.086,"bar_index":66},{"type":"Bearish","top":3884.537,"bottom":3884.088,"bar_index":62}],"mss_m1":null},"risk_model":{"value_per_point":0.1,"points_per_pip":10},"rr_projection":{}},"mt5_lite":{"symbol":"XAUUSD","positions":[],"current_price":3887.107,"spread_points":37,"atr_m5_pips":179.8255272271771,"ticks_per_min":null,"pdh_pdl_distance_pips":{"PDH":10108.999999999924,"PDL":67710.00000000003},"eq50_d_distance_pips":28800.500000000284,"session_active":null,"mins_to_next_killzone":204},"similar_past_scenarios":null}
{"stage":"status_update","t":"2025-10-04 03:37:00","message":"Context+MT5 xong trong 2.81s"}
{"stage":"status_update","t":"2025-10-04 03:37:00","message":"Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'"}
{"stage":"status_update","t":"2025-10-04 03:37:00","message":"Cảnh báo: Không tìm thấy khối JSON nào để lưu."}
{"stage":"status_update","t":"2025-10-04 03:37:00","message":"Đã lưu thành công file: ctx_20251004_033700.json"}
{"stage":"status_update","t":"2025-10-04 03:37:00","message":"Đã dừng."}
{"stage":"status_update","t":"2025-10-04 03:37:00","message":"Tự động chạy sau 60s."}
{"stage":"status_update","t":"2025-10-04 03:37:21","message":"Tự động chạy sau 60s."}
{"stage":"status_update","t":"2025-10-04 03:38:21","message":"Lưu ý: Cache ảnh đang bật, KHÔNG nên xoá file trên Gemini sau phân tích."}
{"stage":"status_update","t":"2025-10-04 03:38:21","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:38:21","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:38:21","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:38:25","message":"Upload xong 4 ảnh trong 4.58s"}
{"stage":"run-start","t":"2025-10-04 03:38:27","cycle":"2025-10-04 03:38:27","session":null,"trend_checklist":{"trend":"flat","enough_ratio":null},"latest_plan":{"direction":null},"latest_summary_lines":null,"recent_history_summary":null,"run_meta":{"analysis_id":"2025-10-04T03:38:27Z","folder_signature":"sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1","images_tf_map":{"XAUUSD_H1.png":"H1","XAUUSD_M1.png":"M1","XAUUSD_M15.png":"M15","XAUUSD_M5.png":"M5"}},"running_stats":{"checklist_pass_ratio":null,"backtest_results":{"summary":{"total_proposed":0,"wins":0,"losses":0,"untriggered":0,"win_rate":null}},"median_spread":null,"median_ticks_per_min":null},"risk_rules":{"max_risk_per_trade_pct":1.0,"daily_loss_limit_pct":3.0,"max_trades_per_day":3,"allowed_killzones":["london","newyork_pre","newyork_post"],"news_blackout_min_before_after":15},"environment_flags":{"news_soon":false,"high_spread":false,"low_liquidity":false,"volatility_regime":"trending","trend_regime":"trending"},"mt5":{"symbol":"XAUUSD","generated_at":"2025-10-04 03:38:27","broker_time":"2025-10-04T03:38:27Z","account":{"balance":186.35,"equity":186.35,"free_margin":186.35,"currency":"USD","leverage":2000},"positions":[],"info":{"digits":3,"point":0.001,"contract_size":100.0,"spread_current":37,"swap_long":-480.0,"swap_short":0.0},"symbol_rules":{"volume_min":0.01,"volume_max":200.0,"volume_step":0.01,"trade_tick_value":0.1,"trade_tick_size":0.001,"stop_level_points":0,"freeze_level_points":0,"margin_initial":0.0,"margin_maintenance":0.0},"pip":{"points_per_pip":10,"value_per_point":0.1,"pip_value_per_lot":1.0},"tick":{"bid":3887.107,"ask":3887.144,"last":0.0,"time":1759525077},"tick_stats_5m":{},"tick_stats_30m":{},"levels":{"daily":{"open":3863.536,"high":3897.216,"low":3819.397,"eq50":3858.3064999999997,"midnight_open":null},"prev_day":{"high":3897.216,"low":3819.397},"weekly":{"open":3764.779,"high":3897.216,"low":3763.408},"prev_week":{"high":3791.146,"low":3683.837},"monthly":{"open":3863.002,"high":3897.216,"low":3819.397}},"day_open":3863.536,"prev_day_close":3862.472,"adr":{"d5":55.52820000000001,"d10":54.672700000000034,"d20":45.561449999999994},"day_range":77.81899999999996,"day_range_pct_of_adr20":170.80009525596742,"position_in_day_range":0.8700959919813936,"sessions_today":{"asia":{"start":"06:00","end":"09:00"},"london":{"start":"14:00","end":"17:00"},"newyork_am":{"start":"19:30","end":"22:00"},"newyork_pm":{"start":"00:00","end":"03:00"}},"session_liquidity":{},"volatility":{"ATR":{"M5":1.798255272271771,"M1":0.6130730507404645,"M15":4.581235060095916,"H1":11.031559707039294}},"volatility_regime":"trending","trend_refs":{"EMA":{"M1":{"ema50":3885.4930632574547,"ema200":3885.838076628613},"M5":{"ema50":3884.79117204678,"ema200":3874.1709651378897},"M15":{"ema50":3877.587506661054,"ema200":3864.8437455414405},"H1":{"ema50":3865.6399022017563,"ema200":3830.373070381582}}},"vwap":{"day":null,"asia":null,"london":null,"newyork_am":null,"newyork_pm":null},"kills":{"asia":{"start":"06:00","end":"09:00"},"london":{"start":"14:00","end":"17:00"},"newyork_am":{"start":"19:30","end":"22:00"},"newyork_pm":{"start":"00:00","end":"03:00"}},"is_silver_bullet_window":false,"killzone_active":null,"mins_to_next_killzone":202,"key_levels_nearby":[{"name":"PDH","price":3897.216,"relation":"ABOVE","distance_pips":10108.999999999924},{"name":"PDL","price":3819.397,"relation":"BELOW","distance_pips":67710.00000000003},{"name":"EQ50_D","price":3858.3064999999997,"relation":"BELOW","distance_pips":28800.500000000284},{"name":"DO","price":3863.536,"relation":"BELOW","distance_pips":23570.999999999913}],"round_levels":[{"level":"1000","price":3887.1,"distance_pips":0.7},{"level":"1025","price":3887.102,"distance_pips":0.45},{"level":"1050","price":3887.105,"distance_pips":0.2},{"level":"1075","price":3887.108,"distance_pips":0.05}],"atr_norm":{"spread_as_pct_of_atr_m5":2.0575499246591593},"ict_patterns":{"liquidity_h1":{"swing_highs_BSL":[{"price":3897.216,"bar_index":9},{"price":3895.417,"bar_index":-19},{"price":3891.731,"bar_index":34},{"price":3891.184,"bar_index":-15},{"price":3890.722,"bar_index":32}],"swing_lows_SSL":[{"price":3760.112,"bar_index":-76},{"price":3763.997,"bar_index":-73},{"price":3793.174,"bar_index":-41},{"price":3805.069,"bar_index":-66},{"price":3806.56,"bar_index":-63}]},"fvgs_h1":[{"type":"Bullish","top":3850.904,"bottom":3848.355,"created_at_bar":105,"lo":3848.355,"hi":3850.904}],"order_blocks_h1":[{"top":3886.03,"bottom":3866.297,"bar_index":113,"lo":3866.297,"hi":3886.03,"type":"bull"}],"premium_discount_h1":{"range_high":3897.216,"range_low":3760.112,"equilibrium":3828.6639999999998,"status":"Premium"},"liquidity_voids_h1":[{"type":"Bullish","top":3875.022,"bottom":3860.51,"bar_index":81},{"type":"Bullish","top":3859.276,"bottom":3843.897,"bar_index":74},{"type":"Bullish","top":3851.622,"bottom":3843.465,"bar_index":64}],"mss_h1":null,"liquidity_m15":{"swing_highs_BSL":[{"price":3891.731,"bar_index":-29},{"price":3890.722,"bar_index":-37},{"price":3889.245,"bar_index":-18},{"price":3889.197,"bar_index":-13},{"price":3889.11,"bar_index":-31}],"swing_lows_SSL":[{"price":3838.081,"bar_index":-78},{"price":3843.125,"bar_index":-74},{"price":3847.368,"bar_index":-86},{"price":3850.904,"bar_index":-68},{"price":3852.207,"bar_index":-99}]},"fvgs_m15":[{"type":"Bullish","top":3869.428,"bottom":3865.218,"created_at_bar":63,"lo":3865.218,"hi":3869.428}],"order_blocks_m15":[{"top":3865.218,"bottom":3860.51,"bar_index":57,"lo":3860.51,"hi":3865.218,"type":"bull"},{"top":3888.969,"bottom":3885.989,"bar_index":86,"lo":3885.989,"hi":3888.969,"type":"bear"}],"premium_discount_m15":{"range_high":3891.731,"range_low":3838.081,"equilibrium":3864.906,"status":"Premium"},"liquidity_voids_m15":[{"type":"Bullish","top":3887.107,"bottom":3884.332,"bar_index":41},{"type":"Bullish","top":3880.035,"bottom":3866.937,"bar_index":15},{"type":"Bearish","top":3886.03,"bottom":3866.297,"bar_index":14}],"mss_m15":null,"liquidity_m5":{"swing_highs_BSL":[{"price":3891.731,"bar_index":99},{"price":3890.722,"bar_index":73},{"price":3889.245,"bar_index":131},{"price":3889.197,"bar_index":146},{"price":3889.11,"bar_index":93}],"swing_lows_SSL":[{"price":3854.751,"bar_index":46},{"price":3855.394,"bar_index":-10},{"price":3856.896,"bar_index":20},{"price":3857.033,"bar_index":-6},{"price":3857.573,"bar_index":43}]},"fvgs_m5":[{"type":"Bullish","top":3886.225,"bottom":3886.041,"created_at_bar":179,"lo":3886.041,"hi":3886.225}],"order_blocks_m5":[{"top":3891.731,"bottom":3889.03,"bar_index":119,"lo":3889.03,"hi":3891.731,"type":"bear"}],"premium_discount_m5":{"range_high":3891.731,"range_low":3850.904,"equilibrium":3871.3175,"status":"Premium"},"liquidity_voids_m5":[{"type":"Bearish","top":3886.8,"bottom":3884.728,"bar_index":170},{"type":"Bullish","top":3887.533,"bottom":3884.319,"bar_index":150},{"type":"Bullish","top":3885.106,"bottom":3882.176,"bar_index":148}],"mss_m5":null,"liquidity_m1":{"swing_highs_BSL":[{"price":3889.197,"bar_index":-25},{"price":3889.179,"bar_index":-27},{"price":3888.969,"bar_index":-41},{"price":3888.688,"bar_index":-63},{"price":3888.413,"bar_index":-38}],"swing_lows_SSL":[{"price":3882.907,"bar_index":15},{"price":3883.571,"bar_index":-75},{"price":3883.684,"bar_index":6},{"price":3883.739,"bar_index":8},{"price":3883.989,"bar_index":22}]},"fvgs_m1":[{"type":"Bullish","top":3886.21,"bottom":3886.085,"created_at_bar":115,"lo":3886.085,"hi":3886.21}],"order_blocks_m1":[{"top":3886.733,"bottom":3886.225,"bar_index":117,"lo":3886.225,"hi":3886.733,"type":"bull"}],"premium_discount_m1":{"range_high":3889.197,"range_low":3882.907,"equilibrium":3886.052,"status":"Premium"},"liquidity_voids_m1":[{"type":"Bullish","top":3886.557,"bottom":3886.045,"bar_index":84},{"type":"Bullish","top":3884.416,"bottom":3883.086,"bar_index":66},{"type":"Bearish","top":3884.537,"bottom":3884.088,"bar_index":62}],"mss_m1":null},"risk_model":{"value_per_point":0.1,"points_per_pip":10},"rr_projection":{}},"mt5_lite":{"symbol":"XAUUSD","positions":[],"current_price":3887.107,"spread_points":37,"atr_m5_pips":179.8255272271771,"ticks_per_min":null,"pdh_pdl_distance_pips":{"PDH":10108.999999999924,"PDL":67710.00000000003},"eq50_d_distance_pips":28800.500000000284,"session_active":null,"mins_to_next_killzone":202},"similar_past_scenarios":null}
{"stage":"status_update","t":"2025-10-04 03:38:28","message":"Context+MT5 xong trong 1.97s"}
{"stage":"status_update","t":"2025-10-04 03:38:28","message":"Lỗi nghiêm trọng trong worker: 'RunConfig' object has no attribute 'nt_allow_session_asia'"}
{"stage":"status_update","t":"2025-10-04 03:38:28","message":"Cảnh báo: Không tìm thấy khối JSON nào để lưu."}
{"stage":"status_update","t":"2025-10-04 03:38:28","message":"Đã lưu thành công file: ctx_20251004_033828.json"}
{"stage":"status_update","t":"2025-10-04 03:38:28","message":"Đã dừng."}
{"stage":"status_update","t":"2025-10-04 03:38:28","message":"Tự động chạy sau 60s."}
{"stage":"status_update","t":"2025-10-04 03:38:47","message":"Tự động chạy sau 60s."}
{"stage":"status_update","t":"2025-10-04 03:43:45","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:43:45","message":"Đã cấu hình Gemini API."}
{"stage":"status_update","t":"2025-10-04 03:43:45","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:44:05","message":"Đã cấu hình Gemini API."}
{"stage":"status_update","t":"2025-10-04 03:44:06","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:44:08","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:44:08","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:44:08","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:44:12","message":"Upload xong 4 ảnh trong 4.16s"}
{"stage":"run-start","t":"2025-10-04 03:44:23","cycle":"2025-10-04 03:44:22","session":null,"trend_checklist":{"trend":"flat","enough_ratio":null},"latest_plan":{"direction":null},"latest_summary_lines":null,"recent_history_summary":null,"run_meta":{"analysis_id":"2025-10-04T03:44:22Z","folder_signature":"sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1","images_tf_map":{"XAUUSD_H1.png":"H1","XAUUSD_M1.png":"M1","XAUUSD_M15.png":"M15","XAUUSD_M5.png":"M5"}},"running_stats":{"checklist_pass_ratio":null,"backtest_results":{"summary":{"total_proposed":0,"wins":0,"losses":0,"untriggered":0,"win_rate":null}},"median_spread":null,"median_ticks_per_min":null},"risk_rules":{"max_risk_per_trade_pct":1.0,"daily_loss_limit_pct":3.0,"max_trades_per_day":3,"allowed_killzones":["london","newyork_pre","newyork_post"],"news_blackout_min_before_after":15},"environment_flags":{"news_soon":false,"high_spread":false,"low_liquidity":false,"volatility_regime":"trending","trend_regime":"trending"},"mt5":{"symbol":"XAUUSD","generated_at":"2025-10-04 03:44:22","broker_time":"2025-10-04T03:44:22Z","account":{"balance":186.35,"equity":186.35,"free_margin":186.35,"currency":"USD","leverage":2000},"positions":[],"info":{"digits":3,"point":0.001,"contract_size":100.0,"spread_current":37,"swap_long":-480.0,"swap_short":0.0},"symbol_rules":{"volume_min":0.01,"volume_max":200.0,"volume_step":0.01,"trade_tick_value":0.1,"trade_tick_size":0.001,"stop_level_points":0,"freeze_level_points":0,"margin_initial":0.0,"margin_maintenance":0.0},"pip":{"points_per_pip":10,"value_per_point":0.1,"pip_value_per_lot":1.0},"tick":{"bid":3887.107,"ask":3887.144,"last":0.0,"time":1759525077},"tick_stats_5m":{},"tick_stats_30m":{},"levels":{"daily":{"open":3863.536,"high":3897.216,"low":3819.397,"eq50":3858.3064999999997,"midnight_open":null},"prev_day":{"high":3897.216,"low":3819.397},"weekly":{"open":3764.779,"high":3897.216,"low":3763.408},"prev_week":{"high":3791.146,"low":3683.837},"monthly":{"open":3863.002,"high":3897.216,"low":3819.397}},"day_open":3863.536,"prev_day_close":3862.472,"adr":{"d5":55.52820000000001,"d10":54.672700000000034,"d20":45.561449999999994},"day_range":77.81899999999996,"day_range_pct_of_adr20":170.80009525596742,"position_in_day_range":0.8700959919813936,"sessions_today":{"asia":{"start":"06:00","end":"09:00"},"london":{"start":"14:00","end":"17:00"},"newyork_am":{"start":"19:30","end":"22:00"},"newyork_pm":{"start":"00:00","end":"03:00"}},"session_liquidity":{},"volatility":{"ATR":{"M5":1.798255272271771,"M1":0.6130730507404645,"M15":4.581235060095916,"H1":11.031559707039294}},"volatility_regime":"trending","trend_refs":{"EMA":{"M1":{"ema50":3885.4930632574547,"ema200":3885.838076628613},"M5":{"ema50":3884.79117204678,"ema200":3874.1709651378897},"M15":{"ema50":3877.587506661054,"ema200":3864.8437455414405},"H1":{"ema50":3865.6399022017563,"ema200":3830.373070381582}}},"vwap":{"day":null,"asia":null,"london":null,"newyork_am":null,"newyork_pm":null},"kills":{"asia":{"start":"06:00","end":"09:00"},"london":{"start":"14:00","end":"17:00"},"newyork_am":{"start":"19:30","end":"22:00"},"newyork_pm":{"start":"00:00","end":"03:00"}},"is_silver_bullet_window":false,"killzone_active":null,"mins_to_next_killzone":196,"key_levels_nearby":[{"name":"PDH","price":3897.216,"relation":"ABOVE","distance_pips":10108.999999999924},{"name":"PDL","price":3819.397,"relation":"BELOW","distance_pips":67710.00000000003},{"name":"EQ50_D","price":3858.3064999999997,"relation":"BELOW","distance_pips":28800.500000000284},{"name":"DO","price":3863.536,"relation":"BELOW","distance_pips":23570.999999999913}],"round_levels":[{"level":"1000","price":3887.1,"distance_pips":0.7},{"level":"1025","price":3887.102,"distance_pips":0.45},{"level":"1050","price":3887.105,"distance_pips":0.2},{"level":"1075","price":3887.108,"distance_pips":0.05}],"atr_norm":{"spread_as_pct_of_atr_m5":2.0575499246591593},"ict_patterns":{"liquidity_h1":{"swing_highs_BSL":[{"price":3897.216,"bar_index":9},{"price":3895.417,"bar_index":-19},{"price":3891.731,"bar_index":34},{"price":3891.184,"bar_index":-15},{"price":3890.722,"bar_index":32}],"swing_lows_SSL":[{"price":3760.112,"bar_index":-76},{"price":3763.997,"bar_index":-73},{"price":3793.174,"bar_index":-41},{"price":3805.069,"bar_index":-66},{"price":3806.56,"bar_index":-63}]},"fvgs_h1":[{"type":"Bullish","top":3850.904,"bottom":3848.355,"created_at_bar":105,"lo":3848.355,"hi":3850.904}],"order_blocks_h1":[{"top":3886.03,"bottom":3866.297,"bar_index":113,"lo":3866.297,"hi":3886.03,"type":"bull"}],"premium_discount_h1":{"range_high":3897.216,"range_low":3760.112,"equilibrium":3828.6639999999998,"status":"Premium"},"liquidity_voids_h1":[{"type":"Bullish","top":3875.022,"bottom":3860.51,"bar_index":81},{"type":"Bullish","top":3859.276,"bottom":3843.897,"bar_index":74},{"type":"Bullish","top":3851.622,"bottom":3843.465,"bar_index":64}],"mss_h1":null,"liquidity_m15":{"swing_highs_BSL":[{"price":3891.731,"bar_index":-29},{"price":3890.722,"bar_index":-37},{"price":3889.245,"bar_index":-18},{"price":3889.197,"bar_index":-13},{"price":3889.11,"bar_index":-31}],"swing_lows_SSL":[{"price":3838.081,"bar_index":-78},{"price":3843.125,"bar_index":-74},{"price":3847.368,"bar_index":-86},{"price":3850.904,"bar_index":-68},{"price":3852.207,"bar_index":-99}]},"fvgs_m15":[{"type":"Bullish","top":3869.428,"bottom":3865.218,"created_at_bar":63,"lo":3865.218,"hi":3869.428}],"order_blocks_m15":[{"top":3865.218,"bottom":3860.51,"bar_index":57,"lo":3860.51,"hi":3865.218,"type":"bull"},{"top":3888.969,"bottom":3885.989,"bar_index":86,"lo":3885.989,"hi":3888.969,"type":"bear"}],"premium_discount_m15":{"range_high":3891.731,"range_low":3838.081,"equilibrium":3864.906,"status":"Premium"},"liquidity_voids_m15":[{"type":"Bullish","top":3887.107,"bottom":3884.332,"bar_index":41},{"type":"Bullish","top":3880.035,"bottom":3866.937,"bar_index":15},{"type":"Bearish","top":3886.03,"bottom":3866.297,"bar_index":14}],"mss_m15":null,"liquidity_m5":{"swing_highs_BSL":[{"price":3891.731,"bar_index":99},{"price":3890.722,"bar_index":73},{"price":3889.245,"bar_index":131},{"price":3889.197,"bar_index":146},{"price":3889.11,"bar_index":93}],"swing_lows_SSL":[{"price":3854.751,"bar_index":46},{"price":3855.394,"bar_index":-10},{"price":3856.896,"bar_index":20},{"price":3857.033,"bar_index":-6},{"price":3857.573,"bar_index":43}]},"fvgs_m5":[{"type":"Bullish","top":3886.225,"bottom":3886.041,"created_at_bar":179,"lo":3886.041,"hi":3886.225}],"order_blocks_m5":[{"top":3891.731,"bottom":3889.03,"bar_index":119,"lo":3889.03,"hi":3891.731,"type":"bear"}],"premium_discount_m5":{"range_high":3891.731,"range_low":3850.904,"equilibrium":3871.3175,"status":"Premium"},"liquidity_voids_m5":[{"type":"Bearish","top":3886.8,"bottom":3884.728,"bar_index":170},{"type":"Bullish","top":3887.533,"bottom":3884.319,"bar_index":150},{"type":"Bullish","top":3885.106,"bottom":3882.176,"bar_index":148}],"mss_m5":null,"liquidity_m1":{"swing_highs_BSL":[{"price":3889.197,"bar_index":-25},{"price":3889.179,"bar_index":-27},{"price":3888.969,"bar_index":-41},{"price":3888.688,"bar_index":-63},{"price":3888.413,"bar_index":-38}],"swing_lows_SSL":[{"price":3882.907,"bar_index":15},{"price":3883.571,"bar_index":-75},{"price":3883.684,"bar_index":6},{"price":3883.739,"bar_index":8},{"price":3883.989,"bar_index":22}]},"fvgs_m1":[{"type":"Bullish","top":3886.21,"bottom":3886.085,"created_at_bar":115,"lo":3886.085,"hi":3886.21}],"order_blocks_m1":[{"top":3886.733,"bottom":3886.225,"bar_index":117,"lo":3886.225,"hi":3886.733,"type":"bull"}],"premium_discount_m1":{"range_high":3889.197,"range_low":3882.907,"equilibrium":3886.052,"status":"Premium"},"liquidity_voids_m1":[{"type":"Bullish","top":3886.557,"bottom":3886.045,"bar_index":84},{"type":"Bullish","top":3884.416,"bottom":3883.086,"bar_index":66},{"type":"Bearish","top":3884.537,"bottom":3884.088,"bar_index":62}],"mss_m1":null},"risk_model":{"value_per_point":0.1,"points_per_pip":10},"rr_projection":{}},"mt5_lite":{"symbol":"XAUUSD","positions":[],"current_price":3887.107,"spread_points":37,"atr_m5_pips":179.8255272271771,"ticks_per_min":null,"pdh_pdl_distance_pips":{"PDH":10108.999999999924,"PDL":67710.00000000003},"eq50_d_distance_pips":28800.500000000284,"session_active":null,"mins_to_next_killzone":196},"similar_past_scenarios":null}
{"stage":"status_update","t":"2025-10-04 03:44:25","message":"Context+MT5 xong trong 12.70s"}
{"stage":"status_update","t":"2025-10-04 03:44:25","message":"Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'"}
{"stage":"status_update","t":"2025-10-04 03:44:25","message":"Cảnh báo: Không tìm thấy khối JSON nào để lưu."}
{"stage":"status_update","t":"2025-10-04 03:44:26","message":"Đã lưu thành công file: ctx_20251004_034425.json"}
{"stage":"status_update","t":"2025-10-04 03:44:26","message":"Đã dừng."}
{"stage":"status_update","t":"2025-10-04 03:44:26","message":"Tự động chạy sau 60s."}
{"stage":"status_update","t":"2025-10-04 03:44:32","message":"Xem: report_20251004_034425.md"}
{"stage":"status_update","t":"2025-10-04 03:44:33","message":"Xem JSON: ctx_20251004_034425.json"}
{"stage":"status_update","t":"2025-10-04 03:44:35","message":"Xem JSON: ctx_20251004_034425.json"}
{"stage":"status_update","t":"2025-10-04 03:44:38","message":"Tự động chạy sau 60s."}
{"stage":"status_update","t":"2025-10-04 03:44:38","message":"Xem: report_20251004_034425.md"}
{"stage":"status_update","t":"2025-10-04 03:44:38","message":"Xem: report_20251004_033700.md"}
{"stage":"status_update","t":"2025-10-04 03:44:41","message":"Xem: report_20251004_034425.md"}
{"stage":"status_update","t":"2025-10-04 03:46:54","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:46:54","message":"Đã cấu hình Gemini API."}
{"stage":"status_update","t":"2025-10-04 03:46:54","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:47:04","message":"Đã cấu hình Gemini API."}
{"stage":"status_update","t":"2025-10-04 03:47:04","message":"Đã cập nhật danh sách mô hình AI."}
{"stage":"status_update","t":"2025-10-04 03:47:05","message":"Đã xoá kết quả khỏi giao diện."}
{"stage":"status_update","t":"2025-10-04 03:47:05","message":"Đang nạp lại ảnh từ thư mục đã chọn..."}
{"stage":"status_update","t":"2025-10-04 03:47:05","message":"Đã nạp 4 ảnh. Sẵn sàng phân tích 1 lần."}
{"stage":"status_update","t":"2025-10-04 03:47:10","message":"Upload xong 4 ảnh trong 4.46s"}
{"stage":"run-start","t":"2025-10-04 03:47:12","cycle":"2025-10-04 03:47:12","session":null,"trend_checklist":{"trend":"flat","enough_ratio":null},"latest_plan":{"direction":null},"latest_summary_lines":null,"recent_history_summary":null,"run_meta":{"analysis_id":"2025-10-04T03:47:12Z","folder_signature":"sha1:49c2e050742d71fcee49851b6f2172d1f5ebc9b1","images_tf_map":{"XAUUSD_H1.png":"H1","XAUUSD_M1.png":"M1","XAUUSD_M15.png":"M15","XAUUSD_M5.png":"M5"}},"running_stats":{"checklist_pass_ratio":null,"backtest_results":{"summary":{"total_proposed":0,"wins":0,"losses":0,"untriggered":0,"win_rate":null}},"median_spread":null,"median_ticks_per_min":null},"risk_rules":{"max_risk_per_trade_pct":1.0,"daily_loss_limit_pct":3.0,"max_trades_per_day":3,"allowed_killzones":["london","newyork_pre","newyork_post"],"news_blackout_min_before_after":15},"environment_flags":{"news_soon":false,"high_spread":false,"low_liquidity":false,"volatility_regime":"trending","trend_regime":"trending"},"mt5":{"symbol":"XAUUSD","generated_at":"2025-10-04 03:47:11","broker_time":"2025-10-04T03:47:11Z","account":{"balance":186.35,"equity":186.35,"free_margin":186.35,"currency":"USD","leverage":2000},"positions":[],"info":{"digits":3,"point":0.001,"contract_size":100.0,"spread_current":37,"swap_long":-480.0,"swap_short":0.0},"symbol_rules":{"volume_min":0.01,"volume_max":200.0,"volume_step":0.01,"trade_tick_value":0.1,"trade_tick_size":0.001,"stop_level_points":0,"freeze_level_points":0,"margin_initial":0.0,"margin_maintenance":0.0},"pip":{"points_per_pip":10,"value_per_point":0.1,"pip_value_per_lot":1.0},"tick":{"bid":3887.107,"ask":3887.144,"last":0.0,"time":1759525077},"tick_stats_5m":{},"tick_stats_30m":{},"levels":{"daily":{"open":3863.536,"high":3897.216,"low":3819.397,"eq50":3858.3064999999997,"midnight_open":null},"prev_day":{"high":3897.216,"low":3819.397},"weekly":{"open":3764.779,"high":3897.216,"low":3763.408},"prev_week":{"high":3791.146,"low":3683.837},"monthly":{"open":3863.002,"high":3897.216,"low":3819.397}},"day_open":3863.536,"prev_day_close":3862.472,"adr":{"d5":55.52820000000001,"d10":54.672700000000034,"d20":45.561449999999994},"day_range":77.81899999999996,"day_range_pct_of_adr20":170.80009525596742,"position_in_day_range":0.8700959919813936,"sessions_today":{"asia":{"start":"06:00","end":"09:00"},"london":{"start":"14:00","end":"17:00"},"newyork_am":{"start":"19:30","end":"22:00"},"newyork_pm":{"start":"00:00","end":"03:00"}},"session_liquidity":{},"volatility":{"ATR":{"M5":1.798255272271771,"M1":0.6130730507404645,"M15":4.581235060095916,"H1":11.031559707039294}},"volatility_regime":"trending","trend_refs":{"EMA":{"M1":{"ema50":3885.4930632574547,"ema200":3885.838076628613},"M5":{"ema50":3884.79117204678,"ema200":3874.1709651378897},"M15":{"ema50":3877.587506661054,"ema200":3864.8437455414405},"H1":{"ema50":3865.6399022017563,"ema200":3830.373070381582}}},"vwap":{"day":null,"asia":null,"london":null,"newyork_am":null,"newyork_pm":null},"kills":{"asia":{"start":"06:00","end":"09:00"},"london":{"start":"14:00","end":"17:00"},"newyork_am":{"start":"19:30","end":"22:00"},"newyork_pm":{"start":"00:00","end":"03:00"}},"is_silver_bullet_window":false,"killzone_active":null,"mins_to_next_killzone":193,"key_levels_nearby":[{"name":"PDH","price":3897.216,"relation":"ABOVE","distance_pips":10108.999999999924},{"name":"PDL","price":3819.397,"relation":"BELOW","distance_pips":67710.00000000003},{"name":"EQ50_D","price":3858.3064999999997,"relation":"BELOW","distance_pips":28800.500000000284},{"name":"DO","price":3863.536,"relation":"BELOW","distance_pips":23570.999999999913}],"round_levels":[{"level":"1000","price":3887.1,"distance_pips":0.7},{"level":"1025","price":3887.102,"distance_pips":0.45},{"level":"1050","price":3887.105,"distance_pips":0.2},{"level":"1075","price":3887.108,"distance_pips":0.05}],"atr_norm":{"spread_as_pct_of_atr_m5":2.0575499246591593},"ict_patterns":{"liquidity_h1":{"swing_highs_BSL":[{"price":3897.216,"bar_index":9},{"price":3895.417,"bar_index":-19},{"price":3891.731,"bar_index":34},{"price":3891.184,"bar_index":-15},{"price":3890.722,"bar_index":32}],"swing_lows_SSL":[{"price":3760.112,"bar_index":-76},{"price":3763.997,"bar_index":-73},{"price":3793.174,"bar_index":-41},{"price":3805.069,"bar_index":-66},{"price":3806.56,"bar_index":-63}]},"fvgs_h1":[{"type":"Bullish","top":3850.904,"bottom":3848.355,"created_at_bar":105,"lo":3848.355,"hi":3850.904}],"order_blocks_h1":[{"top":3886.03,"bottom":3866.297,"bar_index":113,"lo":3866.297,"hi":3886.03,"type":"bull"}],"premium_discount_h1":{"range_high":3897.216,"range_low":3760.112,"equilibrium":3828.6639999999998,"status":"Premium"},"liquidity_voids_h1":[{"type":"Bullish","top":3875.022,"bottom":3860.51,"bar_index":81},{"type":"Bullish","top":3859.276,"bottom":3843.897,"bar_index":74},{"type":"Bullish","top":3851.622,"bottom":3843.465,"bar_index":64}],"mss_h1":null,"liquidity_m15":{"swing_highs_BSL":[{"price":3891.731,"bar_index":-29},{"price":3890.722,"bar_index":-37},{"price":3889.245,"bar_index":-18},{"price":3889.197,"bar_index":-13},{"price":3889.11,"bar_index":-31}],"swing_lows_SSL":[{"price":3838.081,"bar_index":-78},{"price":3843.125,"bar_index":-74},{"price":3847.368,"bar_index":-86},{"price":3850.904,"bar_index":-68},{"price":3852.207,"bar_index":-99}]},"fvgs_m15":[{"type":"Bullish","top":3869.428,"bottom":3865.218,"created_at_bar":63,"lo":3865.218,"hi":3869.428}],"order_blocks_m15":[{"top":3865.218,"bottom":3860.51,"bar_index":57,"lo":3860.51,"hi":3865.218,"type":"bull"},{"top":3888.969,"bottom":3885.989,"bar_index":86,"lo":3885.989,"hi":3888.969,"type":"bear"}],"premium_discount_m15":{"range_high":3891.731,"range_low":3838.081,"equilibrium":3864.906,"status":"Premium"},"liquidity_voids_m15":[{"type":"Bullish","top":3887.107,"bottom":3884.332,"bar_index":41},{"type":"Bullish","top":3880.035,"bottom":3866.937,"bar_index":15},{"type":"Bearish","top":3886.03,"bottom":3866.297,"bar_index":14}],"mss_m15":null,"liquidity_m5":{"swing_highs_BSL":[{"price":3891.731,"bar_index":99},{"price":3890.722,"bar_index":73},{"price":3889.245,"bar_index":131},{"price":3889.197,"bar_index":146},{"price":3889.11,"bar_index":93}],"swing_lows_SSL":[{"price":3854.751,"bar_index":46},{"price":3855.394,"bar_index":-10},{"price":3856.896,"bar_index":20},{"price":3857.033,"bar_index":-6},{"price":3857.573,"bar_index":43}]},"fvgs_m5":[{"type":"Bullish","top":3886.225,"bottom":3886.041,"created_at_bar":179,"lo":3886.041,"hi":3886.225}],"order_blocks_m5":[{"top":3891.731,"bottom":3889.03,"bar_index":119,"lo":3889.03,"hi":3891.731,"type":"bear"}],"premium_discount_m5":{"range_high":3891.731,"range_low":3850.904,"equilibrium":3871.3175,"status":"Premium"},"liquidity_voids_m5":[{"type":"Bearish","top":3886.8,"bottom":3884.728,"bar_index":170},{"type":"Bullish","top":3887.533,"bottom":3884.319,"bar_index":150},{"type":"Bullish","top":3885.106,"bottom":3882.176,"bar_index":148}],"mss_m5":null,"liquidity_m1":{"swing_highs_BSL":[{"price":3889.197,"bar_index":-25},{"price":3889.179,"bar_index":-27},{"price":3888.969,"bar_index":-41},{"price":3888.688,"bar_index":-63},{"price":3888.413,"bar_index":-38}],"swing_lows_SSL":[{"price":3882.907,"bar_index":15},{"price":3883.571,"bar_index":-75},{"price":3883.684,"bar_index":6},{"price":3883.739,"bar_index":8},{"price":3883.989,"bar_index":22}]},"fvgs_m1":[{"type":"Bullish","top":3886.21,"bottom":3886.085,"created_at_bar":115,"lo":3886.085,"hi":3886.21}],"order_blocks_m1":[{"top":3886.733,"bottom":3886.225,"bar_index":117,"lo":3886.225,"hi":3886.733,"type":"bull"}],"premium_discount_m1":{"range_high":3889.197,"range_low":3882.907,"equilibrium":3886.052,"status":"Premium"},"liquidity_voids_m1":[{"type":"Bullish","top":3886.557,"bottom":3886.045,"bar_index":84},{"type":"Bullish","top":3884.416,"bottom":3883.086,"bar_index":66},{"type":"Bearish","top":3884.537,"bottom":3884.088,"bar_index":62}],"mss_m1":null},"risk_model":{"value_per_point":0.1,"points_per_pip":10},"rr_projection":{}},"mt5_lite":{"symbol":"XAUUSD","positions":[],"current_price":3887.107,"spread_points":37,"atr_m5_pips":179.8255272271771,"ticks_per_min":null,"pdh_pdl_distance_pips":{"PDH":10108.999999999924,"PDL":67710.00000000003},"eq50_d_distance_pips":28800.500000000284,"session_active":null,"mins_to_next_killzone":193},"similar_past_scenarios":null}
{"stage":"status_update","t":"2025-10-04 03:47:13","message":"Context+MT5 xong trong 3.32s"}
{"stage":"status_update","t":"2025-10-04 03:47:14","message":"Lỗi nghiêm trọng trong worker: 'TradingToolApp' object has no attribute '_tnow_str'"}
{"stage":"status_update","t":"2025-10-04 03:47:14","message":"Cảnh báo: Không tìm thấy khối JSON nào để lưu."}
{"stage":"status_update","t":"2025-10-04 03:47:14","message":"Đã lưu thành công file: ctx_20251004_034714.json"}
{"stage":"status_update","t":"2025-10-04 03:47:14","message":"Đã dừng."}
{"stage":"status_update","t":"2025-10-04 03:47:14","message":"Tự động chạy sau 60s."}
{"stage":"status_update","t":"2025-10-04 03:47:22","message":"Xem: report_20251004_034714.md"}
{"stage":"status_update","t":"2025-10-04 03:47:23","message":"Xem JSON: ctx_20251004_034714.json"}
{"stage":"status_update","t":"2025-10-04 03:47:25","message":"Xem: report_20251004_034714.md"}
{"stage":"status_update","t":"2025-10-04 03:47:34","message":"Tự động chạy sau 60s."}
